var MK=Object.create;var g1=Object.defineProperty,OK=Object.defineProperties,PK=Object.getOwnPropertyDescriptor,RK=Object.getOwnPropertyDescriptors,NK=Object.getOwnPropertyNames,h1=Object.getOwnPropertySymbols,kK=Object.getPrototypeOf,xw=Object.prototype.hasOwnProperty,P4=Object.prototype.propertyIsEnumerable;var O4=(i,r,t)=>r in i?g1(i,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[r]=t,re=(i,r)=>{for(var t in r||={})xw.call(r,t)&&O4(i,t,r[t]);if(h1)for(var t of h1(r))P4.call(r,t)&&O4(i,t,r[t]);return i;},rt=(i,r)=>OK(i,RK(r));var R4=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported');});var Aw=(i,r)=>{var t={};for(var e in i)xw.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&h1)for(var e of h1(i))r.indexOf(e)<0&&P4.call(i,e)&&(t[e]=i[e]);return t;};var Fu=(i,r)=>()=>(r||i((r={exports:{}}).exports,r),r.exports),$K=(i,r)=>{for(var t in r)g1(i,t,{get:r[t],enumerable:!0});},LK=(i,r,t,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of NK(r))!xw.call(i,n)&&n!==t&&g1(i,n,{get:()=>r[n],enumerable:!(e=PK(r,n))||e.enumerable});return i;};var v1=(i,r,t)=>(t=i!=null?MK(kK(i)):{},LK(r||!i||!i.__esModule?g1(t,"default",{value:i,enumerable:!0}):t,i));var fm=(i,r,t)=>new Promise((e,n)=>{var o=l=>{try{s(t.next(l));}catch(_){n(_);}},a=l=>{try{s(t.throw(l));}catch(_){n(_);}},s=l=>l.done?e(l.value):Promise.resolve(l.value).then(o,a);s((t=t.apply(i,r)).next());});var pk=Fu((vHt,uk)=>{var Hj=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);Hj?(ck=new Uint8Array(16),uk.exports=function(){return Hj(ck),ck;}):(dk=new Array(16),uk.exports=function(){for(var r=0,t;r<16;r++)(r&3)===0&&(t=Math.random()*4294967296),dk[r]=t>>>((r&3)<<3)&255;return dk;});var ck,dk;});var mk=Fu((CHt,Yj)=>{var qj=[];for(vv=0;vv<256;++vv)qj[vv]=(vv+256).toString(16).substr(1);var vv;function $Te(i,r){var t=r||0,e=qj;return[e[i[t++]],e[i[t++]],e[i[t++]],e[i[t++]],"-",e[i[t++]],e[i[t++]],"-",e[i[t++]],e[i[t++]],"-",e[i[t++]],e[i[t++]],"-",e[i[t++]],e[i[t++]],e[i[t++]],e[i[t++]],e[i[t++]],e[i[t++]]].join("");}Yj.exports=$Te;});var Qj=Fu((yHt,Kj)=>{var LTe=pk(),FTe=mk(),Xj,_k,fk=0,hk=0;function VTe(i,r,t){var e=r&&t||0,n=r||[];i=i||{};var o=i.node||Xj,a=i.clockseq!==void 0?i.clockseq:_k;if(o==null||a==null){var s=LTe();o==null&&(o=Xj=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=_k=(s[6]<<8|s[7])&16383);}var l=i.msecs!==void 0?i.msecs:new Date().getTime(),_=i.nsecs!==void 0?i.nsecs:hk+1,f=l-fk+(_-hk)/1e4;if(f<0&&i.clockseq===void 0&&(a=a+1&16383),(f<0||l>fk)&&i.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");fk=l,hk=_,_k=a,l+=122192928e5;var g=((l&268435455)*1e4+_)%4294967296;n[e++]=g>>>24&255,n[e++]=g>>>16&255,n[e++]=g>>>8&255,n[e++]=g&255;var S=l/4294967296*1e4&268435455;n[e++]=S>>>8&255,n[e++]=S&255,n[e++]=S>>>24&15|16,n[e++]=S>>>16&255,n[e++]=a>>>8|128,n[e++]=a&255;for(var x=0;x<6;++x)n[e+x]=o[x];return r||FTe(n);}Kj.exports=VTe;});var Jj=Fu((bHt,Zj)=>{var zTe=pk(),GTe=mk();function jTe(i,r,t){var e=r&&t||0;typeof i=="string"&&(r=i==="binary"?new Array(16):null,i=null),i=i||{};var n=i.random||(i.rng||zTe)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r)for(var o=0;o<16;++o)r[e+o]=n[o];return r||GTe(n);}Zj.exports=jTe;});var iU=Fu((SHt,tU)=>{var UTe=Qj(),eU=Jj(),gk=eU;gk.v1=UTe;gk.v4=eU;tU.exports=gk;});var dB=Fu((o3,a3)=>{(function(i,r){typeof define=="function"&&define.amd?define([],r):typeof o3<"u"?r():(r(),i.FileSaver={});})(o3,function(){"use strict";function i(s,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s;}function r(s,l,_){var f=new XMLHttpRequest();f.open("GET",s),f.responseType="blob",f.onload=function(){a(f.response,l,_);},f.onerror=function(){console.error("could not download file");},f.send();}function t(s){var l=new XMLHttpRequest();l.open("HEAD",s,!1);try{l.send();}catch{}return 200<=l.status&&299>=l.status;}function e(s){try{s.dispatchEvent(new MouseEvent("click"));}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(l);}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(s,l,_){var f=n.URL||n.webkitURL,g=document.createElement("a");l=l||s.name||"download",g.download=l,g.rel="noopener",typeof s=="string"?(g.href=s,g.origin===location.origin?e(g):t(g.href)?r(s,l,_):e(g,g.target="_blank")):(g.href=f.createObjectURL(s),setTimeout(function(){f.revokeObjectURL(g.href);},4e4),setTimeout(function(){e(g);},0));}:"msSaveOrOpenBlob"in navigator?function(s,l,_){if(l=l||s.name||"download",typeof s!="string")navigator.msSaveOrOpenBlob(i(s,_),l);else if(t(s))r(s,l,_);else{var f=document.createElement("a");f.href=s,f.target="_blank",setTimeout(function(){e(f);});}}:function(s,l,_,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof s=="string")return r(s,l,_);var g=s.type==="application/octet-stream",S=/constructor/i.test(n.HTMLElement)||n.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||g&&S||o)&&typeof FileReader<"u"){var D=new FileReader();D.onloadend=function(){var V=D.result;V=x?V:V.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=V:location=V,f=null;},D.readAsDataURL(s);}else{var R=n.URL||n.webkitURL,j=R.createObjectURL(s);f?f.location=j:location.href=j,f=null,setTimeout(function(){R.revokeObjectURL(j);},4e4);}});n.saveAs=a.saveAs=a,typeof a3<"u"&&(a3.exports=a);});});var U3=Fu((j3,Mh)=>{(function(i,r){typeof j3=="object"&&typeof Mh<"u"?Mh.exports=r():typeof define=="function"&&define.amd?define(r):i.moment=r();})(j3,function(){"use strict";var i;function r(){return i.apply(null,arguments);}function t(h){i=h;}function e(h){return h instanceof Array||Object.prototype.toString.call(h)==="[object Array]";}function n(h){return h!=null&&Object.prototype.toString.call(h)==="[object Object]";}function o(h,v){return Object.prototype.hasOwnProperty.call(h,v);}function a(h){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(h).length===0;var v;for(v in h)if(o(h,v))return!1;return!0;}function s(h){return h===void 0;}function l(h){return typeof h=="number"||Object.prototype.toString.call(h)==="[object Number]";}function _(h){return h instanceof Date||Object.prototype.toString.call(h)==="[object Date]";}function f(h,v){var w=[],M,L=h.length;for(M=0;M<L;++M)w.push(v(h[M],M));return w;}function g(h,v){for(var w in v)o(v,w)&&(h[w]=v[w]);return o(v,"toString")&&(h.toString=v.toString),o(v,"valueOf")&&(h.valueOf=v.valueOf),h;}function S(h,v,w,M){return l4(h,v,w,M,!0).utc();}function x(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1};}function D(h){return h._pf==null&&(h._pf=x()),h._pf;}var R;Array.prototype.some?R=Array.prototype.some:R=function(h){var v=Object(this),w=v.length>>>0,M;for(M=0;M<w;M++)if(M in v&&h.call(this,v[M],M,v))return!0;return!1;};function j(h){var v=null,w=!1,M=h._d&&!isNaN(h._d.getTime());if(M&&(v=D(h),w=R.call(v.parsedDateParts,function(L){return L!=null;}),M=v.overflow<0&&!v.empty&&!v.invalidEra&&!v.invalidMonth&&!v.invalidWeekday&&!v.weekdayMismatch&&!v.nullInput&&!v.invalidFormat&&!v.userInvalidated&&(!v.meridiem||v.meridiem&&w),h._strict&&(M=M&&v.charsLeftOver===0&&v.unusedTokens.length===0&&v.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(h))h._isValid=M;else return M;return h._isValid;}function V(h){var v=S(NaN);return h!=null?g(D(v),h):D(v).userInvalidated=!0,v;}var ie=r.momentProperties=[],_e=!1;function oe(h,v){var w,M,L,ee=ie.length;if(s(v._isAMomentObject)||(h._isAMomentObject=v._isAMomentObject),s(v._i)||(h._i=v._i),s(v._f)||(h._f=v._f),s(v._l)||(h._l=v._l),s(v._strict)||(h._strict=v._strict),s(v._tzm)||(h._tzm=v._tzm),s(v._isUTC)||(h._isUTC=v._isUTC),s(v._offset)||(h._offset=v._offset),s(v._pf)||(h._pf=D(v)),s(v._locale)||(h._locale=v._locale),ee>0)for(w=0;w<ee;w++)M=ie[w],L=v[M],s(L)||(h[M]=L);return h;}function Ne(h){oe(this,h),this._d=new Date(h._d!=null?h._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),_e===!1&&(_e=!0,r.updateOffset(this),_e=!1);}function Ce(h){return h instanceof Ne||h!=null&&h._isAMomentObject!=null;}function Ge(h){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+h);}function dt(h,v){var w=!0;return g(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,h),w){var M=[],L,ee,ce,et=arguments.length;for(ee=0;ee<et;ee++){if(L="",typeof arguments[ee]=="object"){L+=`
[`+ee+"] ";for(ce in arguments[0])o(arguments[0],ce)&&(L+=ce+": "+arguments[0][ce]+", ");L=L.slice(0,-2);}else L=arguments[ee];M.push(L);}Ge(h+`
Arguments: `+Array.prototype.slice.call(M).join("")+`
`+new Error().stack),w=!1;}return v.apply(this,arguments);},v);}var hi={};function Vi(h,v){r.deprecationHandler!=null&&r.deprecationHandler(h,v),hi[h]||(Ge(v),hi[h]=!0);}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function gi(h){return typeof Function<"u"&&h instanceof Function||Object.prototype.toString.call(h)==="[object Function]";}function zi(h){var v,w;for(w in h)o(h,w)&&(v=h[w],gi(v)?this[w]=v:this["_"+w]=v);this._config=h,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source);}function Dt(h,v){var w=g({},h),M;for(M in v)o(v,M)&&(n(h[M])&&n(v[M])?(w[M]={},g(w[M],h[M]),g(w[M],v[M])):v[M]!=null?w[M]=v[M]:delete w[M]);for(M in h)o(h,M)&&!o(v,M)&&n(h[M])&&(w[M]=g({},w[M]));return w;}function Gn(h){h!=null&&this.set(h);}var Qe;Object.keys?Qe=Object.keys:Qe=function(h){var v,w=[];for(v in h)o(h,v)&&w.push(v);return w;};var Ie={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function _t(h,v,w){var M=this._calendar[h]||this._calendar.sameElse;return gi(M)?M.call(v,w):M;}function Ae(h,v,w){var M=""+Math.abs(h),L=v-M.length,ee=h>=0;return(ee?w?"+":"":"-")+Math.pow(10,Math.max(0,L)).toString().substr(1)+M;}var Ht=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,en=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Br={},An={};function it(h,v,w,M){var L=M;typeof M=="string"&&(L=function(){return this[M]();}),h&&(An[h]=L),v&&(An[v[0]]=function(){return Ae(L.apply(this,arguments),v[1],v[2]);}),w&&(An[w]=function(){return this.localeData().ordinal(L.apply(this,arguments),h);});}function Gi(h){return h.match(/\[[\s\S]/)?h.replace(/^\[|\]$/g,""):h.replace(/\\/g,"");}function Pu(h){var v=h.match(Ht),w,M;for(w=0,M=v.length;w<M;w++)An[v[w]]?v[w]=An[v[w]]:v[w]=Gi(v[w]);return function(L){var ee="",ce;for(ce=0;ce<M;ce++)ee+=gi(v[ce])?v[ce].call(L,h):v[ce];return ee;};}function jl(h,v){return h.isValid()?(v=Nn(v,h.localeData()),Br[v]=Br[v]||Pu(v),Br[v](h)):h.localeData().invalidDate();}function Nn(h,v){var w=5;function M(L){return v.longDateFormat(L)||L;}for(en.lastIndex=0;w>=0&&en.test(h);)h=h.replace(en,M),en.lastIndex=0,w-=1;return h;}var Na={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Hr(h){var v=this._longDateFormat[h],w=this._longDateFormat[h.toUpperCase()];return v||!w?v:(this._longDateFormat[h]=w.match(Ht).map(function(M){return M==="MMMM"||M==="MM"||M==="DD"||M==="dddd"?M.slice(1):M;}).join(""),this._longDateFormat[h]);}var Ul="Invalid date";function Hc(){return this._invalidDate;}var qv="%d",Yv=/\d{1,2}/;function Xv(h){return this._ordinal.replace("%d",h);}var Kv={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Qv(h,v,w,M){var L=this._relativeTime[w];return gi(L)?L(h,v,w,M):L.replace(/%d/i,h);}function Zv(h,v){var w=this._relativeTime[h>0?"future":"past"];return gi(w)?w(v):w.replace(/%s/i,v);}var Oh={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Oo(h){return typeof h=="string"?Oh[h]||Oh[h.toLowerCase()]:void 0;}function rm(h){var v={},w,M;for(M in h)o(h,M)&&(w=Oo(M),w&&(v[w]=h[M]));return v;}var Jv={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function e1(h){var v=[],w;for(w in h)o(h,w)&&v.push({unit:w,priority:Jv[w]});return v.sort(function(M,L){return M.priority-L.priority;}),v;}var Ph=/\d/,to=/\d\d/,Rh=/\d{3}/,om=/\d{4}/,Ru=/[+-]?\d{6}/,ji=/\d\d?/,Nh=/\d\d\d\d?/,kh=/\d\d\d\d\d\d?/,Nu=/\d{1,3}/,am=/\d{1,4}/,Ze=/[+-]?\d{1,6}/,sm=/\d+/,t1=/[+-]?\d+/,XH=/Z|[+-]\d\d:?\d\d/gi,i1=/Z|[+-]\d\d(?::?\d\d)?/gi,KH=/[+-]?\d+(\.\d{1,3})?/,$h=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lm=/^[1-9]\d?/,aw=/^([1-9]\d|\d)/,n1;n1={};function nt(h,v,w){n1[h]=gi(v)?v:function(M,L){return M&&w?w:v;};}function QH(h,v){return o(n1,h)?n1[h](v._strict,v._locale):new RegExp(ZH(h));}function ZH(h){return Wl(h.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(v,w,M,L,ee){return w||M||L||ee;}));}function Wl(h){return h.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");}function ka(h){return h<0?Math.ceil(h)||0:Math.floor(h);}function ni(h){var v=+h,w=0;return v!==0&&isFinite(v)&&(w=ka(v)),w;}var sw={};function Ui(h,v){var w,M=v,L;for(typeof h=="string"&&(h=[h]),l(v)&&(M=function(ee,ce){ce[v]=ni(ee);}),L=h.length,w=0;w<L;w++)sw[h[w]]=M;}function Lh(h,v){Ui(h,function(w,M,L,ee){L._w=L._w||{},v(w,L._w,L,ee);});}function JH(h,v,w){v!=null&&o(sw,h)&&sw[h](v,w._a,w,h);}function r1(h){return h%4===0&&h%100!==0||h%400===0;}var io=0,Bl=1,Ws=2,lr=3,ds=4,Hl=5,ku=6,eq=7,tq=8;it("Y",0,0,function(){var h=this.year();return h<=9999?Ae(h,4):"+"+h;}),it(0,["YY",2],0,function(){return this.year()%100;}),it(0,["YYYY",4],0,"year"),it(0,["YYYYY",5],0,"year"),it(0,["YYYYYY",6,!0],0,"year"),nt("Y",t1),nt("YY",ji,to),nt("YYYY",am,om),nt("YYYYY",Ze,Ru),nt("YYYYYY",Ze,Ru),Ui(["YYYYY","YYYYYY"],io),Ui("YYYY",function(h,v){v[io]=h.length===2?r.parseTwoDigitYear(h):ni(h);}),Ui("YY",function(h,v){v[io]=r.parseTwoDigitYear(h);}),Ui("Y",function(h,v){v[io]=parseInt(h,10);});function Fh(h){return r1(h)?366:365;}r.parseTwoDigitYear=function(h){return ni(h)+(ni(h)>68?1900:2e3);};var H3=cm("FullYear",!0);function iq(){return r1(this.year());}function cm(h,v){return function(w){return w!=null?(q3(this,h,w),r.updateOffset(this,v),this):Vh(this,h);};}function Vh(h,v){if(!h.isValid())return NaN;var w=h._d,M=h._isUTC;switch(v){case"Milliseconds":return M?w.getUTCMilliseconds():w.getMilliseconds();case"Seconds":return M?w.getUTCSeconds():w.getSeconds();case"Minutes":return M?w.getUTCMinutes():w.getMinutes();case"Hours":return M?w.getUTCHours():w.getHours();case"Date":return M?w.getUTCDate():w.getDate();case"Day":return M?w.getUTCDay():w.getDay();case"Month":return M?w.getUTCMonth():w.getMonth();case"FullYear":return M?w.getUTCFullYear():w.getFullYear();default:return NaN;}}function q3(h,v,w){var M,L,ee,ce,et;if(!(!h.isValid()||isNaN(w))){switch(M=h._d,L=h._isUTC,v){case"Milliseconds":return void(L?M.setUTCMilliseconds(w):M.setMilliseconds(w));case"Seconds":return void(L?M.setUTCSeconds(w):M.setSeconds(w));case"Minutes":return void(L?M.setUTCMinutes(w):M.setMinutes(w));case"Hours":return void(L?M.setUTCHours(w):M.setHours(w));case"Date":return void(L?M.setUTCDate(w):M.setDate(w));case"FullYear":break;default:return;}ee=w,ce=h.month(),et=h.date(),et=et===29&&ce===1&&!r1(ee)?28:et,L?M.setUTCFullYear(ee,ce,et):M.setFullYear(ee,ce,et);}}function nq(h){return h=Oo(h),gi(this[h])?this[h]():this;}function rq(h,v){if(typeof h=="object"){h=rm(h);var w=e1(h),M,L=w.length;for(M=0;M<L;M++)this[w[M].unit](h[w[M].unit]);}else if(h=Oo(h),gi(this[h]))return this[h](v);return this;}function oq(h,v){return(h%v+v)%v;}var jn;Array.prototype.indexOf?jn=Array.prototype.indexOf:jn=function(h){var v;for(v=0;v<this.length;++v)if(this[v]===h)return v;return-1;};function lw(h,v){if(isNaN(h)||isNaN(v))return NaN;var w=oq(v,12);return h+=(v-w)/12,w===1?r1(h)?29:28:31-w%7%2;}it("M",["MM",2],"Mo",function(){return this.month()+1;}),it("MMM",0,0,function(h){return this.localeData().monthsShort(this,h);}),it("MMMM",0,0,function(h){return this.localeData().months(this,h);}),nt("M",ji,lm),nt("MM",ji,to),nt("MMM",function(h,v){return v.monthsShortRegex(h);}),nt("MMMM",function(h,v){return v.monthsRegex(h);}),Ui(["M","MM"],function(h,v){v[Bl]=ni(h)-1;}),Ui(["MMM","MMMM"],function(h,v,w,M){var L=w._locale.monthsParse(h,M,w._strict);L!=null?v[Bl]=L:D(w).invalidMonth=h;});var aq="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Y3="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),X3=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,sq=$h,lq=$h;function cq(h,v){return h?e(this._months)?this._months[h.month()]:this._months[(this._months.isFormat||X3).test(v)?"format":"standalone"][h.month()]:e(this._months)?this._months:this._months.standalone;}function dq(h,v){return h?e(this._monthsShort)?this._monthsShort[h.month()]:this._monthsShort[X3.test(v)?"format":"standalone"][h.month()]:e(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;}function uq(h,v,w){var M,L,ee,ce=h.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],M=0;M<12;++M)ee=S([2e3,M]),this._shortMonthsParse[M]=this.monthsShort(ee,"").toLocaleLowerCase(),this._longMonthsParse[M]=this.months(ee,"").toLocaleLowerCase();return w?v==="MMM"?(L=jn.call(this._shortMonthsParse,ce),L!==-1?L:null):(L=jn.call(this._longMonthsParse,ce),L!==-1?L:null):v==="MMM"?(L=jn.call(this._shortMonthsParse,ce),L!==-1?L:(L=jn.call(this._longMonthsParse,ce),L!==-1?L:null)):(L=jn.call(this._longMonthsParse,ce),L!==-1?L:(L=jn.call(this._shortMonthsParse,ce),L!==-1?L:null));}function pq(h,v,w){var M,L,ee;if(this._monthsParseExact)return uq.call(this,h,v,w);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),M=0;M<12;M++){if(L=S([2e3,M]),w&&!this._longMonthsParse[M]&&(this._longMonthsParse[M]=new RegExp("^"+this.months(L,"").replace(".","")+"$","i"),this._shortMonthsParse[M]=new RegExp("^"+this.monthsShort(L,"").replace(".","")+"$","i")),!w&&!this._monthsParse[M]&&(ee="^"+this.months(L,"")+"|^"+this.monthsShort(L,""),this._monthsParse[M]=new RegExp(ee.replace(".",""),"i")),w&&v==="MMMM"&&this._longMonthsParse[M].test(h))return M;if(w&&v==="MMM"&&this._shortMonthsParse[M].test(h))return M;if(!w&&this._monthsParse[M].test(h))return M;}}function K3(h,v){if(!h.isValid())return h;if(typeof v=="string"){if(/^\d+$/.test(v))v=ni(v);else if(v=h.localeData().monthsParse(v),!l(v))return h;}var w=v,M=h.date();return M=M<29?M:Math.min(M,lw(h.year(),w)),h._isUTC?h._d.setUTCMonth(w,M):h._d.setMonth(w,M),h;}function Q3(h){return h!=null?(K3(this,h),r.updateOffset(this,!0),this):Vh(this,"Month");}function mq(){return lw(this.year(),this.month());}function _q(h){return this._monthsParseExact?(o(this,"_monthsRegex")||Z3.call(this),h?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=sq),this._monthsShortStrictRegex&&h?this._monthsShortStrictRegex:this._monthsShortRegex);}function fq(h){return this._monthsParseExact?(o(this,"_monthsRegex")||Z3.call(this),h?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=lq),this._monthsStrictRegex&&h?this._monthsStrictRegex:this._monthsRegex);}function Z3(){function h(Nt,ai){return ai.length-Nt.length;}var v=[],w=[],M=[],L,ee,ce,et;for(L=0;L<12;L++)ee=S([2e3,L]),ce=Wl(this.monthsShort(ee,"")),et=Wl(this.months(ee,"")),v.push(ce),w.push(et),M.push(et),M.push(ce);v.sort(h),w.sort(h),M.sort(h),this._monthsRegex=new RegExp("^("+M.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+w.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+v.join("|")+")","i");}function hq(h,v,w,M,L,ee,ce){var et;return h<100&&h>=0?(et=new Date(h+400,v,w,M,L,ee,ce),isFinite(et.getFullYear())&&et.setFullYear(h)):et=new Date(h,v,w,M,L,ee,ce),et;}function zh(h){var v,w;return h<100&&h>=0?(w=Array.prototype.slice.call(arguments),w[0]=h+400,v=new Date(Date.UTC.apply(null,w)),isFinite(v.getUTCFullYear())&&v.setUTCFullYear(h)):v=new Date(Date.UTC.apply(null,arguments)),v;}function o1(h,v,w){var M=7+v-w,L=(7+zh(h,0,M).getUTCDay()-v)%7;return-L+M-1;}function J3(h,v,w,M,L){var ee=(7+w-M)%7,ce=o1(h,M,L),et=1+7*(v-1)+ee+ce,Nt,ai;return et<=0?(Nt=h-1,ai=Fh(Nt)+et):et>Fh(h)?(Nt=h+1,ai=et-Fh(h)):(Nt=h,ai=et),{year:Nt,dayOfYear:ai};}function Gh(h,v,w){var M=o1(h.year(),v,w),L=Math.floor((h.dayOfYear()-M-1)/7)+1,ee,ce;return L<1?(ce=h.year()-1,ee=L+ql(ce,v,w)):L>ql(h.year(),v,w)?(ee=L-ql(h.year(),v,w),ce=h.year()+1):(ce=h.year(),ee=L),{week:ee,year:ce};}function ql(h,v,w){var M=o1(h,v,w),L=o1(h+1,v,w);return(Fh(h)-M+L)/7;}it("w",["ww",2],"wo","week"),it("W",["WW",2],"Wo","isoWeek"),nt("w",ji,lm),nt("ww",ji,to),nt("W",ji,lm),nt("WW",ji,to),Lh(["w","ww","W","WW"],function(h,v,w,M){v[M.substr(0,1)]=ni(h);});function gq(h){return Gh(h,this._week.dow,this._week.doy).week;}var vq={dow:0,doy:6};function Cq(){return this._week.dow;}function yq(){return this._week.doy;}function bq(h){var v=this.localeData().week(this);return h==null?v:this.add((h-v)*7,"d");}function Sq(h){var v=Gh(this,1,4).week;return h==null?v:this.add((h-v)*7,"d");}it("d",0,"do","day"),it("dd",0,0,function(h){return this.localeData().weekdaysMin(this,h);}),it("ddd",0,0,function(h){return this.localeData().weekdaysShort(this,h);}),it("dddd",0,0,function(h){return this.localeData().weekdays(this,h);}),it("e",0,0,"weekday"),it("E",0,0,"isoWeekday"),nt("d",ji),nt("e",ji),nt("E",ji),nt("dd",function(h,v){return v.weekdaysMinRegex(h);}),nt("ddd",function(h,v){return v.weekdaysShortRegex(h);}),nt("dddd",function(h,v){return v.weekdaysRegex(h);}),Lh(["dd","ddd","dddd"],function(h,v,w,M){var L=w._locale.weekdaysParse(h,M,w._strict);L!=null?v.d=L:D(w).invalidWeekday=h;}),Lh(["d","e","E"],function(h,v,w,M){v[M]=ni(h);});function Eq(h,v){return typeof h!="string"?h:isNaN(h)?(h=v.weekdaysParse(h),typeof h=="number"?h:null):parseInt(h,10);}function Tq(h,v){return typeof h=="string"?v.weekdaysParse(h)%7||7:isNaN(h)?null:h;}function cw(h,v){return h.slice(v,7).concat(h.slice(0,v));}var Iq="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),e4="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xq="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Aq=$h,wq=$h,Dq=$h;function Mq(h,v){var w=e(this._weekdays)?this._weekdays:this._weekdays[h&&h!==!0&&this._weekdays.isFormat.test(v)?"format":"standalone"];return h===!0?cw(w,this._week.dow):h?w[h.day()]:w;}function Oq(h){return h===!0?cw(this._weekdaysShort,this._week.dow):h?this._weekdaysShort[h.day()]:this._weekdaysShort;}function Pq(h){return h===!0?cw(this._weekdaysMin,this._week.dow):h?this._weekdaysMin[h.day()]:this._weekdaysMin;}function Rq(h,v,w){var M,L,ee,ce=h.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],M=0;M<7;++M)ee=S([2e3,1]).day(M),this._minWeekdaysParse[M]=this.weekdaysMin(ee,"").toLocaleLowerCase(),this._shortWeekdaysParse[M]=this.weekdaysShort(ee,"").toLocaleLowerCase(),this._weekdaysParse[M]=this.weekdays(ee,"").toLocaleLowerCase();return w?v==="dddd"?(L=jn.call(this._weekdaysParse,ce),L!==-1?L:null):v==="ddd"?(L=jn.call(this._shortWeekdaysParse,ce),L!==-1?L:null):(L=jn.call(this._minWeekdaysParse,ce),L!==-1?L:null):v==="dddd"?(L=jn.call(this._weekdaysParse,ce),L!==-1||(L=jn.call(this._shortWeekdaysParse,ce),L!==-1)?L:(L=jn.call(this._minWeekdaysParse,ce),L!==-1?L:null)):v==="ddd"?(L=jn.call(this._shortWeekdaysParse,ce),L!==-1||(L=jn.call(this._weekdaysParse,ce),L!==-1)?L:(L=jn.call(this._minWeekdaysParse,ce),L!==-1?L:null)):(L=jn.call(this._minWeekdaysParse,ce),L!==-1||(L=jn.call(this._weekdaysParse,ce),L!==-1)?L:(L=jn.call(this._shortWeekdaysParse,ce),L!==-1?L:null));}function Nq(h,v,w){var M,L,ee;if(this._weekdaysParseExact)return Rq.call(this,h,v,w);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),M=0;M<7;M++){if(L=S([2e3,1]).day(M),w&&!this._fullWeekdaysParse[M]&&(this._fullWeekdaysParse[M]=new RegExp("^"+this.weekdays(L,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[M]=new RegExp("^"+this.weekdaysShort(L,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[M]=new RegExp("^"+this.weekdaysMin(L,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[M]||(ee="^"+this.weekdays(L,"")+"|^"+this.weekdaysShort(L,"")+"|^"+this.weekdaysMin(L,""),this._weekdaysParse[M]=new RegExp(ee.replace(".",""),"i")),w&&v==="dddd"&&this._fullWeekdaysParse[M].test(h))return M;if(w&&v==="ddd"&&this._shortWeekdaysParse[M].test(h))return M;if(w&&v==="dd"&&this._minWeekdaysParse[M].test(h))return M;if(!w&&this._weekdaysParse[M].test(h))return M;}}function kq(h){if(!this.isValid())return h!=null?this:NaN;var v=Vh(this,"Day");return h!=null?(h=Eq(h,this.localeData()),this.add(h-v,"d")):v;}function $q(h){if(!this.isValid())return h!=null?this:NaN;var v=(this.day()+7-this.localeData()._week.dow)%7;return h==null?v:this.add(h-v,"d");}function Lq(h){if(!this.isValid())return h!=null?this:NaN;if(h!=null){var v=Tq(h,this.localeData());return this.day(this.day()%7?v:v-7);}else return this.day()||7;}function Fq(h){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||dw.call(this),h?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Aq),this._weekdaysStrictRegex&&h?this._weekdaysStrictRegex:this._weekdaysRegex);}function Vq(h){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||dw.call(this),h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wq),this._weekdaysShortStrictRegex&&h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex);}function zq(h){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||dw.call(this),h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Dq),this._weekdaysMinStrictRegex&&h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex);}function dw(){function h(Po,Zl){return Zl.length-Po.length;}var v=[],w=[],M=[],L=[],ee,ce,et,Nt,ai;for(ee=0;ee<7;ee++)ce=S([2e3,1]).day(ee),et=Wl(this.weekdaysMin(ce,"")),Nt=Wl(this.weekdaysShort(ce,"")),ai=Wl(this.weekdays(ce,"")),v.push(et),w.push(Nt),M.push(ai),L.push(et),L.push(Nt),L.push(ai);v.sort(h),w.sort(h),M.sort(h),L.sort(h),this._weekdaysRegex=new RegExp("^("+L.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+w.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+v.join("|")+")","i");}function uw(){return this.hours()%12||12;}function Gq(){return this.hours()||24;}it("H",["HH",2],0,"hour"),it("h",["hh",2],0,uw),it("k",["kk",2],0,Gq),it("hmm",0,0,function(){return""+uw.apply(this)+Ae(this.minutes(),2);}),it("hmmss",0,0,function(){return""+uw.apply(this)+Ae(this.minutes(),2)+Ae(this.seconds(),2);}),it("Hmm",0,0,function(){return""+this.hours()+Ae(this.minutes(),2);}),it("Hmmss",0,0,function(){return""+this.hours()+Ae(this.minutes(),2)+Ae(this.seconds(),2);});function t4(h,v){it(h,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),v);});}t4("a",!0),t4("A",!1);function i4(h,v){return v._meridiemParse;}nt("a",i4),nt("A",i4),nt("H",ji,aw),nt("h",ji,lm),nt("k",ji,lm),nt("HH",ji,to),nt("hh",ji,to),nt("kk",ji,to),nt("hmm",Nh),nt("hmmss",kh),nt("Hmm",Nh),nt("Hmmss",kh),Ui(["H","HH"],lr),Ui(["k","kk"],function(h,v,w){var M=ni(h);v[lr]=M===24?0:M;}),Ui(["a","A"],function(h,v,w){w._isPm=w._locale.isPM(h),w._meridiem=h;}),Ui(["h","hh"],function(h,v,w){v[lr]=ni(h),D(w).bigHour=!0;}),Ui("hmm",function(h,v,w){var M=h.length-2;v[lr]=ni(h.substr(0,M)),v[ds]=ni(h.substr(M)),D(w).bigHour=!0;}),Ui("hmmss",function(h,v,w){var M=h.length-4,L=h.length-2;v[lr]=ni(h.substr(0,M)),v[ds]=ni(h.substr(M,2)),v[Hl]=ni(h.substr(L)),D(w).bigHour=!0;}),Ui("Hmm",function(h,v,w){var M=h.length-2;v[lr]=ni(h.substr(0,M)),v[ds]=ni(h.substr(M));}),Ui("Hmmss",function(h,v,w){var M=h.length-4,L=h.length-2;v[lr]=ni(h.substr(0,M)),v[ds]=ni(h.substr(M,2)),v[Hl]=ni(h.substr(L));});function jq(h){return(h+"").toLowerCase().charAt(0)==="p";}var Uq=/[ap]\.?m?\.?/i,Wq=cm("Hours",!0);function Bq(h,v,w){return h>11?w?"pm":"PM":w?"am":"AM";}var n4={calendar:Ie,longDateFormat:Na,invalidDate:Ul,ordinal:qv,dayOfMonthOrdinalParse:Yv,relativeTime:Kv,months:aq,monthsShort:Y3,week:vq,weekdays:Iq,weekdaysMin:xq,weekdaysShort:e4,meridiemParse:Uq},hn={},jh={},Uh;function Hq(h,v){var w,M=Math.min(h.length,v.length);for(w=0;w<M;w+=1)if(h[w]!==v[w])return w;return M;}function r4(h){return h&&h.toLowerCase().replace("_","-");}function qq(h){for(var v=0,w,M,L,ee;v<h.length;){for(ee=r4(h[v]).split("-"),w=ee.length,M=r4(h[v+1]),M=M?M.split("-"):null;w>0;){if(L=a1(ee.slice(0,w).join("-")),L)return L;if(M&&M.length>=w&&Hq(ee,M)>=w-1)break;w--;}v++;}return Uh;}function Yq(h){return!!(h&&h.match("^[^/\\\\]*$"));}function a1(h){var v=null,w;if(hn[h]===void 0&&typeof Mh<"u"&&Mh&&Mh.exports&&Yq(h))try{v=Uh._abbr,w=R4,w("./locale/"+h),qc(v);}catch{hn[h]=null;}return hn[h];}function qc(h,v){var w;return h&&(s(v)?w=Yl(h):w=pw(h,v),w?Uh=w:typeof console<"u"&&console.warn&&console.warn("Locale "+h+" not found. Did you forget to load it?")),Uh._abbr;}function pw(h,v){if(v!==null){var w,M=n4;if(v.abbr=h,hn[h]!=null)Vi("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),M=hn[h]._config;else if(v.parentLocale!=null)if(hn[v.parentLocale]!=null)M=hn[v.parentLocale]._config;else if(w=a1(v.parentLocale),w!=null)M=w._config;else return jh[v.parentLocale]||(jh[v.parentLocale]=[]),jh[v.parentLocale].push({name:h,config:v}),null;return hn[h]=new Gn(Dt(M,v)),jh[h]&&jh[h].forEach(function(L){pw(L.name,L.config);}),qc(h),hn[h];}else return delete hn[h],null;}function Xq(h,v){if(v!=null){var w,M,L=n4;hn[h]!=null&&hn[h].parentLocale!=null?hn[h].set(Dt(hn[h]._config,v)):(M=a1(h),M!=null&&(L=M._config),v=Dt(L,v),M==null&&(v.abbr=h),w=new Gn(v),w.parentLocale=hn[h],hn[h]=w),qc(h);}else hn[h]!=null&&(hn[h].parentLocale!=null?(hn[h]=hn[h].parentLocale,h===qc()&&qc(h)):hn[h]!=null&&delete hn[h]);return hn[h];}function Yl(h){var v;if(h&&h._locale&&h._locale._abbr&&(h=h._locale._abbr),!h)return Uh;if(!e(h)){if(v=a1(h),v)return v;h=[h];}return qq(h);}function Kq(){return Qe(hn);}function mw(h){var v,w=h._a;return w&&D(h).overflow===-2&&(v=w[Bl]<0||w[Bl]>11?Bl:w[Ws]<1||w[Ws]>lw(w[io],w[Bl])?Ws:w[lr]<0||w[lr]>24||w[lr]===24&&(w[ds]!==0||w[Hl]!==0||w[ku]!==0)?lr:w[ds]<0||w[ds]>59?ds:w[Hl]<0||w[Hl]>59?Hl:w[ku]<0||w[ku]>999?ku:-1,D(h)._overflowDayOfYear&&(v<io||v>Ws)&&(v=Ws),D(h)._overflowWeeks&&v===-1&&(v=eq),D(h)._overflowWeekday&&v===-1&&(v=tq),D(h).overflow=v),h;}var Qq=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zq=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jq=/Z|[+-]\d\d(?::?\d\d)?/,s1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_w=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],eY=/^\/?Date\((-?\d+)/i,tY=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,iY={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function o4(h){var v,w,M=h._i,L=Qq.exec(M)||Zq.exec(M),ee,ce,et,Nt,ai=s1.length,Po=_w.length;if(L){for(D(h).iso=!0,v=0,w=ai;v<w;v++)if(s1[v][1].exec(L[1])){ce=s1[v][0],ee=s1[v][2]!==!1;break;}if(ce==null){h._isValid=!1;return;}if(L[3]){for(v=0,w=Po;v<w;v++)if(_w[v][1].exec(L[3])){et=(L[2]||" ")+_w[v][0];break;}if(et==null){h._isValid=!1;return;}}if(!ee&&et!=null){h._isValid=!1;return;}if(L[4])if(Jq.exec(L[4]))Nt="Z";else{h._isValid=!1;return;}h._f=ce+(et||"")+(Nt||""),hw(h);}else h._isValid=!1;}function nY(h,v,w,M,L,ee){var ce=[rY(h),Y3.indexOf(v),parseInt(w,10),parseInt(M,10),parseInt(L,10)];return ee&&ce.push(parseInt(ee,10)),ce;}function rY(h){var v=parseInt(h,10);return v<=49?2e3+v:v<=999?1900+v:v;}function oY(h){return h.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"");}function aY(h,v,w){if(h){var M=e4.indexOf(h),L=new Date(v[0],v[1],v[2]).getDay();if(M!==L)return D(w).weekdayMismatch=!0,w._isValid=!1,!1;}return!0;}function sY(h,v,w){if(h)return iY[h];if(v)return 0;var M=parseInt(w,10),L=M%100,ee=(M-L)/100;return ee*60+L;}function a4(h){var v=tY.exec(oY(h._i)),w;if(v){if(w=nY(v[4],v[3],v[2],v[5],v[6],v[7]),!aY(v[1],w,h))return;h._a=w,h._tzm=sY(v[8],v[9],v[10]),h._d=zh.apply(null,h._a),h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),D(h).rfc2822=!0;}else h._isValid=!1;}function lY(h){var v=eY.exec(h._i);if(v!==null){h._d=new Date(+v[1]);return;}if(o4(h),h._isValid===!1)delete h._isValid;else return;if(a4(h),h._isValid===!1)delete h._isValid;else return;h._strict?h._isValid=!1:r.createFromInputFallback(h);}r.createFromInputFallback=dt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(h){h._d=new Date(h._i+(h._useUTC?" UTC":""));});function dm(h,v,w){return h??v??w;}function cY(h){var v=new Date(r.now());return h._useUTC?[v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()]:[v.getFullYear(),v.getMonth(),v.getDate()];}function fw(h){var v,w,M=[],L,ee,ce;if(!h._d){for(L=cY(h),h._w&&h._a[Ws]==null&&h._a[Bl]==null&&dY(h),h._dayOfYear!=null&&(ce=dm(h._a[io],L[io]),(h._dayOfYear>Fh(ce)||h._dayOfYear===0)&&(D(h)._overflowDayOfYear=!0),w=zh(ce,0,h._dayOfYear),h._a[Bl]=w.getUTCMonth(),h._a[Ws]=w.getUTCDate()),v=0;v<3&&h._a[v]==null;++v)h._a[v]=M[v]=L[v];for(;v<7;v++)h._a[v]=M[v]=h._a[v]==null?v===2?1:0:h._a[v];h._a[lr]===24&&h._a[ds]===0&&h._a[Hl]===0&&h._a[ku]===0&&(h._nextDay=!0,h._a[lr]=0),h._d=(h._useUTC?zh:hq).apply(null,M),ee=h._useUTC?h._d.getUTCDay():h._d.getDay(),h._tzm!=null&&h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),h._nextDay&&(h._a[lr]=24),h._w&&typeof h._w.d<"u"&&h._w.d!==ee&&(D(h).weekdayMismatch=!0);}}function dY(h){var v,w,M,L,ee,ce,et,Nt,ai;v=h._w,v.GG!=null||v.W!=null||v.E!=null?(ee=1,ce=4,w=dm(v.GG,h._a[io],Gh(pn(),1,4).year),M=dm(v.W,1),L=dm(v.E,1),(L<1||L>7)&&(Nt=!0)):(ee=h._locale._week.dow,ce=h._locale._week.doy,ai=Gh(pn(),ee,ce),w=dm(v.gg,h._a[io],ai.year),M=dm(v.w,ai.week),v.d!=null?(L=v.d,(L<0||L>6)&&(Nt=!0)):v.e!=null?(L=v.e+ee,(v.e<0||v.e>6)&&(Nt=!0)):L=ee),M<1||M>ql(w,ee,ce)?D(h)._overflowWeeks=!0:Nt!=null?D(h)._overflowWeekday=!0:(et=J3(w,M,L,ee,ce),h._a[io]=et.year,h._dayOfYear=et.dayOfYear);}r.ISO_8601=function(){},r.RFC_2822=function(){};function hw(h){if(h._f===r.ISO_8601){o4(h);return;}if(h._f===r.RFC_2822){a4(h);return;}h._a=[],D(h).empty=!0;var v=""+h._i,w,M,L,ee,ce,et=v.length,Nt=0,ai,Po;for(L=Nn(h._f,h._locale).match(Ht)||[],Po=L.length,w=0;w<Po;w++)ee=L[w],M=(v.match(QH(ee,h))||[])[0],M&&(ce=v.substr(0,v.indexOf(M)),ce.length>0&&D(h).unusedInput.push(ce),v=v.slice(v.indexOf(M)+M.length),Nt+=M.length),An[ee]?(M?D(h).empty=!1:D(h).unusedTokens.push(ee),JH(ee,M,h)):h._strict&&!M&&D(h).unusedTokens.push(ee);D(h).charsLeftOver=et-Nt,v.length>0&&D(h).unusedInput.push(v),h._a[lr]<=12&&D(h).bigHour===!0&&h._a[lr]>0&&(D(h).bigHour=void 0),D(h).parsedDateParts=h._a.slice(0),D(h).meridiem=h._meridiem,h._a[lr]=uY(h._locale,h._a[lr],h._meridiem),ai=D(h).era,ai!==null&&(h._a[io]=h._locale.erasConvertYear(ai,h._a[io])),fw(h),mw(h);}function uY(h,v,w){var M;return w==null?v:h.meridiemHour!=null?h.meridiemHour(v,w):(h.isPM!=null&&(M=h.isPM(w),M&&v<12&&(v+=12),!M&&v===12&&(v=0)),v);}function pY(h){var v,w,M,L,ee,ce,et=!1,Nt=h._f.length;if(Nt===0){D(h).invalidFormat=!0,h._d=new Date(NaN);return;}for(L=0;L<Nt;L++)ee=0,ce=!1,v=oe({},h),h._useUTC!=null&&(v._useUTC=h._useUTC),v._f=h._f[L],hw(v),j(v)&&(ce=!0),ee+=D(v).charsLeftOver,ee+=D(v).unusedTokens.length*10,D(v).score=ee,et?ee<M&&(M=ee,w=v):(M==null||ee<M||ce)&&(M=ee,w=v,ce&&(et=!0));g(h,w||v);}function mY(h){if(!h._d){var v=rm(h._i),w=v.day===void 0?v.date:v.day;h._a=f([v.year,v.month,w,v.hour,v.minute,v.second,v.millisecond],function(M){return M&&parseInt(M,10);}),fw(h);}}function _Y(h){var v=new Ne(mw(s4(h)));return v._nextDay&&(v.add(1,"d"),v._nextDay=void 0),v;}function s4(h){var v=h._i,w=h._f;return h._locale=h._locale||Yl(h._l),v===null||w===void 0&&v===""?V({nullInput:!0}):(typeof v=="string"&&(h._i=v=h._locale.preparse(v)),Ce(v)?new Ne(mw(v)):(_(v)?h._d=v:e(w)?pY(h):w?hw(h):fY(h),j(h)||(h._d=null),h));}function fY(h){var v=h._i;s(v)?h._d=new Date(r.now()):_(v)?h._d=new Date(v.valueOf()):typeof v=="string"?lY(h):e(v)?(h._a=f(v.slice(0),function(w){return parseInt(w,10);}),fw(h)):n(v)?mY(h):l(v)?h._d=new Date(v):r.createFromInputFallback(h);}function l4(h,v,w,M,L){var ee={};return(v===!0||v===!1)&&(M=v,v=void 0),(w===!0||w===!1)&&(M=w,w=void 0),(n(h)&&a(h)||e(h)&&h.length===0)&&(h=void 0),ee._isAMomentObject=!0,ee._useUTC=ee._isUTC=L,ee._l=w,ee._i=h,ee._f=v,ee._strict=M,_Y(ee);}function pn(h,v,w,M){return l4(h,v,w,M,!1);}var hY=dt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=pn.apply(null,arguments);return this.isValid()&&h.isValid()?h<this?this:h:V();}),gY=dt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=pn.apply(null,arguments);return this.isValid()&&h.isValid()?h>this?this:h:V();});function c4(h,v){var w,M;if(v.length===1&&e(v[0])&&(v=v[0]),!v.length)return pn();for(w=v[0],M=1;M<v.length;++M)(!v[M].isValid()||v[M][h](w))&&(w=v[M]);return w;}function vY(){var h=[].slice.call(arguments,0);return c4("isBefore",h);}function CY(){var h=[].slice.call(arguments,0);return c4("isAfter",h);}var yY=function(){return Date.now?Date.now():+new Date();},Wh=["year","quarter","month","week","day","hour","minute","second","millisecond"];function bY(h){var v,w=!1,M,L=Wh.length;for(v in h)if(o(h,v)&&!(jn.call(Wh,v)!==-1&&(h[v]==null||!isNaN(h[v]))))return!1;for(M=0;M<L;++M)if(h[Wh[M]]){if(w)return!1;parseFloat(h[Wh[M]])!==ni(h[Wh[M]])&&(w=!0);}return!0;}function SY(){return this._isValid;}function EY(){return us(NaN);}function l1(h){var v=rm(h),w=v.year||0,M=v.quarter||0,L=v.month||0,ee=v.week||v.isoWeek||0,ce=v.day||0,et=v.hour||0,Nt=v.minute||0,ai=v.second||0,Po=v.millisecond||0;this._isValid=bY(v),this._milliseconds=+Po+ai*1e3+Nt*6e4+et*1e3*60*60,this._days=+ce+ee*7,this._months=+L+M*3+w*12,this._data={},this._locale=Yl(),this._bubble();}function c1(h){return h instanceof l1;}function gw(h){return h<0?Math.round(-1*h)*-1:Math.round(h);}function TY(h,v,w){var M=Math.min(h.length,v.length),L=Math.abs(h.length-v.length),ee=0,ce;for(ce=0;ce<M;ce++)(w&&h[ce]!==v[ce]||!w&&ni(h[ce])!==ni(v[ce]))&&ee++;return ee+L;}function d4(h,v){it(h,0,0,function(){var w=this.utcOffset(),M="+";return w<0&&(w=-w,M="-"),M+Ae(~~(w/60),2)+v+Ae(~~w%60,2);});}d4("Z",":"),d4("ZZ",""),nt("Z",i1),nt("ZZ",i1),Ui(["Z","ZZ"],function(h,v,w){w._useUTC=!0,w._tzm=vw(i1,h);});var IY=/([\+\-]|\d\d)/gi;function vw(h,v){var w=(v||"").match(h),M,L,ee;return w===null?null:(M=w[w.length-1]||[],L=(M+"").match(IY)||["-",0,0],ee=+(L[1]*60)+ni(L[2]),ee===0?0:L[0]==="+"?ee:-ee);}function Cw(h,v){var w,M;return v._isUTC?(w=v.clone(),M=(Ce(h)||_(h)?h.valueOf():pn(h).valueOf())-w.valueOf(),w._d.setTime(w._d.valueOf()+M),r.updateOffset(w,!1),w):pn(h).local();}function yw(h){return-Math.round(h._d.getTimezoneOffset());}r.updateOffset=function(){};function xY(h,v,w){var M=this._offset||0,L;if(!this.isValid())return h!=null?this:NaN;if(h!=null){if(typeof h=="string"){if(h=vw(i1,h),h===null)return this;}else Math.abs(h)<16&&!w&&(h=h*60);return!this._isUTC&&v&&(L=yw(this)),this._offset=h,this._isUTC=!0,L!=null&&this.add(L,"m"),M!==h&&(!v||this._changeInProgress?_4(this,us(h-M,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this;}else return this._isUTC?M:yw(this);}function AY(h,v){return h!=null?(typeof h!="string"&&(h=-h),this.utcOffset(h,v),this):-this.utcOffset();}function wY(h){return this.utcOffset(0,h);}function DY(h){return this._isUTC&&(this.utcOffset(0,h),this._isUTC=!1,h&&this.subtract(yw(this),"m")),this;}function MY(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var h=vw(XH,this._i);h!=null?this.utcOffset(h):this.utcOffset(0,!0);}return this;}function OY(h){return this.isValid()?(h=h?pn(h).utcOffset():0,(this.utcOffset()-h)%60===0):!1;}function PY(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset();}function RY(){if(!s(this._isDSTShifted))return this._isDSTShifted;var h={},v;return oe(h,this),h=s4(h),h._a?(v=h._isUTC?S(h._a):pn(h._a),this._isDSTShifted=this.isValid()&&TY(h._a,v.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted;}function NY(){return this.isValid()?!this._isUTC:!1;}function kY(){return this.isValid()?this._isUTC:!1;}function u4(){return this.isValid()?this._isUTC&&this._offset===0:!1;}var $Y=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,LY=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function us(h,v){var w=h,M=null,L,ee,ce;return c1(h)?w={ms:h._milliseconds,d:h._days,M:h._months}:l(h)||!isNaN(+h)?(w={},v?w[v]=+h:w.milliseconds=+h):(M=$Y.exec(h))?(L=M[1]==="-"?-1:1,w={y:0,d:ni(M[Ws])*L,h:ni(M[lr])*L,m:ni(M[ds])*L,s:ni(M[Hl])*L,ms:ni(gw(M[ku]*1e3))*L}):(M=LY.exec(h))?(L=M[1]==="-"?-1:1,w={y:$u(M[2],L),M:$u(M[3],L),w:$u(M[4],L),d:$u(M[5],L),h:$u(M[6],L),m:$u(M[7],L),s:$u(M[8],L)}):w==null?w={}:typeof w=="object"&&("from"in w||"to"in w)&&(ce=FY(pn(w.from),pn(w.to)),w={},w.ms=ce.milliseconds,w.M=ce.months),ee=new l1(w),c1(h)&&o(h,"_locale")&&(ee._locale=h._locale),c1(h)&&o(h,"_isValid")&&(ee._isValid=h._isValid),ee;}us.fn=l1.prototype,us.invalid=EY;function $u(h,v){var w=h&&parseFloat(h.replace(",","."));return(isNaN(w)?0:w)*v;}function p4(h,v){var w={};return w.months=v.month()-h.month()+(v.year()-h.year())*12,h.clone().add(w.months,"M").isAfter(v)&&--w.months,w.milliseconds=+v-+h.clone().add(w.months,"M"),w;}function FY(h,v){var w;return h.isValid()&&v.isValid()?(v=Cw(v,h),h.isBefore(v)?w=p4(h,v):(w=p4(v,h),w.milliseconds=-w.milliseconds,w.months=-w.months),w):{milliseconds:0,months:0};}function m4(h,v){return function(w,M){var L,ee;return M!==null&&!isNaN(+M)&&(Vi(v,"moment()."+v+"(period, number) is deprecated. Please use moment()."+v+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),ee=w,w=M,M=ee),L=us(w,M),_4(this,L,h),this;};}function _4(h,v,w,M){var L=v._milliseconds,ee=gw(v._days),ce=gw(v._months);h.isValid()&&(M=M??!0,ce&&K3(h,Vh(h,"Month")+ce*w),ee&&q3(h,"Date",Vh(h,"Date")+ee*w),L&&h._d.setTime(h._d.valueOf()+L*w),M&&r.updateOffset(h,ee||ce));}var VY=m4(1,"add"),zY=m4(-1,"subtract");function f4(h){return typeof h=="string"||h instanceof String;}function GY(h){return Ce(h)||_(h)||f4(h)||l(h)||UY(h)||jY(h)||h===null||h===void 0;}function jY(h){var v=n(h)&&!a(h),w=!1,M=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],L,ee,ce=M.length;for(L=0;L<ce;L+=1)ee=M[L],w=w||o(h,ee);return v&&w;}function UY(h){var v=e(h),w=!1;return v&&(w=h.filter(function(M){return!l(M)&&f4(h);}).length===0),v&&w;}function WY(h){var v=n(h)&&!a(h),w=!1,M=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],L,ee;for(L=0;L<M.length;L+=1)ee=M[L],w=w||o(h,ee);return v&&w;}function BY(h,v){var w=h.diff(v,"days",!0);return w<-6?"sameElse":w<-1?"lastWeek":w<0?"lastDay":w<1?"sameDay":w<2?"nextDay":w<7?"nextWeek":"sameElse";}function HY(h,v){arguments.length===1&&(arguments[0]?GY(arguments[0])?(h=arguments[0],v=void 0):WY(arguments[0])&&(v=arguments[0],h=void 0):(h=void 0,v=void 0));var w=h||pn(),M=Cw(w,this).startOf("day"),L=r.calendarFormat(this,M)||"sameElse",ee=v&&(gi(v[L])?v[L].call(this,w):v[L]);return this.format(ee||this.localeData().calendar(L,this,pn(w)));}function qY(){return new Ne(this);}function YY(h,v){var w=Ce(h)?h:pn(h);return this.isValid()&&w.isValid()?(v=Oo(v)||"millisecond",v==="millisecond"?this.valueOf()>w.valueOf():w.valueOf()<this.clone().startOf(v).valueOf()):!1;}function XY(h,v){var w=Ce(h)?h:pn(h);return this.isValid()&&w.isValid()?(v=Oo(v)||"millisecond",v==="millisecond"?this.valueOf()<w.valueOf():this.clone().endOf(v).valueOf()<w.valueOf()):!1;}function KY(h,v,w,M){var L=Ce(h)?h:pn(h),ee=Ce(v)?v:pn(v);return this.isValid()&&L.isValid()&&ee.isValid()?(M=M||"()",(M[0]==="("?this.isAfter(L,w):!this.isBefore(L,w))&&(M[1]===")"?this.isBefore(ee,w):!this.isAfter(ee,w))):!1;}function QY(h,v){var w=Ce(h)?h:pn(h),M;return this.isValid()&&w.isValid()?(v=Oo(v)||"millisecond",v==="millisecond"?this.valueOf()===w.valueOf():(M=w.valueOf(),this.clone().startOf(v).valueOf()<=M&&M<=this.clone().endOf(v).valueOf())):!1;}function ZY(h,v){return this.isSame(h,v)||this.isAfter(h,v);}function JY(h,v){return this.isSame(h,v)||this.isBefore(h,v);}function eX(h,v,w){var M,L,ee;if(!this.isValid())return NaN;if(M=Cw(h,this),!M.isValid())return NaN;switch(L=(M.utcOffset()-this.utcOffset())*6e4,v=Oo(v),v){case"year":ee=d1(this,M)/12;break;case"month":ee=d1(this,M);break;case"quarter":ee=d1(this,M)/3;break;case"second":ee=(this-M)/1e3;break;case"minute":ee=(this-M)/6e4;break;case"hour":ee=(this-M)/36e5;break;case"day":ee=(this-M-L)/864e5;break;case"week":ee=(this-M-L)/6048e5;break;default:ee=this-M;}return w?ee:ka(ee);}function d1(h,v){if(h.date()<v.date())return-d1(v,h);var w=(v.year()-h.year())*12+(v.month()-h.month()),M=h.clone().add(w,"months"),L,ee;return v-M<0?(L=h.clone().add(w-1,"months"),ee=(v-M)/(M-L)):(L=h.clone().add(w+1,"months"),ee=(v-M)/(L-M)),-(w+ee)||0;}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function tX(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");}function iX(h){if(!this.isValid())return null;var v=h!==!0,w=v?this.clone().utc():this;return w.year()<0||w.year()>9999?jl(w,v?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):gi(Date.prototype.toISOString)?v?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",jl(w,"Z")):jl(w,v?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ");}function nX(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var h="moment",v="",w,M,L,ee;return this.isLocal()||(h=this.utcOffset()===0?"moment.utc":"moment.parseZone",v="Z"),w="["+h+'("]',M=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",L="-MM-DD[T]HH:mm:ss.SSS",ee=v+'[")]',this.format(w+M+L+ee);}function rX(h){h||(h=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var v=jl(this,h);return this.localeData().postformat(v);}function oX(h,v){return this.isValid()&&(Ce(h)&&h.isValid()||pn(h).isValid())?us({to:this,from:h}).locale(this.locale()).humanize(!v):this.localeData().invalidDate();}function aX(h){return this.from(pn(),h);}function sX(h,v){return this.isValid()&&(Ce(h)&&h.isValid()||pn(h).isValid())?us({from:this,to:h}).locale(this.locale()).humanize(!v):this.localeData().invalidDate();}function lX(h){return this.to(pn(),h);}function h4(h){var v;return h===void 0?this._locale._abbr:(v=Yl(h),v!=null&&(this._locale=v),this);}var g4=dt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(h){return h===void 0?this.localeData():this.locale(h);});function v4(){return this._locale;}var u1=1e3,um=60*u1,p1=60*um,C4=(365*400+97)*24*p1;function pm(h,v){return(h%v+v)%v;}function y4(h,v,w){return h<100&&h>=0?new Date(h+400,v,w)-C4:new Date(h,v,w).valueOf();}function b4(h,v,w){return h<100&&h>=0?Date.UTC(h+400,v,w)-C4:Date.UTC(h,v,w);}function cX(h){var v,w;if(h=Oo(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(w=this._isUTC?b4:y4,h){case"year":v=w(this.year(),0,1);break;case"quarter":v=w(this.year(),this.month()-this.month()%3,1);break;case"month":v=w(this.year(),this.month(),1);break;case"week":v=w(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":v=w(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":v=w(this.year(),this.month(),this.date());break;case"hour":v=this._d.valueOf(),v-=pm(v+(this._isUTC?0:this.utcOffset()*um),p1);break;case"minute":v=this._d.valueOf(),v-=pm(v,um);break;case"second":v=this._d.valueOf(),v-=pm(v,u1);break;}return this._d.setTime(v),r.updateOffset(this,!0),this;}function dX(h){var v,w;if(h=Oo(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(w=this._isUTC?b4:y4,h){case"year":v=w(this.year()+1,0,1)-1;break;case"quarter":v=w(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":v=w(this.year(),this.month()+1,1)-1;break;case"week":v=w(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":v=w(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":v=w(this.year(),this.month(),this.date()+1)-1;break;case"hour":v=this._d.valueOf(),v+=p1-pm(v+(this._isUTC?0:this.utcOffset()*um),p1)-1;break;case"minute":v=this._d.valueOf(),v+=um-pm(v,um)-1;break;case"second":v=this._d.valueOf(),v+=u1-pm(v,u1)-1;break;}return this._d.setTime(v),r.updateOffset(this,!0),this;}function uX(){return this._d.valueOf()-(this._offset||0)*6e4;}function pX(){return Math.floor(this.valueOf()/1e3);}function mX(){return new Date(this.valueOf());}function _X(){var h=this;return[h.year(),h.month(),h.date(),h.hour(),h.minute(),h.second(),h.millisecond()];}function fX(){var h=this;return{years:h.year(),months:h.month(),date:h.date(),hours:h.hours(),minutes:h.minutes(),seconds:h.seconds(),milliseconds:h.milliseconds()};}function hX(){return this.isValid()?this.toISOString():null;}function gX(){return j(this);}function vX(){return g({},D(this));}function CX(){return D(this).overflow;}function yX(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict};}it("N",0,0,"eraAbbr"),it("NN",0,0,"eraAbbr"),it("NNN",0,0,"eraAbbr"),it("NNNN",0,0,"eraName"),it("NNNNN",0,0,"eraNarrow"),it("y",["y",1],"yo","eraYear"),it("y",["yy",2],0,"eraYear"),it("y",["yyy",3],0,"eraYear"),it("y",["yyyy",4],0,"eraYear"),nt("N",bw),nt("NN",bw),nt("NNN",bw),nt("NNNN",OX),nt("NNNNN",PX),Ui(["N","NN","NNN","NNNN","NNNNN"],function(h,v,w,M){var L=w._locale.erasParse(h,M,w._strict);L?D(w).era=L:D(w).invalidEra=h;}),nt("y",sm),nt("yy",sm),nt("yyy",sm),nt("yyyy",sm),nt("yo",RX),Ui(["y","yy","yyy","yyyy"],io),Ui(["yo"],function(h,v,w,M){var L;w._locale._eraYearOrdinalRegex&&(L=h.match(w._locale._eraYearOrdinalRegex)),w._locale.eraYearOrdinalParse?v[io]=w._locale.eraYearOrdinalParse(h,L):v[io]=parseInt(h,10);});function bX(h,v){var w,M,L,ee=this._eras||Yl("en")._eras;for(w=0,M=ee.length;w<M;++w){switch(typeof ee[w].since){case"string":L=r(ee[w].since).startOf("day"),ee[w].since=L.valueOf();break;}switch(typeof ee[w].until){case"undefined":ee[w].until=1/0;break;case"string":L=r(ee[w].until).startOf("day").valueOf(),ee[w].until=L.valueOf();break;}}return ee;}function SX(h,v,w){var M,L,ee=this.eras(),ce,et,Nt;for(h=h.toUpperCase(),M=0,L=ee.length;M<L;++M)if(ce=ee[M].name.toUpperCase(),et=ee[M].abbr.toUpperCase(),Nt=ee[M].narrow.toUpperCase(),w)switch(v){case"N":case"NN":case"NNN":if(et===h)return ee[M];break;case"NNNN":if(ce===h)return ee[M];break;case"NNNNN":if(Nt===h)return ee[M];break;}else if([ce,et,Nt].indexOf(h)>=0)return ee[M];}function EX(h,v){var w=h.since<=h.until?1:-1;return v===void 0?r(h.since).year():r(h.since).year()+(v-h.offset)*w;}function TX(){var h,v,w,M=this.localeData().eras();for(h=0,v=M.length;h<v;++h)if(w=this.clone().startOf("day").valueOf(),M[h].since<=w&&w<=M[h].until||M[h].until<=w&&w<=M[h].since)return M[h].name;return"";}function IX(){var h,v,w,M=this.localeData().eras();for(h=0,v=M.length;h<v;++h)if(w=this.clone().startOf("day").valueOf(),M[h].since<=w&&w<=M[h].until||M[h].until<=w&&w<=M[h].since)return M[h].narrow;return"";}function xX(){var h,v,w,M=this.localeData().eras();for(h=0,v=M.length;h<v;++h)if(w=this.clone().startOf("day").valueOf(),M[h].since<=w&&w<=M[h].until||M[h].until<=w&&w<=M[h].since)return M[h].abbr;return"";}function AX(){var h,v,w,M,L=this.localeData().eras();for(h=0,v=L.length;h<v;++h)if(w=L[h].since<=L[h].until?1:-1,M=this.clone().startOf("day").valueOf(),L[h].since<=M&&M<=L[h].until||L[h].until<=M&&M<=L[h].since)return(this.year()-r(L[h].since).year())*w+L[h].offset;return this.year();}function wX(h){return o(this,"_erasNameRegex")||Sw.call(this),h?this._erasNameRegex:this._erasRegex;}function DX(h){return o(this,"_erasAbbrRegex")||Sw.call(this),h?this._erasAbbrRegex:this._erasRegex;}function MX(h){return o(this,"_erasNarrowRegex")||Sw.call(this),h?this._erasNarrowRegex:this._erasRegex;}function bw(h,v){return v.erasAbbrRegex(h);}function OX(h,v){return v.erasNameRegex(h);}function PX(h,v){return v.erasNarrowRegex(h);}function RX(h,v){return v._eraYearOrdinalRegex||sm;}function Sw(){var h=[],v=[],w=[],M=[],L,ee,ce,et,Nt,ai=this.eras();for(L=0,ee=ai.length;L<ee;++L)ce=Wl(ai[L].name),et=Wl(ai[L].abbr),Nt=Wl(ai[L].narrow),v.push(ce),h.push(et),w.push(Nt),M.push(ce),M.push(et),M.push(Nt);this._erasRegex=new RegExp("^("+M.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+v.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+w.join("|")+")","i");}it(0,["gg",2],0,function(){return this.weekYear()%100;}),it(0,["GG",2],0,function(){return this.isoWeekYear()%100;});function m1(h,v){it(0,[h,h.length],0,v);}m1("gggg","weekYear"),m1("ggggg","weekYear"),m1("GGGG","isoWeekYear"),m1("GGGGG","isoWeekYear"),nt("G",t1),nt("g",t1),nt("GG",ji,to),nt("gg",ji,to),nt("GGGG",am,om),nt("gggg",am,om),nt("GGGGG",Ze,Ru),nt("ggggg",Ze,Ru),Lh(["gggg","ggggg","GGGG","GGGGG"],function(h,v,w,M){v[M.substr(0,2)]=ni(h);}),Lh(["gg","GG"],function(h,v,w,M){v[M]=r.parseTwoDigitYear(h);});function NX(h){return S4.call(this,h,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy);}function kX(h){return S4.call(this,h,this.isoWeek(),this.isoWeekday(),1,4);}function $X(){return ql(this.year(),1,4);}function LX(){return ql(this.isoWeekYear(),1,4);}function FX(){var h=this.localeData()._week;return ql(this.year(),h.dow,h.doy);}function VX(){var h=this.localeData()._week;return ql(this.weekYear(),h.dow,h.doy);}function S4(h,v,w,M,L){var ee;return h==null?Gh(this,M,L).year:(ee=ql(h,M,L),v>ee&&(v=ee),zX.call(this,h,v,w,M,L));}function zX(h,v,w,M,L){var ee=J3(h,v,w,M,L),ce=zh(ee.year,0,ee.dayOfYear);return this.year(ce.getUTCFullYear()),this.month(ce.getUTCMonth()),this.date(ce.getUTCDate()),this;}it("Q",0,"Qo","quarter"),nt("Q",Ph),Ui("Q",function(h,v){v[Bl]=(ni(h)-1)*3;});function GX(h){return h==null?Math.ceil((this.month()+1)/3):this.month((h-1)*3+this.month()%3);}it("D",["DD",2],"Do","date"),nt("D",ji,lm),nt("DD",ji,to),nt("Do",function(h,v){return h?v._dayOfMonthOrdinalParse||v._ordinalParse:v._dayOfMonthOrdinalParseLenient;}),Ui(["D","DD"],Ws),Ui("Do",function(h,v){v[Ws]=ni(h.match(ji)[0]);});var E4=cm("Date",!0);it("DDD",["DDDD",3],"DDDo","dayOfYear"),nt("DDD",Nu),nt("DDDD",Rh),Ui(["DDD","DDDD"],function(h,v,w){w._dayOfYear=ni(h);});function jX(h){var v=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return h==null?v:this.add(h-v,"d");}it("m",["mm",2],0,"minute"),nt("m",ji,aw),nt("mm",ji,to),Ui(["m","mm"],ds);var UX=cm("Minutes",!1);it("s",["ss",2],0,"second"),nt("s",ji,aw),nt("ss",ji,to),Ui(["s","ss"],Hl);var WX=cm("Seconds",!1);it("S",0,0,function(){return~~(this.millisecond()/100);}),it(0,["SS",2],0,function(){return~~(this.millisecond()/10);}),it(0,["SSS",3],0,"millisecond"),it(0,["SSSS",4],0,function(){return this.millisecond()*10;}),it(0,["SSSSS",5],0,function(){return this.millisecond()*100;}),it(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3;}),it(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4;}),it(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5;}),it(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6;}),nt("S",Nu,Ph),nt("SS",Nu,to),nt("SSS",Nu,Rh);var Yc,T4;for(Yc="SSSS";Yc.length<=9;Yc+="S")nt(Yc,sm);function BX(h,v){v[ku]=ni(("0."+h)*1e3);}for(Yc="S";Yc.length<=9;Yc+="S")Ui(Yc,BX);T4=cm("Milliseconds",!1),it("z",0,0,"zoneAbbr"),it("zz",0,0,"zoneName");function HX(){return this._isUTC?"UTC":"";}function qX(){return this._isUTC?"Coordinated Universal Time":"";}var De=Ne.prototype;De.add=VY,De.calendar=HY,De.clone=qY,De.diff=eX,De.endOf=dX,De.format=rX,De.from=oX,De.fromNow=aX,De.to=sX,De.toNow=lX,De.get=nq,De.invalidAt=CX,De.isAfter=YY,De.isBefore=XY,De.isBetween=KY,De.isSame=QY,De.isSameOrAfter=ZY,De.isSameOrBefore=JY,De.isValid=gX,De.lang=g4,De.locale=h4,De.localeData=v4,De.max=gY,De.min=hY,De.parsingFlags=vX,De.set=rq,De.startOf=cX,De.subtract=zY,De.toArray=_X,De.toObject=fX,De.toDate=mX,De.toISOString=iX,De.inspect=nX,typeof Symbol<"u"&&Symbol.for!=null&&(De[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">";}),De.toJSON=hX,De.toString=tX,De.unix=pX,De.valueOf=uX,De.creationData=yX,De.eraName=TX,De.eraNarrow=IX,De.eraAbbr=xX,De.eraYear=AX,De.year=H3,De.isLeapYear=iq,De.weekYear=NX,De.isoWeekYear=kX,De.quarter=De.quarters=GX,De.month=Q3,De.daysInMonth=mq,De.week=De.weeks=bq,De.isoWeek=De.isoWeeks=Sq,De.weeksInYear=FX,De.weeksInWeekYear=VX,De.isoWeeksInYear=$X,De.isoWeeksInISOWeekYear=LX,De.date=E4,De.day=De.days=kq,De.weekday=$q,De.isoWeekday=Lq,De.dayOfYear=jX,De.hour=De.hours=Wq,De.minute=De.minutes=UX,De.second=De.seconds=WX,De.millisecond=De.milliseconds=T4,De.utcOffset=xY,De.utc=wY,De.local=DY,De.parseZone=MY,De.hasAlignedHourOffset=OY,De.isDST=PY,De.isLocal=NY,De.isUtcOffset=kY,De.isUtc=u4,De.isUTC=u4,De.zoneAbbr=HX,De.zoneName=qX,De.dates=dt("dates accessor is deprecated. Use date instead.",E4),De.months=dt("months accessor is deprecated. Use month instead",Q3),De.years=dt("years accessor is deprecated. Use year instead",H3),De.zone=dt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",AY),De.isDSTShifted=dt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",RY);function YX(h){return pn(h*1e3);}function XX(){return pn.apply(null,arguments).parseZone();}function I4(h){return h;}var vi=Gn.prototype;vi.calendar=_t,vi.longDateFormat=Hr,vi.invalidDate=Hc,vi.ordinal=Xv,vi.preparse=I4,vi.postformat=I4,vi.relativeTime=Qv,vi.pastFuture=Zv,vi.set=zi,vi.eras=bX,vi.erasParse=SX,vi.erasConvertYear=EX,vi.erasAbbrRegex=DX,vi.erasNameRegex=wX,vi.erasNarrowRegex=MX,vi.months=cq,vi.monthsShort=dq,vi.monthsParse=pq,vi.monthsRegex=fq,vi.monthsShortRegex=_q,vi.week=gq,vi.firstDayOfYear=yq,vi.firstDayOfWeek=Cq,vi.weekdays=Mq,vi.weekdaysMin=Pq,vi.weekdaysShort=Oq,vi.weekdaysParse=Nq,vi.weekdaysRegex=Fq,vi.weekdaysShortRegex=Vq,vi.weekdaysMinRegex=zq,vi.isPM=jq,vi.meridiem=Bq;function _1(h,v,w,M){var L=Yl(),ee=S().set(M,v);return L[w](ee,h);}function x4(h,v,w){if(l(h)&&(v=h,h=void 0),h=h||"",v!=null)return _1(h,v,w,"month");var M,L=[];for(M=0;M<12;M++)L[M]=_1(h,M,w,"month");return L;}function Ew(h,v,w,M){typeof h=="boolean"?(l(v)&&(w=v,v=void 0),v=v||""):(v=h,w=v,h=!1,l(v)&&(w=v,v=void 0),v=v||"");var L=Yl(),ee=h?L._week.dow:0,ce,et=[];if(w!=null)return _1(v,(w+ee)%7,M,"day");for(ce=0;ce<7;ce++)et[ce]=_1(v,(ce+ee)%7,M,"day");return et;}function KX(h,v){return x4(h,v,"months");}function QX(h,v){return x4(h,v,"monthsShort");}function ZX(h,v,w){return Ew(h,v,w,"weekdays");}function JX(h,v,w){return Ew(h,v,w,"weekdaysShort");}function eK(h,v,w){return Ew(h,v,w,"weekdaysMin");}qc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(h){var v=h%10,w=ni(h%100/10)===1?"th":v===1?"st":v===2?"nd":v===3?"rd":"th";return h+w;}}),r.lang=dt("moment.lang is deprecated. Use moment.locale instead.",qc),r.langData=dt("moment.langData is deprecated. Use moment.localeData instead.",Yl);var Xl=Math.abs;function tK(){var h=this._data;return this._milliseconds=Xl(this._milliseconds),this._days=Xl(this._days),this._months=Xl(this._months),h.milliseconds=Xl(h.milliseconds),h.seconds=Xl(h.seconds),h.minutes=Xl(h.minutes),h.hours=Xl(h.hours),h.months=Xl(h.months),h.years=Xl(h.years),this;}function A4(h,v,w,M){var L=us(v,w);return h._milliseconds+=M*L._milliseconds,h._days+=M*L._days,h._months+=M*L._months,h._bubble();}function iK(h,v){return A4(this,h,v,1);}function nK(h,v){return A4(this,h,v,-1);}function w4(h){return h<0?Math.floor(h):Math.ceil(h);}function rK(){var h=this._milliseconds,v=this._days,w=this._months,M=this._data,L,ee,ce,et,Nt;return h>=0&&v>=0&&w>=0||h<=0&&v<=0&&w<=0||(h+=w4(Tw(w)+v)*864e5,v=0,w=0),M.milliseconds=h%1e3,L=ka(h/1e3),M.seconds=L%60,ee=ka(L/60),M.minutes=ee%60,ce=ka(ee/60),M.hours=ce%24,v+=ka(ce/24),Nt=ka(D4(v)),w+=Nt,v-=w4(Tw(Nt)),et=ka(w/12),w%=12,M.days=v,M.months=w,M.years=et,this;}function D4(h){return h*4800/146097;}function Tw(h){return h*146097/4800;}function oK(h){if(!this.isValid())return NaN;var v,w,M=this._milliseconds;if(h=Oo(h),h==="month"||h==="quarter"||h==="year")switch(v=this._days+M/864e5,w=this._months+D4(v),h){case"month":return w;case"quarter":return w/3;case"year":return w/12;}else switch(v=this._days+Math.round(Tw(this._months)),h){case"week":return v/7+M/6048e5;case"day":return v+M/864e5;case"hour":return v*24+M/36e5;case"minute":return v*1440+M/6e4;case"second":return v*86400+M/1e3;case"millisecond":return Math.floor(v*864e5)+M;default:throw new Error("Unknown unit "+h);}}function Kl(h){return function(){return this.as(h);};}var M4=Kl("ms"),aK=Kl("s"),sK=Kl("m"),lK=Kl("h"),cK=Kl("d"),dK=Kl("w"),uK=Kl("M"),pK=Kl("Q"),mK=Kl("y"),_K=M4;function fK(){return us(this);}function hK(h){return h=Oo(h),this.isValid()?this[h+"s"]():NaN;}function Lu(h){return function(){return this.isValid()?this._data[h]:NaN;};}var gK=Lu("milliseconds"),vK=Lu("seconds"),CK=Lu("minutes"),yK=Lu("hours"),bK=Lu("days"),SK=Lu("months"),EK=Lu("years");function TK(){return ka(this.days()/7);}var Ql=Math.round,mm={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function IK(h,v,w,M,L){return L.relativeTime(v||1,!!w,h,M);}function xK(h,v,w,M){var L=us(h).abs(),ee=Ql(L.as("s")),ce=Ql(L.as("m")),et=Ql(L.as("h")),Nt=Ql(L.as("d")),ai=Ql(L.as("M")),Po=Ql(L.as("w")),Zl=Ql(L.as("y")),Xc=ee<=w.ss&&["s",ee]||ee<w.s&&["ss",ee]||ce<=1&&["m"]||ce<w.m&&["mm",ce]||et<=1&&["h"]||et<w.h&&["hh",et]||Nt<=1&&["d"]||Nt<w.d&&["dd",Nt];return w.w!=null&&(Xc=Xc||Po<=1&&["w"]||Po<w.w&&["ww",Po]),Xc=Xc||ai<=1&&["M"]||ai<w.M&&["MM",ai]||Zl<=1&&["y"]||["yy",Zl],Xc[2]=v,Xc[3]=+h>0,Xc[4]=M,IK.apply(null,Xc);}function AK(h){return h===void 0?Ql:typeof h=="function"?(Ql=h,!0):!1;}function wK(h,v){return mm[h]===void 0?!1:v===void 0?mm[h]:(mm[h]=v,h==="s"&&(mm.ss=v-1),!0);}function DK(h,v){if(!this.isValid())return this.localeData().invalidDate();var w=!1,M=mm,L,ee;return typeof h=="object"&&(v=h,h=!1),typeof h=="boolean"&&(w=h),typeof v=="object"&&(M=Object.assign({},mm,v),v.s!=null&&v.ss==null&&(M.ss=v.s-1)),L=this.localeData(),ee=xK(this,!w,M,L),w&&(ee=L.pastFuture(+this,ee)),L.postformat(ee);}var Iw=Math.abs;function _m(h){return(h>0)-(h<0)||+h;}function f1(){if(!this.isValid())return this.localeData().invalidDate();var h=Iw(this._milliseconds)/1e3,v=Iw(this._days),w=Iw(this._months),M,L,ee,ce,et=this.asSeconds(),Nt,ai,Po,Zl;return et?(M=ka(h/60),L=ka(M/60),h%=60,M%=60,ee=ka(w/12),w%=12,ce=h?h.toFixed(3).replace(/\.?0+$/,""):"",Nt=et<0?"-":"",ai=_m(this._months)!==_m(et)?"-":"",Po=_m(this._days)!==_m(et)?"-":"",Zl=_m(this._milliseconds)!==_m(et)?"-":"",Nt+"P"+(ee?ai+ee+"Y":"")+(w?ai+w+"M":"")+(v?Po+v+"D":"")+(L||M||h?"T":"")+(L?Zl+L+"H":"")+(M?Zl+M+"M":"")+(h?Zl+ce+"S":"")):"P0D";}var si=l1.prototype;si.isValid=SY,si.abs=tK,si.add=iK,si.subtract=nK,si.as=oK,si.asMilliseconds=M4,si.asSeconds=aK,si.asMinutes=sK,si.asHours=lK,si.asDays=cK,si.asWeeks=dK,si.asMonths=uK,si.asQuarters=pK,si.asYears=mK,si.valueOf=_K,si._bubble=rK,si.clone=fK,si.get=hK,si.milliseconds=gK,si.seconds=vK,si.minutes=CK,si.hours=yK,si.days=bK,si.weeks=TK,si.months=SK,si.years=EK,si.humanize=DK,si.toISOString=f1,si.toString=f1,si.toJSON=f1,si.locale=h4,si.localeData=v4,si.toIsoString=dt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",f1),si.lang=g4,it("X",0,0,"unix"),it("x",0,0,"valueOf"),nt("x",t1),nt("X",KH),Ui("X",function(h,v,w){w._d=new Date(parseFloat(h)*1e3);}),Ui("x",function(h,v,w){w._d=new Date(ni(h));});return r.version="2.30.1",t(pn),r.fn=De,r.min=vY,r.max=CY,r.now=yY,r.utc=S,r.unix=YX,r.months=KX,r.isDate=_,r.locale=qc,r.invalid=V,r.duration=us,r.isMoment=Ce,r.weekdays=ZX,r.parseZone=XX,r.localeData=Yl,r.isDuration=c1,r.monthsShort=QX,r.weekdaysMin=eK,r.defineLocale=pw,r.updateLocale=Xq,r.locales=Kq,r.weekdaysShort=JX,r.normalizeUnits=Oo,r.relativeTimeRounding=AK,r.relativeTimeThreshold=wK,r.calendarFormat=BY,r.prototype=De,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r;});});var ww;function Dw(){return ww;}function Jl(i){let r=ww;return ww=i,r;}var FK=Symbol("NotFound"),C1=class extends Error{name="\u0275NotFound";constructor(r){super(r);}};function hm(i){return i===FK||i?.name==="\u0275NotFound";}function T1(i,r){return Object.is(i,r);}var cr=null,y1=!1,Mw=1,VK=null,dr=Symbol("SIGNAL");function kt(i){let r=cr;return cr=i,r;}function I1(){return cr;}var Kc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Vu(i){if(y1)throw new Error("");if(cr===null)return;cr.consumerOnSignalRead(i);let r=cr.nextProducerIndex++;if(w1(cr),r<cr.producerNode.length&&cr.producerNode[r]!==i&&Hh(cr)){let t=cr.producerNode[r];A1(t,cr.producerIndexOfThis[r]);}cr.producerNode[r]!==i&&(cr.producerNode[r]=i,cr.producerIndexOfThis[r]=Hh(cr)?k4(i,cr,r):0),cr.producerLastReadVersion[r]=i.version;}function N4(){Mw++;}function x1(i){if(!(Hh(i)&&!i.dirty)&&!(!i.dirty&&i.lastCleanEpoch===Mw)){if(!i.producerMustRecompute(i)&&!zu(i)){E1(i);return;}i.producerRecomputeValue(i),E1(i);}}function Ow(i){if(i.liveConsumerNode===void 0)return;let r=y1;y1=!0;try{for(let t of i.liveConsumerNode)t.dirty||zK(t);}finally{y1=r;}}function Pw(){return cr?.consumerAllowSignalWrites!==!1;}function zK(i){i.dirty=!0,Ow(i),i.consumerMarkedDirty?.(i);}function E1(i){i.dirty=!1,i.lastCleanEpoch=Mw;}function ec(i){return i&&(i.nextProducerIndex=0),kt(i);}function Qc(i,r){if(kt(r),!(!i||i.producerNode===void 0||i.producerIndexOfThis===void 0||i.producerLastReadVersion===void 0)){if(Hh(i))for(let t=i.nextProducerIndex;t<i.producerNode.length;t++)A1(i.producerNode[t],i.producerIndexOfThis[t]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop();}}function zu(i){w1(i);for(let r=0;r<i.producerNode.length;r++){let t=i.producerNode[r],e=i.producerLastReadVersion[r];if(e!==t.version||(x1(t),e!==t.version))return!0;}return!1;}function gm(i){if(w1(i),Hh(i))for(let r=0;r<i.producerNode.length;r++)A1(i.producerNode[r],i.producerIndexOfThis[r]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0);}function k4(i,r,t){if($4(i),i.liveConsumerNode.length===0&&L4(i))for(let e=0;e<i.producerNode.length;e++)i.producerIndexOfThis[e]=k4(i.producerNode[e],i,e);return i.liveConsumerIndexOfThis.push(t),i.liveConsumerNode.push(r)-1;}function A1(i,r){if($4(i),i.liveConsumerNode.length===1&&L4(i))for(let e=0;e<i.producerNode.length;e++)A1(i.producerNode[e],i.producerIndexOfThis[e]);let t=i.liveConsumerNode.length-1;if(i.liveConsumerNode[r]=i.liveConsumerNode[t],i.liveConsumerIndexOfThis[r]=i.liveConsumerIndexOfThis[t],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,r<i.liveConsumerNode.length){let e=i.liveConsumerIndexOfThis[r],n=i.liveConsumerNode[r];w1(n),n.producerIndexOfThis[e]=r;}}function Hh(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0;}function w1(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[];}function $4(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[];}function L4(i){return i.producerNode!==void 0;}function D1(i){VK?.(i);}function qh(i,r){let t=Object.create(GK);t.computation=i,r!==void 0&&(t.equal=r);let e=()=>{if(x1(t),Vu(t),t.value===Bh)throw t.error;return t.value;};return e[dr]=t,D1(t),e;}var b1=Symbol("UNSET"),S1=Symbol("COMPUTING"),Bh=Symbol("ERRORED"),GK=rt(re({},Kc),{value:b1,dirty:!0,error:null,equal:T1,kind:"computed",producerMustRecompute(i){return i.value===b1||i.value===S1;},producerRecomputeValue(i){if(i.value===S1)throw new Error("");let r=i.value;i.value=S1;let t=ec(i),e,n=!1;try{e=i.computation(),kt(null),n=r!==b1&&r!==Bh&&e!==Bh&&i.equal(r,e);}catch(o){e=Bh,i.error=o;}finally{Qc(i,t);}if(n){i.value=r;return;}i.value=e,i.version++;}});function jK(){throw new Error();}var F4=jK;function V4(i){F4(i);}function Rw(i){F4=i;}var UK=null;function Nw(i,r){let t=Object.create(Yh);t.value=i,r!==void 0&&(t.equal=r);let e=()=>z4(t);return e[dr]=t,D1(t),[e,a=>vm(t,a),a=>kw(t,a)];}function z4(i){return Vu(i),i.value;}function vm(i,r){Pw()||V4(i),i.equal(i.value,r)||(i.value=r,WK(i));}function kw(i,r){Pw()||V4(i),vm(i,r(i.value));}var Yh=rt(re({},Kc),{equal:T1,value:void 0,kind:"signal"});function WK(i){i.version++,N4(),Ow(i),UK?.(i);}function Gu(i){return typeof i=="function";}var $w=!1,qo={Promise:void 0,set useDeprecatedSynchronousErrorHandling(i){if(i){let r=new Error();console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+r.stack);}else $w&&console.log("RxJS: Back to a better error behavior. Thank you. <3");$w=i;},get useDeprecatedSynchronousErrorHandling(){return $w;}};function tc(i){setTimeout(()=>{throw i;},0);}var Cm={closed:!0,next(i){},error(i){if(qo.useDeprecatedSynchronousErrorHandling)throw i;tc(i);},complete(){}};var ic=Array.isArray||(i=>i&&typeof i.length=="number");function ym(i){return i!==null&&typeof i=="object";}var BK=(()=>{function i(r){return Error.call(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((t,e)=>`${e+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r,this;}return i.prototype=Object.create(Error.prototype),i;})(),Xh=BK;var ht=class i{constructor(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r);}unsubscribe(){let r;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:e,_unsubscribe:n,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof i)t.remove(this);else if(t!==null)for(let a=0;a<t.length;++a)t[a].remove(this);if(Gu(n)){e&&(this._unsubscribe=void 0);try{n.call(this);}catch(a){r=a instanceof Xh?G4(a.errors):[a];}}if(ic(o)){let a=-1,s=o.length;for(;++a<s;){let l=o[a];if(ym(l))try{l.unsubscribe();}catch(_){r=r||[],_ instanceof Xh?r=r.concat(G4(_.errors)):r.push(_);}}}if(r)throw new Xh(r);}add(r){let t=r;if(!r)return i.EMPTY;switch(typeof r){case"function":t=new i(r);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof i)){let o=t;t=new i(),t._subscriptions=[o];}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.");}let{_parentOrParents:e}=t;if(e===null)t._parentOrParents=this;else if(e instanceof i){if(e===this)return t;t._parentOrParents=[e,this];}else if(e.indexOf(this)===-1)e.push(this);else return t;let n=this._subscriptions;return n===null?this._subscriptions=[t]:n.push(t),t;}remove(r){let t=this._subscriptions;if(t){let e=t.indexOf(r);e!==-1&&t.splice(e,1);}}};ht.EMPTY=function(i){return i.closed=!0,i;}(new ht());function G4(i){return i.reduce((r,t)=>r.concat(t instanceof Xh?t.errors:t),[]);}var ju=typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();var It=class i extends ht{constructor(r,t,e){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Cm;break;case 1:if(!r){this.destination=Cm;break;}if(typeof r=="object"){r instanceof i?(this.syncErrorThrowable=r.syncErrorThrowable,this.destination=r,r.add(this)):(this.syncErrorThrowable=!0,this.destination=new M1(this,r));break;}default:this.syncErrorThrowable=!0,this.destination=new M1(this,r,t,e);break;}}[ju](){return this;}static create(r,t,e){let n=new i(r,t,e);return n.syncErrorThrowable=!1,n;}next(r){this.isStopped||this._next(r);}error(r){this.isStopped||(this.isStopped=!0,this._error(r));}complete(){this.isStopped||(this.isStopped=!0,this._complete());}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe());}_next(r){this.destination.next(r);}_error(r){this.destination.error(r),this.unsubscribe();}_complete(){this.destination.complete(),this.unsubscribe();}_unsubscribeAndRecycle(){let{_parentOrParents:r}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this;}},M1=class extends It{constructor(r,t,e,n){super(),this._parentSubscriber=r;let o,a=this;Gu(t)?o=t:t&&(o=t.next,e=t.error,n=t.complete,t!==Cm&&(a=Object.create(t),Gu(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=e,this._complete=n;}next(r){if(!this.isStopped&&this._next){let{_parentSubscriber:t}=this;!qo.useDeprecatedSynchronousErrorHandling||!t.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(t,this._next,r)&&this.unsubscribe();}}error(r){if(!this.isStopped){let{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:e}=qo;if(this._error)!e||!t.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(t,this._error,r),this.unsubscribe());else if(t.syncErrorThrowable)e?(t.syncErrorValue=r,t.syncErrorThrown=!0):tc(r),this.unsubscribe();else{if(this.unsubscribe(),e)throw r;tc(r);}}}complete(){if(!this.isStopped){let{_parentSubscriber:r}=this;if(this._complete){let t=()=>this._complete.call(this._context);!qo.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(t),this.unsubscribe()):(this.__tryOrSetError(r,t),this.unsubscribe());}else this.unsubscribe();}}__tryOrUnsub(r,t){try{r.call(this._context,t);}catch(e){if(this.unsubscribe(),qo.useDeprecatedSynchronousErrorHandling)throw e;tc(e);}}__tryOrSetError(r,t,e){if(!qo.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,e);}catch(n){return qo.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=n,r.syncErrorThrown=!0,!0):(tc(n),!0);}return!1;}_unsubscribe(){let{_parentSubscriber:r}=this;this._context=null,this._parentSubscriber=null,r.unsubscribe();}};function j4(i){for(;i;){let{closed:r,destination:t,isStopped:e}=i;if(r||e)return!1;t&&t instanceof It?i=t:i=null;}return!0;}function U4(i,r,t){if(i){if(i instanceof It)return i;if(i[ju])return i[ju]();}return!i&&!r&&!t?new It(Cm):new It(i,r,t);}var Bs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zc(i){return i;}function Lw(...i){return Fw(i);}function Fw(i){return i.length===0?Zc:i.length===1?i[0]:function(t){return i.reduce((e,n)=>n(e),t);};}var ct=(()=>{class i{constructor(t){this._isScalar=!1,t&&(this._subscribe=t);}lift(t){let e=new i();return e.source=this,e.operator=t,e;}subscribe(t,e,n){let{operator:o}=this,a=U4(t,e,n);if(o?a.add(o.call(a,this.source)):a.add(this.source||qo.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),qo.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a;}_trySubscribe(t){try{return this._subscribe(t);}catch(e){qo.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),j4(t)?t.error(e):console.warn(e);}}forEach(t,e){return e=W4(e),new e((n,o)=>{let a;a=this.subscribe(s=>{try{t(s);}catch(l){o(l),a&&a.unsubscribe();}},o,n);});}_subscribe(t){let{source:e}=this;return e&&e.subscribe(t);}[Bs](){return this;}pipe(...t){return t.length===0?this:Fw(t)(this);}toPromise(t){return t=W4(t),new t((e,n)=>{let o;this.subscribe(a=>o=a,a=>n(a),()=>e(o));});}}return i.create=r=>new i(r),i;})();function W4(i){if(i||(i=qo.Promise||Promise),!i)throw new Error("no Promise impl found");return i;}var HK=(()=>{function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this;}return i.prototype=Object.create(Error.prototype),i;})(),Hs=HK;var bm=class extends ht{constructor(r,t){super(),this.subject=r,this.subscriber=t,this.closed=!1;}unsubscribe(){if(this.closed)return;this.closed=!0;let r=this.subject,t=r.observers;if(this.subject=null,!t||t.length===0||r.isStopped||r.closed)return;let e=t.indexOf(this.subscriber);e!==-1&&t.splice(e,1);}};var Kh=class extends It{constructor(r){super(r),this.destination=r;}},xe=(()=>{class i extends ct{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null;}[ju](){return new Kh(this);}lift(t){let e=new O1(this,this);return e.operator=t,e;}next(t){if(this.closed)throw new Hs();if(!this.isStopped){let{observers:e}=this,n=e.length,o=e.slice();for(let a=0;a<n;a++)o[a].next(t);}}error(t){if(this.closed)throw new Hs();this.hasError=!0,this.thrownError=t,this.isStopped=!0;let{observers:e}=this,n=e.length,o=e.slice();for(let a=0;a<n;a++)o[a].error(t);this.observers.length=0;}complete(){if(this.closed)throw new Hs();this.isStopped=!0;let{observers:t}=this,e=t.length,n=t.slice();for(let o=0;o<e;o++)n[o].complete();this.observers.length=0;}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null;}_trySubscribe(t){if(this.closed)throw new Hs();return super._trySubscribe(t);}_subscribe(t){if(this.closed)throw new Hs();return this.hasError?(t.error(this.thrownError),ht.EMPTY):this.isStopped?(t.complete(),ht.EMPTY):(this.observers.push(t),new bm(this,t));}asObservable(){let t=new ct();return t.source=this,t;}}return i.create=(r,t)=>new O1(r,t),i;})(),O1=class extends xe{constructor(r,t){super(),this.destination=r,this.source=t;}next(r){let{destination:t}=this;t&&t.next&&t.next(r);}error(r){let{destination:t}=this;t&&t.error&&this.destination.error(r);}complete(){let{destination:r}=this;r&&r.complete&&this.destination.complete();}_subscribe(r){let{source:t}=this;return t?this.source.subscribe(r):ht.EMPTY;}};function Jc(){return function(r){return r.lift(new Vw(r));};}var Vw=class{constructor(r){this.connectable=r;}call(r,t){let{connectable:e}=this;e._refCount++;let n=new zw(r,e),o=t.subscribe(n);return n.closed||(n.connection=e.connect()),o;}},zw=class extends It{constructor(r,t){super(r),this.connectable=t;}_unsubscribe(){let{connectable:r}=this;if(!r){this.connection=null;return;}this.connectable=null;let t=r._refCount;if(t<=0){this.connection=null;return;}if(r._refCount=t-1,t>1){this.connection=null;return;}let{connection:e}=this,n=r._connection;this.connection=null,n&&(!e||n===e)&&n.unsubscribe();}};var Uu=class extends ct{constructor(r,t){super(),this.source=r,this.subjectFactory=t,this._refCount=0,this._isComplete=!1;}_subscribe(r){return this.getSubject().subscribe(r);}getSubject(){let r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject;}connect(){let r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ht(),r.add(this.source.subscribe(new Gw(this.getSubject(),this))),r.closed&&(this._connection=null,r=ht.EMPTY)),r;}refCount(){return Jc()(this);}},B4=(()=>{let i=Uu.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:i._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}};})(),Gw=class extends Kh{constructor(r,t){super(r),this.connectable=t;}_error(r){this._unsubscribe(),super._error(r);}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete();}_unsubscribe(){let r=this.connectable;if(r){this.connectable=null;let t=r._connection;r._refCount=0,r._subject=null,r._connection=null,t&&t.unsubscribe();}}};var ur=class extends xe{constructor(r){super(),this._value=r;}get value(){return this.getValue();}_subscribe(r){let t=super._subscribe(r);return t&&!t.closed&&r.next(this._value),t;}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Hs();return this._value;}next(r){super.next(this._value=r);}};var P1=class extends ht{constructor(r,t){super();}schedule(r,t=0){return this;}};var Sm=class extends P1{constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1;}schedule(r,t=0){if(this.closed)return this;this.state=r;let e=this.id,n=this.scheduler;return e!=null&&(this.id=this.recycleAsyncId(n,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this;}requestAsyncId(r,t,e=0){return setInterval(r.flush.bind(r,this),e);}recycleAsyncId(r,t,e=0){if(e!==null&&this.delay===e&&this.pending===!1)return t;clearInterval(t);}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let e=this._execute(r,t);if(e)return e;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null));}_execute(r,t){let e=!1,n;try{this.work(r);}catch(o){e=!0,n=!!o&&o||new Error(o);}if(e)return this.unsubscribe(),n;}_unsubscribe(){let r=this.id,t=this.scheduler,e=t.actions,n=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,n!==-1&&e.splice(n,1),r!=null&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null;}};var R1=class extends Sm{constructor(r,t){super(r,t),this.scheduler=r,this.work=t;}schedule(r,t=0){return t>0?super.schedule(r,t):(this.delay=t,this.state=r,this.scheduler.flush(this),this);}execute(r,t){return t>0||this.closed?super.execute(r,t):this._execute(r,t);}requestAsyncId(r,t,e=0){return e!==null&&e>0||e===null&&this.delay>0?super.requestAsyncId(r,t,e):r.flush(this);}};var jw=(()=>{class i{constructor(t,e=i.now){this.SchedulerAction=t,this.now=e;}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e);}}return i.now=()=>Date.now(),i;})();var Em=class i extends jw{constructor(r,t=jw.now){super(r,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0;}schedule(r,t=0,e){return i.delegate&&i.delegate!==this?i.delegate.schedule(r,t,e):super.schedule(r,t,e);}flush(r){let{actions:t}=this;if(this.active){t.push(r);return;}let e;this.active=!0;do if(e=r.execute(r.state,r.delay))break;while(r=t.shift());if(this.active=!1,e){for(;r=t.shift();)r.unsubscribe();throw e;}}};var N1=class extends Em{};var qK=new N1(R1),H4=qK;var ps=new ct(i=>i.complete());function ed(i){return i?YK(i):ps;}function YK(i){return new ct(r=>i.schedule(()=>r.complete()));}function ms(i){return i&&typeof i.schedule=="function";}var k1=i=>r=>{for(let t=0,e=i.length;t<e&&!r.closed;t++)r.next(i[t]);r.complete();};function Tm(i,r){return new ct(t=>{let e=new ht(),n=0;return e.add(r.schedule(function(){if(n===i.length){t.complete();return;}t.next(i[n++]),t.closed||e.add(this.schedule());})),e;});}function Im(i,r){return r?Tm(i,r):new ct(k1(i));}function ge(...i){let r=i[i.length-1];return ms(r)?(i.pop(),Tm(i,r)):Im(i);}function li(i,r){return r?new ct(t=>r.schedule(XK,0,{error:i,subscriber:t})):new ct(t=>t.error(i));}function XK({error:i,subscriber:r}){r.error(i);}var qs=class i{constructor(r,t,e){this.kind=r,this.value=t,this.error=e,this.hasValue=r==="N";}observe(r){switch(this.kind){case"N":return r.next&&r.next(this.value);case"E":return r.error&&r.error(this.error);case"C":return r.complete&&r.complete();}}do(r,t,e){switch(this.kind){case"N":return r&&r(this.value);case"E":return t&&t(this.error);case"C":return e&&e();}}accept(r,t,e){return r&&typeof r.next=="function"?this.observe(r):this.do(r,t,e);}toObservable(){switch(this.kind){case"N":return ge(this.value);case"E":return li(this.error);case"C":return ed();}throw new Error("unexpected notification kind value");}static createNext(r){return typeof r<"u"?new i("N",r):i.undefinedValueNotification;}static createError(r){return new i("E",void 0,r);}static createComplete(){return i.completeNotification;}};qs.completeNotification=new qs("C");qs.undefinedValueNotification=new qs("N",void 0);var $1=class i extends It{constructor(r,t,e=0){super(r),this.scheduler=t,this.delay=e;}static dispatch(r){let{notification:t,destination:e}=r;t.observe(e),this.unsubscribe();}scheduleMessage(r){this.destination.add(this.scheduler.schedule(i.dispatch,this.delay,new Uw(r,this.destination)));}_next(r){this.scheduleMessage(qs.createNext(r));}_error(r){this.scheduleMessage(qs.createError(r)),this.unsubscribe();}_complete(){this.scheduleMessage(qs.createComplete()),this.unsubscribe();}},Uw=class{constructor(r,t){this.notification=r,this.destination=t;}};var Wu=class extends xe{constructor(r=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,e){super(),this.scheduler=e,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow;}nextInfiniteTimeWindow(r){if(!this.isStopped){let t=this._events;t.push(r),t.length>this._bufferSize&&t.shift();}super.next(r);}nextTimeWindow(r){this.isStopped||(this._events.push(new Ww(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r);}_subscribe(r){let t=this._infiniteTimeWindow,e=t?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,o=e.length,a;if(this.closed)throw new Hs();if(this.isStopped||this.hasError?a=ht.EMPTY:(this.observers.push(r),a=new bm(this,r)),n&&r.add(r=new $1(r,n)),t)for(let s=0;s<o&&!r.closed;s++)r.next(e[s]);else for(let s=0;s<o&&!r.closed;s++)r.next(e[s].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a;}_getNow(){return(this.scheduler||H4).now();}_trimBufferThenGetEvents(){let r=this._getNow(),t=this._bufferSize,e=this._windowTime,n=this._events,o=n.length,a=0;for(;a<o&&!(r-n[a].time<e);)a++;return o>t&&(a=Math.max(a,o-t)),a>0&&n.splice(0,a),n;}},Ww=class{constructor(r,t){this.time=r,this.value=t;}};var KK=new Em(Sm),xm=KK;function nc(){}function L1(i){return!!i&&(i instanceof ct||typeof i.lift=="function"&&typeof i.subscribe=="function");}var QK=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this;}return i.prototype=Object.create(Error.prototype),i;})(),F1=QK;var ZK=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this;}return i.prototype=Object.create(Error.prototype),i;})(),rc=ZK;function me(i,r){return function(e){if(typeof i!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new Bw(i,r));};}var Bw=class{constructor(r,t){this.project=r,this.thisArg=t;}call(r,t){return t.subscribe(new Hw(r,this.project,this.thisArg));}},Hw=class extends It{constructor(r,t,e){super(r),this.project=t,this.count=0,this.thisArg=e||this;}_next(r){let t;try{t=this.project.call(this.thisArg,r,this.count++);}catch(e){this.destination.error(e);return;}this.destination.next(t);}};var V1=class extends It{notifyNext(r,t,e,n,o){this.destination.next(t);}notifyError(r,t){this.destination.error(r);}notifyComplete(r){this.destination.complete();}};var z1=class extends It{constructor(r,t,e){super(),this.parent=r,this.outerValue=t,this.outerIndex=e,this.index=0;}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this);}_error(r){this.parent.notifyError(r,this),this.unsubscribe();}_complete(){this.parent.notifyComplete(this),this.unsubscribe();}};var q4=i=>r=>(i.then(t=>{r.closed||(r.next(t),r.complete());},t=>r.error(t)).then(null,tc),r);function JK(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator;}var td=JK();var Y4=i=>r=>{let t=i[td]();do{let e;try{e=t.next();}catch(n){return r.error(n),r;}if(e.done){r.complete();break;}if(r.next(e.value),r.closed)break;}while(!0);return typeof t.return=="function"&&r.add(()=>{t.return&&t.return();}),r;};var X4=i=>r=>{let t=i[Bs]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(r);};var G1=i=>i&&typeof i.length=="number"&&typeof i!="function";function j1(i){return!!i&&typeof i.subscribe!="function"&&typeof i.then=="function";}var Am=i=>{if(i&&typeof i[Bs]=="function")return X4(i);if(G1(i))return k1(i);if(j1(i))return q4(i);if(i&&typeof i[td]=="function")return Y4(i);{let t=`You provided ${ym(i)?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t);}};function K4(i,r,t,e,n=new z1(i,t,e)){if(!n.closed)return r instanceof ct?r.subscribe(n):Am(r)(n);}var Q4={};function _s(...i){let r,t;return ms(i[i.length-1])&&(t=i.pop()),typeof i[i.length-1]=="function"&&(r=i.pop()),i.length===1&&ic(i[0])&&(i=i[0]),Im(i,t).lift(new qw(r));}var qw=class{constructor(r){this.resultSelector=r;}call(r,t){return t.subscribe(new Yw(r,this.resultSelector));}},Yw=class extends V1{constructor(r,t){super(r),this.resultSelector=t,this.active=0,this.values=[],this.observables=[];}_next(r){this.values.push(Q4),this.observables.push(r);}_complete(){let r=this.observables,t=r.length;if(t===0)this.destination.complete();else{this.active=t,this.toRespond=t;for(let e=0;e<t;e++){let n=r[e];this.add(K4(this,n,void 0,e));}}}notifyComplete(r){(this.active-=1)===0&&this.destination.complete();}notifyNext(r,t,e){let n=this.values,o=n[e],a=this.toRespond?o===Q4?--this.toRespond:this.toRespond:0;n[e]=t,a===0&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()));}_tryResultSelector(r){let t;try{t=this.resultSelector.apply(this,r);}catch(e){this.destination.error(e);return;}this.destination.next(t);}};function Z4(i,r){return new ct(t=>{let e=new ht();return e.add(r.schedule(()=>{let n=i[Bs]();e.add(n.subscribe({next(o){e.add(r.schedule(()=>t.next(o)));},error(o){e.add(r.schedule(()=>t.error(o)));},complete(){e.add(r.schedule(()=>t.complete()));}}));})),e;});}function J4(i,r){return new ct(t=>{let e=new ht();return e.add(r.schedule(()=>i.then(n=>{e.add(r.schedule(()=>{t.next(n),e.add(r.schedule(()=>t.complete()));}));},n=>{e.add(r.schedule(()=>t.error(n)));}))),e;});}function e8(i,r){if(!i)throw new Error("Iterable cannot be null");return new ct(t=>{let e=new ht(),n;return e.add(()=>{n&&typeof n.return=="function"&&n.return();}),e.add(r.schedule(()=>{n=i[td](),e.add(r.schedule(function(){if(t.closed)return;let o,a;try{let s=n.next();o=s.value,a=s.done;}catch(s){t.error(s);return;}a?t.complete():(t.next(o),this.schedule());}));})),e;});}function t8(i){return i&&typeof i[Bs]=="function";}function i8(i){return i&&typeof i[td]=="function";}function n8(i,r){if(i!=null){if(t8(i))return Z4(i,r);if(j1(i))return J4(i,r);if(G1(i))return Tm(i,r);if(i8(i)||typeof i=="string")return e8(i,r);}throw new TypeError((i!==null&&typeof i||i)+" is not observable");}function Wi(i,r){return r?n8(i,r):i instanceof ct?i:new ct(Am(i));}var $a=class extends It{constructor(r){super(),this.parent=r;}_next(r){this.parent.notifyNext(r);}_error(r){this.parent.notifyError(r),this.unsubscribe();}_complete(){this.parent.notifyComplete(),this.unsubscribe();}};var La=class extends It{notifyNext(r){this.destination.next(r);}notifyError(r){this.destination.error(r);}notifyComplete(){this.destination.complete();}};function Ys(i,r){if(r.closed)return;if(i instanceof ct)return i.subscribe(r);let t;try{t=Am(i)(r);}catch(e){r.error(e);}return t;}function Un(i,r,t=Number.POSITIVE_INFINITY){return typeof r=="function"?e=>e.pipe(Un((n,o)=>Wi(i(n,o)).pipe(me((a,s)=>r(n,a,o,s))),t)):(typeof r=="number"&&(t=r),e=>e.lift(new Xw(i,t)));}var Xw=class{constructor(r,t=Number.POSITIVE_INFINITY){this.project=r,this.concurrent=t;}call(r,t){return t.subscribe(new Kw(r,this.project,this.concurrent));}},Kw=class extends La{constructor(r,t,e=Number.POSITIVE_INFINITY){super(r),this.project=t,this.concurrent=e,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0;}_next(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r);}_tryNext(r){let t,e=this.index++;try{t=this.project(r,e);}catch(n){this.destination.error(n);return;}this.active++,this._innerSub(t);}_innerSub(r){let t=new $a(this),e=this.destination;e.add(t);let n=Ys(r,t);n!==t&&e.add(n);}_complete(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe();}notifyNext(r){this.destination.next(r);}notifyComplete(){let r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete();}},Bu=Un;function Xs(i=Number.POSITIVE_INFINITY){return Un(Zc,i);}function r8(){return Xs(1);}function id(...i){return r8()(ge(...i));}function fs(i){return new ct(r=>{let t;try{t=i();}catch(n){r.error(n);return;}return(t?Wi(t):ed()).subscribe(r);});}function Mi(...i){if(i.length===1){let r=i[0];if(ic(r))return U1(r,null);if(ym(r)&&Object.getPrototypeOf(r)===Object.prototype){let t=Object.keys(r);return U1(t.map(e=>r[e]),t);}}if(typeof i[i.length-1]=="function"){let r=i.pop();return i=i.length===1&&ic(i[0])?i[0]:i,U1(i,null).pipe(me(t=>r(...t)));}return U1(i,null);}function U1(i,r){return new ct(t=>{let e=i.length;if(e===0){t.complete();return;}let n=new Array(e),o=0,a=0;for(let s=0;s<e;s++){let l=Wi(i[s]),_=!1;t.add(l.subscribe({next:f=>{_||(_=!0,a++),n[s]=f;},error:f=>t.error(f),complete:()=>{o++,(o===e||!_)&&(a===e&&t.next(r?r.reduce((f,g,S)=>(f[g]=n[S],f),{}):n),t.complete());}}));}});}function Qw(i){return!ic(i)&&i-parseFloat(i)+1>=0;}function no(...i){let r=Number.POSITIVE_INFINITY,t=null,e=i[i.length-1];return ms(e)?(t=i.pop(),i.length>1&&typeof i[i.length-1]=="number"&&(r=i.pop())):typeof e=="number"&&(r=i.pop()),t===null&&i.length===1&&i[0]instanceof ct?i[0]:Xs(r)(Im(i,t));}function Zt(i,r){return function(e){return e.lift(new Zw(i,r));};}var Zw=class{constructor(r,t){this.predicate=r,this.thisArg=t;}call(r,t){return t.subscribe(new Jw(r,this.predicate,this.thisArg));}},Jw=class extends It{constructor(r,t,e){super(r),this.predicate=t,this.thisArg=e,this.count=0;}_next(r){let t;try{t=this.predicate.call(this.thisArg,r,this.count++);}catch(e){this.destination.error(e);return;}t&&this.destination.next(r);}};function wm(i=0,r,t){let e=-1;return Qw(r)?e=Number(r)<1&&1||Number(r):ms(r)&&(t=r),ms(t)||(t=xm),new ct(n=>{let o=Qw(i)?i:+i-t.now();return t.schedule(eQ,o,{index:0,period:e,subscriber:n});});}function eQ(i){let{index:r,period:t,subscriber:e}=i;if(e.next(r),!e.closed){if(t===-1)return e.complete();i.index=r+1,this.schedule(i,t);}}function o8(i){let r=kt(null);try{return i();}finally{kt(r);}}var Y1="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",fe=class extends Error{code;constructor(r,t){super(Ku(r,t)),this.code=r;}};function tQ(i){return`NG0${Math.abs(i)}`;}function Ku(i,r){return`${tQ(i)}${r?": "+r:""}`;}var Zn=globalThis;function gn(i){for(let r in i)if(i[r]===gn)return r;throw Error("");}function c8(i,r){for(let t in r)r.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=r[t]);}function Yo(i){if(typeof i=="string")return i;if(Array.isArray(i))return`[${i.map(Yo).join(", ")}]`;if(i==null)return""+i;let r=i.overriddenName||i.name;if(r)return`${r}`;let t=i.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e>=0?t.slice(0,e):t;}function X1(i,r){return i?r?`${i} ${r}`:i:r||"";}var iQ=gn({__forward_ref__:gn});function tn(i){return i.__forward_ref__=tn,i.toString=function(){return Yo(this());},i;}function pr(i){return uD(i)?i():i;}function uD(i){return typeof i=="function"&&i.hasOwnProperty(iQ)&&i.__forward_ref__===tn;}function d8(i,r,t){i!=r&&pD(t,i,r,"==");}function pD(i,r,t,e){throw new Error(`ASSERTION ERROR: ${i}`+(e==null?"":` [Expected=> ${t} ${e} ${r} <=Actual]`));}function Q(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0};}function Be(i){return{providers:i.providers||[],imports:i.imports||[]};}function tg(i){return nQ(i,K1);}function mD(i){return tg(i)!==null;}function nQ(i,r){return i.hasOwnProperty(r)&&i[r]||null;}function rQ(i){let r=i?.[K1]??null;return r||null;}function tD(i){return i&&i.hasOwnProperty(B1)?i[B1]:null;}var K1=gn({ɵprov:gn}),B1=gn({ɵinj:gn}),se=class{_desc;ngMetadataName="InjectionToken";ɵprov;constructor(r,t){this._desc=r,this.ɵprov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.ɵprov=Q({token:this,providedIn:t.providedIn||"root",factory:t.factory}));}get multi(){return this;}toString(){return`InjectionToken ${this._desc}`;}};function _D(i){return i&&!!i.ɵproviders;}var fD=gn({ɵcmp:gn}),hD=gn({ɵdir:gn}),gD=gn({ɵpipe:gn}),vD=gn({ɵmod:gn}),Zh=gn({ɵfac:gn}),Qu=gn({__NG_ELEMENT_ID__:gn}),a8=gn({__NG_ENV_ID__:gn});function ga(i){return typeof i=="string"?i:i==null?"":String(i);}function u8(i){return typeof i=="function"?i.name||i.toString():typeof i=="object"&&i!=null&&typeof i.type=="function"?i.type.name||i.type.toString():ga(i);}function CD(i,r){throw new fe(-200,i);}function Q1(i,r){throw new fe(-201,!1);}var iD;function p8(){return iD;}function Ro(i){let r=iD;return iD=i,r;}function yD(i,r,t){let e=tg(i);if(e&&e.providedIn=="root")return e.value===void 0?e.value=e.factory():e.value;if(t&8)return null;if(r!==void 0)return r;Q1(i,"Injector");}var oQ={},Hu=oQ,nD="__NG_DI_FLAG__",rD=class{injector;constructor(r){this.injector=r;}retrieve(r,t){let e=qu(t)||0;try{return this.injector.get(r,e&8?null:Hu,e);}catch(n){if(hm(n))return n;throw n;}}},H1="ngTempTokenPath",aQ="ngTokenPath",sQ=/\n/gm,lQ="\u0275",s8="__source";function cQ(i,r=0){let t=Dw();if(t===void 0)throw new fe(-203,!1);if(t===null)return yD(i,void 0,r);{let e=dQ(r),n=t.retrieve(i,e);if(hm(n)){if(e.optional)return null;throw n;}return n;}}function K(i,r=0){return(p8()||cQ)(pr(i),r);}function N(i,r){return K(i,qu(r));}function qu(i){return typeof i>"u"||typeof i=="number"?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4);}function dQ(i){return{optional:!!(i&8),host:!!(i&1),self:!!(i&2),skipSelf:!!(i&4)};}function oD(i){let r=[];for(let t=0;t<i.length;t++){let e=pr(i[t]);if(Array.isArray(e)){if(e.length===0)throw new fe(900,!1);let n,o=0;for(let a=0;a<e.length;a++){let s=e[a],l=uQ(s);typeof l=="number"?l===-1?n=s.token:o|=l:n=s;}r.push(K(n,o));}else r.push(K(e));}return r;}function bD(i,r){return i[nD]=r,i.prototype[nD]=r,i;}function uQ(i){return i[nD];}function pQ(i,r,t,e){let n=i[H1];throw r[s8]&&n.unshift(r[s8]),i.message=mQ(`
`+i.message,n,t,e),i[aQ]=n,i[H1]=null,i;}function mQ(i,r,t,e=null){i=i&&i.charAt(0)===`
`&&i.charAt(1)==lQ?i.slice(2):i;let n=Yo(r);if(Array.isArray(r))n=r.map(Yo).join(" -> ");else if(typeof r=="object"){let o=[];for(let a in r)if(r.hasOwnProperty(a)){let s=r[a];o.push(a+":"+(typeof s=="string"?JSON.stringify(s):Yo(s)));}n=`{${o.join(", ")}}`;}return`${t}${e?"("+e+")":""}[${n}]: ${i.replace(sQ,`
  `)}`;}function nd(i,r){let t=i.hasOwnProperty(Zh);return t?i[Zh]:null;}function m8(i,r,t){if(i.length!==r.length)return!1;for(let e=0;e<i.length;e++){let n=i[e],o=r[e];if(t&&(n=t(n),o=t(o)),o!==n)return!1;}return!0;}function _8(i){return i.flat(Number.POSITIVE_INFINITY);}function Z1(i,r){i.forEach(t=>Array.isArray(t)?Z1(t,r):r(t));}function SD(i,r,t){r>=i.length?i.push(t):i.splice(r,0,t);}function ig(i,r){return r>=i.length-1?i.pop():i.splice(r,1)[0];}function f8(i,r){let t=[];for(let e=0;e<i;e++)t.push(r);return t;}function h8(i,r,t,e){let n=i.length;if(n==r)i.push(t,e);else if(n===1)i.push(e,i[0]),i[0]=t;else{for(n--,i.push(i[n-1],i[n]);n>r;){let o=n-2;i[n]=i[o],n--;}i[r]=t,i[r+1]=e;}}function J1(i,r,t){let e=Mm(i,r);return e>=0?i[e|1]=t:(e=~e,h8(i,e,r,t)),e;}function eC(i,r){let t=Mm(i,r);if(t>=0)return i[t|1];}function Mm(i,r){return _Q(i,r,1);}function _Q(i,r,t){let e=0,n=i.length>>t;for(;n!==e;){let o=e+(n-e>>1),a=i[o<<t];if(r===a)return o<<t;a>r?n=o:e=o+1;}return~(n<<t);}var hs={},qr=[],ac=new se(""),ED=new se("",-1),TD=new se(""),Jh=class{get(r,t=Hu){if(t===Hu)throw new C1(`NullInjectorError: No provider for ${Yo(r)}!`);return t;}};function ID(i){return i[vD]||null;}function Ks(i){return i[fD]||null;}function tC(i){return i[hD]||null;}function g8(i){return i[gD]||null;}function Zu(i){return{ɵproviders:i};}function v8(...i){return{ɵproviders:xD(!0,i),ɵfromNgModule:!0};}function xD(i,...r){let t=[],e=new Set(),n,o=a=>{t.push(a);};return Z1(r,a=>{let s=a;q1(s,o,[],e)&&(n||=[],n.push(s));}),n!==void 0&&C8(n,o),t;}function C8(i,r){for(let t=0;t<i.length;t++){let{ngModule:e,providers:n}=i[t];AD(n,o=>{r(o,e);});}}function q1(i,r,t,e){if(i=pr(i),!i)return!1;let n=null,o=tD(i),a=!o&&Ks(i);if(!o&&!a){let l=i.ngModule;if(o=tD(l),o)n=l;else return!1;}else{if(a&&!a.standalone)return!1;n=i;}let s=e.has(n);if(a){if(s)return!1;if(e.add(n),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let _ of l)q1(_,r,t,e);}}else if(o){if(o.imports!=null&&!s){e.add(n);let _;try{Z1(o.imports,f=>{q1(f,r,t,e)&&(_||=[],_.push(f));});}finally{}_!==void 0&&C8(_,r);}if(!s){let _=nd(n)||(()=>new n());r({provide:n,useFactory:_,deps:qr},n),r({provide:TD,useValue:n,multi:!0},n),r({provide:ac,useValue:()=>K(n),multi:!0},n);}let l=o.providers;if(l!=null&&!s){let _=i;AD(l,f=>{r(f,_);});}}else return!1;return n!==i&&i.providers!==void 0;}function AD(i,r){for(let t of i)_D(t)&&(t=t.ɵproviders),Array.isArray(t)?AD(t,r):r(t);}var fQ=gn({provide:String,useValue:gn});function y8(i){return i!==null&&typeof i=="object"&&fQ in i;}function hQ(i){return!!(i&&i.useExisting);}function gQ(i){return!!(i&&i.useFactory);}function Yu(i){return typeof i=="function";}function b8(i){return!!i.useClass;}var ng=new se(""),W1={},l8={},eD;function Om(){return eD===void 0&&(eD=new Jh()),eD;}var Xi=class{},Xu=class extends Xi{parent;source;scopes;records=new Map();_ngOnDestroyHooks=new Set();_onDestroyHooks=[];get destroyed(){return this._destroyed;}_destroyed=!1;injectorDefTypes;constructor(r,t,e,n){super(),this.parent=t,this.source=e,this.scopes=n,sD(r,a=>this.processProvider(a)),this.records.set(ED,Dm(void 0,this)),n.has("environment")&&this.records.set(Xi,Dm(void 0,this));let o=this.records.get(ng);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(TD,qr,{self:!0}));}retrieve(r,t){let e=qu(t)||0;try{return this.get(r,Hu,e);}catch(n){if(hm(n))return n;throw n;}}destroy(){Qh(this),this._destroyed=!0;let r=kt(null);try{for(let e of this._ngOnDestroyHooks)e.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let e of t)e();}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),kt(r);}}onDestroy(r){return Qh(this),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r);}runInContext(r){Qh(this);let t=Jl(this),e=Ro(void 0),n;try{return r();}finally{Jl(t),Ro(e);}}get(r,t=Hu,e){if(Qh(this),r.hasOwnProperty(a8))return r[a8](this);let n=qu(e),o,a=Jl(this),s=Ro(void 0);try{if(!(n&4)){let _=this.records.get(r);if(_===void 0){let f=SQ(r)&&tg(r);f&&this.injectableDefInScope(f)?_=Dm(aD(r),W1):_=null,this.records.set(r,_);}if(_!=null)return this.hydrate(r,_);}let l=n&2?Om():this.parent;return t=n&8&&t===Hu?null:t,l.get(r,t);}catch(l){if(hm(l)){if((l[H1]=l[H1]||[]).unshift(Yo(r)),a)throw l;return pQ(l,r,"R3InjectorError",this.source);}else throw l;}finally{Ro(s),Jl(a);}}resolveInjectorInitializers(){let r=kt(null),t=Jl(this),e=Ro(void 0),n;try{let o=this.get(ac,qr,{self:!0});for(let a of o)a();}finally{Jl(t),Ro(e),kt(r);}}toString(){let r=[],t=this.records;for(let e of t.keys())r.push(Yo(e));return`R3Injector[${r.join(", ")}]`;}processProvider(r){r=pr(r);let t=Yu(r)?r:pr(r&&r.provide),e=CQ(r);if(!Yu(r)&&r.multi===!0){let n=this.records.get(t);n||(n=Dm(void 0,W1,!0),n.factory=()=>oD(n.multi),this.records.set(t,n)),t=r,n.multi.push(r);}this.records.set(t,e);}hydrate(r,t){let e=kt(null);try{return t.value===l8?CD(Yo(r)):t.value===W1&&(t.value=l8,t.value=t.factory()),typeof t.value=="object"&&t.value&&bQ(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value;}finally{kt(e);}}injectableDefInScope(r){if(!r.providedIn)return!1;let t=pr(r.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t);}removeOnDestroy(r){let t=this._onDestroyHooks.indexOf(r);t!==-1&&this._onDestroyHooks.splice(t,1);}};function aD(i){let r=tg(i),t=r!==null?r.factory:nd(i);if(t!==null)return t;if(i instanceof se)throw new fe(204,!1);if(i instanceof Function)return vQ(i);throw new fe(204,!1);}function vQ(i){if(i.length>0)throw new fe(204,!1);let t=rQ(i);return t!==null?()=>t.factory(i):()=>new i();}function CQ(i){if(y8(i))return Dm(void 0,i.useValue);{let r=wD(i);return Dm(r,W1);}}function wD(i,r,t){let e;if(Yu(i)){let n=pr(i);return nd(n)||aD(n);}else if(y8(i))e=()=>pr(i.useValue);else if(gQ(i))e=()=>i.useFactory(...oD(i.deps||[]));else if(hQ(i))e=()=>K(pr(i.useExisting));else{let n=pr(i&&(i.useClass||i.provide));if(yQ(i))e=()=>new n(...oD(i.deps));else return nd(n)||aD(n);}return e;}function Qh(i){if(i.destroyed)throw new fe(205,!1);}function Dm(i,r,t=!1){return{factory:i,value:r,multi:t?[]:void 0};}function yQ(i){return!!i.deps;}function bQ(i){return i!==null&&typeof i=="object"&&typeof i.ngOnDestroy=="function";}function SQ(i){return typeof i=="function"||typeof i=="object"&&i.ngMetadataName==="InjectionToken";}function sD(i,r){for(let t of i)Array.isArray(t)?sD(t,r):t&&_D(t)?sD(t.ɵproviders,r):r(t);}function ro(i,r){let t;i instanceof Xu?(Qh(i),t=i):t=new rD(i);let e,n=Jl(t),o=Ro(void 0);try{return r();}finally{Jl(n),Ro(o);}}function iC(){return p8()!==void 0||Dw()!=null;}function DD(i){if(!iC())throw new fe(-203,!1);}var gs=0,Rt=1,xt=2,mr=3,Va=4,oo=5,Ju=6,Pm=7,Wn=8,ep=9,Qs=10,ui=11,Rm=12,MD=13,tp=14,ao=15,od=16,ip=17,Zs=18,rg=19,OD=20,oc=21,nC=22,sc=23,va=24,np=25,Ki=26,S8=1,PD=6,ad=7,og=8,rp=9,Er=10;function Js(i){return Array.isArray(i)&&typeof i[S8]=="object";}function vs(i){return Array.isArray(i)&&i[S8]===!0;}function rC(i){return(i.flags&4)!==0;}function sd(i){return i.componentOffset>-1;}function ag(i){return(i.flags&1)===1;}function Cs(i){return!!i.template;}function Nm(i){return(i[xt]&512)!==0;}function op(i){return(i[xt]&256)===256;}var RD="svg",E8="math";function Xo(i){for(;Array.isArray(i);)i=i[gs];return i;}function sg(i,r){return Xo(r[i]);}function ys(i,r){return Xo(r[i.index]);}function lg(i,r){return i.data[r];}function km(i,r){return i[r];}function ND(i,r,t,e){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),r[t]=e;}function za(i,r){let t=r[i];return Js(t)?t:t[gs];}function T8(i){return(i[xt]&4)===4;}function oC(i){return(i[xt]&128)===128;}function I8(i){return vs(i[mr]);}function Ca(i,r){return r==null?null:i[r];}function kD(i){i[ip]=0;}function $D(i){i[xt]&1024||(i[xt]|=1024,oC(i)&&ld(i));}function x8(i,r){for(;i>0;)r=r[tp],i--;return r;}function cg(i){return!!(i[xt]&9216||i[va]?.dirty);}function aC(i){i[Qs].changeDetectionScheduler?.notify(8),i[xt]&64&&(i[xt]|=1024),cg(i)&&ld(i);}function ld(i){i[Qs].changeDetectionScheduler?.notify(0);let r=rd(i);for(;r!==null&&!(r[xt]&8192||(r[xt]|=8192,!oC(r)));)r=rd(r);}function LD(i,r){if(op(i))throw new fe(911,!1);i[oc]===null&&(i[oc]=[]),i[oc].push(r);}function A8(i,r){if(i[oc]===null)return;let t=i[oc].indexOf(r);t!==-1&&i[oc].splice(t,1);}function rd(i){let r=i[mr];return vs(r)?r[mr]:r;}function FD(i){return i[Pm]??=[];}function VD(i){return i.cleanup??=[];}function w8(i,r,t,e){let n=FD(r);n.push(t),i.firstCreatePass&&VD(i).push(e,n.length-1);}var Gt={lFrame:G8(null),bindingsEnabled:!0,skipHydrationRootTNode:null},dg=function(i){return i[i.Off=0]="Off",i[i.Exhaustive=1]="Exhaustive",i[i.OnlyDirtyViews=2]="OnlyDirtyViews",i;}(dg||{}),EQ=0,lD=!1;function D8(){return Gt.lFrame.elementDepthCount;}function M8(){Gt.lFrame.elementDepthCount++;}function O8(){Gt.lFrame.elementDepthCount--;}function sC(){return Gt.bindingsEnabled;}function zD(){return Gt.skipHydrationRootTNode!==null;}function P8(i){return Gt.skipHydrationRootTNode===i;}function R8(){Gt.skipHydrationRootTNode=null;}function ut(){return Gt.lFrame.lView;}function ki(){return Gt.lFrame.tView;}function C(i){return Gt.lFrame.contextLView=i,i[Wn];}function y(i){return Gt.lFrame.contextLView=null,i;}function _r(){let i=GD();for(;i!==null&&i.type===64;)i=i.parent;return i;}function GD(){return Gt.lFrame.currentTNode;}function $m(){let i=Gt.lFrame,r=i.currentTNode;return i.isParent?r:r.parent;}function bs(i,r){let t=Gt.lFrame;t.currentTNode=i,t.isParent=r;}function lC(){return Gt.lFrame.isParent;}function cC(){Gt.lFrame.isParent=!1;}function N8(){return Gt.lFrame.contextLView;}function jD(i){pD("Must never be called in production mode"),EQ=i;}function UD(){return lD;}function Lm(i){let r=lD;return lD=i,r;}function Ss(){let i=Gt.lFrame,r=i.bindingRootIndex;return r===-1&&(r=i.bindingRootIndex=i.tView.bindingStartIndex),r;}function dC(){return Gt.lFrame.bindingIndex;}function k8(i){return Gt.lFrame.bindingIndex=i;}function el(){return Gt.lFrame.bindingIndex++;}function ug(i){let r=Gt.lFrame,t=r.bindingIndex;return r.bindingIndex=r.bindingIndex+i,t;}function $8(){return Gt.lFrame.inI18n;}function WD(i){Gt.lFrame.inI18n=i;}function L8(i,r){let t=Gt.lFrame;t.bindingIndex=t.bindingRootIndex=i,uC(r);}function F8(){return Gt.lFrame.currentDirectiveIndex;}function uC(i){Gt.lFrame.currentDirectiveIndex=i;}function V8(i){let r=Gt.lFrame.currentDirectiveIndex;return r===-1?null:i[r];}function pC(){return Gt.lFrame.currentQueryIndex;}function pg(i){Gt.lFrame.currentQueryIndex=i;}function TQ(i){let r=i[Rt];return r.type===2?r.declTNode:r.type===1?i[oo]:null;}function BD(i,r,t){if(t&4){let n=r,o=i;for(;n=n.parent,n===null&&!(t&1);)if(n=TQ(o),n===null||(o=o[tp],n.type&10))break;if(n===null)return!1;r=n,i=o;}let e=Gt.lFrame=z8();return e.currentTNode=r,e.lView=i,!0;}function mC(i){let r=z8(),t=i[Rt];Gt.lFrame=r,r.currentTNode=t.firstChild,r.lView=i,r.tView=t,r.contextLView=i,r.bindingIndex=t.bindingStartIndex,r.inI18n=!1;}function z8(){let i=Gt.lFrame,r=i===null?null:i.child;return r===null?G8(i):r;}function G8(i){let r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return i!==null&&(i.child=r),r;}function j8(){let i=Gt.lFrame;return Gt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i;}var HD=j8;function _C(){let i=j8();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0;}function U8(i){return(Gt.lFrame.contextLView=x8(i,Gt.lFrame.contextLView))[Wn];}function Es(){return Gt.lFrame.selectedIndex;}function cd(i){Gt.lFrame.selectedIndex=i;}function mg(){let i=Gt.lFrame;return lg(i.tView,i.selectedIndex);}function so(){Gt.lFrame.currentNamespace=RD;}function lc(){IQ();}function IQ(){Gt.lFrame.currentNamespace=null;}function W8(){return Gt.lFrame.currentNamespace;}var B8=!0;function Fm(){return B8;}function Vm(i){B8=i;}function cD(i,r=null,t=null,e){let n=qD(i,r,t,e);return n.resolveInjectorInitializers(),n;}function qD(i,r=null,t=null,e,n=new Set()){let o=[t||qr,v8(i)];return e=e||(typeof i=="object"?void 0:Yo(i)),new Xu(o,r||Om(),e||null,n);}var tt=class i{static THROW_IF_NOT_FOUND=Hu;static NULL=new Jh();static create(r,t){if(Array.isArray(r))return cD({name:""},t,r,"");{let e=r.name??"";return cD({name:e},r.parent,r.providers,e);}}static ɵprov=Q({token:i,providedIn:"any",factory:()=>K(ED)});static __NG_ELEMENT_ID__=-1;},bt=new se(""),Ga=(()=>{class i{static __NG_ELEMENT_ID__=xQ;static __NG_ENV_ID__=t=>t;}return i;})(),eg=class extends Ga{_lView;constructor(r){super(),this._lView=r;}get destroyed(){return op(this._lView);}onDestroy(r){let t=this._lView;return LD(t,r),()=>A8(t,r);}};function xQ(){return new eg(ut());}var Yr=class{_console=console;handleError(r){this._console.error("ERROR",r);}},No=new se("",{providedIn:"root",factory:()=>{let i=N(Xi),r;return t=>{r??=i.get(Yr),r.handleError(t);};}}),H8={provide:ac,useValue:()=>void N(Yr),multi:!0};function dd(i){return typeof i=="function"&&i[dr]!==void 0;}function $i(i,r){let[t,e,n]=Nw(i,r?.equal),o=t,a=o[dr];return o.set=e,o.update=n,o.asReadonly=YD.bind(o),o;}function YD(){let i=this[dr];if(i.readonlyFn===void 0){let r=()=>this();r[dr]=i,i.readonlyFn=r;}return i.readonlyFn;}function XD(i){return dd(i)&&typeof i.set=="function";}var Fa=class{},_g=new se("",{providedIn:"root",factory:()=>!1});var KD=new se(""),QD=new se("");var ap=(()=>{class i{view;node;constructor(t,e){this.view=t,this.node=e;}static __NG_ELEMENT_ID__=AQ;}return i;})();function AQ(){return new ap(ut(),_r());}var cc=(()=>{class i{taskId=0;pendingTasks=new Set();destroyed=!1;pendingTask=new ur(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value;}get hasPendingTasksObservable(){return this.destroyed?new ct(t=>{t.next(!1),t.complete();}):this.pendingTask;}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t;}has(t){return this.pendingTasks.has(t);}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1);}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe();}static ɵprov=Q({token:i,providedIn:"root",factory:()=>new i()});}return i;})(),zm=(()=>{class i{internalPendingTasks=N(cc);scheduler=N(Fa);errorHandler=N(No);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t));};}run(t){let e=this.add();t().catch(this.errorHandler).finally(e);}static ɵprov=Q({token:i,providedIn:"root",factory:()=>new i()});}return i;})();function sp(...i){}var fg=(()=>{class i{static ɵprov=Q({token:i,providedIn:"root",factory:()=>new dD()});}return i;})(),dD=class{dirtyEffectCount=0;queues=new Map();add(r){this.enqueue(r),this.schedule(r);}schedule(r){r.dirty&&this.dirtyEffectCount++;}remove(r){let t=r.zone,e=this.queues.get(t);e.has(r)&&(e.delete(r),r.dirty&&this.dirtyEffectCount--);}enqueue(r){let t=r.zone;this.queues.has(t)||this.queues.set(t,new Set());let e=this.queues.get(t);e.has(r)||e.add(r);}flush(){for(;this.dirtyEffectCount>0;){let r=!1;for(let[t,e]of this.queues)t===null?r||=this.flushQueue(e):r||=t.run(()=>this.flushQueue(e));r||(this.dirtyEffectCount=0);}}flushQueue(r){let t=!1;for(let e of r)e.dirty&&(this.dirtyEffectCount--,t=!0,e.run());return t;}};function q8(i){return function(t){return t.lift(new ZD(i));};}var ZD=class{constructor(r){this.durationSelector=r;}call(r,t){return t.subscribe(new JD(r,this.durationSelector));}},JD=class extends La{constructor(r,t){super(r),this.durationSelector=t,this.hasValue=!1;}_next(r){if(this.value=r,this.hasValue=!0,!this.throttled){let t;try{let{durationSelector:n}=this;t=n(r);}catch(n){return this.destination.error(n);}let e=Ys(t,new $a(this));!e||e.closed?this.clearThrottle():this.add(this.throttled=e);}}clearThrottle(){let{value:r,hasValue:t,throttled:e}=this;e&&(this.remove(e),this.throttled=void 0,e.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(r));}notifyNext(){this.clearThrottle();}notifyComplete(){this.clearThrottle();}};function fC(i,r=xm){return q8(()=>wm(i,r));}function Jn(i){return function(t){let e=new eM(i),n=t.lift(e);return e.caught=n;};}var eM=class{constructor(r){this.selector=r;}call(r,t){return t.subscribe(new tM(r,this.selector,this.caught));}},tM=class extends La{constructor(r,t,e){super(r),this.selector=t,this.caught=e;}error(r){if(!this.isStopped){let t;try{t=this.selector(r,this.caught);}catch(o){super.error(o);return;}this._unsubscribeAndRecycle();let e=new $a(this);this.add(e);let n=Ys(t,e);n!==e&&this.add(n);}}};function tl(i,r){return Un(i,r,1);}function hg(i,r=xm){return t=>t.lift(new iM(i,r));}var iM=class{constructor(r,t){this.dueTime=r,this.scheduler=t;}call(r,t){return t.subscribe(new nM(r,this.dueTime,this.scheduler));}},nM=class extends It{constructor(r,t,e){super(r),this.dueTime=t,this.scheduler=e,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1;}_next(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(wQ,this.dueTime,this));}_complete(){this.debouncedNext(),this.destination.complete();}debouncedNext(){if(this.clearDebounce(),this.hasValue){let{lastValue:r}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(r);}}clearDebounce(){let r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null);}};function wQ(i){i.debouncedNext();}function ud(i=null){return r=>r.lift(new rM(i));}var rM=class{constructor(r){this.defaultValue=r;}call(r,t){return t.subscribe(new oM(r,this.defaultValue));}},oM=class extends It{constructor(r,t){super(r),this.defaultValue=t,this.isEmpty=!0;}_next(r){this.isEmpty=!1,this.destination.next(r);}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete();}};function hC(i,r){return t=>t.lift(new aM(i,r));}var aM=class{constructor(r,t){this.compare=r,this.keySelector=t;}call(r,t){return t.subscribe(new sM(r,this.compare,this.keySelector));}},sM=class extends It{constructor(r,t,e){super(r),this.keySelector=e,this.hasKey=!1,typeof t=="function"&&(this.compare=t);}compare(r,t){return r===t;}_next(r){let t;try{let{keySelector:n}=this;t=n?n(r):r;}catch(n){return this.destination.error(n);}let e=!1;if(this.hasKey)try{let{compare:n}=this;e=n(this.key,t);}catch(n){return this.destination.error(n);}else this.hasKey=!0;e||(this.key=t,this.destination.next(r));}};function gC(i=DQ){return r=>r.lift(new lM(i));}var lM=class{constructor(r){this.errorFactory=r;}call(r,t){return t.subscribe(new cM(r,this.errorFactory));}},cM=class extends It{constructor(r,t){super(r),this.errorFactory=t,this.hasValue=!1;}_next(r){this.hasValue=!0,this.destination.next(r);}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory();}catch(t){r=t;}this.destination.error(r);}}};function DQ(){return new rc();}function vn(i){return r=>i===0?ed():r.lift(new dM(i));}var dM=class{constructor(r){if(this.total=r,this.total<0)throw new F1();}call(r,t){return t.subscribe(new uM(r,this.total));}},uM=class extends It{constructor(r,t){super(r),this.total=t,this.count=0;}_next(r){let t=this.total,e=++this.count;e<=t&&(this.destination.next(r),e===t&&(this.destination.complete(),this.unsubscribe()));}};function il(i){return r=>r.lift(new pM(i));}var pM=class{constructor(r){this.callback=r;}call(r,t){return t.subscribe(new mM(r,this.callback));}},mM=class extends It{constructor(r,t){super(r),this.add(new ht(t));}};function Ts(i,r){let t=arguments.length>=2;return e=>e.pipe(i?Zt((n,o)=>i(n,o,e)):Zc,vn(1),t?ud(r):gC(()=>new rc()));}function Gm(i){return function(t){return i===0?ed():t.lift(new _M(i));};}var _M=class{constructor(r){if(this.total=r,this.total<0)throw new F1();}call(r,t){return t.subscribe(new fM(r,this.total));}},fM=class extends It{constructor(r,t){super(r),this.total=t,this.ring=new Array(),this.count=0;}_next(r){let t=this.ring,e=this.total,n=this.count++;if(t.length<e)t.push(r);else{let o=n%e;t[o]=r;}}_complete(){let r=this.destination,t=this.count;if(t>0){let e=this.count>=this.total?this.total:this.count,n=this.ring;for(let o=0;o<e;o++){let a=t++%e;r.next(n[a]);}}r.complete();}};function hM(i,r){let t=arguments.length>=2;return e=>e.pipe(i?Zt((n,o)=>i(n,o,e)):Zc,Gm(1),t?ud(r):gC(()=>new rc()));}function CM(i,r){let t=!1;return arguments.length>=2&&(t=!0),function(n){return n.lift(new gM(i,r,t));};}var gM=class{constructor(r,t,e=!1){this.accumulator=r,this.seed=t,this.hasSeed=e;}call(r,t){return t.subscribe(new vM(r,this.accumulator,this.seed,this.hasSeed));}},vM=class extends It{constructor(r,t,e,n){super(r),this.accumulator=t,this._seed=e,this.hasSeed=n,this.index=0;}get seed(){return this._seed;}set seed(r){this.hasSeed=!0,this._seed=r;}_next(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r);}_tryNext(r){let t=this.index++,e;try{e=this.accumulator(this.seed,r,t);}catch(n){this.destination.error(n);}this.seed=e,this.destination.next(e);}};function Y8(i,r){return function(e){let n;if(typeof i=="function"?n=i:n=function(){return i;},typeof r=="function")return e.lift(new yM(n,r));let o=Object.create(e,B4);return o.source=e,o.subjectFactory=n,o;};}var yM=class{constructor(r,t){this.subjectFactory=r,this.selector=t;}call(r,t){let{selector:e}=this,n=this.subjectFactory(),o=e(n).subscribe(r);return o.add(t.subscribe(n)),o;}};function vC(){return i=>i.lift(new bM());}var bM=class{call(r,t){return t.subscribe(new SM(r));}},SM=class extends It{constructor(r){super(r),this.hasPrev=!1;}_next(r){let t;this.hasPrev?t=[this.prev,r]:this.hasPrev=!0,this.prev=r,t&&this.destination.next(t);}};function MQ(){return new xe();}function gg(){return i=>Jc()(Y8(MQ)(i));}function er(i,r,t){let e;return i&&typeof i=="object"?e=i:e={bufferSize:i,windowTime:r,refCount:!1,scheduler:t},n=>n.lift(OQ(e));}function OQ({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:t,scheduler:e}){let n,o=0,a,s=!1,l=!1;return function(f){o++;let g;!n||s?(s=!1,n=new Wu(i,r,e),g=n.subscribe(this),a=f.subscribe({next(S){n.next(S);},error(S){s=!0,n.error(S);},complete(){l=!0,a=void 0,n.complete();}}),l&&(a=void 0)):g=n.subscribe(this),this.add(()=>{o--,g.unsubscribe(),g=void 0,a&&!l&&t&&o===0&&(a.unsubscribe(),a=void 0,n=void 0);});};}function vg(i){return r=>r.lift(new EM(i));}var EM=class{constructor(r){this.total=r;}call(r,t){return t.subscribe(new TM(r,this.total));}},TM=class extends It{constructor(r,t){super(r),this.total=t,this.count=0;}_next(r){++this.count>this.total&&this.destination.next(r);}};function nn(...i){let r=i[i.length-1];return ms(r)?(i.pop(),t=>id(i,t,r)):t=>id(i,t);}function ot(i,r){return typeof r=="function"?t=>t.pipe(ot((e,n)=>Wi(i(e,n)).pipe(me((o,a)=>r(e,o,n,a))))):t=>t.lift(new IM(i));}var IM=class{constructor(r){this.project=r;}call(r,t){return t.subscribe(new xM(r,this.project));}},xM=class extends La{constructor(r,t){super(r),this.project=t,this.index=0;}_next(r){let t,e=this.index++;try{t=this.project(r,e);}catch(n){this.destination.error(n);return;}this._innerSub(t);}_innerSub(r){let t=this.innerSubscription;t&&t.unsubscribe();let e=new $a(this),n=this.destination;n.add(e),this.innerSubscription=Ys(r,e),this.innerSubscription!==e&&n.add(this.innerSubscription);}_complete(){let{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe();}_unsubscribe(){this.innerSubscription=void 0;}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete();}notifyNext(r){this.destination.next(r);}};function Bn(i){return r=>r.lift(new AM(i));}var AM=class{constructor(r){this.notifier=r;}call(r,t){let e=new wM(r),n=Ys(this.notifier,new $a(e));return n&&!e.seenValue?(e.add(n),t.subscribe(e)):e;}},wM=class extends La{constructor(r){super(r),this.seenValue=!1;}notifyNext(){this.seenValue=!0,this.complete();}notifyComplete(){}};function OM(i,r=!1){return t=>t.lift(new DM(i,r));}var DM=class{constructor(r,t){this.predicate=r,this.inclusive=t;}call(r,t){return t.subscribe(new MM(r,this.predicate,this.inclusive));}},MM=class extends It{constructor(r,t,e){super(r),this.predicate=t,this.inclusive=e,this.index=0;}_next(r){let t=this.destination,e;try{e=this.predicate(r,this.index++);}catch(n){t.error(n);return;}this.nextOrComplete(r,e);}nextOrComplete(r,t){let e=this.destination;t?e.next(r):(this.inclusive&&e.next(r),e.complete());}};function rn(i,r,t){return function(n){return n.lift(new PM(i,r,t));};}var PM=class{constructor(r,t,e){this.nextOrObserver=r,this.error=t,this.complete=e;}call(r,t){return t.subscribe(new RM(r,this.nextOrObserver,this.error,this.complete));}},RM=class extends It{constructor(r,t,e,n){super(r),this._tapNext=nc,this._tapError=nc,this._tapComplete=nc,this._tapError=e||nc,this._tapComplete=n||nc,Gu(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||nc,this._tapError=t.error||nc,this._tapComplete=t.complete||nc);}_next(r){try{this._tapNext.call(this._context,r);}catch(t){this.destination.error(t);return;}this.destination.next(r);}_error(r){try{this._tapError.call(this._context,r);}catch(t){this.destination.error(t);return;}this.destination.error(r);}_complete(){try{this._tapComplete.call(this._context);}catch(r){this.destination.error(r);return;}return this.destination.complete();}};function Ym(i){return{toString:i}.toString();}var CC="__parameters__";function LQ(i){return function(...t){if(i){let e=i(...t);for(let n in e)this[n]=e[n];}};}function M$(i,r,t){return Ym(()=>{let e=LQ(r);function n(...o){if(this instanceof n)return e.apply(this,o),this;let a=new n(...o);return s.annotation=a,s;function s(l,_,f){let g=l.hasOwnProperty(CC)?l[CC]:Object.defineProperty(l,CC,{value:[]})[CC];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(a),l;}}return n.prototype.ngMetadataName=i,n.annotationCls=n,n;});}var fd=bD(M$("Optional"),8);var Xm=bD(M$("SkipSelf"),4);function O$(i){let r=Zn.ng;if(r&&r.ɵcompilerFacade)return r.ɵcompilerFacade;throw new Error("JIT compiler unavailable");}function FQ(i){return typeof i=="function";}var MC=class{previousValue;currentValue;firstChange;constructor(r,t,e){this.previousValue=r,this.currentValue=t,this.firstChange=e;}isFirstChange(){return this.firstChange;}};function P$(i,r,t,e){r!==null?r.applyValueToInputSignal(r,e):i[t]=e;}var Oi=(()=>{let i=()=>R$;return i.ngInherit=!0,i;})();function R$(i){return i.type.prototype.ngOnChanges&&(i.setInput=zQ),VQ;}function VQ(){let i=k$(this),r=i?.current;if(r){let t=i.previous;if(t===hs)i.previous=r;else for(let e in r)t[e]=r[e];i.current=null,this.ngOnChanges(r);}}function zQ(i,r,t,e,n){let o=this.declaredInputs[e],a=k$(i)||GQ(i,{previous:hs,current:null}),s=a.current||(a.current={}),l=a.previous,_=l[o];s[o]=new MC(_&&_.currentValue,t,l===hs),P$(i,r,n,t);}var N$="__ngSimpleChanges__";function k$(i){return i[N$]||null;}function GQ(i,r){return i[N$]=r;}var X8=[];var Qi=function(i,r=null,t){for(let e=0;e<X8.length;e++){let n=X8[e];n(i,r,t);}};function jQ(i,r,t){let{ngOnChanges:e,ngOnInit:n,ngDoCheck:o}=r.type.prototype;if(e){let a=R$(r);(t.preOrderHooks??=[]).push(i,a),(t.preOrderCheckHooks??=[]).push(i,a);}n&&(t.preOrderHooks??=[]).push(0-i,n),o&&((t.preOrderHooks??=[]).push(i,o),(t.preOrderCheckHooks??=[]).push(i,o));}function FO(i,r){for(let t=r.directiveStart,e=r.directiveEnd;t<e;t++){let o=i.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:_,ngOnDestroy:f}=o;a&&(i.contentHooks??=[]).push(-t,a),s&&((i.contentHooks??=[]).push(t,s),(i.contentCheckHooks??=[]).push(t,s)),l&&(i.viewHooks??=[]).push(-t,l),_&&((i.viewHooks??=[]).push(t,_),(i.viewCheckHooks??=[]).push(t,_)),f!=null&&(i.destroyHooks??=[]).push(t,f);}}function IC(i,r,t){$$(i,r,3,t);}function xC(i,r,t,e){(i[xt]&3)===t&&$$(i,r,t,e);}function NM(i,r){let t=i[xt];(t&3)===r&&(t&=16383,t+=1,i[xt]=t);}function $$(i,r,t,e){let n=e!==void 0?i[ip]&65535:0,o=e??-1,a=r.length-1,s=0;for(let l=n;l<a;l++)if(typeof r[l+1]=="number"){if(s=r[l],e!=null&&s>=e)break;}else r[l]<0&&(i[ip]+=65536),(s<o||o==-1)&&(UQ(i,t,r,l),i[ip]=(i[ip]&4294901760)+l+2),l++;}function K8(i,r){Qi(4,i,r);let t=kt(null);try{r.call(i);}finally{kt(t),Qi(5,i,r);}}function UQ(i,r,t,e){let n=t[e]<0,o=t[e+1],a=n?-t[e]:t[e],s=i[a];n?i[xt]>>14<i[ip]>>16&&(i[xt]&3)===r&&(i[xt]+=16384,K8(s,o)):K8(s,o);}var Um=-1,dp=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(r,t,e){this.factory=r,this.canSeeViewProviders=t,this.injectImpl=e;}};function WQ(i){return(i.flags&8)!==0;}function BQ(i){return(i.flags&16)!==0;}function HQ(i,r,t){let e=0;for(;e<t.length;){let n=t[e];if(typeof n=="number"){if(n!==0)break;e++;let o=t[e++],a=t[e++],s=t[e++];i.setAttribute(r,a,s,o);}else{let o=n,a=t[++e];qQ(o)?i.setProperty(r,o,a):i.setAttribute(r,o,a),e++;}}return e;}function L$(i){return i===3||i===4||i===6;}function qQ(i){return i.charCodeAt(0)===64;}function Wm(i,r){if(!(r===null||r.length===0))if(i===null||i.length===0)i=r.slice();else{let t=-1;for(let e=0;e<r.length;e++){let n=r[e];typeof n=="number"?t=n:t===0||(t===-1||t===2?Q8(i,t,n,null,r[++e]):Q8(i,t,n,null,null));}}return i;}function Q8(i,r,t,e,n){let o=0,a=i.length;if(r===-1)a=-1;else for(;o<i.length;){let s=i[o++];if(typeof s=="number"){if(s===r){a=-1;break;}else if(s>r){a=o-1;break;}}}for(;o<i.length;){let s=i[o];if(typeof s=="number")break;if(s===t){n!==null&&(i[o+1]=n);return;}o++,n!==null&&o++;}a!==-1&&(i.splice(a,0,r),o=a+1),i.splice(o++,0,t),n!==null&&i.splice(o++,0,n);}function F$(i){return i!==Um;}function OC(i){return i&32767;}function YQ(i){return i>>16;}function PC(i,r){let t=YQ(i),e=r;for(;t>0;)e=e[tp],t--;return e;}var HM=!0;function RC(i){let r=HM;return HM=i,r;}var XQ=256,V$=XQ-1,z$=5,KQ=0,nl={};function QQ(i,r,t){let e;typeof t=="string"?e=t.charCodeAt(0)||0:t.hasOwnProperty(Qu)&&(e=t[Qu]),e==null&&(e=t[Qu]=KQ++);let n=e&V$,o=1<<n;r.data[i+(n>>z$)]|=o;}function NC(i,r){let t=G$(i,r);if(t!==-1)return t;let e=r[Rt];e.firstCreatePass&&(i.injectorIndex=r.length,kM(e.data,i),kM(r,null),kM(e.blueprint,null));let n=VO(i,r),o=i.injectorIndex;if(F$(n)){let a=OC(n),s=PC(n,r),l=s[Rt].data;for(let _=0;_<8;_++)r[o+_]=s[a+_]|l[a+_];}return r[o+8]=n,o;}function kM(i,r){i.push(0,0,0,0,0,0,0,0,r);}function G$(i,r){return i.injectorIndex===-1||i.parent&&i.parent.injectorIndex===i.injectorIndex||r[i.injectorIndex+8]===null?-1:i.injectorIndex;}function VO(i,r){if(i.parent&&i.parent.injectorIndex!==-1)return i.parent.injectorIndex;let t=0,e=null,n=r;for(;n!==null;){if(e=H$(n),e===null)return Um;if(t++,n=n[tp],e.injectorIndex!==-1)return e.injectorIndex|t<<16;}return Um;}function qM(i,r,t){QQ(i,r,t);}function ZQ(i,r){if(r==="class")return i.classes;if(r==="style")return i.styles;let t=i.attrs;if(t){let e=t.length,n=0;for(;n<e;){let o=t[n];if(L$(o))break;if(o===0)n=n+2;else if(typeof o=="number")for(n++;n<e&&typeof t[n]=="string";)n++;else{if(o===r)return t[n+1];n=n+2;}}}return null;}function j$(i,r,t){if(t&8||i!==void 0)return i;Q1(r,"NodeInjector");}function U$(i,r,t,e){if(t&8&&e===void 0&&(e=null),(t&3)===0){let n=i[ep],o=Ro(void 0);try{return n?n.get(r,e,t&8):yD(r,e,t&8);}finally{Ro(o);}}return j$(e,r,t);}function W$(i,r,t,e=0,n){if(i!==null){if(r[xt]&2048&&!(e&2)){let a=iZ(i,r,t,e,nl);if(a!==nl)return a;}let o=B$(i,r,t,e,nl);if(o!==nl)return o;}return U$(r,t,e,n);}function B$(i,r,t,e,n){let o=eZ(t);if(typeof o=="function"){if(!BD(r,i,e))return e&1?j$(n,t,e):U$(r,t,e,n);try{let a;if(a=o(e),a==null&&!(e&8))Q1(t);else return a;}finally{HD();}}else if(typeof o=="number"){let a=null,s=G$(i,r),l=Um,_=e&1?r[ao][oo]:null;for((s===-1||e&4)&&(l=s===-1?VO(i,r):r[s+8],l===Um||!J8(e,!1)?s=-1:(a=r[Rt],s=OC(l),r=PC(l,r)));s!==-1;){let f=r[Rt];if(Z8(o,s,f.data)){let g=JQ(s,r,t,a,e,_);if(g!==nl)return g;}l=r[s+8],l!==Um&&J8(e,r[Rt].data[s+8]===_)&&Z8(o,s,r)?(a=f,s=OC(l),r=PC(l,r)):s=-1;}}return n;}function JQ(i,r,t,e,n,o){let a=r[Rt],s=a.data[i+8],l=e==null?sd(s)&&HM:e!=a&&(s.type&3)!==0,_=n&1&&o===s,f=AC(s,a,t,l,_);return f!==null?xg(r,a,f,s):nl;}function AC(i,r,t,e,n){let o=i.providerIndexes,a=r.data,s=o&1048575,l=i.directiveStart,_=i.directiveEnd,f=o>>20,g=e?s:s+f,S=n?s+f:_;for(let x=g;x<S;x++){let D=a[x];if(x<l&&t===D||x>=l&&D.type===t)return x;}if(n){let x=a[l];if(x&&Cs(x)&&x.type===t)return l;}return null;}function xg(i,r,t,e){let n=i[t],o=r.data;if(n instanceof dp){let a=n;a.resolving&&CD(u8(o[t]));let s=RC(a.canSeeViewProviders);a.resolving=!0;let l=o[t].type||o[t],_,f=a.injectImpl?Ro(a.injectImpl):null,g=BD(i,e,0);try{n=i[t]=a.factory(void 0,o,i,e),r.firstCreatePass&&t>=e.directiveStart&&jQ(t,o[t],r);}finally{f!==null&&Ro(f),RC(s),a.resolving=!1,HD();}}return n;}function eZ(i){if(typeof i=="string")return i.charCodeAt(0)||0;let r=i.hasOwnProperty(Qu)?i[Qu]:void 0;return typeof r=="number"?r>=0?r&V$:tZ:r;}function Z8(i,r,t){let e=1<<i;return!!(t[r+(i>>z$)]&e);}function J8(i,r){return!(i&2)&&!(i&1&&r);}var cp=class{_tNode;_lView;constructor(r,t){this._tNode=r,this._lView=t;}get(r,t,e){return W$(this._tNode,this._lView,r,qu(e),t);}};function tZ(){return new cp(_r(),ut());}function qn(i){return Ym(()=>{let r=i.prototype.constructor,t=r[Zh]||YM(r),e=Object.prototype,n=Object.getPrototypeOf(i.prototype).constructor;for(;n&&n!==e;){let o=n[Zh]||YM(n);if(o&&o!==t)return o;n=Object.getPrototypeOf(n);}return o=>new o();});}function YM(i){return uD(i)?()=>{let r=YM(pr(i));return r&&r();}:nd(i);}function iZ(i,r,t,e,n){let o=i,a=r;for(;o!==null&&a!==null&&a[xt]&2048&&!Nm(a);){let s=B$(o,a,t,e|2,nl);if(s!==nl)return s;let l=o.parent;if(!l){let _=a[OD];if(_){let f=_.get(t,nl,e);if(f!==nl)return f;}l=H$(a),a=a[tp];}o=l;}return n;}function H$(i){let r=i[Rt],t=r.type;return t===2?r.declTNode:t===1?i[oo]:null;}function $g(i){return ZQ(_r(),i);}function nZ(){return Km(_r(),ut());}function Km(i,r){return new ze(ys(i,r));}var ze=(()=>{class i{nativeElement;constructor(t){this.nativeElement=t;}static __NG_ELEMENT_ID__=nZ;}return i;})();function q$(i){return i instanceof ze?i.nativeElement:i;}function rZ(){return this._results[Symbol.iterator]();}var uc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new xe();}constructor(r=!1){this._emitDistinctChangesOnly=r;}get(r){return this._results[r];}map(r){return this._results.map(r);}filter(r){return this._results.filter(r);}find(r){return this._results.find(r);}reduce(r,t){return this._results.reduce(r,t);}forEach(r){this._results.forEach(r);}some(r){return this._results.some(r);}toArray(){return this._results.slice();}toString(){return this._results.toString();}reset(r,t){this.dirty=!1;let e=_8(r);(this._changesDetected=!m8(this._results,e,t))&&(this._results=e,this.length=e.length,this.last=e[this.length-1],this.first=e[0]);}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this);}onDirty(r){this._onDirty=r;}setDirty(){this.dirty=!0,this._onDirty?.();}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe());}[Symbol.iterator]=rZ;};function Y$(i){return(i.flags&128)===128;}var zO=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i;}(zO||{}),X$=new Map(),oZ=0;function aZ(){return oZ++;}function sZ(i){X$.set(i[rg],i);}function XM(i){X$.delete(i[rg]);}var e$="__ngContext__";function pd(i,r){Js(r)?(i[e$]=r[rg],sZ(r)):i[e$]=r;}function K$(i){return Z$(i[Rm]);}function Q$(i){return Z$(i[Va]);}function Z$(i){for(;i!==null&&!vs(i);)i=i[Va];return i;}var KM;function GO(i){KM=i;}function YC(){if(KM!==void 0)return KM;if(typeof document<"u")return document;throw new fe(210,!1);}var Qm=new se("",{providedIn:"root",factory:()=>lZ}),lZ="ng",XC=new se(""),ol=new se("",{providedIn:"platform",factory:()=>"unknown"});var hd=new se(""),Zm=new se("",{providedIn:"root",factory:()=>YC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cZ="h",dZ="b";var J$="r";var eL="di";var tL=!1,iL=new se("",{providedIn:"root",factory:()=>tL});var uZ=(i,r,t,e)=>{};function pZ(i,r,t,e){uZ(i,r,t,e);}var mZ=()=>null;function nL(i,r,t=!1){return mZ(i,r,t);}function rL(i,r){let t=i.contentQueries;if(t!==null){let e=kt(null);try{for(let n=0;n<t.length;n+=2){let o=t[n],a=t[n+1];if(a!==-1){let s=i.data[a];pg(o),s.contentQueries(2,r[a],a);}}}finally{kt(e);}}}function QM(i,r,t){pg(0);let e=kt(null);try{r(i,t);}finally{kt(e);}}function jO(i,r,t){if(rC(r)){let e=kt(null);try{let n=r.directiveStart,o=r.directiveEnd;for(let a=n;a<o;a++){let s=i.data[a];if(s.contentQueries){let l=t[a];s.contentQueries(1,l,a);}}}finally{kt(e);}}}var pc=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i;}(pc||{}),yC;function oL(){if(yC===void 0&&(yC=null,Zn.trustedTypes))try{yC=Zn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i});}catch{}return yC;}function KC(i){return oL()?.createHTML(i)||i;}function _Z(i){return oL()?.createScriptURL(i)||i;}var bC;function aL(){if(bC===void 0&&(bC=null,Zn.trustedTypes))try{bC=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i});}catch{}return bC;}function t$(i){return aL()?.createHTML(i)||i;}function i$(i){return aL()?.createScriptURL(i)||i;}var mc=class{changingThisBreaksApplicationSecurity;constructor(r){this.changingThisBreaksApplicationSecurity=r;}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Y1})`;}},ZM=class extends mc{getTypeName(){return"HTML";}},JM=class extends mc{getTypeName(){return"Style";}},eO=class extends mc{getTypeName(){return"Script";}},tO=class extends mc{getTypeName(){return"URL";}},iO=class extends mc{getTypeName(){return"ResourceURL";}};function ya(i){return i instanceof mc?i.changingThisBreaksApplicationSecurity:i;}function al(i,r){let t=sL(i);if(t!=null&&t!==r){if(t==="ResourceURL"&&r==="URL")return!0;throw new Error(`Required a safe ${r}, got a ${t} (see ${Y1})`);}return t===r;}function sL(i){return i instanceof mc&&i.getTypeName()||null;}function UO(i){return new ZM(i);}function WO(i){return new JM(i);}function BO(i){return new eO(i);}function HO(i){return new tO(i);}function qO(i){return new iO(i);}function lL(i){let r=new rO(i);return fZ()?new nO(r):r;}var nO=class{inertDocumentHelper;constructor(r){this.inertDocumentHelper=r;}getInertBodyElement(r){r="<body><remove></remove>"+r;try{let t=new window.DOMParser().parseFromString(KC(r),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(r):(t.firstChild?.remove(),t);}catch{return null;}}},rO=class{defaultDoc;inertDocument;constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");}getInertBodyElement(r){let t=this.inertDocument.createElement("template");return t.innerHTML=KC(r),t;}};function fZ(){try{return!!new window.DOMParser().parseFromString(KC(""),"text/html");}catch{return!1;}}var hZ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jm(i){return i=String(i),i.match(hZ)?i:"unsafe:"+i;}function _c(i){let r={};for(let t of i.split(","))r[t]=!0;return r;}function Lg(...i){let r={};for(let t of i)for(let e in t)t.hasOwnProperty(e)&&(r[e]=!0);return r;}var cL=_c("area,br,col,hr,img,wbr"),dL=_c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uL=_c("rp,rt"),gZ=Lg(uL,dL),vZ=Lg(dL,_c("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),CZ=Lg(uL,_c("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oO=Lg(cL,vZ,CZ,gZ),YO=_c("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yZ=_c("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bZ=_c("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),pL=Lg(YO,yZ,bZ),SZ=_c("script,style,template"),aO=class{sanitizedSomething=!1;buf=[];sanitizeChildren(r){let t=r.firstChild,e=!0,n=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?e=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,e&&t.firstChild){n.push(t),t=IZ(t);continue;}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=TZ(t);if(o){t=o;break;}t=n.pop();}}return this.buf.join("");}startElement(r){let t=n$(r).toLowerCase();if(!oO.hasOwnProperty(t))return this.sanitizedSomething=!0,!SZ.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let e=r.attributes;for(let n=0;n<e.length;n++){let o=e.item(n),a=o.name,s=a.toLowerCase();if(!pL.hasOwnProperty(s)){this.sanitizedSomething=!0;continue;}let l=o.value;YO[s]&&(l=Jm(l)),this.buf.push(" ",a,'="',r$(l),'"');}return this.buf.push(">"),!0;}endElement(r){let t=n$(r).toLowerCase();oO.hasOwnProperty(t)&&!cL.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"));}chars(r){this.buf.push(r$(r));}};function EZ(i,r){return(i.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY;}function TZ(i){let r=i.nextSibling;if(r&&i!==r.previousSibling)throw mL(r);return r;}function IZ(i){let r=i.firstChild;if(r&&EZ(i,r))throw mL(r);return r;}function n$(i){let r=i.nodeName;return typeof r=="string"?r:"FORM";}function mL(i){return new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);}var xZ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AZ=/([^\#-~ |!])/g;function r$(i){return i.replace(/&/g,"&amp;").replace(xZ,function(r){let t=r.charCodeAt(0),e=r.charCodeAt(1);return"&#"+((t-55296)*1024+(e-56320)+65536)+";";}).replace(AZ,function(r){return"&#"+r.charCodeAt(0)+";";}).replace(/</g,"&lt;").replace(/>/g,"&gt;");}var SC;function QC(i,r){let t=null;try{SC=SC||lL(i);let e=r?String(r):"";t=SC.getInertBodyElement(e);let n=5,o=e;do{if(n===0)throw new Error("Failed to sanitize html because the input is unstable");n--,e=o,o=t.innerHTML,t=SC.getInertBodyElement(e);}while(e!==o);let s=new aO().sanitizeChildren(sO(t)||t);return KC(s);}finally{if(t){let e=sO(t)||t;for(;e.firstChild;)e.firstChild.remove();}}}function sO(i){return"content"in i&&wZ(i)?i.content:null;}function wZ(i){return i.nodeType===Node.ELEMENT_NODE&&i.nodeName==="TEMPLATE";}var Tr=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i;}(Tr||{});function Re(i){let r=QO();return r?t$(r.sanitize(Tr.HTML,i)||""):al(i,"HTML")?t$(ya(i)):QC(YC(),ga(i));}function Ko(i){let r=QO();return r?r.sanitize(Tr.URL,i)||"":al(i,"URL")?ya(i):Jm(ga(i));}function ZC(i){let r=QO();if(r)return i$(r.sanitize(Tr.RESOURCE_URL,i)||"");if(al(i,"ResourceURL"))return i$(ya(i));throw new fe(904,!1);}function XO(i){return _Z(i[0]);}function DZ(i,r){return r==="src"&&(i==="embed"||i==="frame"||i==="iframe"||i==="media"||i==="script")||r==="href"&&(i==="base"||i==="link")?ZC:Ko;}function KO(i,r,t){return DZ(r,t)(i);}function QO(){let i=ut();return i&&i[Qs].sanitizer;}var MZ=/^>|^->|<!--|-->|--!>|<!-$/g,OZ=/(<|>)/g,PZ="\u200B$1\u200B";function RZ(i){return i.replace(MZ,r=>r.replace(OZ,PZ));}function Qo(i){return i.ownerDocument.defaultView;}function e_(i){return i.ownerDocument;}function _L(i){return i instanceof Function?i():i;}function NZ(i,r,t){let e=i.length;for(;;){let n=i.indexOf(r,t);if(n===-1)return n;if(n===0||i.charCodeAt(n-1)<=32){let o=r.length;if(n+o===e||i.charCodeAt(n+o)<=32)return n;}t=n+1;}}var fL="ng-template";function kZ(i,r,t,e){let n=0;if(e){for(;n<r.length&&typeof r[n]=="string";n+=2)if(r[n]==="class"&&NZ(r[n+1].toLowerCase(),t,0)!==-1)return!0;}else if(ZO(i))return!1;if(n=r.indexOf(1,n),n>-1){let o;for(;++n<r.length&&typeof(o=r[n])=="string";)if(o.toLowerCase()===t)return!0;}return!1;}function ZO(i){return i.type===4&&i.value!==fL;}function $Z(i,r,t){let e=i.type===4&&!t?fL:i.value;return r===e;}function LZ(i,r,t){let e=4,n=i.attrs,o=n!==null?zZ(n):0,a=!1;for(let s=0;s<r.length;s++){let l=r[s];if(typeof l=="number"){if(!a&&!Is(e)&&!Is(l))return!1;if(a&&Is(l))continue;a=!1,e=l|e&1;continue;}if(!a)if(e&4){if(e=2|e&1,l!==""&&!$Z(i,l,t)||l===""&&r.length===1){if(Is(e))return!1;a=!0;}}else if(e&8){if(n===null||!kZ(i,n,l,t)){if(Is(e))return!1;a=!0;}}else{let _=r[++s],f=FZ(l,n,ZO(i),t);if(f===-1){if(Is(e))return!1;a=!0;continue;}if(_!==""){let g;if(f>o?g="":g=n[f+1].toLowerCase(),e&2&&_!==g){if(Is(e))return!1;a=!0;}}}}return Is(e)||a;}function Is(i){return(i&1)===0;}function FZ(i,r,t,e){if(r===null)return-1;let n=0;if(e||!t){let o=!1;for(;n<r.length;){let a=r[n];if(a===i)return n;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=r[++n];for(;typeof s=="string";)s=r[++n];continue;}else{if(a===4)break;if(a===0){n+=4;continue;}}n+=o?1:2;}return-1;}else return GZ(r,i);}function hL(i,r,t=!1){for(let e=0;e<r.length;e++)if(LZ(i,r[e],t))return!0;return!1;}function VZ(i){let r=i.attrs;if(r!=null){let t=r.indexOf(5);if((t&1)===0)return r[t+1];}return null;}function zZ(i){for(let r=0;r<i.length;r++){let t=i[r];if(L$(t))return r;}return i.length;}function GZ(i,r){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){let e=i[t];if(typeof e=="number")return-1;if(e===r)return t;t++;}return-1;}function jZ(i,r){e:for(let t=0;t<r.length;t++){let e=r[t];if(i.length===e.length){for(let n=0;n<i.length;n++)if(i[n]!==e[n])continue e;return!0;}}return!1;}function o$(i,r){return i?":not("+r.trim()+")":r;}function UZ(i){let r=i[0],t=1,e=2,n="",o=!1;for(;t<i.length;){let a=i[t];if(typeof a=="string"){if(e&2){let s=i[++t];n+="["+a+(s.length>0?'="'+s+'"':"")+"]";}else e&8?n+="."+a:e&4&&(n+=" "+a);}else n!==""&&!Is(a)&&(r+=o$(o,n),n=""),e=a,o=o||!Is(e);t++;}return n!==""&&(r+=o$(o,n)),r;}function WZ(i){return i.map(UZ).join(",");}function BZ(i){let r=[],t=[],e=1,n=2;for(;e<i.length;){let o=i[e];if(typeof o=="string")n===2?o!==""&&r.push(o,i[++e]):n===8&&t.push(o);else{if(!Is(n))break;n=o;}e++;}return t.length&&r.push(1,...t),r;}var Ir={};function gL(i,r){return i.createText(r);}function vL(i,r,t){i.setValue(r,t);}function CL(i,r){return i.createComment(RZ(r));}function JO(i,r,t){return i.createElement(r,t);}function up(i,r,t,e,n){i.insertBefore(r,t,e,n);}function yL(i,r,t){i.appendChild(r,t);}function a$(i,r,t,e,n){e!==null?up(i,r,t,e,n):yL(i,r,t);}function eP(i,r,t){i.removeChild(null,r,t);}function HZ(i,r,t){i.setAttribute(r,"style",t);}function qZ(i,r,t){t===""?i.removeAttribute(r,"class"):i.setAttribute(r,"class",t);}function bL(i,r,t){let{mergedAttrs:e,classes:n,styles:o}=t;e!==null&&HQ(i,r,e),n!==null&&qZ(i,r,n),o!==null&&HZ(i,r,o);}function tP(i,r,t,e,n,o,a,s,l,_,f){let g=Ki+e,S=g+n,x=YZ(g,S),D=typeof _=="function"?_():_;return x[Rt]={type:i,blueprint:x,template:t,queries:null,viewQuery:s,declTNode:r,data:x.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:D,incompleteFirstPass:!1,ssrId:f};}function YZ(i,r){let t=[];for(let e=0;e<r;e++)t.push(e<i?null:Ir);return t;}function XZ(i){let r=i.tView;return r===null||r.incompleteFirstPass?i.tView=tP(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):r;}function iP(i,r,t,e,n,o,a,s,l,_,f){let g=r.blueprint.slice();return g[gs]=n,g[xt]=e|4|128|8|64|1024,(_!==null||i&&i[xt]&2048)&&(g[xt]|=2048),kD(g),g[mr]=g[tp]=i,g[Wn]=t,g[Qs]=a||i&&i[Qs],g[ui]=s||i&&i[ui],g[ep]=l||i&&i[ep]||null,g[oo]=o,g[rg]=aZ(),g[Ju]=f,g[OD]=_,g[ao]=r.type==2?i[ao]:g,g;}function KZ(i,r,t){let e=ys(r,i),n=XZ(t),o=i[Qs].rendererFactory,a=nP(i,iP(i,n,null,SL(t),e,r,null,o.createRenderer(e,t),null,null,null));return i[r.index]=a;}function SL(i){let r=16;return i.signals?r=4096:i.onPush&&(r=64),r;}function Fg(i,r,t,e){if(t===0)return-1;let n=r.length;for(let o=0;o<t;o++)r.push(e),i.blueprint.push(e),i.data.push(null);return n;}function nP(i,r){return i[Rm]?i[MD][Va]=r:i[Rm]=r,i[MD]=r,r;}function c(i=1){EL(ki(),ut(),Es()+i,!1);}function EL(i,r,t,e){if(!e)if((r[xt]&3)===3){let o=i.preOrderCheckHooks;o!==null&&IC(r,o,t);}else{let o=i.preOrderHooks;o!==null&&xC(r,o,0,t);}cd(t);}var JC=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i;}(JC||{});function lO(i,r,t,e){let n=kt(null);try{let[o,a,s]=i.inputs[t],l=null;(a&JC.SignalBased)!==0&&(l=r[o][dr]),l!==null&&l.transformFn!==void 0?e=l.transformFn(e):s!==null&&(e=s.call(r,e)),i.setInput!==null?i.setInput(r,l,e,t,o):P$(r,l,o,e);}finally{kt(n);}}function TL(i,r,t,e,n){let o=Es(),a=e&2;try{cd(-1),a&&r.length>Ki&&EL(i,r,Ki,!1),Qi(a?2:0,n,t),t(e,n);}finally{cd(o),Qi(a?3:1,n,t);}}function ey(i,r,t){iJ(i,r,t),(t.flags&64)===64&&nJ(i,r,t);}function rP(i,r,t=ys){let e=r.localNames;if(e!==null){let n=r.index+1;for(let o=0;o<e.length;o+=2){let a=e[o+1],s=a===-1?t(r,i):i[a];i[n++]=s;}}}function QZ(i,r,t,e){let o=e.get(iL,tL)||t===pc.ShadowDom,a=i.selectRootElement(r,o);return ZZ(a),a;}function ZZ(i){JZ(i);}var JZ=()=>null;function eJ(i){return i==="class"?"className":i==="for"?"htmlFor":i==="formaction"?"formAction":i==="innerHtml"?"innerHTML":i==="readonly"?"readOnly":i==="tabindex"?"tabIndex":i;}function oP(i,r,t,e,n,o){let a=r[Rt];if(lP(i,a,r,t,e)){sd(i)&&tJ(r,i.index);return;}IL(i,r,t,e,n,o);}function IL(i,r,t,e,n,o){if(i.type&3){let a=ys(i,r);t=eJ(t),e=o!=null?o(e,i.value||"",t):e,n.setProperty(a,t,e);}else i.type&12;}function tJ(i,r){let t=za(r,i);t[xt]&16||(t[xt]|=64);}function iJ(i,r,t){let e=t.directiveStart,n=t.directiveEnd;sd(t)&&KZ(r,t,i.data[e+t.componentOffset]),i.firstCreatePass||NC(t,r);let o=t.initialInputs;for(let a=e;a<n;a++){let s=i.data[a],l=xg(r,i,a,t);if(pd(l,r),o!==null&&aJ(r,a-e,l,s,t,o),Cs(s)){let _=za(t.index,r);_[Wn]=xg(r,i,a,t);}}}function nJ(i,r,t){let e=t.directiveStart,n=t.directiveEnd,o=t.index,a=F8();try{cd(o);for(let s=e;s<n;s++){let l=i.data[s],_=r[s];uC(s),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&rJ(l,_);}}finally{cd(-1),uC(a);}}function rJ(i,r){i.hostBindings!==null&&i.hostBindings(1,r);}function aP(i,r){let t=i.directiveRegistry,e=null;if(t)for(let n=0;n<t.length;n++){let o=t[n];hL(r,o.selectors,!1)&&(e??=[],Cs(o)?e.unshift(o):e.push(o));}return e;}function oJ(i,r,t,e,n,o){let a=ys(i,r);sP(r[ui],a,o,i.value,t,e,n);}function sP(i,r,t,e,n,o,a){if(o==null)i.removeAttribute(r,n,t);else{let s=a==null?ga(o):a(o,e||"",n);i.setAttribute(r,n,s,t);}}function aJ(i,r,t,e,n,o){let a=o[r];if(a!==null)for(let s=0;s<a.length;s+=2){let l=a[s],_=a[s+1];lO(e,t,l,_);}}function sJ(i,r){let t=i[ep];if(!t)return;t.get(No,null)?.(r);}function lP(i,r,t,e,n){let o=i.inputs?.[e],a=i.hostDirectiveInputs?.[e],s=!1;if(a)for(let l=0;l<a.length;l+=2){let _=a[l],f=a[l+1],g=r.data[_];lO(g,t[_],f,n),s=!0;}if(o)for(let l of o){let _=t[l],f=r.data[l];lO(f,_,e,n),s=!0;}return s;}function lJ(i,r){let t=za(r,i),e=t[Rt];cJ(e,t);let n=t[gs];n!==null&&t[Ju]===null&&(t[Ju]=nL(n,t[ep])),Qi(18),cP(e,t,t[Wn]),Qi(19,t[Wn]);}function cJ(i,r){for(let t=r.length;t<i.blueprint.length;t++)r.push(i.blueprint[t]);}function cP(i,r,t){mC(r);try{let e=i.viewQuery;e!==null&&QM(1,e,t);let n=i.template;n!==null&&TL(i,r,n,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),r[Zs]?.finishViewCreation(i),i.staticContentQueries&&rL(i,r),i.staticViewQueries&&QM(2,i.viewQuery,t);let o=i.components;o!==null&&dJ(r,o);}catch(e){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),e;}finally{r[xt]&=-5,_C();}}function dJ(i,r){for(let t=0;t<r.length;t++)lJ(i,r[t]);}function Vg(i,r,t,e){let n=kt(null);try{let o=r.tView,s=i[xt]&4096?4096:16,l=iP(i,o,t,s,null,r,null,null,e?.injector??null,e?.embeddedViewInjector??null,e?.dehydratedView??null),_=i[r.index];l[od]=_;let f=i[Zs];return f!==null&&(l[Zs]=f.createEmbeddedView(o)),cP(o,l,t),l;}finally{kt(n);}}function Bm(i,r){return!r||r.firstChild===null||Y$(i);}var s$=!1,uJ=new se(""),cO;function dP(i,r){return cO(i,r);}function pJ(i){cO===void 0&&(cO=i());}var As=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i;}(As||{});function ty(i){return(i.flags&32)===32;}function jm(i,r,t,e,n){if(e!=null){let o,a=!1;vs(e)?o=e:Js(e)&&(a=!0,e=e[gs]);let s=Xo(e);i===0&&t!==null?n==null?yL(r,t,s):up(r,t,s,n||null,!0):i===1&&t!==null?up(r,t,s,n||null,!0):i===2?eP(r,s,a):i===3&&r.destroyNode(s),o!=null&&CJ(r,i,o,t,n);}}function mJ(i,r){xL(i,r),r[gs]=null,r[oo]=null;}function _J(i,r,t,e,n,o){e[gs]=n,e[oo]=r,ry(i,e,t,1,n,o);}function xL(i,r){r[Qs].changeDetectionScheduler?.notify(9),ry(i,r,r[ui],2,null,null);}function fJ(i){let r=i[Rm];if(!r)return $M(i[Rt],i);for(;r;){let t=null;if(Js(r))t=r[Rm];else{let e=r[Er];e&&(t=e);}if(!t){for(;r&&!r[Va]&&r!==i;)Js(r)&&$M(r[Rt],r),r=r[mr];r===null&&(r=i),Js(r)&&$M(r[Rt],r),t=r&&r[Va];}r=t;}}function uP(i,r){let t=i[rp],e=t.indexOf(r);t.splice(e,1);}function iy(i,r){if(op(r))return;let t=r[ui];t.destroyNode&&ry(i,r,t,3,null,null),fJ(r);}function $M(i,r){if(op(r))return;let t=kt(null);try{r[xt]&=-129,r[xt]|=256,r[va]&&gm(r[va]),gJ(i,r),hJ(i,r),r[Rt].type===1&&r[ui].destroy();let e=r[od];if(e!==null&&vs(r[mr])){e!==r[mr]&&uP(e,r);let n=r[Zs];n!==null&&n.detachView(i);}XM(r);}finally{kt(t);}}function hJ(i,r){let t=i.cleanup,e=r[Pm];if(t!==null)for(let a=0;a<t.length-1;a+=2)if(typeof t[a]=="string"){let s=t[a+3];s>=0?e[s]():e[-s].unsubscribe(),a+=2;}else{let s=e[t[a+1]];t[a].call(s);}e!==null&&(r[Pm]=null);let n=r[oc];if(n!==null){r[oc]=null;for(let a=0;a<n.length;a++){let s=n[a];s();}}let o=r[sc];if(o!==null){r[sc]=null;for(let a of o)a.destroy();}}function gJ(i,r){let t;if(i!=null&&(t=i.destroyHooks)!=null)for(let e=0;e<t.length;e+=2){let n=r[t[e]];if(!(n instanceof dp)){let o=t[e+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=n[o[a]],l=o[a+1];Qi(4,s,l);try{l.call(s);}finally{Qi(5,s,l);}}else{Qi(4,n,o);try{o.call(n);}finally{Qi(5,n,o);}}}}}function AL(i,r,t){return wL(i,r.parent,t);}function wL(i,r,t){let e=r;for(;e!==null&&e.type&168;)r=e,e=r.parent;if(e===null)return t[gs];if(sd(e)){let{encapsulation:n}=i.data[e.directiveStart+e.componentOffset];if(n===pc.None||n===pc.Emulated)return null;}return ys(e,t);}function DL(i,r,t){return OL(i,r,t);}function ML(i,r,t){return i.type&40?ys(i,t):null;}var OL=ML,dO;function PL(i,r){OL=i,dO=r;}function ny(i,r,t,e){let n=AL(i,e,r),o=r[ui],a=e.parent||r[oo],s=DL(a,e,r);if(n!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)a$(o,n,t[l],s,!1);else a$(o,n,t,s,!1);dO!==void 0&&dO(o,e,r,t,n);}function Cg(i,r){if(r!==null){let t=r.type;if(t&3)return ys(r,i);if(t&4)return uO(-1,i[r.index]);if(t&8){let e=r.child;if(e!==null)return Cg(i,e);{let n=i[r.index];return vs(n)?uO(-1,n):Xo(n);}}else{if(t&128)return Cg(i,r.next);if(t&32)return dP(r,i)()||Xo(i[r.index]);{let e=RL(i,r);if(e!==null){if(Array.isArray(e))return e[0];let n=rd(i[ao]);return Cg(n,e);}else return Cg(i,r.next);}}}return null;}function RL(i,r){if(r!==null){let e=i[ao][oo],n=r.projection;return e.projection[n];}return null;}function uO(i,r){let t=Er+i+1;if(t<r.length){let e=r[t],n=e[Rt].firstChild;if(n!==null)return Cg(e,n);}return r[ad];}function pP(i,r,t,e,n,o,a){for(;t!=null;){if(t.type===128){t=t.next;continue;}let s=e[t.index],l=t.type;if(a&&r===0&&(s&&pd(Xo(s),e),t.flags|=2),!ty(t))if(l&8)pP(i,r,t.child,e,n,o,!1),jm(r,i,n,s,o);else if(l&32){let _=dP(t,e),f;for(;f=_();)jm(r,i,n,f,o);jm(r,i,n,s,o);}else l&16?NL(i,r,e,t,n,o):jm(r,i,n,s,o);t=a?t.projectionNext:t.next;}}function ry(i,r,t,e,n,o){pP(t,e,i.firstChild,r,n,o,!1);}function vJ(i,r,t){let e=r[ui],n=AL(i,t,r),o=t.parent||r[oo],a=DL(o,t,r);NL(e,0,r,t,n,a);}function NL(i,r,t,e,n,o){let a=t[ao],l=a[oo].projection[e.projection];if(Array.isArray(l))for(let _=0;_<l.length;_++){let f=l[_];jm(r,i,n,f,o);}else{let _=l,f=a[mr];Y$(e)&&(_.flags|=128),pP(i,r,_,f,n,o,!0);}}function CJ(i,r,t,e,n){let o=t[ad],a=Xo(t);o!==a&&jm(r,i,e,o,n);for(let s=Er;s<t.length;s++){let l=t[s];ry(l[Rt],l,i,r,e,o);}}function yJ(i,r,t,e,n){if(r)n?i.addClass(t,e):i.removeClass(t,e);else{let o=e.indexOf("-")===-1?void 0:As.DashCase;n==null?i.removeStyle(t,e,o):(typeof n=="string"&&n.endsWith("!important")&&(n=n.slice(0,-10),o|=As.Important),i.setStyle(t,e,n,o));}}function Ag(i,r,t,e,n=!1){for(;t!==null;){if(t.type===128){t=n?t.projectionNext:t.next;continue;}let o=r[t.index];o!==null&&e.push(Xo(o)),vs(o)&&kL(o,e);let a=t.type;if(a&8)Ag(i,r,t.child,e);else if(a&32){let s=dP(t,r),l;for(;l=s();)e.push(l);}else if(a&16){let s=RL(r,t);if(Array.isArray(s))e.push(...s);else{let l=rd(r[ao]);Ag(l[Rt],l,s,e,!0);}}t=n?t.projectionNext:t.next;}return e;}function kL(i,r){for(let t=Er;t<i.length;t++){let e=i[t],n=e[Rt].firstChild;n!==null&&Ag(e[Rt],e,n,r);}i[ad]!==i[gs]&&r.push(i[ad]);}function $L(i){if(i[np]!==null){for(let r of i[np])r.impl.addSequence(r);i[np].length=0;}}var LL=[];function bJ(i){return i[va]??SJ(i);}function SJ(i){let r=LL.pop()??Object.create(TJ);return r.lView=i,r;}function EJ(i){i.lView[va]!==i&&(i.lView=null,LL.push(i));}var TJ=rt(re({},Kc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:i=>{ld(i.lView);},consumerOnSignalRead(){this.lView[va]=this;}});function IJ(i){let r=i[va]??Object.create(xJ);return r.lView=i,r;}var xJ=rt(re({},Kc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:i=>{let r=rd(i.lView);for(;r&&!FL(r[Rt]);)r=rd(r);r&&$D(r);},consumerOnSignalRead(){this.lView[va]=this;}});function FL(i){return i.type!==2;}function VL(i){if(i[sc]===null)return;let r=!0;for(;r;){let t=!1;for(let e of i[sc])e.dirty&&(t=!0,e.zone===null||Zone.current===e.zone?e.run():e.zone.run(()=>e.run()));r=t&&!!(i[xt]&8192);}}var AJ=100;function mP(i,r=0){let e=i[Qs].rendererFactory,n=!1;n||e.begin?.();try{wJ(i,r);}finally{n||e.end?.();}}function wJ(i,r){let t=UD();try{Lm(!0),pO(i,r);let e=0;for(;cg(i);){if(e===AJ)throw new fe(103,!1);e++,pO(i,1);}}finally{Lm(t);}}function zL(i,r){jD(r?dg.Exhaustive:dg.OnlyDirtyViews);try{mP(i);}finally{jD(dg.Off);}}function DJ(i,r,t,e){if(op(r))return;let n=r[xt],o=!1,a=!1;mC(r);let s=!0,l=null,_=null;o||(FL(i)?(_=bJ(r),l=ec(_)):I1()===null?(s=!1,_=IJ(r),l=ec(_)):r[va]&&(gm(r[va]),r[va]=null));try{kD(r),k8(i.bindingStartIndex),t!==null&&TL(i,r,t,2,e);let f=(n&3)===3;if(!o)if(f){let x=i.preOrderCheckHooks;x!==null&&IC(r,x,null);}else{let x=i.preOrderHooks;x!==null&&xC(r,x,0,null),NM(r,0);}if(a||MJ(r),VL(r),GL(r,0),i.contentQueries!==null&&rL(i,r),!o)if(f){let x=i.contentCheckHooks;x!==null&&IC(r,x);}else{let x=i.contentHooks;x!==null&&xC(r,x,1),NM(r,1);}PJ(i,r);let g=i.components;g!==null&&UL(r,g,0);let S=i.viewQuery;if(S!==null&&QM(2,S,e),!o)if(f){let x=i.viewCheckHooks;x!==null&&IC(r,x);}else{let x=i.viewHooks;x!==null&&xC(r,x,2),NM(r,2);}if(i.firstUpdatePass===!0&&(i.firstUpdatePass=!1),r[nC]){for(let x of r[nC])x();r[nC]=null;}o||($L(r),r[xt]&=-73);}catch(f){throw o||ld(r),f;}finally{_!==null&&(Qc(_,l),s&&EJ(_)),_C();}}function GL(i,r){for(let t=K$(i);t!==null;t=Q$(t))for(let e=Er;e<t.length;e++){let n=t[e];jL(n,r);}}function MJ(i){for(let r=K$(i);r!==null;r=Q$(r)){if(!(r[xt]&2))continue;let t=r[rp];for(let e=0;e<t.length;e++){let n=t[e];$D(n);}}}function OJ(i,r,t){Qi(18);let e=za(r,i);jL(e,t),Qi(19,e[Wn]);}function jL(i,r){oC(i)&&pO(i,r);}function pO(i,r){let e=i[Rt],n=i[xt],o=i[va],a=!!(r===0&&n&16);if(a||=!!(n&64&&r===0),a||=!!(n&1024),a||=!!(o?.dirty&&zu(o)),a||=!1,o&&(o.dirty=!1),i[xt]&=-9217,a)DJ(e,i,e.template,i[Wn]);else if(n&8192){VL(i),GL(i,1);let s=e.components;s!==null&&UL(i,s,1),$L(i);}}function UL(i,r,t){for(let e=0;e<r.length;e++)OJ(i,r[e],t);}function PJ(i,r){let t=i.hostBindingOpCodes;if(t!==null)try{for(let e=0;e<t.length;e++){let n=t[e];if(n<0)cd(~n);else{let o=n,a=t[++e],s=t[++e];L8(a,o);let l=r[o];Qi(24,l),s(2,l),Qi(25,l);}}}finally{cd(-1);}}function _P(i,r){let t=UD()?64:1088;for(i[Qs].changeDetectionScheduler?.notify(r);i;){i[xt]|=t;let e=rd(i);if(Nm(i)&&!e)return i;i=e;}return null;}function WL(i,r,t,e){return[i,!0,0,r,null,e,null,t,null,null];}function BL(i,r){let t=Er+r;if(t<i.length)return i[t];}function zg(i,r,t,e=!0){let n=r[Rt];if(RJ(n,r,i,t),e){let a=uO(t,i),s=r[ui],l=s.parentNode(i[ad]);l!==null&&_J(n,i[oo],s,r,l,a);}let o=r[Ju];o!==null&&o.firstChild!==null&&(o.firstChild=null);}function HL(i,r){let t=wg(i,r);return t!==void 0&&iy(t[Rt],t),t;}function wg(i,r){if(i.length<=Er)return;let t=Er+r,e=i[t];if(e){let n=e[od];n!==null&&n!==i&&uP(n,e),r>0&&(i[t-1][Va]=e[Va]);let o=ig(i,Er+r);mJ(e[Rt],e);let a=o[Zs];a!==null&&a.detachView(o[Rt]),e[mr]=null,e[Va]=null,e[xt]&=-129;}return e;}function RJ(i,r,t,e){let n=Er+e,o=t.length;e>0&&(t[n-1][Va]=r),e<o-Er?(r[Va]=t[n],SD(t,Er+e,r)):(t.push(r),r[Va]=null),r[mr]=t;let a=r[od];a!==null&&t!==a&&qL(a,r);let s=r[Zs];s!==null&&s.insertView(i),aC(r),r[xt]|=128;}function qL(i,r){let t=i[rp],e=r[mr];if(Js(e))i[xt]|=2;else{let n=e[mr][ao];r[ao]!==n&&(i[xt]|=2);}t===null?i[rp]=[r]:t.push(r);}var md=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let r=this._lView,t=r[Rt];return Ag(t,r,t.firstChild,[]);}constructor(r,t){this._lView=r,this._cdRefInjectingView=t;}get context(){return this._lView[Wn];}set context(r){this._lView[Wn]=r;}get destroyed(){return op(this._lView);}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let r=this._lView[mr];if(vs(r)){let t=r[og],e=t?t.indexOf(this):-1;e>-1&&(wg(r,e),ig(t,e));}this._attachedToViewContainer=!1;}iy(this._lView[Rt],this._lView);}onDestroy(r){LD(this._lView,r);}markForCheck(){_P(this._cdRefInjectingView||this._lView,4);}detach(){this._lView[xt]&=-129;}reattach(){aC(this._lView),this._lView[xt]|=128;}detectChanges(){this._lView[xt]|=1024,mP(this._lView);}checkNoChanges(){return;try{this.exhaustive??=this._lView[ep].get(uJ,s$);}catch{this.exhaustive=s$;}}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0;}detachFromAppRef(){this._appRef=null;let r=Nm(this._lView),t=this._lView[od];t!==null&&!r&&uP(t,this._lView),xL(this._lView[Rt],this._lView);}attachToAppRef(r){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=r;let t=Nm(this._lView),e=this._lView[od];e!==null&&!t&&qL(e,this._lView),aC(this._lView);}};var Hn=(()=>{class i{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=NJ;constructor(t,e,n){this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n;}get ssrId(){return this._declarationTContainer.tView?.ssrId||null;}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e);}createEmbeddedViewImpl(t,e,n){let o=Vg(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:n});return new md(o);}}return i;})();function NJ(){return oy(_r(),ut());}function oy(i,r){return i.type&4?new Hn(r,i,Km(i,r)):null;}function YL(i,r,t){let e=r.insertBeforeIndex,n=Array.isArray(e)?e[0]:e;return n===null?ML(i,r,t):Xo(t[n]);}function XL(i,r,t,e,n){let o=r.insertBeforeIndex;if(Array.isArray(o)){let a=e,s=null;if(r.type&3||(s=a,a=n),a!==null&&r.componentOffset===-1)for(let l=1;l<o.length;l++){let _=t[o[l]];up(i,a,_,s,!1);}}}function Gg(i,r,t,e,n){let o=i.data[r];if(o===null)o=fP(i,r,t,e,n),$8()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=e,o.attrs=n;let a=$m();o.injectorIndex=a===null?-1:a.injectorIndex;}return bs(o,!0),o;}function fP(i,r,t,e,n){let o=GD(),a=lC(),s=a?o:o&&o.parent,l=i.data[r]=$J(i,s,t,r,e,n);return kJ(i,l,o,a),l;}function kJ(i,r,t,e){i.firstChild===null&&(i.firstChild=r),t!==null&&(e?t.child==null&&r.parent!==null&&(t.child=r):t.next===null&&(t.next=r,r.prev=t));}function $J(i,r,t,e,n,o){let a=r?r.injectorIndex:-1,s=0;return zD()&&(s|=128),{type:t,index:e,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:n,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};}function KL(i,r){if(i.push(r),i.length>1)for(let t=i.length-2;t>=0;t--){let e=i[t];QL(e)||LJ(e,r)&&FJ(e)===null&&VJ(e,r.index);}}function QL(i){return!(i.type&64);}function LJ(i,r){return QL(r)||i.index>r.index;}function FJ(i){let r=i.insertBeforeIndex;return Array.isArray(r)?r[0]:r;}function VJ(i,r){let t=i.insertBeforeIndex;Array.isArray(t)?t[0]=r:(PL(YL,XL),i.insertBeforeIndex=r);}function yg(i,r){let t=i.data[r];return t===null||typeof t=="string"?null:t.hasOwnProperty("currentCaseLViewIndex")?t:t.value;}function zJ(i,r,t){let e=i.data[r];e===null?i.data[r]=t:e.value=t;}function GJ(i,r){let t=i.insertBeforeIndex;t===null?(PL(YL,XL),t=i.insertBeforeIndex=[null,r]):(d8(Array.isArray(t),!0,"Expecting array here"),t.push(r));}function jJ(i,r,t){let e=fP(i,t,64,null,null);return KL(r,e),e;}function ay(i,r){let t=r[i.currentCaseLViewIndex];return t===null?t:t<0?~t:t;}function UJ(i){return i>>>17;}function WJ(i){return(i&131070)>>>1;}function BJ(i,r,t){return i|r<<17|t<<1;}function HJ(i){return i===-1;}function ZL(i,r,t){i.index=0;let e=ay(r,t);e!==null?i.removes=r.remove[e]:i.removes=qr;}function mO(i){if(i.index<i.removes.length){let r=i.removes[i.index++];if(r>0)return i.lView[r];{i.stack.push(i.index,i.removes);let t=~r,e=i.lView[Rt].data[t];return ZL(i,e,i.lView),mO(i);}}else return i.stack.length===0?null:(i.removes=i.stack.pop(),i.index=i.stack.pop(),mO(i));}function qJ(){let i={stack:[],index:-1};function r(t,e){for(i.lView=e;i.stack.length;)i.stack.pop();return ZL(i,t.value,e),mO.bind(null,i);}return r;}var pXe=new RegExp(`^(\\d+)*(${dZ}|${cZ})*(.*)`);var YJ=()=>{};function XJ(i,r,t,e){YJ(i,r,t,e);}var KJ=()=>{};function QJ(i,r,t){KJ(i,r,t);}function ZJ(i){let r=i[PD]??[],e=i[mr][ui],n=[];for(let o of r)o.data[eL]!==void 0?n.push(o):JJ(o,e);i[PD]=n;}function JJ(i,r){let t=0,e=i.firstChild;if(e){let n=i.data[J$];for(;t<n;){let o=e.nextSibling;eP(r,e,!1),e=o,t++;}}}var eee=()=>null,tee=()=>null;function kC(i,r){return eee(i,r);}function JL(i,r,t){return tee(i,r,t);}var e5=class{},sy=class{},_O=class{resolveComponentFactory(r){throw new fe(917,!1);}},jg=class{static NULL=new _O();},tr=class{},Jt=(()=>{class i{destroyNode=null;static __NG_ELEMENT_ID__=()=>iee();}return i;})();function iee(){let i=ut(),r=_r(),t=za(r.index,i);return(Js(t)?t:i)[ui];}var t5=(()=>{class i{static ɵprov=Q({token:i,providedIn:"root",factory:()=>null});}return i;})();var wC={},fO=class{injector;parentInjector;constructor(r,t){this.injector=r,this.parentInjector=t;}get(r,t,e){let n=this.injector.get(r,wC,e);return n!==wC||t===wC?n:this.parentInjector.get(r,t,e);}};function hO(i,r,t){let e=t?i.styles:null,n=t?i.classes:null,o=0;if(r!==null)for(let a=0;a<r.length;a++){let s=r[a];if(typeof s=="number")o=s;else if(o==1)n=X1(n,s);else if(o==2){let l=s,_=r[++a];e=X1(e,l+": "+_+";");}}t?i.styles=e:i.stylesWithoutHost=e,t?i.classes=n:i.classesWithoutHost=n;}function k(i,r=0){let t=ut();if(t===null)return K(i,r);let e=_r();return W$(e,t,pr(i),r);}function Ug(){let i="invalid";throw new Error(i);}function hP(i,r,t,e,n){let o=e===null?null:{"":-1},a=n(i,t);if(a!==null){let s=a,l=null,_=null;for(let f of a)if(f.resolveHostDirectives!==null){[s,l,_]=f.resolveHostDirectives(a);break;}oee(i,r,t,s,o,l,_);}o!==null&&e!==null&&nee(t,e,o);}function nee(i,r,t){let e=i.localNames=[];for(let n=0;n<r.length;n+=2){let o=t[r[n+1]];if(o==null)throw new fe(-301,!1);e.push(r[n],o);}}function ree(i,r,t){r.componentOffset=t,(i.components??=[]).push(r.index);}function oee(i,r,t,e,n,o,a){let s=e.length,l=!1;for(let S=0;S<s;S++){let x=e[S];!l&&Cs(x)&&(l=!0,ree(i,t,S)),qM(NC(t,r),i,x.type);}uee(t,i.data.length,s);for(let S=0;S<s;S++){let x=e[S];x.providersResolver&&x.providersResolver(x);}let _=!1,f=!1,g=Fg(i,r,s,null);s>0&&(t.directiveToIndex=new Map());for(let S=0;S<s;S++){let x=e[S];if(t.mergedAttrs=Wm(t.mergedAttrs,x.hostAttrs),see(i,t,r,g,x),dee(g,x,n),a!==null&&a.has(x)){let[R,j]=a.get(x);t.directiveToIndex.set(x.type,[g,R+t.directiveStart,j+t.directiveStart]);}else(o===null||!o.has(x))&&t.directiveToIndex.set(x.type,g);x.contentQueries!==null&&(t.flags|=4),(x.hostBindings!==null||x.hostAttrs!==null||x.hostVars!==0)&&(t.flags|=64);let D=x.type.prototype;!_&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((i.preOrderHooks??=[]).push(t.index),_=!0),!f&&(D.ngOnChanges||D.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(t.index),f=!0),g++;}aee(i,t,o);}function aee(i,r,t){for(let e=r.directiveStart;e<r.directiveEnd;e++){let n=i.data[e];if(t===null||!t.has(n))l$(0,r,n,e),l$(1,r,n,e),d$(r,e,!1);else{let o=t.get(n);c$(0,r,o,e),c$(1,r,o,e),d$(r,e,!0);}}}function l$(i,r,t,e){let n=i===0?t.inputs:t.outputs;for(let o in n)if(n.hasOwnProperty(o)){let a;i===0?a=r.inputs??={}:a=r.outputs??={},a[o]??=[],a[o].push(e),i5(r,o);}}function c$(i,r,t,e){let n=i===0?t.inputs:t.outputs;for(let o in n)if(n.hasOwnProperty(o)){let a=n[o],s;i===0?s=r.hostDirectiveInputs??={}:s=r.hostDirectiveOutputs??={},s[a]??=[],s[a].push(e,o),i5(r,a);}}function i5(i,r){r==="class"?i.flags|=8:r==="style"&&(i.flags|=16);}function d$(i,r,t){let{attrs:e,inputs:n,hostDirectiveInputs:o}=i;if(e===null||!t&&n===null||t&&o===null||ZO(i)){i.initialInputs??=[],i.initialInputs.push(null);return;}let a=null,s=0;for(;s<e.length;){let l=e[s];if(l===0){s+=4;continue;}else if(l===5){s+=2;continue;}else if(typeof l=="number")break;if(!t&&n.hasOwnProperty(l)){let _=n[l];for(let f of _)if(f===r){a??=[],a.push(l,e[s+1]);break;}}else if(t&&o.hasOwnProperty(l)){let _=o[l];for(let f=0;f<_.length;f+=2)if(_[f]===r){a??=[],a.push(_[f+1],e[s+1]);break;}}s+=2;}i.initialInputs??=[],i.initialInputs.push(a);}function see(i,r,t,e,n){i.data[e]=n;let o=n.factory||(n.factory=nd(n.type,!0)),a=new dp(o,Cs(n),k);i.blueprint[e]=a,t[e]=a,lee(i,r,e,Fg(i,t,n.hostVars,Ir),n);}function lee(i,r,t,e,n){let o=n.hostBindings;if(o){let a=i.hostBindingOpCodes;a===null&&(a=i.hostBindingOpCodes=[]);let s=~r.index;cee(a)!=s&&a.push(s),a.push(t,e,o);}}function cee(i){let r=i.length;for(;r>0;){let t=i[--r];if(typeof t=="number"&&t<0)return t;}return 0;}function dee(i,r,t){if(t){if(r.exportAs)for(let e=0;e<r.exportAs.length;e++)t[r.exportAs[e]]=i;Cs(r)&&(t[""]=i);}}function uee(i,r,t){i.flags|=1,i.directiveStart=r,i.directiveEnd=r+t,i.providerIndexes=r;}function n5(i,r,t,e,n,o,a,s){let l=r.consts,_=Ca(l,a),f=Gg(r,i,2,e,_);return o&&hP(r,t,f,Ca(l,s),n),f.mergedAttrs=Wm(f.mergedAttrs,f.attrs),f.attrs!==null&&hO(f,f.attrs,!1),f.mergedAttrs!==null&&hO(f,f.mergedAttrs,!0),r.queries!==null&&r.queries.elementStart(r,f),f;}function r5(i,r){FO(i,r),rC(r)&&i.queries.elementEnd(r);}function gP(i){return ly(i)?Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i:!1;}function o5(i,r){if(Array.isArray(i))for(let t=0;t<i.length;t++)r(i[t]);else{let t=i[Symbol.iterator](),e;for(;!(e=t.next()).done;)r(e.value);}}function ly(i){return i!==null&&(typeof i=="function"||typeof i=="object");}function mp(i,r,t){return i[r]=t;}function a5(i,r){return i[r];}function Xr(i,r,t){if(t===Ir)return!1;let e=i[r];return Object.is(e,t)?!1:(i[r]=t,!0);}function Dg(i,r,t,e){let n=Xr(i,r,t);return Xr(i,r+1,e)||n;}function s5(i,r,t,e,n){let o=Dg(i,r,t,e);return Xr(i,r+2,n)||o;}function l5(i,r,t,e,n,o){let a=Dg(i,r,t,e);return Dg(i,r+2,n,o)||a;}function LM(i,r,t){return function e(n){let o=sd(i)?za(i.index,r):r;_P(o,5);let a=r[Wn],s=u$(r,a,t,n),l=e.__ngNextListenerFn__;for(;l;)s=u$(r,a,l,n)&&s,l=l.__ngNextListenerFn__;return s;};}function u$(i,r,t,e){let n=kt(null);try{return Qi(6,r,t),t(e)!==!1;}catch(o){return sJ(i,o),!1;}finally{Qi(7,r,t),kt(n);}}function pee(i,r,t,e,n,o,a,s){let l=ag(i),_=!1,f=null;if(!e&&l&&(f=mee(r,t,o,i.index)),f!==null){let g=f.__ngLastListenerFn__||f;g.__ngNextListenerFn__=a,f.__ngLastListenerFn__=a,_=!0;}else{let g=ys(i,t),S=e?e(g):g;pZ(t,S,o,s);let x=n.listen(S,o,s),D=e?R=>e(Xo(R[i.index])):i.index;c5(D,r,t,o,s,x,!1);}return _;}function mee(i,r,t,e){let n=i.cleanup;if(n!=null)for(let o=0;o<n.length-1;o+=2){let a=n[o];if(a===t&&n[o+1]===e){let s=r[Pm],l=n[o+2];return s&&s.length>l?s[l]:null;}typeof a=="string"&&(o+=2);}return null;}function c5(i,r,t,e,n,o,a){let s=r.firstCreatePass?VD(r):null,l=FD(t),_=l.length;l.push(n,o),s&&s.push(e,i,_,(_+1)*(a?-1:1));}function p$(i,r,t,e,n,o){let a=r[t],s=r[Rt],_=s.data[t].outputs[e],g=a[_].subscribe(o);c5(i.index,s,r,n,o,g,!0);}var gO=Symbol("BINDING");var $C=class extends jg{ngModule;constructor(r){super(),this.ngModule=r;}resolveComponentFactory(r){let t=Ks(r);return new _d(t,this.ngModule);}};function _ee(i){return Object.keys(i).map(r=>{let[t,e,n]=i[r],o={propName:t,templateName:r,isSignal:(e&JC.SignalBased)!==0};return n&&(o.transform=n),o;});}function fee(i){return Object.keys(i).map(r=>({propName:i[r],templateName:r}));}function hee(i,r,t){let e=r instanceof Xi?r:r?.injector;return e&&i.getStandaloneInjector!==null&&(e=i.getStandaloneInjector(e)||e),e?new fO(t,e):t;}function gee(i){let r=i.get(tr,null);if(r===null)throw new fe(407,!1);let t=i.get(t5,null),e=i.get(Fa,null);return{rendererFactory:r,sanitizer:t,changeDetectionScheduler:e,ngReflect:!1};}function vee(i,r){let t=(i.selectors[0][0]||"div").toLowerCase();return JO(r,t,t==="svg"?RD:t==="math"?E8:null);}var _d=class extends sy{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=_ee(this.componentDef.inputs),this.cachedInputs;}get outputs(){return this.cachedOutputs??=fee(this.componentDef.outputs),this.cachedOutputs;}constructor(r,t){super(),this.componentDef=r,this.ngModule=t,this.componentType=r.type,this.selector=WZ(r.selectors),this.ngContentSelectors=r.ngContentSelectors??[],this.isBoundToModule=!!t;}create(r,t,e,n,o,a){Qi(22);let s=kt(null);try{let l=this.componentDef,_=Cee(e,l,a,o),f=hee(l,n||this.ngModule,r),g=gee(f),S=g.rendererFactory.createRenderer(null,l),x=e?QZ(S,e,l.encapsulation,f):vee(l,S),D=a?.some(m$)||o?.some(V=>typeof V!="function"&&V.bindings.some(m$)),R=iP(null,_,null,512|SL(l),null,null,g,S,f,null,nL(x,f,!0));R[Ki]=x,mC(R);let j=null;try{let V=n5(Ki,_,R,"#host",()=>_.directiveRegistry,!0,0);x&&(bL(S,x,V),pd(x,R)),ey(_,R,V),jO(_,V,R),r5(_,V),t!==void 0&&bee(V,this.ngContentSelectors,t),j=za(V.index,R),R[Wn]=j[Wn],cP(_,R,null);}catch(V){throw j!==null&&XM(j),XM(R),V;}finally{Qi(23),_C();}return new LC(this.componentType,R,!!D);}finally{kt(s);}}};function Cee(i,r,t,e){let n=i?["ng-version","20.0.1"]:BZ(r.selectors[0]),o=null,a=null,s=0;if(t)for(let f of t)s+=f[gO].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(a??=[]).push(f));if(e)for(let f=0;f<e.length;f++){let g=e[f];if(typeof g!="function")for(let S of g.bindings){s+=S[gO].requiredVars;let x=f+1;S.create&&(S.targetIdx=x,(o??=[]).push(S)),S.update&&(S.targetIdx=x,(a??=[]).push(S));}}let l=[r];if(e)for(let f of e){let g=typeof f=="function"?f:f.type,S=tC(g);l.push(S);}return tP(0,null,yee(o,a),1,s,l,null,null,null,[n],null);}function yee(i,r){return!i&&!r?null:t=>{if(t&1&&i)for(let e of i)e.create();if(t&2&&r)for(let e of r)e.update();};}function m$(i){let r=i[gO].kind;return r==="input"||r==="twoWay";}var LC=class extends e5{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(r,t,e){super(),this._rootLView=t,this._hasInputBindings=e,this._tNode=lg(t[Rt],Ki),this.location=Km(this._tNode,t),this.instance=za(this._tNode.index,t)[Wn],this.hostView=this.changeDetectorRef=new md(t,void 0),this.componentType=r;}setInput(r,t){this._hasInputBindings;let e=this._tNode;if(this.previousInputValues??=new Map(),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),t))return;let n=this._rootLView,o=lP(e,n[Rt],n,r,t);this.previousInputValues.set(r,t);let a=za(e.index,n);_P(a,1);}get injector(){return new cp(this._tNode,this._rootLView);}destroy(){this.hostView.destroy();}onDestroy(r){this.hostView.onDestroy(r);}};function bee(i,r,t){let e=i.projection=[];for(let n=0;n<r.length;n++){let o=t[n];e.push(o!=null&&o.length?Array.from(o):null);}}var Mt=(()=>{class i{static __NG_ELEMENT_ID__=See;}return i;})();function See(){let i=_r();return u5(i,ut());}var Eee=Mt,d5=class extends Eee{_lContainer;_hostTNode;_hostLView;constructor(r,t,e){super(),this._lContainer=r,this._hostTNode=t,this._hostLView=e;}get element(){return Km(this._hostTNode,this._hostLView);}get injector(){return new cp(this._hostTNode,this._hostLView);}get parentInjector(){let r=VO(this._hostTNode,this._hostLView);if(F$(r)){let t=PC(r,this._hostLView),e=OC(r),n=t[Rt].data[e+8];return new cp(n,t);}else return new cp(null,this._hostLView);}clear(){for(;this.length>0;)this.remove(this.length-1);}get(r){let t=_$(this._lContainer);return t!==null&&t[r]||null;}get length(){return this._lContainer.length-Er;}createEmbeddedView(r,t,e){let n,o;typeof e=="number"?n=e:e!=null&&(n=e.index,o=e.injector);let a=kC(this._lContainer,r.ssrId),s=r.createEmbeddedViewImpl(t||{},o,a);return this.insertImpl(s,n,Bm(this._hostTNode,a)),s;}createComponent(r,t,e,n,o,a,s){let l=r&&!FQ(r),_;if(l)_=t;else{let j=t||{};_=j.index,e=j.injector,n=j.projectableNodes,o=j.environmentInjector||j.ngModuleRef,a=j.directives,s=j.bindings;}let f=l?r:new _d(Ks(r)),g=e||this.parentInjector;if(!o&&f.ngModule==null){let V=(l?g:this.parentInjector).get(Xi,null);V&&(o=V);}let S=Ks(f.componentType??{}),x=kC(this._lContainer,S?.id??null),D=x?.firstChild??null,R=f.create(g,n,D,o,a,s);return this.insertImpl(R.hostView,_,Bm(this._hostTNode,x)),R;}insert(r,t){return this.insertImpl(r,t,!0);}insertImpl(r,t,e){let n=r._lView;if(I8(n)){let s=this.indexOf(r);if(s!==-1)this.detach(s);else{let l=n[mr],_=new d5(l,l[oo],l[mr]);_.detach(_.indexOf(r));}}let o=this._adjustIndex(t),a=this._lContainer;return zg(a,n,o,e),r.attachToViewContainerRef(),SD(FM(a),o,r),r;}move(r,t){return this.insert(r,t);}indexOf(r){let t=_$(this._lContainer);return t!==null?t.indexOf(r):-1;}remove(r){let t=this._adjustIndex(r,-1),e=wg(this._lContainer,t);e&&(ig(FM(this._lContainer),t),iy(e[Rt],e));}detach(r){let t=this._adjustIndex(r,-1),e=wg(this._lContainer,t);return e&&ig(FM(this._lContainer),t)!=null?new md(e):null;}_adjustIndex(r,t=0){return r??this.length+t;}};function _$(i){return i[og];}function FM(i){return i[og]||(i[og]=[]);}function u5(i,r){let t,e=r[i.index];return vs(e)?t=e:(t=WL(e,r,null,i),r[i.index]=t,nP(r,t)),Iee(t,r,i,e),new d5(t,i,r);}function Tee(i,r){let t=i[ui],e=t.createComment(""),n=ys(r,i),o=t.parentNode(n);return up(t,o,e,t.nextSibling(n),!1),e;}var Iee=wee,xee=()=>!1;function Aee(i,r,t){return xee(i,r,t);}function wee(i,r,t,e){if(i[ad])return;let n;t.type&8?n=Xo(e):n=Tee(r,t),i[ad]=n;}var vO=class i{queryList;matches=null;constructor(r){this.queryList=r;}clone(){return new i(this.queryList);}setDirty(){this.queryList.setDirty();}},CO=class i{queries;constructor(r=[]){this.queries=r;}createEmbeddedView(r){let t=r.queries;if(t!==null){let e=r.contentQueries!==null?r.contentQueries[0]:t.length,n=[];for(let o=0;o<e;o++){let a=t.getByIndex(o),s=this.queries[a.indexInDeclarationView];n.push(s.clone());}return new i(n);}return null;}insertView(r){this.dirtyQueriesWithMatches(r);}detachView(r){this.dirtyQueriesWithMatches(r);}finishViewCreation(r){this.dirtyQueriesWithMatches(r);}dirtyQueriesWithMatches(r){for(let t=0;t<this.queries.length;t++)CP(r,t).matches!==null&&this.queries[t].setDirty();}},FC=class{flags;read;predicate;constructor(r,t,e=null){this.flags=t,this.read=e,typeof r=="string"?this.predicate=Ree(r):this.predicate=r;}},yO=class i{queries;constructor(r=[]){this.queries=r;}elementStart(r,t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementStart(r,t);}elementEnd(r){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(r);}embeddedTView(r){let t=null;for(let e=0;e<this.length;e++){let n=t!==null?t.length:0,o=this.getByIndex(e).embeddedTView(r,n);o&&(o.indexInDeclarationView=e,t!==null?t.push(o):t=[o]);}return t!==null?new i(t):null;}template(r,t){for(let e=0;e<this.queries.length;e++)this.queries[e].template(r,t);}getByIndex(r){return this.queries[r];}get length(){return this.queries.length;}track(r){this.queries.push(r);}},bO=class i{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(r,t=-1){this.metadata=r,this._declarationNodeIndex=t;}elementStart(r,t){this.isApplyingToNode(t)&&this.matchTNode(r,t);}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1);}template(r,t){this.elementStart(r,t);}embeddedTView(r,t){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,t),new i(this.metadata)):null;}isApplyingToNode(r){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,e=r.parent;for(;e!==null&&e.type&8&&e.index!==t;)e=e.parent;return t===(e!==null?e.index:-1);}return this._appliesToNextNode;}matchTNode(r,t){let e=this.metadata.predicate;if(Array.isArray(e))for(let n=0;n<e.length;n++){let o=e[n];this.matchTNodeWithReadOption(r,t,Dee(t,o)),this.matchTNodeWithReadOption(r,t,AC(t,r,o,!1,!1));}else e===Hn?t.type&4&&this.matchTNodeWithReadOption(r,t,-1):this.matchTNodeWithReadOption(r,t,AC(t,r,e,!1,!1));}matchTNodeWithReadOption(r,t,e){if(e!==null){let n=this.metadata.read;if(n!==null){if(n===ze||n===Mt||n===Hn&&t.type&4)this.addMatch(t.index,-2);else{let o=AC(t,r,n,!1,!1);o!==null&&this.addMatch(t.index,o);}}else this.addMatch(t.index,e);}}addMatch(r,t){this.matches===null?this.matches=[r,t]:this.matches.push(r,t);}};function Dee(i,r){let t=i.localNames;if(t!==null){for(let e=0;e<t.length;e+=2)if(t[e]===r)return t[e+1];}return null;}function Mee(i,r){return i.type&11?Km(i,r):i.type&4?oy(i,r):null;}function Oee(i,r,t,e){return t===-1?Mee(r,i):t===-2?Pee(i,r,e):xg(i,i[Rt],t,r);}function Pee(i,r,t){if(t===ze)return Km(r,i);if(t===Hn)return oy(r,i);if(t===Mt)return u5(r,i);}function p5(i,r,t,e){let n=r[Zs].queries[e];if(n.matches===null){let o=i.data,a=t.matches,s=[];for(let l=0;a!==null&&l<a.length;l+=2){let _=a[l];if(_<0)s.push(null);else{let f=o[_];s.push(Oee(r,f,a[l+1],t.metadata.read));}}n.matches=s;}return n.matches;}function SO(i,r,t,e){let n=i.queries.getByIndex(t),o=n.matches;if(o!==null){let a=p5(i,r,n,t);for(let s=0;s<o.length;s+=2){let l=o[s];if(l>0)e.push(a[s/2]);else{let _=o[s+1],f=r[-l];for(let g=Er;g<f.length;g++){let S=f[g];S[od]===S[mr]&&SO(S[Rt],S,_,e);}if(f[rp]!==null){let g=f[rp];for(let S=0;S<g.length;S++){let x=g[S];SO(x[Rt],x,_,e);}}}}}return e;}function vP(i,r){return i[Zs].queries[r].queryList;}function m5(i,r,t){let e=new uc((t&4)===4);return w8(i,r,e,e.destroy),(r[Zs]??=new CO()).queries.push(new vO(e))-1;}function _5(i,r,t){let e=ki();return e.firstCreatePass&&(h5(e,new FC(i,r,t),-1),(r&2)===2&&(e.staticViewQueries=!0)),m5(e,ut(),r);}function f5(i,r,t,e){let n=ki();if(n.firstCreatePass){let o=_r();h5(n,new FC(r,t,e),o.index),Nee(n,i),(t&2)===2&&(n.staticContentQueries=!0);}return m5(n,ut(),t);}function Ree(i){return i.split(",").map(r=>r.trim());}function h5(i,r,t){i.queries===null&&(i.queries=new yO()),i.queries.track(new bO(r,t));}function Nee(i,r){let t=i.contentQueries||(i.contentQueries=[]),e=t.length?t[t.length-1]:-1;r!==e&&t.push(i.queries.length-1,r);}function CP(i,r){return i.queries.getByIndex(r);}function g5(i,r){let t=i[Rt],e=CP(t,r);return e.crossesNgTemplate?SO(t,i,r,[]):p5(t,i,e,r);}function v5(i,r,t){let e,n=qh(()=>{e._dirtyCounter();let o=kee(e,i);if(r&&o===void 0)throw new fe(-951,!1);return o;});return e=n[dr],e._dirtyCounter=$i(0),e._flatValue=void 0,n;}function yP(i){return v5(!0,!1,i);}function bP(i){return v5(!0,!0,i);}function C5(i,r){let t=i[dr];t._lView=ut(),t._queryIndex=r,t._queryList=vP(t._lView,r),t._queryList.onDirty(()=>t._dirtyCounter.update(e=>e+1));}function kee(i,r){let t=i._lView,e=i._queryIndex;if(t===void 0||e===void 0||t[xt]&4)return r?void 0:qr;let n=vP(t,e),o=g5(t,e);return n.reset(o,q$),r?n.first:n._changesDetected||i._flatValue===void 0?i._flatValue=n.toArray():i._flatValue;}function y5(i){let r=[],t=new Map();function e(n){let o=t.get(n);if(!o){let a=i(n);t.set(n,o=a.then(Lee));}return o;}return VC.forEach((n,o)=>{let a=[];n.templateUrl&&a.push(e(n.templateUrl).then(_=>{n.template=_;}));let s=typeof n.styles=="string"?[n.styles]:n.styles||[];if(n.styles=s,n.styleUrl&&n.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(n.styleUrls?.length){let _=n.styles.length,f=n.styleUrls;n.styleUrls.forEach((g,S)=>{s.push(""),a.push(e(g).then(x=>{s[_+S]=x,f.splice(f.indexOf(g),1),f.length==0&&(n.styleUrls=void 0);}));});}else n.styleUrl&&a.push(e(n.styleUrl).then(_=>{s.push(_),n.styleUrl=void 0;}));let l=Promise.all(a).then(()=>Fee(o));r.push(l);}),b5(),Promise.all(r).then(()=>{});}var VC=new Map(),$ee=new Set();function b5(){let i=VC;return VC=new Map(),i;}function S5(){return VC.size===0;}function Lee(i){return typeof i=="string"?i:i.text();}function Fee(i){$ee.delete(i);}var f$=new Set();function ws(i){f$.has(i)||(f$.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}));}var rl=class{},cy=class{};var Mg=class extends rl{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new $C(this);constructor(r,t,e,n=!0){super(),this.ngModuleType=r,this._parent=t;let o=ID(r);this._bootstrapComponents=_L(o.bootstrap),this._r3Injector=qD(r,t,[{provide:rl,useValue:this},{provide:jg,useValue:this.componentFactoryResolver},...e],Yo(r),new Set(["environment"])),n&&this.resolveInjectorInitializers();}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType);}get injector(){return this._r3Injector;}destroy(){let r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null;}onDestroy(r){this.destroyCbs.push(r);}},Og=class extends cy{moduleType;constructor(r){super(),this.moduleType=r;}create(r){return new Mg(this.moduleType,r,[]);}};function E5(i,r,t){return new Mg(i,r,t,!1);}var zC=class extends rl{injector;componentFactoryResolver=new $C(this);instance=null;constructor(r){super();let t=new Xu([...r.providers,{provide:rl,useValue:this},{provide:jg,useValue:this.componentFactoryResolver}],r.parent||Om(),r.debugName,new Set(["environment"]));this.injector=t,r.runEnvironmentInitializers&&t.resolveInjectorInitializers();}destroy(){this.injector.destroy();}onDestroy(r){this.injector.onDestroy(r);}};function t_(i,r,t=null){return new zC({providers:i,parent:r,debugName:t,runEnvironmentInitializers:!0}).injector;}var Vee=(()=>{class i{_injector;cachedInjectors=new Map();constructor(t){this._injector=t;}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let e=xD(!1,t.type),n=e.length>0?t_([e],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,n);}return this.cachedInjectors.get(t);}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy();}finally{this.cachedInjectors.clear();}}static ɵprov=Q({token:i,providedIn:"environment",factory:()=>new i(K(Xi))});}return i;})();function Z(i){return Ym(()=>{let r=T5(i),t=rt(re({},r),{decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===zO.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&i.dependencies||null,getStandaloneInjector:r.standalone?n=>n.get(Vee).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||pc.Emulated,styles:i.styles||qr,_:null,schemas:i.schemas||null,tView:null,id:""});r.standalone&&ws("NgStandalone"),I5(t);let e=i.dependencies;return t.directiveDefs=GC(e,!1),t.pipeDefs=GC(e,!0),t.id=Wee(t),t;});}function zee(i){return Ks(i)||tC(i);}function Gee(i){return i!==null;}function He(i){return Ym(()=>({type:i.type,bootstrap:i.bootstrap||qr,declarations:i.declarations||qr,imports:i.imports||qr,exports:i.exports||qr,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}));}function jee(i,r){if(i==null)return hs;let t={};for(let e in i)if(i.hasOwnProperty(e)){let n=i[e],o,a,s,l;Array.isArray(n)?(s=n[0],o=n[1],a=n[2]??o,l=n[3]||null):(o=n,a=n,s=JC.None,l=null),t[o]=[e,s,l],r[o]=a;}return t;}function Uee(i){if(i==null)return hs;let r={};for(let t in i)i.hasOwnProperty(t)&&(r[i[t]]=t);return r;}function Le(i){return Ym(()=>{let r=T5(i);return I5(r),r;});}function Kt(i){return{type:i.type,name:i.name,factory:null,pure:i.pure!==!1,standalone:i.standalone??!0,onDestroy:i.type.prototype.ngOnDestroy||null};}function T5(i){let r={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:r,inputConfig:i.inputs||hs,exportAs:i.exportAs||null,standalone:i.standalone??!0,signals:i.signals===!0,selectors:i.selectors||qr,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:jee(i.inputs,r),outputs:Uee(i.outputs),debugInfo:null};}function I5(i){i.features?.forEach(r=>r(i));}function GC(i,r){if(!i)return null;let t=r?g8:zee;return()=>(typeof i=="function"?i():i).map(e=>t(e)).filter(Gee);}function Wee(i){let r=0,t=typeof i.consts=="function"?"":i.consts,e=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,t,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery];for(let o of e.join("|"))r=Math.imul(31,r)+o.charCodeAt(0)<<0;return r+=2147483648,"c"+r;}function Bee(i){return Object.getPrototypeOf(i.prototype).constructor;}function ci(i){let r=Bee(i.type),t=!0,e=[i];for(;r;){let n;if(Cs(i))n=r.ɵcmp||r.ɵdir;else{if(r.ɵcmp)throw new fe(903,!1);n=r.ɵdir;}if(n){if(t){e.push(n);let a=i;a.inputs=VM(i.inputs),a.declaredInputs=VM(i.declaredInputs),a.outputs=VM(i.outputs);let s=n.hostBindings;s&&Kee(i,s);let l=n.viewQuery,_=n.contentQueries;if(l&&Yee(i,l),_&&Xee(i,_),Hee(i,n),c8(i.outputs,n.outputs),Cs(n)&&n.data.animation){let f=i.data;f.animation=(f.animation||[]).concat(n.data.animation);}}let o=n.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(i),s===ci&&(t=!1);}}r=Object.getPrototypeOf(r);}qee(e);}function Hee(i,r){for(let t in r.inputs){if(!r.inputs.hasOwnProperty(t)||i.inputs.hasOwnProperty(t))continue;let e=r.inputs[t];e!==void 0&&(i.inputs[t]=e,i.declaredInputs[t]=r.declaredInputs[t]);}}function qee(i){let r=0,t=null;for(let e=i.length-1;e>=0;e--){let n=i[e];n.hostVars=r+=n.hostVars,n.hostAttrs=Wm(n.hostAttrs,t=Wm(t,n.hostAttrs));}}function VM(i){return i===hs?{}:i===qr?[]:i;}function Yee(i,r){let t=i.viewQuery;t?i.viewQuery=(e,n)=>{r(e,n),t(e,n);}:i.viewQuery=r;}function Xee(i,r){let t=i.contentQueries;t?i.contentQueries=(e,n,o)=>{r(e,n,o),t(e,n,o);}:i.contentQueries=r;}function Kee(i,r){let t=i.hostBindings;t?i.hostBindings=(e,n)=>{r(e,n),t(e,n);}:i.hostBindings=r;}function SP(i){let r=t=>{let e=Array.isArray(i);t.hostDirectives===null?(t.resolveHostDirectives=Qee,t.hostDirectives=e?i.map(EO):[i]):e?t.hostDirectives.unshift(...i.map(EO)):t.hostDirectives.unshift(i);};return r.ngInherit=!0,r;}function Qee(i){let r=[],t=!1,e=null,n=null;for(let o=0;o<i.length;o++){let a=i[o];if(a.hostDirectives!==null){let s=r.length;e??=new Map(),n??=new Map(),x5(a,r,e),n.set(a,[s,r.length-1]);}o===0&&Cs(a)&&(t=!0,r.push(a));}for(let o=t?1:0;o<i.length;o++)r.push(i[o]);return[r,e,n];}function x5(i,r,t){if(i.hostDirectives!==null)for(let e of i.hostDirectives)if(typeof e=="function"){let n=e();for(let o of n)h$(EO(o),r,t);}else h$(e,r,t);}function h$(i,r,t){let e=tC(i.directive);Zee(e.declaredInputs,i.inputs),x5(e,r,t),t.set(e,i),r.push(e);}function EO(i){return typeof i=="function"?{directive:pr(i),inputs:hs,outputs:hs}:{directive:pr(i.directive),inputs:g$(i.inputs),outputs:g$(i.outputs)};}function g$(i){if(i===void 0||i.length===0)return hs;let r={};for(let t=0;t<i.length;t+=2)r[i[t]]=i[t+1];return r;}function Zee(i,r){for(let t in r)if(r.hasOwnProperty(t)){let e=r[t],n=i[t];i[e]=n;}}function Jee(i,r,t,e,n,o,a,s,l){let _=r.consts,f=Gg(r,i,4,a||null,s||null);sC()&&hP(r,t,f,Ca(_,l),aP),f.mergedAttrs=Wm(f.mergedAttrs,f.attrs),FO(r,f);let g=f.tView=tP(2,f,e,n,o,r.directiveRegistry,r.pipeRegistry,null,r.schemas,_,null);return r.queries!==null&&(r.queries.template(r,f),g.queries=r.queries.embeddedTView(f)),f;}function Hm(i,r,t,e,n,o,a,s,l,_,f){let g=t+Ki,S=r.firstCreatePass?Jee(g,r,i,e,n,o,a,s,_):r.data[g];l&&(S.flags|=l),bs(S,!1);let x=ete(r,i,S,t);Fm()&&ny(r,i,x,S),pd(x,i);let D=WL(x,i,x,S);return i[g]=D,nP(i,D),Aee(D,S,i),ag(S)&&ey(r,i,S),_!=null&&rP(i,S,f),S;}function E(i,r,t,e,n,o,a,s){let l=ut(),_=ki(),f=Ca(_.consts,o);return Hm(l,_,i,r,t,e,n,f,void 0,a,s),E;}var ete=tte;function tte(i,r,t,e){return Vm(!0),r[ui].createComment("");}var dy=function(i){return i[i.CHANGE_DETECTION=0]="CHANGE_DETECTION",i[i.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",i;}(dy||{}),gd=new se(""),A5=!1,TO=class extends xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(r=!1){super(),this.__isAsync=r,iC()&&(this.destroyRef=N(Ga,{optional:!0})??void 0,this.pendingTasks=N(cc,{optional:!0})??void 0);}emit(r){let t=kt(null);try{super.next(r);}finally{kt(t);}}subscribe(r,t,e){let n=r,o=t||(()=>null),a=e;if(r&&typeof r=="object"){let l=r;n=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l);}this.__isAsync&&(o=this.wrapInTimeout(o),n&&(n=this.wrapInTimeout(n)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:n,error:o,complete:a});return r instanceof ht&&r.add(s),s;}wrapInTimeout(r){return t=>{let e=this.pendingTasks?.add();setTimeout(()=>{try{r(t);}finally{e!==void 0&&this.pendingTasks?.remove(e);}});};}},ae=TO;function w5(i){let r,t;function e(){i=sp;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),r!==void 0&&clearTimeout(r);}catch{}}return r=setTimeout(()=>{i(),e();}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{i(),e();})),()=>e();}function v$(i){return queueMicrotask(()=>i()),()=>{i=sp;};}var EP="isAngularZone",jC=EP+"_ID",ite=0,We=class i{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ae(!1);onMicrotaskEmpty=new ae(!1);onStable=new ae(!1);onError=new ae(!1);constructor(r){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1,scheduleInRootZone:o=A5}=r;if(typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec())),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!n&&e,a.shouldCoalesceRunChangeDetection=n,a.callbackScheduled=!1,a.scheduleInRootZone=o,ote(a);}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(EP)===!0;}static assertInAngularZone(){if(!i.isInAngularZone())throw new fe(909,!1);}static assertNotInAngularZone(){if(i.isInAngularZone())throw new fe(909,!1);}run(r,t,e){return this._inner.run(r,t,e);}runTask(r,t,e,n){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+n,r,nte,sp,sp);try{return o.runTask(a,t,e);}finally{o.cancelTask(a);}}runGuarded(r,t,e){return this._inner.runGuarded(r,t,e);}runOutsideAngular(r){return this._outer.run(r);}},nte={};function TP(i){if(i._nesting==0&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null);}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null));}finally{i.isStable=!0;}}}function rte(i){if(i.isCheckStableRunning||i.callbackScheduled)return;i.callbackScheduled=!0;function r(){w5(()=>{i.callbackScheduled=!1,IO(i),i.isCheckStableRunning=!0,TP(i),i.isCheckStableRunning=!1;});}i.scheduleInRootZone?Zone.root.run(()=>{r();}):i._outer.run(()=>{r();}),IO(i);}function ote(i){let r=()=>{rte(i);},t=ite++;i._inner=i._inner.fork({name:"angular",properties:{[EP]:!0,[jC]:t,[jC+t]:!0},onInvokeTask:(e,n,o,a,s,l)=>{if(ate(l))return e.invokeTask(o,a,s,l);try{return C$(i),e.invokeTask(o,a,s,l);}finally{(i.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||i.shouldCoalesceRunChangeDetection)&&r(),y$(i);}},onInvoke:(e,n,o,a,s,l,_)=>{try{return C$(i),e.invoke(o,a,s,l,_);}finally{i.shouldCoalesceRunChangeDetection&&!i.callbackScheduled&&!ste(l)&&r(),y$(i);}},onHasTask:(e,n,o,a)=>{e.hasTask(o,a),n===o&&(a.change=="microTask"?(i._hasPendingMicrotasks=a.microTask,IO(i),TP(i)):a.change=="macroTask"&&(i.hasPendingMacrotasks=a.macroTask));},onHandleError:(e,n,o,a)=>(e.handleError(o,a),i.runOutsideAngular(()=>i.onError.emit(a)),!1)});}function IO(i){i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&i.callbackScheduled===!0?i.hasPendingMicrotasks=!0:i.hasPendingMicrotasks=!1;}function C$(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null));}function y$(i){i._nesting--,TP(i);}var Pg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ae();onMicrotaskEmpty=new ae();onStable=new ae();onError=new ae();run(r,t,e){return r.apply(t,e);}runGuarded(r,t,e){return r.apply(t,e);}runOutsideAngular(r){return r();}runTask(r,t,e,n){return r.apply(t,e);}};function ate(i){return D5(i,"__ignore_ng_zone__");}function ste(i){return D5(i,"__scheduler_tick__");}function D5(i,r){return!Array.isArray(i)||i.length!==1?!1:i[0]?.data?.[r]===!0;}function M5(i="zone.js",r){return i==="noop"?new Pg():i==="zone.js"?new We(r):i;}var uy=(()=>{class i{impl=null;execute(){this.impl?.execute();}static ɵprov=Q({token:i,providedIn:"root",factory:()=>new i()});}return i;})(),IP=[0,1,2,3],xP=(()=>{class i{ngZone=N(We);scheduler=N(Fa);errorHandler=N(Yr,{optional:!0});sequences=new Set();deferredRegistrations=new Set();executing=!1;constructor(){N(gd,{optional:!0});}execute(){let t=this.sequences.size>0;t&&Qi(16),this.executing=!0;for(let e of IP)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=n.hooks[e];return o(n.pipelinedValue);},n.snapshot));}catch(o){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(o);}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Qi(17);}register(t){let{view:e}=t;e!==void 0?((e[np]??=[]).push(t),ld(e),e[xt]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t);}addSequence(t){this.sequences.add(t),this.scheduler.notify(7);}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t));}maybeTrace(t,e){return e?e.run(dy.AFTER_NEXT_RENDER,t):t();}static ɵprov=Q({token:i,providedIn:"root",factory:()=>new i()});}return i;})(),Rg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(r,t,e,n,o,a=null){this.impl=r,this.hooks=t,this.view=e,this.once=n,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy());}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null;}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let r=this.view?.[np];r&&(this.view[np]=r.filter(t=>t!==this));}};function xr(i,r){!r?.injector&&DD(xr);let t=r?.injector??N(tt);return ws("NgAfterNextRender"),cte(i,t,r,!0);}function lte(i){return i instanceof Function?[void 0,void 0,i,void 0]:[i.earlyRead,i.write,i.mixedReadWrite,i.read];}function cte(i,r,t,e){let n=r.get(uy);n.impl??=r.get(xP);let o=r.get(gd,null,{optional:!0}),a=t?.manualCleanup!==!0?r.get(Ga):null,s=r.get(ap,null,{optional:!0}),l=new Rg(n.impl,lte(i),s?.view,e,a,o?.snapshot(null));return n.impl.register(l),l;}var py=(()=>{class i{log(t){console.log(t);}warn(t){console.warn(t);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"platform"});}return i;})();var my=new se(""),i_=new se(""),Wg=(()=>{class i{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,e,n){this._ngZone=t,this.registry=e,iC()&&(this._destroyRef=N(Ga,{optional:!0})??void 0),AP||(O5(n),n.addToWindow(e)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone");});}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1;}}),e=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady();});}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),e.unsubscribe();});}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks;}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb();}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>e.updateCb&&e.updateCb(t)?(clearTimeout(e.timeoutId),!1):!0);}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[];}addCallback(t,e,n){let o=-1;e&&e>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),t();},e)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:n});}whenStable(t,e,n){if(n&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady();}registerApplication(t){this.registry.registerApplication(t,this);}unregisterApplication(t){this.registry.unregisterApplication(t);}findProviders(t,e,n){return[];}static ɵfac=function(e){return new(e||i)(K(We),K(Bg),K(i_));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})(),Bg=(()=>{class i{_applications=new Map();registerApplication(t,e){this._applications.set(t,e);}unregisterApplication(t){this._applications.delete(t);}unregisterAllApplications(){this._applications.clear();}getTestability(t){return this._applications.get(t)||null;}getAllTestabilities(){return Array.from(this._applications.values());}getAllRootElements(){return Array.from(this._applications.keys());}findTestabilityInTree(t,e=!0){return AP?.findTestabilityInTree(this,t,e)??null;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"platform"});}return i;})();function O5(i){AP=i;}var AP;function fc(i){return!!i&&typeof i.then=="function";}function _y(i){return!!i&&typeof i.subscribe=="function";}var wP=new se("");function fy(i){return Zu([{provide:wP,multi:!0,useValue:i}]);}var DP=(()=>{class i{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e;});appInits=N(wP,{optional:!0})??[];injector=N(tt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let n of this.appInits){let o=ro(this.injector,n);if(fc(o))t.push(o);else if(_y(o)){let a=new Promise((s,l)=>{o.subscribe({complete:s,error:l});});t.push(a);}}let e=()=>{this.done=!0,this.resolve();};Promise.all(t).then(()=>{e();}).catch(n=>{this.reject(n);}),t.length===0&&e(),this.initialized=!0;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),hy=new se("");function P5(){Rw(()=>{let i="";throw new fe(600,i);});}function R5(i){return i.isBoundToModule;}var dte=10;function MP(i,r){return Array.isArray(r)?r.reduce(MP,i):re(re({},i),r);}var ko=(()=>{class i{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(No);afterRenderManager=N(uy);zonelessEnabled=N(_g);rootEffectScheduler=N(fg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set();autoDetectTestViews=new Set();includeAllTestViews=!1;afterTick=new xe();get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views];}get destroyed(){return this._destroyed;}componentTypes=[];components=[];internalPendingTask=N(cc);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(me(t=>!t));}constructor(){N(gd,{optional:!0});}whenStable(){let t;return new Promise(e=>{t=this.isStable.subscribe({next:n=>{n&&e();}});}).finally(()=>{t.unsubscribe();});}_injector=N(Xi);_rendererFactory=null;get injector(){return this._injector;}bootstrap(t,e){return this.bootstrapImpl(t,e);}bootstrapImpl(t,e,n=tt.NULL){return this._injector.get(We).run(()=>{Qi(10);let a=t instanceof sy;if(!this._injector.get(DP).done){let D="";throw new fe(405,D);}let l;a?l=t:l=this._injector.get(jg).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let _=R5(l)?void 0:this._injector.get(rl),f=e||l.selector,g=l.create(n,[],f,_),S=g.location.nativeElement,x=g.injector.get(my,null);return x?.registerApplication(S),g.onDestroy(()=>{this.detachView(g.hostView),bg(this.components,g),x?.unregisterApplication(S);}),this._loadComponent(g),Qi(11,g),g;});}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick();}_tick(){Qi(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(dy.CHANGE_DETECTION,this.tickImpl):this.tickImpl();}tickImpl=()=>{if(this._runningTick)throw new fe(101,!1);let t=kt(null);try{this._runningTick=!0,this.synchronize();}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,kt(t),this.afterTick.next(),Qi(13);}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(tr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<dte;)Qi(14),this.synchronizeOnce(),Qi(15);}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:n}of this.allViews){if(!e&&!cg(n))continue;let o=e&&!this.zonelessEnabled?0:1;mP(n,o),t=!0;}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return;}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews();}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>cg(t))){this.dirtyFlags|=2;return;}else this.dirtyFlags&=-8;}attachView(t){let e=t;this._views.push(e),e.attachToAppRef(this);}detachView(t){let e=t;bg(this._views,e),e.detachFromAppRef();}_loadComponent(t){this.attachView(t.hostView);try{this.tick();}catch(n){this.internalErrorHandler(n);}this.components.push(t),this._injector.get(hy,[]).forEach(n=>n(t));}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy());}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[];}}onDestroy(t){return this._destroyListeners.push(t),()=>bg(this._destroyListeners,t);}destroy(){if(this._destroyed)throw new fe(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy();}get viewCount(){return this._views.length;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function bg(i,r){let t=i.indexOf(r);t>-1&&i.splice(t,1);}function lt(i,r,t,e){let n=ut(),o=el();if(Xr(n,o,r)){let a=ki(),s=mg();oJ(s,n,i,r,t,e);}return lt;}var xO=class{destroy(r){}updateValue(r,t){}swap(r,t){let e=Math.min(r,t),n=Math.max(r,t),o=this.detach(n);if(n-e>1){let a=this.detach(e);this.attach(e,o),this.attach(n,a);}else this.attach(e,o);}move(r,t){this.attach(t,this.detach(r));}};function zM(i,r,t,e,n){return i===t&&Object.is(r,e)?1:Object.is(n(i,r),n(t,e))?-1:0;}function ute(i,r,t){let e,n,o=0,a=i.length-1,s=void 0;if(Array.isArray(r)){let l=r.length-1;for(;o<=a&&o<=l;){let _=i.at(o),f=r[o],g=zM(o,_,o,f,t);if(g!==0){g<0&&i.updateValue(o,f),o++;continue;}let S=i.at(a),x=r[l],D=zM(a,S,l,x,t);if(D!==0){D<0&&i.updateValue(a,x),a--,l--;continue;}let R=t(o,_),j=t(a,S),V=t(o,f);if(Object.is(V,j)){let ie=t(l,x);Object.is(ie,R)?(i.swap(o,a),i.updateValue(a,x),l--,a--):i.move(a,o),i.updateValue(o,f),o++;continue;}if(e??=new UC(),n??=S$(i,o,a,t),AO(i,e,o,V))i.updateValue(o,f),o++,a++;else if(n.has(V))e.set(R,i.detach(o)),a--;else{let ie=i.create(o,r[o]);i.attach(o,ie),o++,a++;}}for(;o<=l;)b$(i,e,t,o,r[o]),o++;}else if(r!=null){let l=r[Symbol.iterator](),_=l.next();for(;!_.done&&o<=a;){let f=i.at(o),g=_.value,S=zM(o,f,o,g,t);if(S!==0)S<0&&i.updateValue(o,g),o++,_=l.next();else{e??=new UC(),n??=S$(i,o,a,t);let x=t(o,g);if(AO(i,e,o,x))i.updateValue(o,g),o++,a++,_=l.next();else if(!n.has(x))i.attach(o,i.create(o,g)),o++,a++,_=l.next();else{let D=t(o,f);e.set(D,i.detach(o)),a--;}}}for(;!_.done;)b$(i,e,t,i.length,_.value),_=l.next();}for(;o<=a;)i.destroy(i.detach(a--));e?.forEach(l=>{i.destroy(l);});}function AO(i,r,t,e){return r!==void 0&&r.has(e)?(i.attach(t,r.get(e)),r.delete(e),!0):!1;}function b$(i,r,t,e,n){if(AO(i,r,e,t(e,n)))i.updateValue(e,n);else{let o=i.create(e,n);i.attach(e,o);}}function S$(i,r,t,e){let n=new Set();for(let o=r;o<=t;o++)n.add(e(o,i.at(o)));return n;}var UC=class{kvMap=new Map();_vMap=void 0;has(r){return this.kvMap.has(r);}delete(r){if(!this.has(r))return!1;let t=this.kvMap.get(r);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(r,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(r),!0;}get(r){return this.kvMap.get(r);}set(r,t){if(this.kvMap.has(r)){let e=this.kvMap.get(r);this._vMap===void 0&&(this._vMap=new Map());let n=this._vMap;for(;n.has(e);)e=n.get(e);n.set(e,t);}else this.kvMap.set(r,t);}forEach(r){for(let[t,e]of this.kvMap)if(r(e,t),this._vMap!==void 0){let n=this._vMap;for(;n.has(e);)e=n.get(e),r(e,t);}}};function Ti(i,r,t,e,n,o,a,s){ws("NgControlFlow");let l=ut(),_=ki(),f=Ca(_.consts,o);return Hm(l,_,i,r,t,e,n,f,256,a,s),OP;}function OP(i,r,t,e,n,o,a,s){ws("NgControlFlow");let l=ut(),_=ki(),f=Ca(_.consts,o);return Hm(l,_,i,r,t,e,n,f,512,a,s),OP;}function Ii(i,r){ws("NgControlFlow");let t=ut(),e=el(),n=t[e]!==Ir?t[e]:-1,o=n!==-1?WC(t,Ki+n):void 0,a=0;if(Xr(t,e,i)){let s=kt(null);try{if(o!==void 0&&HL(o,a),i!==-1){let l=Ki+i,_=WC(t,l),f=OO(t[Rt],l),g=JL(_,f,t),S=Vg(t,f,r,{dehydratedView:g});zg(_,S,a,Bm(f,g));}}finally{kt(s);}}else if(o!==void 0){let s=BL(o,a);s!==void 0&&(s[Wn]=r);}}var wO=class{lContainer;$implicit;$index;constructor(r,t,e){this.lContainer=r,this.$implicit=t,this.$index=e;}get $count(){return this.lContainer.length-Er;}};var DO=class{hasEmptyBlock;trackByFn;liveCollection;constructor(r,t,e){this.hasEmptyBlock=r,this.trackByFn=t,this.liveCollection=e;}};function Hg(i,r,t,e,n,o,a,s,l,_,f,g,S){ws("NgControlFlow");let x=ut(),D=ki(),R=l!==void 0,j=ut(),V=s?a.bind(j[ao][Wn]):a,ie=new DO(R,V);j[Ki+i]=ie,Hm(x,D,i+1,r,t,e,n,Ca(D.consts,o),256),R&&Hm(x,D,i+2,l,_,f,g,Ca(D.consts,S),512);}var MO=class extends xO{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(r,t,e){super(),this.lContainer=r,this.hostLView=t,this.templateTNode=e;}get length(){return this.lContainer.length-Er;}at(r){return this.getLView(r)[Wn].$implicit;}attach(r,t){let e=t[Ju];this.needsIndexUpdate||=r!==this.length,zg(this.lContainer,t,r,Bm(this.templateTNode,e));}detach(r){return this.needsIndexUpdate||=r!==this.length-1,pte(this.lContainer,r);}create(r,t){let e=kC(this.lContainer,this.templateTNode.tView.ssrId),n=Vg(this.hostLView,this.templateTNode,new wO(this.lContainer,t,r),{dehydratedView:e});return this.operationsCounter?.recordCreate(),n;}destroy(r){iy(r[Rt],r),this.operationsCounter?.recordDestroy();}updateValue(r,t){this.getLView(r)[Wn].$implicit=t;}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset();}updateIndexes(){if(this.needsIndexUpdate)for(let r=0;r<this.length;r++)this.getLView(r)[Wn].$index=r;}getLView(r){return mte(this.lContainer,r);}};function qg(i){let r=kt(null),t=Es();try{let e=ut(),n=e[Rt],o=e[t],a=t+1,s=WC(e,a);if(o.liveCollection===void 0){let _=OO(n,a);o.liveCollection=new MO(s,e,_);}else o.liveCollection.reset();let l=o.liveCollection;if(ute(l,i,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let _=el(),f=l.length===0;if(Xr(e,_,f)){let g=t+2,S=WC(e,g);if(f){let x=OO(n,g),D=JL(S,x,e),R=Vg(e,x,void 0,{dehydratedView:D});zg(S,R,0,Bm(x,D));}else n.firstUpdatePass&&ZJ(S),HL(S,0);}}}finally{kt(r);}}function WC(i,r){return i[r];}function pte(i,r){return wg(i,r);}function mte(i,r){return BL(i,r);}function OO(i,r){return lg(i,r);}function m(i,r,t){let e=ut(),n=el();if(Xr(e,n,r)){let o=ki(),a=mg();oP(a,e,i,r,e[ui],t);}return m;}function PO(i,r,t,e,n){lP(r,i,t,n?"class":"style",e);}function u(i,r,t,e){let n=ut(),o=ki(),a=Ki+i,s=n[ui],l=o.firstCreatePass?n5(a,o,n,r,aP,sC(),t,e):o.data[a],_=_te(o,n,l,s,r,i);n[a]=_;let f=ag(l);return bs(l,!0),bL(s,_,l),!ty(l)&&Fm()&&ny(o,n,_,l),(D8()===0||f)&&pd(_,n),M8(),f&&(ey(o,n,l),jO(o,l,n)),e!==null&&rP(n,l),u;}function p(){let i=_r();lC()?cC():(i=i.parent,bs(i,!1));let r=i;P8(r)&&R8(),O8();let t=ki();return t.firstCreatePass&&r5(t,r),r.classesWithoutHost!=null&&WQ(r)&&PO(t,r,ut(),r.classesWithoutHost,!0),r.stylesWithoutHost!=null&&BQ(r)&&PO(t,r,ut(),r.stylesWithoutHost,!1),p;}function $(i,r,t,e){return u(i,r,t,e),p(),$;}var _te=(i,r,t,e,n,o)=>(Vm(!0),JO(e,n,W8()));function fte(i,r,t,e,n){let o=r.consts,a=Ca(o,e),s=Gg(r,i,8,"ng-container",a);a!==null&&hO(s,a,!0);let l=Ca(o,n);return sC()&&hP(r,t,s,l,aP),s.mergedAttrs=Wm(s.mergedAttrs,s.attrs),r.queries!==null&&r.queries.elementStart(r,s),s;}function U(i,r,t){let e=ut(),n=ki(),o=i+Ki,a=n.firstCreatePass?fte(o,n,e,r,t):n.data[o];bs(a,!0);let s=hte(n,e,a,i);return e[o]=s,Fm()&&ny(n,e,s,a),pd(s,e),ag(a)&&(ey(n,e,a),jO(n,a,e)),t!=null&&rP(e,a),U;}function W(){let i=_r(),r=ki();return lC()?cC():(i=i.parent,bs(i,!1)),r.firstCreatePass&&(FO(r,i),rC(i)&&r.queries.elementEnd(i)),W;}function vd(i,r,t){return U(i,r,t),W(),vd;}var hte=(i,r,t,e)=>(Vm(!0),CL(r[ui],""));function O(){return ut();}function ja(i,r,t){let e=ut(),n=el();if(Xr(e,n,r)){let o=ki(),a=mg();IL(a,e,i,r,e[ui],t);}return ja;}var lp=void 0;function gte(i){let r=Math.floor(Math.abs(i)),t=i.toString().replace(/^[^.]*\.?/,"").length;return r===1&&t===0?1:5;}var vte=["en",[["a","p"],["AM","PM"],lp],[["AM","PM"],lp,lp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lp,"{1} 'at' {0}",lp],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",gte],Sg={};function PP(i,r,t){typeof r!="string"&&(t=r,r=i[Cn.LocaleId]),r=r.toLowerCase().replace(/_/g,"-"),Sg[r]=i,t&&(Sg[r][Cn.ExtraData]=t);}function Zo(i){let r=Cte(i),t=E$(r);if(t)return t;let e=r.split("-")[0];if(t=E$(e),t)return t;if(e==="en")return vte;throw new fe(701,!1);}function RP(i){return Zo(i)[Cn.PluralCase];}function E$(i){return i in Sg||(Sg[i]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[i]),Sg[i];}var Cn=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i;}(Cn||{});function Cte(i){return i.toLowerCase().replace(/_/g,"-");}var yte=["zero","one","two","few","many"];function bte(i,r){let t=RP(r)(parseInt(i,10)),e=yte[t];return e!==void 0?e:"other";}var Yg="en-US";var N5={marker:"element"},k5={marker:"ICU"},dc=function(i){return i[i.SHIFT=2]="SHIFT",i[i.APPEND_EAGERLY=1]="APPEND_EAGERLY",i[i.COMMENT=2]="COMMENT",i;}(dc||{}),$5=Yg;function L5(i){typeof i=="string"&&($5=i.toLowerCase().replace(/_/g,"-"));}function Ste(){return $5;}var Ng=0,Eg=0;function Ete(i){i&&(Ng=Ng|1<<Math.min(Eg,31)),Eg++;}function Tte(i,r,t){if(Eg>0){let e=i.data[t],n=Array.isArray(e)?e:e.update,o=dC()-Eg-1;V5(i,r,n,o,Ng);}Ng=0,Eg=0;}function Ite(i,r,t){let e=i[ui];switch(t){case Node.COMMENT_NODE:return CL(e,r);case Node.TEXT_NODE:return gL(e,r);case Node.ELEMENT_NODE:return JO(e,r,null);}}var DC=(i,r,t,e)=>(Vm(!0),Ite(i,t,e));function xte(i,r,t,e){let n=i[ui];for(let o=0;o<r.length;o++){let a=r[o++],s=r[o],l=(a&dc.COMMENT)===dc.COMMENT,_=(a&dc.APPEND_EAGERLY)===dc.APPEND_EAGERLY,f=a>>>dc.SHIFT,g=i[f],S=!1;g===null&&(g=i[f]=DC(i,f,s,l?Node.COMMENT_NODE:Node.TEXT_NODE),S=Fm()),_&&t!==null&&S&&up(n,t,g,e,!1);}}function F5(i,r,t,e){let n=t[ui],o=null,a;for(let s=0;s<r.length;s++){let l=r[s];if(typeof l=="string"){let _=r[++s];t[_]===null&&(t[_]=DC(t,_,l,Node.TEXT_NODE));}else if(typeof l=="number")switch(l&1){case 0:let _=UJ(l);o===null&&(o=_,a=n.parentNode(e));let f,g;if(_===o?(f=e,g=a):(f=null,g=Xo(t[_])),g!==null){let R=WJ(l),j=t[R];up(n,g,j,f,!1);let V=yg(i,R);if(V!==null&&typeof V=="object"){let ie=ay(V,t);ie!==null&&F5(i,V.create[ie],t,t[V.anchorIdx]);}}break;case 1:let S=l>>>1,x=r[++s],D=r[++s];sP(n,sg(S,t),null,null,x,D,null);break;default:}else switch(l){case k5:let _=r[++s],f=r[++s];if(t[f]===null){let x=t[f]=DC(t,f,_,Node.COMMENT_NODE);pd(x,t);}break;case N5:let g=r[++s],S=r[++s];if(t[S]===null){let x=t[S]=DC(t,S,g,Node.ELEMENT_NODE);pd(x,t);}break;default:}}}function V5(i,r,t,e,n){for(let o=0;o<t.length;o++){let a=t[o],s=t[++o];if(a&n){let l="";for(let _=o+1;_<=o+s;_++){let f=t[_];if(typeof f=="string")l+=f;else if(typeof f=="number")if(f<0)l+=ga(r[e-f]);else{let g=f>>>2;switch(f&3){case 1:let S=t[++_],x=t[++_],D=i.data[g];typeof D=="string"?sP(r[ui],r[g],null,D,S,l,x):oP(D,r,S,l,r[ui],x);break;case 0:let R=r[g];R!==null&&vL(r[ui],R,l);break;case 2:Ate(i,yg(i,g),r,l);break;case 3:T$(i,yg(i,g),e,r);break;}}}}else{let l=t[o+1];if(l>0&&(l&3)===3){let _=l>>>2,f=yg(i,_);r[f.currentCaseLViewIndex]<0&&T$(i,f,e,r);}}o+=s;}}function T$(i,r,t,e){let n=e[r.currentCaseLViewIndex];if(n!==null){let o=Ng;n<0&&(n=e[r.currentCaseLViewIndex]=~n,o=-1),V5(i,e,r.update[n],t,o);}}function Ate(i,r,t,e){let n=wte(r,e);if(ay(r,t)!==n&&(z5(i,r,t),t[r.currentCaseLViewIndex]=n===null?null:~n,n!==null)){let a=t[r.anchorIdx];a&&F5(i,r.create[n],t,a),QJ(t,r.anchorIdx,n);}}function z5(i,r,t){let e=ay(r,t);if(e!==null){let n=r.remove[e];for(let o=0;o<n.length;o++){let a=n[o];if(a>0){let s=sg(a,t);s!==null&&eP(t[ui],s);}else z5(i,yg(i,~a),t);}}}function wte(i,r){let t=i.cases.indexOf(r);if(t===-1)switch(i.type){case 1:{let e=bte(r,Ste());t=i.cases.indexOf(e),t===-1&&e!=="other"&&(t=i.cases.indexOf("other"));break;}case 0:{t=i.cases.indexOf("other");break;}}return t===-1?null:t;}var BC=/�(\d+):?\d*�/gi,Dte=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,Mte=/�(\d+)�/,G5=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,Tg="\uFFFD",Ote=/�\/?\*(\d+:\d+)�/gi,Pte=/�(\/?[#*]\d+):?\d*�/gi,Rte=/\uE500/g;function Nte(i){return i.replace(Rte," ");}function kte(i,r,t,e,n,o){let a=$m(),s=[],l=[],_=[[]],f=[[]];n=Vte(n,o);let g=Nte(n).split(Pte);for(let S=0;S<g.length;S++){let x=g[S];if((S&1)===0){let D=RO(x);for(let R=0;R<D.length;R++){let j=D[R];if((R&1)===0){let V=j;V!==""&&$te(f[0],i,a,_[0],s,l,t,V);}else{let V=j;if(typeof V!="object")throw new Error(`Unable to parse ICU expression in "${n}" message.`);let _e=j5(i,a,_[0],t,s,"",!0).index;W5(f[0],i,t,l,r,V,_e);}}}else{let D=x.charCodeAt(0)===47,R=x.charCodeAt(D?1:0),j=Ki+Number.parseInt(x.substring(D?2:1));if(D)_.shift(),f.shift(),bs($m(),!1);else{let V=jJ(i,_[0],j);_.unshift([]),bs(V,!0);let ie={kind:2,index:j,children:[],type:R===35?0:1};f[0].push(ie),f.unshift(ie.children);}}}i.data[e]={create:s,update:l,ast:f[0],parentTNodeIndex:r};}function j5(i,r,t,e,n,o,a){let s=Fg(i,e,1,null),l=s<<dc.SHIFT,_=$m();r===_&&(_=null),_===null&&(l|=dc.APPEND_EAGERLY),a&&(l|=dc.COMMENT,pJ(qJ)),n.push(l,o===null?"":o);let f=fP(i,s,a?32:1,o===null?"":o,null);KL(t,f);let g=f.index;return bs(f,!1),_!==null&&r!==_&&GJ(_,g),f;}function $te(i,r,t,e,n,o,a,s){let l=s.match(BC),f=j5(r,t,e,a,n,l?null:s,!1).index;l&&Ig(o,s,f,null,0,null),i.push({kind:0,index:f});}function Lte(i,r,t){let n=_r().index,o=[];if(i.firstCreatePass&&i.data[r]===null){for(let a=0;a<t.length;a+=2){let s=t[a],l=t[a+1];if(l!==""){if(Dte.test(l))throw new Error(`ICU expressions are not supported in attributes. Message: "${l}".`);Ig(o,l,n,s,Fte(o),null);}}i.data[r]=o;}}function Ig(i,r,t,e,n,o){let a=i.length,s=a+1;i.push(null,null);let l=a+2,_=r.split(BC),f=0;for(let g=0;g<_.length;g++){let S=_[g];if(g&1){let x=n+parseInt(S,10);i.push(-1-x),f=f|U5(x);}else S!==""&&i.push(S);}return i.push(t<<2|(e?1:0)),e&&i.push(e,o),i[a]=f,i[s]=i.length-l,f;}function Fte(i){let r=0;for(let t=0;t<i.length;t++){let e=i[t];typeof e=="number"&&e<0&&r++;}return r;}function U5(i){return 1<<Math.min(i,31);}function I$(i){let r,t="",e=0,n=!1,o;for(;(r=Ote.exec(i))!==null;)n?r[0]===`${Tg}/*${o}${Tg}`&&(e=r.index,n=!1):(t+=i.substring(e,r.index+r[0].length),o=r[1],n=!0);return t+=i.slice(e),t;}function Vte(i,r){if(HJ(r))return I$(i);{let t=i.indexOf(`:${r}${Tg}`)+2+r.toString().length,e=i.search(new RegExp(`${Tg}\\/\\*\\d+:${r}${Tg}`));return I$(i.substring(t,e));}}function W5(i,r,t,e,n,o,a){let s=0,l={type:o.type,currentCaseLViewIndex:Fg(r,t,1,null),anchorIdx:a,cases:[],create:[],remove:[],update:[]};Ute(e,o,a),zJ(r,a,l);let _=o.values,f=[];for(let g=0;g<_.length;g++){let S=_[g],x=[];for(let R=0;R<S.length;R++){let j=S[R];if(typeof j!="string"){let V=x.push(j)-1;S[R]=`<!--\uFFFD${V}\uFFFD-->`;}}let D=[];f.push(D),s=Gte(D,r,l,t,e,n,o.cases[g],S.join(""),x)|s;}s&&Wte(e,s,a),i.push({kind:3,index:a,cases:f,currentCaseLViewIndex:l.currentCaseLViewIndex});}function zte(i){let r=[],t=[],e=1,n=0;i=i.replace(G5,function(a,s,l){return l==="select"?e=0:e=1,n=parseInt(s.slice(1),10),"";});let o=RO(i);for(let a=0;a<o.length;){let s=o[a++].trim();e===1&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&r.push(s);let l=RO(o[a++]);r.length>t.length&&t.push(l);}return{type:e,mainBinding:n,cases:r,values:t};}function RO(i){if(!i)return[];let r=0,t=[],e=[],n=/[{}]/g;n.lastIndex=0;let o;for(;o=n.exec(i);){let s=o.index;if(o[0]=="}"){if(t.pop(),t.length==0){let l=i.substring(r,s);G5.test(l)?e.push(zte(l)):e.push(l),r=s+1;}}else{if(t.length==0){let l=i.substring(r,s);e.push(l),r=s+1;}t.push("{");}}let a=i.substring(r);return e.push(a),e;}function Gte(i,r,t,e,n,o,a,s,l){let _=[],f=[],g=[];t.cases.push(a),t.create.push(_),t.remove.push(f),t.update.push(g);let x=lL(YC()).getInertBodyElement(s),D=sO(x)||x;return D?B5(i,r,t,e,n,_,f,g,D,o,l,0):0;}function B5(i,r,t,e,n,o,a,s,l,_,f,g){let S=0,x=l.firstChild;for(;x;){let D=Fg(r,e,1,null);switch(x.nodeType){case Node.ELEMENT_NODE:let R=x,j=R.tagName.toLowerCase();if(oO.hasOwnProperty(j)){GM(o,N5,j,_,D),r.data[D]=j;let oe=R.attributes;for(let Ce=0;Ce<oe.length;Ce++){let Ge=oe.item(Ce),dt=Ge.name.toLowerCase();!!Ge.value.match(BC)?pL.hasOwnProperty(dt)&&(YO[dt]?Ig(s,Ge.value,D,Ge.name,0,Jm):Ig(s,Ge.value,D,Ge.name,0,null)):Bte(o,D,Ge);}let Ne={kind:1,index:D,children:[]};i.push(Ne),S=B5(Ne.children,r,t,e,n,o,a,s,x,D,f,g+1)|S,x$(a,D,g);}break;case Node.TEXT_NODE:let V=x.textContent||"",ie=V.match(BC);GM(o,null,ie?"":V,_,D),x$(a,D,g),ie&&(S=Ig(s,V,D,null,0,null)|S),i.push({kind:0,index:D});break;case Node.COMMENT_NODE:let _e=Mte.exec(x.textContent||"");if(_e){let oe=parseInt(_e[1],10),Ne=f[oe];GM(o,k5,"",_,D),W5(i,r,e,n,_,Ne,D),jte(a,D,g);}break;}x=x.nextSibling;}return S;}function x$(i,r,t){t===0&&i.push(r);}function jte(i,r,t){t===0&&(i.push(~r),i.push(r));}function Ute(i,r,t){i.push(U5(r.mainBinding),2,-1-r.mainBinding,t<<2|2);}function Wte(i,r,t){i.push(r,1,t<<2|3);}function GM(i,r,t,e,n){r!==null&&i.push(r),i.push(t,n,BJ(0,e,n));}function Bte(i,r,t){i.push(r<<1|1,t.name,t.value);}function n_(i,r,t=-1){let e=ki(),n=ut(),o=Ki+i,a=Ca(e.consts,r),s=$m();if(e.firstCreatePass&&kte(e,s===null?0:s.index,n,o,a,t),e.type===2){let S=n[ao];S[xt]|=32;}else n[xt]|=32;let l=e.data[o],_=s===n[oo]?null:s,f=wL(e,_,n),g=s&&s.type&8?n[s.index]:null;XJ(n,o,s,t),xte(n,l.create,f,g),WD(!0);}function r_(){WD(!1);}function P(i,r,t){n_(i,r,t),r_();}function Jo(i,r){let t=ki(),e=Ca(t.consts,r);Lte(t,i+Ki,e);}function Kr(i){let r=ut();return Ete(Xr(r,el(),i)),Kr;}function lo(i){Tte(ki(),ut(),i+Ki);}function b(i,r,t){let e=ut(),n=ki(),o=_r();return H5(n,e,e[ui],o,i,r,t),b;}function H5(i,r,t,e,n,o,a){let s=!0,l=null;if((e.type&3||a)&&(l??=LM(e,r,o),pee(e,i,r,a,t,n,o,l)&&(s=!1)),s){let _=e.outputs?.[n],f=e.hostDirectiveOutputs?.[n];if(f&&f.length)for(let g=0;g<f.length;g+=2){let S=f[g],x=f[g+1];l??=LM(e,r,o),p$(e,r,S,x,n,l);}if(_&&_.length)for(let g of _)l??=LM(e,r,o),p$(e,r,g,n,n,l);}}function d(i=1){return U8(i);}function Hte(i,r){let t=null,e=VZ(i);for(let n=0;n<r.length;n++){let o=r[n];if(o==="*"){t=n;continue;}if(e===null?hL(i,o,!0):jZ(e,o))return n;}return t;}function xi(i){let r=ut()[ao][oo];if(!r.projection){let t=i?i.length:1,e=r.projection=f8(t,null),n=e.slice(),o=r.child;for(;o!==null;){if(o.type!==128){let a=i?Hte(o,i):0;a!==null&&(n[a]?n[a].projectionNext=o:e[a]=o,n[a]=o);}o=o.next;}}}function Vt(i,r=0,t,e,n,o){let a=ut(),s=ki(),l=e?i+1:null;l!==null&&Hm(a,s,l,e,n,o,null,t);let _=Gg(s,Ki+i,16,null,t||null);_.projection===null&&(_.projection=r),cC();let g=!a[Ju]||zD();a[ao][oo].projection[_.projection]===null&&l!==null?qte(a,s,l):g&&!ty(_)&&vJ(s,a,_);}function qte(i,r,t){let e=Ki+t,n=r.data[e],o=i[e],a=kC(o,n.tView.ssrId),s=Vg(i,n,void 0,{dehydratedView:a});zg(o,s,0,Bm(n,a));}function on(i,r,t,e){f5(i,r,t,e);}function Et(i,r,t){_5(i,r,t);}function qe(i){let r=ut(),t=ki(),e=pC();pg(e+1);let n=CP(t,e);if(i.dirty&&T8(r)===((n.metadata.flags&2)===2)){if(n.matches===null)i.reset([]);else{let o=g5(r,e);i.reset(o,q$),i.notifyOnChanges();}return!0;}return!1;}function Ye(){return vP(ut(),pC());}function NP(i,r,t,e,n){C5(r,f5(i,t,e,n));}function o_(i,r,t,e){C5(i,_5(r,t,e));}function gy(i=1){pg(pC()+i);}function Pi(i){let r=N8();return km(r,Ki+i);}function EC(i,r){return i<<17|r<<2;}function pp(i){return i>>17&32767;}function Yte(i){return(i&2)==2;}function Xte(i,r){return i&131071|r<<17;}function NO(i){return i|2;}function qm(i){return(i&131068)>>2;}function jM(i,r){return i&-131069|r<<2;}function Kte(i){return(i&1)===1;}function kO(i){return i|1;}function Qte(i,r,t,e,n,o){let a=o?r.classBindings:r.styleBindings,s=pp(a),l=qm(a);i[e]=t;let _=!1,f;if(Array.isArray(t)){let g=t;f=g[1],(f===null||Mm(g,f)>0)&&(_=!0);}else f=t;if(n){if(l!==0){let S=pp(i[s+1]);i[e+1]=EC(S,s),S!==0&&(i[S+1]=jM(i[S+1],e)),i[s+1]=Xte(i[s+1],e);}else i[e+1]=EC(s,0),s!==0&&(i[s+1]=jM(i[s+1],e)),s=e;}else i[e+1]=EC(l,0),s===0?s=e:i[l+1]=jM(i[l+1],e),l=e;_&&(i[e+1]=NO(i[e+1])),A$(i,f,e,!0),A$(i,f,e,!1),Zte(r,f,i,e,o),a=EC(s,l),o?r.classBindings=a:r.styleBindings=a;}function Zte(i,r,t,e,n){let o=n?i.residualClasses:i.residualStyles;o!=null&&typeof r=="string"&&Mm(o,r)>=0&&(t[e+1]=kO(t[e+1]));}function A$(i,r,t,e){let n=i[t+1],o=r===null,a=e?pp(n):qm(n),s=!1;for(;a!==0&&(s===!1||o);){let l=i[a],_=i[a+1];Jte(l,r)&&(s=!0,i[a+1]=e?kO(_):NO(_)),a=e?pp(_):qm(_);}s&&(i[t+1]=e?NO(n):kO(n));}function Jte(i,r){return i===null||r==null||(Array.isArray(i)?i[1]:i)===r?!0:Array.isArray(i)&&typeof r=="string"?Mm(i,r)>=0:!1;}var xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eie(i){return i.substring(xs.key,xs.keyEnd);}function tie(i){return iie(i),q5(i,Y5(i,0,xs.textEnd));}function q5(i,r){let t=xs.textEnd;return t===r?-1:(r=xs.keyEnd=nie(i,xs.key=r,t),Y5(i,r,t));}function iie(i){xs.key=0,xs.keyEnd=0,xs.value=0,xs.valueEnd=0,xs.textEnd=i.length;}function Y5(i,r,t){for(;r<t&&i.charCodeAt(r)<=32;)r++;return r;}function nie(i,r,t){for(;r<t&&i.charCodeAt(r)>32;)r++;return r;}function Ar(i,r,t){return X5(i,r,t,!1),Ar;}function vt(i,r){return X5(i,r,null,!0),vt;}function be(i){oie(uie,rie,i,!0);}function rie(i,r){for(let t=tie(r);t>=0;t=q5(r,t))J1(i,eie(r),!0);}function X5(i,r,t,e){let n=ut(),o=ki(),a=ug(2);if(o.firstUpdatePass&&Q5(o,i,a,e),r!==Ir&&Xr(n,a,r)){let s=o.data[Es()];Z5(o,s,n,n[ui],i,n[a+1]=mie(r,t),e,a);}}function oie(i,r,t,e){let n=ki(),o=ug(2);n.firstUpdatePass&&Q5(n,null,o,e);let a=ut();if(t!==Ir&&Xr(a,o,t)){let s=n.data[Es()];if(J5(s,e)&&!K5(n,o)){let l=e?s.classesWithoutHost:s.stylesWithoutHost;l!==null&&(t=X1(l,t||"")),PO(n,s,a,t,e);}else pie(n,s,a,a[ui],a[o+1],a[o+1]=die(i,r,t),e,o);}}function K5(i,r){return r>=i.expandoStartIndex;}function Q5(i,r,t,e){let n=i.data;if(n[t+1]===null){let o=n[Es()],a=K5(i,t);J5(o,e)&&r===null&&!a&&(r=!1),r=aie(n,o,r,e),Qte(n,o,r,t,a,e);}}function aie(i,r,t,e){let n=V8(i),o=e?r.residualClasses:r.residualStyles;if(n===null)(e?r.classBindings:r.styleBindings)===0&&(t=UM(null,i,r,t,e),t=kg(t,r.attrs,e),o=null);else{let a=r.directiveStylingLast;if(a===-1||i[a]!==n)if(t=UM(n,i,r,t,e),o===null){let l=sie(i,r,e);l!==void 0&&Array.isArray(l)&&(l=UM(null,i,r,l[1],e),l=kg(l,r.attrs,e),lie(i,r,e,l));}else o=cie(i,r,e);}return o!==void 0&&(e?r.residualClasses=o:r.residualStyles=o),t;}function sie(i,r,t){let e=t?r.classBindings:r.styleBindings;if(qm(e)!==0)return i[pp(e)];}function lie(i,r,t,e){let n=t?r.classBindings:r.styleBindings;i[pp(n)]=e;}function cie(i,r,t){let e,n=r.directiveEnd;for(let o=1+r.directiveStylingLast;o<n;o++){let a=i[o].hostAttrs;e=kg(e,a,t);}return kg(e,r.attrs,t);}function UM(i,r,t,e,n){let o=null,a=t.directiveEnd,s=t.directiveStylingLast;for(s===-1?s=t.directiveStart:s++;s<a&&(o=r[s],e=kg(e,o.hostAttrs,n),o!==i);)s++;return i!==null&&(t.directiveStylingLast=s),e;}function kg(i,r,t){let e=t?1:2,n=-1;if(r!==null)for(let o=0;o<r.length;o++){let a=r[o];typeof a=="number"?n=a:n===e&&(Array.isArray(i)||(i=i===void 0?[]:["",i]),J1(i,a,t?!0:r[++o]));}return i===void 0?null:i;}function die(i,r,t){if(t==null||t==="")return qr;let e=[],n=ya(t);if(Array.isArray(n))for(let o=0;o<n.length;o++)i(e,n[o],!0);else if(typeof n=="object")for(let o in n)n.hasOwnProperty(o)&&i(e,o,n[o]);else typeof n=="string"&&r(e,n);return e;}function uie(i,r,t){let e=String(r);e!==""&&!e.includes(" ")&&J1(i,e,t);}function pie(i,r,t,e,n,o,a,s){n===Ir&&(n=qr);let l=0,_=0,f=0<n.length?n[0]:null,g=0<o.length?o[0]:null;for(;f!==null||g!==null;){let S=l<n.length?n[l+1]:void 0,x=_<o.length?o[_+1]:void 0,D=null,R;f===g?(l+=2,_+=2,S!==x&&(D=g,R=x)):g===null||f!==null&&f<g?(l+=2,D=f):(_+=2,D=g,R=x),D!==null&&Z5(i,r,t,e,D,R,a,s),f=l<n.length?n[l]:null,g=_<o.length?o[_]:null;}}function Z5(i,r,t,e,n,o,a,s){if(!(r.type&3))return;let l=i.data,_=l[s+1],f=Kte(_)?w$(l,r,t,n,qm(_),a):void 0;if(!HC(f)){HC(o)||Yte(_)&&(o=w$(l,null,t,n,s,a));let g=sg(Es(),t);yJ(e,a,g,n,o);}}function w$(i,r,t,e,n,o){let a=r===null,s;for(;n>0;){let l=i[n],_=Array.isArray(l),f=_?l[1]:l,g=f===null,S=t[n+1];S===Ir&&(S=g?qr:void 0);let x=g?eC(S,e):f===e?S:void 0;if(_&&!HC(x)&&(x=eC(l,e)),HC(x)&&(s=x,a))return s;let D=i[n+1];n=a?pp(D):qm(D);}if(r!==null){let l=o?r.residualClasses:r.residualStyles;l!=null&&(s=eC(l,e));}return s;}function HC(i){return i!==void 0;}function mie(i,r){return i==null||i===""||(typeof r=="string"?i=i+r:typeof i=="object"&&(i=Yo(ya(i)))),i;}function J5(i,r){return(i.flags&(r?8:16))!==0;}function T(i,r=""){let t=ut(),e=ki(),n=i+Ki,o=e.firstCreatePass?Gg(e,n,1,r,null):e.data[n],a=_ie(e,t,o,r,i);t[n]=a,Fm()&&ny(e,t,a,o),bs(o,!1);}var _ie=(i,r,t,e,n)=>(Vm(!0),gL(r[ui],e));function eF(i,r,t,e=""){return Xr(i,el(),t)?r+ga(t)+e:Ir;}function tF(i,r,t,e,n,o=""){let a=dC(),s=Dg(i,a,t,n);return ug(2),s?r+ga(t)+e+ga(n)+o:Ir;}function iF(i,r,t,e,n,o,a,s=""){let l=dC(),_=s5(i,l,t,n,a);return ug(3),_?r+ga(t)+e+ga(n)+o+ga(a)+s:Ir;}function z(i){return ue("",i),z;}function ue(i,r,t){let e=ut(),n=eF(e,i,r,t);return n!==Ir&&kP(e,Es(),n),ue;}function Yn(i,r,t,e,n){let o=ut(),a=tF(o,i,r,t,e,n);return a!==Ir&&kP(o,Es(),a),Yn;}function hc(i,r,t,e,n,o,a){let s=ut(),l=iF(s,i,r,t,e,n,o,a);return l!==Ir&&kP(s,Es(),l),hc;}function kP(i,r,t){let e=sg(r,i);vL(i[ui],e,t);}function H(i,r,t){XD(r)&&(r=r());let e=ut(),n=el();if(Xr(e,n,r)){let o=ki(),a=mg();oP(a,e,i,r,e[ui],t);}return H;}function Y(i,r){let t=XD(i);return t&&i.set(r),t;}function q(i,r){let t=ut(),e=ki(),n=_r();return H5(e,t,t[ui],n,i,r),q;}function X(i){return Xr(ut(),el(),i)?ga(i):Ir;}function Ct(i,r,t=""){return eF(ut(),i,r,t);}function ea(i,r,t,e,n=""){return tF(ut(),i,r,t,e,n);}function Xg(i,r,t,e,n,o,a=""){return iF(ut(),i,r,t,e,n,o,a);}function fie(i,r,t){let e=ki();if(e.firstCreatePass){let n=Cs(i);$O(t,e.data,e.blueprint,n,!0),$O(r,e.data,e.blueprint,n,!1);}}function $O(i,r,t,e,n){if(i=pr(i),Array.isArray(i))for(let o=0;o<i.length;o++)$O(i[o],r,t,e,n);else{let o=ki(),a=ut(),s=_r(),l=Yu(i)?i:pr(i.provide),_=wD(i),f=s.providerIndexes&1048575,g=s.directiveStart,S=s.providerIndexes>>20;if(Yu(i)||!i.multi){let x=new dp(_,n,k),D=BM(l,r,n?f:f+S,g);D===-1?(qM(NC(s,a),o,l),WM(o,i,r.length),r.push(l),s.directiveStart++,s.directiveEnd++,n&&(s.providerIndexes+=1048576),t.push(x),a.push(x)):(t[D]=x,a[D]=x);}else{let x=BM(l,r,f+S,g),D=BM(l,r,f,f+S),R=x>=0&&t[x],j=D>=0&&t[D];if(n&&!j||!n&&!R){qM(NC(s,a),o,l);let V=vie(n?gie:hie,t.length,n,e,_);!n&&j&&(t[D].providerFactory=V),WM(o,i,r.length,0),r.push(l),s.directiveStart++,s.directiveEnd++,n&&(s.providerIndexes+=1048576),t.push(V),a.push(V);}else{let V=nF(t[n?D:x],_,!n&&e);WM(o,i,x>-1?x:D,V);}!n&&e&&j&&t[D].componentProviders++;}}}function WM(i,r,t,e){let n=Yu(r),o=b8(r);if(n||o){let l=(o?pr(r.useClass):r).prototype.ngOnDestroy;if(l){let _=i.destroyHooks||(i.destroyHooks=[]);if(!n&&r.multi){let f=_.indexOf(t);f===-1?_.push(t,[e,l]):_[f+1].push(e,l);}else _.push(t,l);}}}function nF(i,r,t){return t&&i.componentProviders++,i.multi.push(r)-1;}function BM(i,r,t,e){for(let n=t;n<e;n++)if(r[n]===i)return n;return-1;}function hie(i,r,t,e){return LO(this.multi,[]);}function gie(i,r,t,e){let n=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,s=xg(t,t[Rt],this.providerFactory.index,e);o=s.slice(0,a),LO(n,o);for(let l=a;l<s.length;l++)o.push(s[l]);}else o=[],LO(n,o);return o;}function LO(i,r){for(let t=0;t<i.length;t++){let e=i[t];r.push(e());}return r;}function vie(i,r,t,e,n){let o=new dp(i,t,k);return o.multi=[],o.index=r,o.componentProviders=0,nF(o,n,e&&!t),o;}function Qt(i,r=[]){return t=>{t.providersResolver=(e,n)=>fie(e,n?n(i):i,r);};}function Kg(i,r,t){let e=i.ɵcmp;e.directiveDefs=GC(r,!1),e.pipeDefs=GC(t,!0);}function Ke(i,r,t){let e=Ss()+i,n=ut();return n[e]===Ir?mp(n,e,t?r.call(t):r()):a5(n,e);}function ne(i,r,t,e){return rF(ut(),Ss(),i,r,t,e);}function yn(i,r,t,e,n){return oF(ut(),Ss(),i,r,t,e,n);}function Cd(i,r,t,e,n,o){return aF(ut(),Ss(),i,r,t,e,n,o);}function yd(i,r,t,e,n,o,a){return Cie(ut(),Ss(),i,r,t,e,n,o,a);}function a_(i,r,t,e,n,o,a,s){let l=Ss()+i,_=ut(),f=l5(_,l,t,e,n,o);return Xr(_,l+4,a)||f?mp(_,l+5,s?r.call(s,t,e,n,o,a):r(t,e,n,o,a)):a5(_,l+5);}function Qg(i,r){let t=i[r];return t===Ir?void 0:t;}function rF(i,r,t,e,n,o){let a=r+t;return Xr(i,a,n)?mp(i,a+1,o?e.call(o,n):e(n)):Qg(i,a+1);}function oF(i,r,t,e,n,o,a){let s=r+t;return Dg(i,s,n,o)?mp(i,s+2,a?e.call(a,n,o):e(n,o)):Qg(i,s+2);}function aF(i,r,t,e,n,o,a,s){let l=r+t;return s5(i,l,n,o,a)?mp(i,l+3,s?e.call(s,n,o,a):e(n,o,a)):Qg(i,l+3);}function Cie(i,r,t,e,n,o,a,s,l){let _=r+t;return l5(i,_,n,o,a,s)?mp(i,_+4,l?e.call(l,n,o,a,s):e(n,o,a,s)):Qg(i,_+4);}function yie(i,r,t,e,n,o){let a=r+t,s=!1;for(let l=0;l<n.length;l++)Xr(i,a++,n[l])&&(s=!0);return s?mp(i,a,e.apply(o,n)):Qg(i,a);}function $e(i,r){let t=ki(),e,n=i+Ki;t.firstCreatePass?(e=bie(r,t.pipeRegistry),t.data[n]=e,e.onDestroy&&(t.destroyHooks??=[]).push(n,e.onDestroy)):e=t.data[n];let o=e.factory||(e.factory=nd(e.type,!0)),a,s=Ro(k);try{let l=RC(!1),_=o();return RC(l),ND(t,ut(),n,_),_;}finally{Ro(s);}}function bie(i,r){if(r)for(let t=r.length-1;t>=0;t--){let e=r[t];if(i===e.name)return e;}}function ta(i,r,t){let e=i+Ki,n=ut(),o=km(n,e);return Cy(n,e)?rF(n,Ss(),r,o.transform,t,o):o.transform(t);}function pt(i,r,t,e){let n=i+Ki,o=ut(),a=km(o,n);return Cy(o,n)?oF(o,Ss(),r,a.transform,t,e,a):a.transform(t,e);}function ba(i,r,t,e,n){let o=i+Ki,a=ut(),s=km(a,o);return Cy(a,o)?aF(a,Ss(),r,s.transform,t,e,n,s):s.transform(t,e,n);}function vy(i,r,t){let e=i+Ki,n=ut(),o=km(n,e);return Cy(n,e)?yie(n,Ss(),r,o.transform,t,o):o.transform.apply(o,t);}function Cy(i,r){return i[Rt].data[r].pure;}function ia(i,r){return oy(i,r);}var TC=null;function sF(i){TC!==null&&(i.defaultEncapsulation!==TC.defaultEncapsulation||i.preserveWhitespaces!==TC.preserveWhitespaces)||(TC=i);}var qC=class{ngModuleFactory;componentFactories;constructor(r,t){this.ngModuleFactory=r,this.componentFactories=t;}},$P=(()=>{class i{compileModuleSync(t){return new Og(t);}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t));}compileModuleAndAllComponentsSync(t){let e=this.compileModuleSync(t),n=ID(t),o=_L(n.declarations).reduce((a,s)=>{let l=Ks(s);return l&&a.push(new _d(l)),a;},[]);return new qC(e,o);}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t));}clearCache(){}clearCacheFor(t){}getModuleId(t){}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),lF=new se("");var Sie=(()=>{class i{zone=N(We);changeDetectionScheduler=N(Fa);applicationRef=N(ko);applicationErrorHandler=N(No);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick();}catch(t){this.applicationErrorHandler(t);}});}}));}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe();}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function cF({ngZoneFactory:i,ignoreChangesOutsideZone:r,scheduleInRootZone:t}){return i??=()=>new We(rt(re({},LP()),{scheduleInRootZone:t})),[{provide:We,useFactory:i},{provide:ac,multi:!0,useFactory:()=>{let e=N(Sie,{optional:!0});return()=>e.initialize();}},{provide:ac,multi:!0,useFactory:()=>{let e=N(Eie);return()=>{e.initialize();};}},r===!0?{provide:KD,useValue:!0}:[],{provide:QD,useValue:t??A5},{provide:No,useFactory:()=>{let e=N(We),n=N(Xi),o;return a=>{o??=n.get(Yr),e.runOutsideAngular(()=>o.handleError(a));};}}];}function LP(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1};}var Eie=(()=>{class i{subscription=new ht();initialized=!1;zone=N(We);pendingTasks=N(cc);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null);});}));}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),t??=this.pendingTasks.add();}));}ngOnDestroy(){this.subscription.unsubscribe();}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var dF=(()=>{class i{applicationErrorHandler=N(No);appRef=N(ko);taskService=N(cc);ngZone=N(We);zonelessEnabled=N(_g);tracing=N(gd,{optional:!0});disableScheduling=N(KD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ht();angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jC):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(QD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup();})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup();})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pg||!this.zoneIsDefined);}notify(t){if(!this.zonelessEnabled&&t===5)return;let e=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break;}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break;}case 6:{this.appRef.dirtyFlags|=2,e=!0;break;}case 12:{this.appRef.dirtyFlags|=16,e=!0;break;}case 13:{this.appRef.dirtyFlags|=2,e=!0;break;}case 11:{e=!0;break;}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8;}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(e))return;let n=this.useMicrotaskScheduler?v$:w5;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>n(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>n(()=>this.tick()));}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jC+this.angularZoneId));}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return;}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick();},void 0,this.schedulerTickApplyArgs);}catch(e){this.taskService.remove(t),this.applicationErrorHandler(e);}finally{this.cleanup();}this.useMicrotaskScheduler=!0,v$(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t);});}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup();}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t);}}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function Tie(){return typeof $localize<"u"&&$localize.locale||Yg;}var sl=new se("",{providedIn:"root",factory:()=>N(sl,{optional:!0,skipSelf:!0})||Tie()});function $o(i){return o8(i);}function Ds(i,r){return qh(i,r?.equal);}var FP=class{[dr];constructor(r){this[dr]=r;}destroy(){this[dr].destroy();}};function VP(i,r){let t=r?.injector??N(tt),e=r?.manualCleanup!==!0?t.get(Ga):null,n,o=t.get(ap,null,{optional:!0}),a=t.get(Fa);return o!==null?(n=Aie(o.view,a,i),e instanceof eg&&e._lView===o.view&&(e=null)):n=wie(i,t.get(fg),a),n.injector=t,e!==null&&(n.onDestroyFn=e.onDestroy(()=>n.destroy())),new FP(n);}var uF=rt(re({},Kc),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:sp,run(){if(this.dirty=!1,this.hasRun&&!zu(this))return;this.hasRun=!0;let i=e=>(this.cleanupFns??=[]).push(e),r=ec(this),t=Lm(!1);try{this.maybeCleanup(),this.fn(i);}finally{Lm(t),Qc(this,r);}},maybeCleanup(){if(!this.cleanupFns?.length)return;let i=kt(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()();}finally{this.cleanupFns=[],kt(i);}}}),Iie=rt(re({},uF),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12);},destroy(){gm(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this);}}),xie=rt(re({},uF),{consumerMarkedDirty(){this.view[xt]|=8192,ld(this.view),this.notifier.notify(13);},destroy(){gm(this),this.onDestroyFn(),this.maybeCleanup(),this.view[sc]?.delete(this);}});function Aie(i,r,t){let e=Object.create(xie);return e.view=i,e.zone=typeof Zone<"u"?Zone.current:null,e.notifier=r,e.fn=t,i[sc]??=new Set(),i[sc].add(e),e.consumerMarkedDirty(e),e;}function wie(i,r,t){let e=Object.create(Iie);return e.fn=i,e.scheduler=r,e.notifier=t,e.zone=typeof Zone<"u"?Zone.current:null,e.scheduler.add(e),e.notifier.notify(12),e;}var bF=Symbol("InputSignalNode#UNSET"),$ie=rt(re({},Yh),{transformFn:void 0,applyValueToInputSignal(i,r){vm(i,r);}});function SF(i,r){let t=Object.create($ie);t.value=i,t.transformFn=r?.transform;function e(){if(Vu(t),t.value===bF){let n=null;throw new fe(-950,n);}return t.value;}return e[dr]=t,e;}var na=class{attributeName;constructor(r){this.attributeName=r;}__NG_ELEMENT_ID__=()=>$g(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`;}},Lie=new se("");Lie.__NG_ELEMENT_ID__=i=>{let r=_r();if(r===null)throw new fe(204,!1);if(r.type&2)return r.value;if(i&8)return null;throw new fe(204,!1);};function pF(i,r){return SF(i,r);}function Fie(i){return SF(bF,i);}var EF=(pF.required=Fie,pF);function mF(i,r){return yP(r);}function Vie(i,r){return bP(r);}var e0=(mF.required=Vie,mF);function _F(i,r){return yP(r);}function zie(i,r){return bP(r);}var TF=(_F.required=zie,_F);function Gie(i,r,t){let e=new Og(t);return Promise.resolve(e);}function fF(i){for(let r=i.length-1;r>=0;r--)if(i[r]!==void 0)return i[r];}var yy=new se(""),jie=new se("");function Zg(i){return!i.moduleRef;}function Uie(i){let r=Zg(i)?i.r3Injector:i.moduleRef.injector,t=r.get(We);return t.run(()=>{Zg(i)?i.r3Injector.resolveInjectorInitializers():i.moduleRef.resolveInjectorInitializers();let e=r.get(No),n;if(t.runOutsideAngular(()=>{n=t.onError.subscribe({next:e});}),Zg(i)){let o=()=>r.destroy(),a=i.platformInjector.get(yy);a.add(o),r.onDestroy(()=>{n.unsubscribe(),a.delete(o);});}else{let o=()=>i.moduleRef.destroy(),a=i.platformInjector.get(yy);a.add(o),i.moduleRef.onDestroy(()=>{bg(i.allPlatformModules,i.moduleRef),n.unsubscribe(),a.delete(o);});}return Bie(e,t,()=>{let o=r.get(DP);return o.runInitializers(),o.donePromise.then(()=>{let a=r.get(sl,Yg);if(L5(a||Yg),!r.get(jie,!0))return Zg(i)?r.get(ko):(i.allPlatformModules.push(i.moduleRef),i.moduleRef);if(Zg(i)){let l=r.get(ko);return i.rootComponent!==void 0&&l.bootstrap(i.rootComponent),l;}else return IF?.(i.moduleRef,i.allPlatformModules),i.moduleRef;});});});}var IF;function hF(){IF=Wie;}function Wie(i,r){let t=i.injector.get(ko);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(e=>t.bootstrap(e));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(t);else throw new fe(-403,!1);r.push(i);}function Bie(i,r,t){try{let e=t();return fc(e)?e.catch(n=>{throw r.runOutsideAngular(()=>i(n)),n;}):e;}catch(e){throw r.runOutsideAngular(()=>i(e)),e;}}var xF=(()=>{class i{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t;}bootstrapModuleFactory(t,e){let n=e?.scheduleInRootZone,o=()=>M5(e?.ngZone,rt(re({},LP({eventCoalescing:e?.ngZoneEventCoalescing,runCoalescing:e?.ngZoneRunCoalescing})),{scheduleInRootZone:n})),a=e?.ignoreChangesOutsideZone,s=[cF({ngZoneFactory:o,ignoreChangesOutsideZone:a}),{provide:Fa,useExisting:dF},H8],l=E5(t.moduleType,this.injector,s);return hF(),Uie({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector});}bootstrapModule(t,e=[]){let n=MP({},e);return hF(),Gie(this.injector,n,t).then(o=>this.bootstrapModuleFactory(o,n));}onDestroy(t){this._destroyListeners.push(t);}get injector(){return this._injector;}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e());let t=this._injector.get(yy,null);t&&(t.forEach(e=>e()),t.clear()),this._destroyed=!0;}get destroyed(){return this._destroyed;}static ɵfac=function(e){return new(e||i)(K(tt));};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"platform"});}return i;})(),Jg=null,AF=new se("");function Hie(i){if(Jg&&!Jg.get(AF,!1))throw new fe(400,!1);P5(),Jg=i;let r=i.get(xF);return Xie(i),r;}function XP(i,r,t=[]){let e=`Platform: ${r}`,n=new se(e);return(o=[])=>{let a=wF();if(!a||a.injector.get(AF,!1)){let s=[...t,...o,{provide:n,useValue:!0}];i?i(s):Hie(qie(s,e));}return Yie(n);};}function qie(i=[],r){return tt.create({name:r,providers:[{provide:ng,useValue:"platform"},{provide:yy,useValue:new Set([()=>Jg=null])},...i]});}function Yie(i){let r=wF();if(!r)throw new fe(401,!1);return r;}function wF(){return Jg?.get(xF)??null;}function Xie(i){let r=i.get(XC,null);ro(i,()=>{r?.forEach(t=>t());});}var $t=(()=>{class i{static __NG_ELEMENT_ID__=Kie;}return i;})();function Kie(i){return Qie(_r(),ut(),(i&16)===16);}function Qie(i,r,t){if(sd(i)&&!t){let e=za(i.index,r);return new md(e,e);}else if(i.type&175){let e=r[ao];return new md(e,r);}return null;}var GP=class{constructor(){}supports(r){return gP(r);}create(r){return new jP(r);}},Zie=(i,r)=>r,jP=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(r){this._trackByFn=r||Zie;}forEachItem(r){let t;for(t=this._itHead;t!==null;t=t._next)r(t);}forEachOperation(r){let t=this._itHead,e=this._removalsHead,n=0,o=null;for(;t||e;){let a=!e||t&&t.currentIndex<gF(e,n,o)?t:e,s=gF(a,n,o),l=a.currentIndex;if(a===e)n--,e=e._nextRemoved;else if(t=t._next,a.previousIndex==null)n++;else{o||(o=[]);let _=s-n,f=l-n;if(_!=f){for(let S=0;S<_;S++){let x=S<o.length?o[S]:o[S]=0,D=x+S;f<=D&&D<_&&(o[S]=x+1);}let g=a.previousIndex;o[g]=f-_;}}s!==l&&r(a,s,l);}}forEachPreviousItem(r){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)r(t);}forEachAddedItem(r){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)r(t);}forEachMovedItem(r){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)r(t);}forEachRemovedItem(r){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)r(t);}forEachIdentityChange(r){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)r(t);}diff(r){if(r==null&&(r=[]),!gP(r))throw new fe(900,!1);return this.check(r)?this:null;}onDestroy(){}check(r){this._reset();let t=this._itHead,e=!1,n,o,a;if(Array.isArray(r)){this.length=r.length;for(let s=0;s<this.length;s++)o=r[s],a=this._trackByFn(s,o),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,o,a,s),e=!0):(e&&(t=this._verifyReinsertion(t,o,a,s)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next;}else n=0,o5(r,s=>{a=this._trackByFn(n,s),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,s,a,n),e=!0):(e&&(t=this._verifyReinsertion(t,s,a,n)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next,n++;}),this.length=n;return this._truncate(t),this.collection=r,this.isDirty;}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null;}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;r!==null;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;r!==null;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null;}}_mismatch(r,t,e,n){let o;return r===null?o=this._itTail:(o=r._prev,this._remove(r)),r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(e,null),r!==null?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._reinsertAfter(r,o,n)):(r=this._linkedRecords===null?null:this._linkedRecords.get(e,n),r!==null?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._moveAfter(r,o,n)):r=this._addAfter(new UP(t,e),o,n)),r;}_verifyReinsertion(r,t,e,n){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(e,null);return o!==null?r=this._reinsertAfter(o,r._prev,n):r.currentIndex!=n&&(r.currentIndex=n,this._addToMoves(r,n)),r;}_truncate(r){for(;r!==null;){let t=r._next;this._addToRemovals(this._unlink(r)),r=t;}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null);}_reinsertAfter(r,t,e){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(r);let n=r._prevRemoved,o=r._nextRemoved;return n===null?this._removalsHead=o:n._nextRemoved=o,o===null?this._removalsTail=n:o._prevRemoved=n,this._insertAfter(r,t,e),this._addToMoves(r,e),r;}_moveAfter(r,t,e){return this._unlink(r),this._insertAfter(r,t,e),this._addToMoves(r,e),r;}_addAfter(r,t,e){return this._insertAfter(r,t,e),this._additionsTail===null?this._additionsTail=this._additionsHead=r:this._additionsTail=this._additionsTail._nextAdded=r,r;}_insertAfter(r,t,e){let n=t===null?this._itHead:t._next;return r._next=n,r._prev=t,n===null?this._itTail=r:n._prev=r,t===null?this._itHead=r:t._next=r,this._linkedRecords===null&&(this._linkedRecords=new by()),this._linkedRecords.put(r),r.currentIndex=e,r;}_remove(r){return this._addToRemovals(this._unlink(r));}_unlink(r){this._linkedRecords!==null&&this._linkedRecords.remove(r);let t=r._prev,e=r._next;return t===null?this._itHead=e:t._next=e,e===null?this._itTail=t:e._prev=t,r;}_addToMoves(r,t){return r.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=r:this._movesTail=this._movesTail._nextMoved=r),r;}_addToRemovals(r){return this._unlinkedRecords===null&&(this._unlinkedRecords=new by()),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r;}_addIdentityChange(r,t){return r.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=r:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=r,r;}},UP=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(r,t){this.item=r,this.trackById=t;}},WP=class{_head=null;_tail=null;add(r){this._head===null?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r);}get(r,t){let e;for(e=this._head;e!==null;e=e._nextDup)if((t===null||t<=e.currentIndex)&&Object.is(e.trackById,r))return e;return null;}remove(r){let t=r._prevDup,e=r._nextDup;return t===null?this._head=e:t._nextDup=e,e===null?this._tail=t:e._prevDup=t,this._head===null;}},by=class{map=new Map();put(r){let t=r.trackById,e=this.map.get(t);e||(e=new WP(),this.map.set(t,e)),e.add(r);}get(r,t){let e=r,n=this.map.get(e);return n?n.get(r,t):null;}remove(r){let t=r.trackById;return this.map.get(t).remove(r)&&this.map.delete(t),r;}get isEmpty(){return this.map.size===0;}clear(){this.map.clear();}};function gF(i,r,t){let e=i.previousIndex;if(e===null)return e;let n=0;return t&&e<t.length&&(n=t[e]),e+r+n;}var BP=class{constructor(){}supports(r){return r instanceof Map||ly(r);}create(){return new HP();}},HP=class{_records=new Map();_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null;}forEachItem(r){let t;for(t=this._mapHead;t!==null;t=t._next)r(t);}forEachPreviousItem(r){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)r(t);}forEachChangedItem(r){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)r(t);}forEachAddedItem(r){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)r(t);}forEachRemovedItem(r){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)r(t);}diff(r){if(!r)r=new Map();else if(!(r instanceof Map||ly(r)))throw new fe(900,!1);return this.check(r)?this:null;}onDestroy(){}check(r){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(r,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,o);}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;e!==null;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null;}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty;}_insertBeforeOrAppend(r,t){if(r){let e=r._prev;return t._next=r,t._prev=e,r._prev=t,e&&(e._next=t),r===this._mapHead&&(this._mapHead=t),this._appendAfter=r,r;}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null;}_getOrCreateRecordForKey(r,t){if(this._records.has(r)){let n=this._records.get(r);this._maybeAddToChanges(n,t);let o=n._prev,a=n._next;return o&&(o._next=a),a&&(a._prev=o),n._next=null,n._prev=null,n;}let e=new qP(r);return this._records.set(r,e),e.currentValue=t,this._addToAdditions(e),e;}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;r!==null;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;r!=null;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null;}}_maybeAddToChanges(r,t){Object.is(t,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=t,this._addToChanges(r));}_addToAdditions(r){this._additionsHead===null?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r);}_addToChanges(r){this._changesHead===null?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r);}_forEach(r,t){r instanceof Map?r.forEach(t):Object.keys(r).forEach(e=>t(r[e],e));}},qP=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(r){this.key=r;}};function vF(){return new Sy([new GP()]);}var Sy=(()=>{class i{factories;static ɵprov=Q({token:i,providedIn:"root",factory:vF});constructor(t){this.factories=t;}static create(t,e){if(e!=null){let n=e.factories.slice();t=t.concat(n);}return new i(t);}static extend(t){return{provide:i,useFactory:e=>i.create(t,e||vF()),deps:[[i,new Xm(),new fd()]]};}find(t){let e=this.factories.find(n=>n.supports(t));if(e!=null)return e;throw new fe(901,!1);}}return i;})();function CF(){return new KP([new BP()]);}var KP=(()=>{class i{static ɵprov=Q({token:i,providedIn:"root",factory:CF});factories;constructor(t){this.factories=t;}static create(t,e){if(e){let n=e.factories.slice();t=t.concat(n);}return new i(t);}static extend(t){return{provide:i,useFactory:e=>i.create(t,e||CF()),deps:[[i,new Xm(),new fd()]]};}find(t){let e=this.factories.find(n=>n.supports(t));if(e)return e;throw new fe(901,!1);}}return i;})();var DF=XP(null,"core",[]),MF=(()=>{class i{constructor(t){}static ɵfac=function(e){return new(e||i)(K(ko));};static ɵmod=He({type:i});static ɵinj=Be({});}return i;})();function gt(i){return typeof i=="boolean"?i:i!=null&&i!=="false";}function wr(i,r=NaN){return!isNaN(parseFloat(i))&&!isNaN(Number(i))?Number(i):r;}var zP=Symbol("NOT_SET"),OF=new Set(),Jie=rt(re({},Yh),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:zP,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0;}this.sequence.scheduler.notify(7);},phaseFn(i){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==zP&&!zu(this))return this.signal;try{for(let n of this.cleanup??OF)n();}finally{this.cleanup?.clear();}let r=[];i!==void 0&&r.push(i),r.push(this.registerCleanupFn);let t=ec(this),e;try{e=this.userFn.apply(null,r);}finally{Qc(this,t);}return(this.value===zP||!this.equal(this.value,e))&&(this.value=e,this.version++),this.signal;}}),YP=class extends Rg{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(r,t,e,n,o,a=null){super(r,[void 0,void 0,void 0,void 0],e,!1,o,a),this.scheduler=n;for(let s of IP){let l=t[s];if(l===void 0)continue;let _=Object.create(Jie);_.sequence=this,_.phase=s,_.userFn=l,_.dirty=!0,_.signal=()=>(Vu(_),_.value),_.signal[dr]=_,_.registerCleanupFn=f=>(_.cleanup??=new Set()).add(f),this.nodes[s]=_,this.hooks[s]=f=>_.phaseFn(f);}}afterRun(){super.afterRun(),this.lastPhase=null;}destroy(){super.destroy();for(let r of this.nodes)for(let t of r?.cleanup??OF)t();}};function PF(i,r){let t=r?.injector??N(tt),e=t.get(Fa),n=t.get(uy),o=t.get(gd,null,{optional:!0});n.impl??=t.get(xP);let a=i;typeof a=="function"&&(a={mixedReadWrite:i});let s=t.get(ap,null,{optional:!0}),l=new YP(n.impl,[a.earlyRead,a.write,a.mixedReadWrite,a.read],s?.view,e,t.get(Ga),o?.snapshot(null));return n.impl.register(l),l;}function Ey(i,r){let t=Ks(i),e=r.elementInjector||Om();return new _d(t).create(e,r.projectableNodes,r.hostElement,r.environmentInjector,r.directives,r.bindings);}function RF(i){let r=Ks(i);if(!r)return null;let t=new _d(r);return{get selector(){return t.selector;},get type(){return t.componentType;},get inputs(){return t.inputs;},get outputs(){return t.outputs;},get ngContentSelectors(){return t.ngContentSelectors;},get isStandalone(){return r.standalone;},get isSignal(){return r.signals;}};}var $F=null;function Sa(){return $F;}function QP(i){$F??=i;}var t0=class{},i0=(()=>{class i{historyGo(t){throw new Error("");}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:()=>N(LF),providedIn:"platform"});}return i;})(),ZP=new se(""),LF=(()=>{class i extends i0{_location;_history;_doc=N(bt);constructor(){super(),this._location=window.location,this._history=window.history;}getBaseHrefFromDOM(){return Sa().getBaseHref(this._doc);}onPopState(t){let e=Sa().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t);}onHashChange(t){let e=Sa().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t);}get href(){return this._location.href;}get protocol(){return this._location.protocol;}get hostname(){return this._location.hostname;}get port(){return this._location.port;}get pathname(){return this._location.pathname;}get search(){return this._location.search;}get hash(){return this._location.hash;}set pathname(t){this._location.pathname=t;}pushState(t,e,n){this._history.pushState(t,e,n);}replaceState(t,e,n){this._history.replaceState(t,e,n);}forward(){this._history.forward();}back(){this._history.back();}historyGo(t=0){this._history.go(t);}getState(){return this._history.state;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:()=>new i(),providedIn:"platform"});}return i;})();function Ty(i,r){return i?r?i.endsWith("/")?r.startsWith("/")?i+r.slice(1):i+r:r.startsWith("/")?i+r:`${i}/${r}`:i:r;}function NF(i){let r=i.search(/#|\?|$/);return i[r-1]==="/"?i.slice(0,r-1)+i.slice(r):i;}function Ms(i){return i&&i[0]!=="?"?`?${i}`:i;}var Os=(()=>{class i{historyGo(t){throw new Error("");}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:()=>N(xy),providedIn:"root"});}return i;})(),Iy=new se(""),xy=(()=>{class i extends Os{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,e){super(),this._platformLocation=t,this._baseHref=e??this._platformLocation.getBaseHrefFromDOM()??N(bt).location?.origin??"";}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()();}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t));}getBaseHref(){return this._baseHref;}prepareExternalUrl(t){return Ty(this._baseHref,t);}path(t=!1){let e=this._platformLocation.pathname+Ms(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e;}pushState(t,e,n,o){let a=this.prepareExternalUrl(n+Ms(o));this._platformLocation.pushState(t,e,a);}replaceState(t,e,n,o){let a=this.prepareExternalUrl(n+Ms(o));this._platformLocation.replaceState(t,e,a);}forward(){this._platformLocation.forward();}back(){this._platformLocation.back();}getState(){return this._platformLocation.getState();}historyGo(t=0){this._platformLocation.historyGo?.(t);}static ɵfac=function(e){return new(e||i)(K(i0),K(Iy,8));};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),ll=(()=>{class i{_subject=new xe();_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let e=this._locationStrategy.getBaseHref();this._basePath=ine(NF(kF(e))),this._locationStrategy.onPopState(n=>{this._subject.next({url:this.path(!0),pop:!0,state:n.state,type:n.type});});}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[];}path(t=!1){return this.normalize(this._locationStrategy.path(t));}getState(){return this._locationStrategy.getState();}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Ms(e));}normalize(t){return i.stripTrailingSlash(tne(this._basePath,kF(t)));}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t);}go(t,e="",n=null){this._locationStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ms(e)),n);}replaceState(t,e="",n=null){this._locationStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ms(e)),n);}forward(){this._locationStrategy.forward();}back(){this._locationStrategy.back();}historyGo(t=0){this._locationStrategy.historyGo?.(t);}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state);}),()=>{let e=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(e,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null);};}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e));}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e??void 0,complete:n??void 0});}static normalizeQueryParams=Ms;static joinWithSlash=Ty;static stripTrailingSlash=NF;static ɵfac=function(e){return new(e||i)(K(Os));};static ɵprov=Q({token:i,factory:()=>ene(),providedIn:"root"});}return i;})();function ene(){return new ll(K(Os));}function tne(i,r){if(!i||!r.startsWith(i))return r;let t=r.substring(i.length);return t===""||["/",";","?","#"].includes(t[0])?t:r;}function kF(i){return i.replace(/\/index.html$/,"");}function ine(i){if(new RegExp("^(https?:)?//").test(i)){let[,t]=i.split(/\/\/[^\/]+/);return t;}return i;}var oR=(()=>{class i extends Os{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,e){super(),this._platformLocation=t,e!=null&&(this._baseHref=e);}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()();}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t));}getBaseHref(){return this._baseHref;}path(t=!1){let e=this._platformLocation.hash??"#";return e.length>0?e.substring(1):e;}prepareExternalUrl(t){let e=Ty(this._baseHref,t);return e.length>0?"#"+e:e;}pushState(t,e,n,o){let a=this.prepareExternalUrl(n+Ms(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,e,a);}replaceState(t,e,n,o){let a=this.prepareExternalUrl(n+Ms(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,e,a);}forward(){this._platformLocation.forward();}back(){this._platformLocation.back();}getState(){return this._platformLocation.getState();}historyGo(t=0){this._platformLocation.historyGo?.(t);}static ɵfac=function(e){return new(e||i)(K(i0),K(Iy,8));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})();var co=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i;}(co||{}),Bi=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i;}(Bi||{}),ra=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i;}(ra||{}),vc={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function jF(i){return Zo(i)[Cn.LocaleId];}function UF(i,r,t){let e=Zo(i),n=[e[Cn.DayPeriodsFormat],e[Cn.DayPeriodsStandalone]],o=Ua(n,r);return Ua(o,t);}function WF(i,r,t){let e=Zo(i),n=[e[Cn.DaysFormat],e[Cn.DaysStandalone]],o=Ua(n,r);return Ua(o,t);}function BF(i,r,t){let e=Zo(i),n=[e[Cn.MonthsFormat],e[Cn.MonthsStandalone]],o=Ua(n,r);return Ua(o,t);}function HF(i,r){let e=Zo(i)[Cn.Eras];return Ua(e,r);}function n0(i,r){let t=Zo(i);return Ua(t[Cn.DateFormat],r);}function r0(i,r){let t=Zo(i);return Ua(t[Cn.TimeFormat],r);}function o0(i,r){let e=Zo(i)[Cn.DateTimeFormat];return Ua(e,r);}function a0(i,r){let t=Zo(i),e=t[Cn.NumberSymbols][r];if(typeof e>"u"){if(r===vc.CurrencyDecimal)return t[Cn.NumberSymbols][vc.Decimal];if(r===vc.CurrencyGroup)return t[Cn.NumberSymbols][vc.Group];}return e;}function qF(i){if(!i[Cn.ExtraData])throw new fe(2303,!1);}function YF(i){let r=Zo(i);return qF(r),(r[Cn.ExtraData][2]||[]).map(e=>typeof e=="string"?JP(e):[JP(e[0]),JP(e[1])]);}function XF(i,r,t){let e=Zo(i);qF(e);let n=[e[Cn.ExtraData][0],e[Cn.ExtraData][1]],o=Ua(n,r)||[];return Ua(o,t)||[];}function Ua(i,r){for(let t=r;t>-1;t--)if(typeof i[t]<"u")return i[t];throw new fe(2304,!1);}function JP(i){let[r,t]=i.split(":");return{hours:+r,minutes:+t};}var nne=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ay={},rne=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function KF(i,r,t,e){let n=mne(i);r=gc(t,r)||r;let a=[],s;for(;r;)if(s=rne.exec(r),s){a=a.concat(s.slice(1));let f=a.pop();if(!f)break;r=f;}else{a.push(r);break;}let l=n.getTimezoneOffset();e&&(l=ZF(e,l),n=pne(n,e));let _="";return a.forEach(f=>{let g=dne(f);_+=g?g(n,t,l):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'");}),_;}function Py(i,r,t){let e=new Date(0);return e.setFullYear(i,r,t),e.setHours(0,0,0),e;}function gc(i,r){let t=jF(i);if(Ay[t]??={},Ay[t][r])return Ay[t][r];let e="";switch(r){case"shortDate":e=n0(i,ra.Short);break;case"mediumDate":e=n0(i,ra.Medium);break;case"longDate":e=n0(i,ra.Long);break;case"fullDate":e=n0(i,ra.Full);break;case"shortTime":e=r0(i,ra.Short);break;case"mediumTime":e=r0(i,ra.Medium);break;case"longTime":e=r0(i,ra.Long);break;case"fullTime":e=r0(i,ra.Full);break;case"short":let n=gc(i,"shortTime"),o=gc(i,"shortDate");e=wy(o0(i,ra.Short),[n,o]);break;case"medium":let a=gc(i,"mediumTime"),s=gc(i,"mediumDate");e=wy(o0(i,ra.Medium),[a,s]);break;case"long":let l=gc(i,"longTime"),_=gc(i,"longDate");e=wy(o0(i,ra.Long),[l,_]);break;case"full":let f=gc(i,"fullTime"),g=gc(i,"fullDate");e=wy(o0(i,ra.Full),[f,g]);break;}return e&&(Ay[t][r]=e),e;}function wy(i,r){return r&&(i=i.replace(/\{([^}]+)}/g,function(t,e){return r!=null&&e in r?r[e]:t;})),i;}function Ps(i,r,t="-",e,n){let o="";(i<0||n&&i<=0)&&(n?i=-i+1:(i=-i,o=t));let a=String(i);for(;a.length<r;)a="0"+a;return e&&(a=a.slice(a.length-r)),o+a;}function one(i,r){return Ps(i,3).substring(0,r);}function ir(i,r,t=0,e=!1,n=!1){return function(o,a){let s=ane(i,o);if((t>0||s>-t)&&(s+=t),i===3)s===0&&t===-12&&(s=12);else if(i===6)return one(s,r);let l=a0(a,vc.MinusSign);return Ps(s,r,l,e,n);};}function ane(i,r){switch(i){case 0:return r.getFullYear();case 1:return r.getMonth();case 2:return r.getDate();case 3:return r.getHours();case 4:return r.getMinutes();case 5:return r.getSeconds();case 6:return r.getMilliseconds();case 7:return r.getDay();default:throw new fe(2301,!1);}}function an(i,r,t=co.Format,e=!1){return function(n,o){return sne(n,o,i,r,t,e);};}function sne(i,r,t,e,n,o){switch(t){case 2:return BF(r,n,e)[i.getMonth()];case 1:return WF(r,n,e)[i.getDay()];case 0:let a=i.getHours(),s=i.getMinutes();if(o){let _=YF(r),f=XF(r,n,e),g=_.findIndex(S=>{if(Array.isArray(S)){let[x,D]=S,R=a>=x.hours&&s>=x.minutes,j=a<D.hours||a===D.hours&&s<D.minutes;if(x.hours<D.hours){if(R&&j)return!0;}else if(R||j)return!0;}else if(S.hours===a&&S.minutes===s)return!0;return!1;});if(g!==-1)return f[g];}return UF(r,n,e)[a<12?0:1];case 3:return HF(r,e)[i.getFullYear()<=0?0:1];default:let l=t;throw new fe(2302,!1);}}function Dy(i){return function(r,t,e){let n=-1*e,o=a0(t,vc.MinusSign),a=n>0?Math.floor(n/60):Math.ceil(n/60);switch(i){case 0:return(n>=0?"+":"")+Ps(a,2,o)+Ps(Math.abs(n%60),2,o);case 1:return"GMT"+(n>=0?"+":"")+Ps(a,1,o);case 2:return"GMT"+(n>=0?"+":"")+Ps(a,2,o)+":"+Ps(Math.abs(n%60),2,o);case 3:return e===0?"Z":(n>=0?"+":"")+Ps(a,2,o)+":"+Ps(Math.abs(n%60),2,o);default:throw new fe(2302,!1);}};}var lne=0,Oy=4;function cne(i){let r=Py(i,lne,1).getDay();return Py(i,0,1+(r<=Oy?Oy:Oy+7)-r);}function QF(i){let r=i.getDay(),t=r===0?-3:Oy-r;return Py(i.getFullYear(),i.getMonth(),i.getDate()+t);}function eR(i,r=!1){return function(t,e){let n;if(r){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,a=t.getDate();n=1+Math.floor((a+o)/7);}else{let o=QF(t),a=cne(o.getFullYear()),s=o.getTime()-a.getTime();n=1+Math.round(s/6048e5);}return Ps(n,i,a0(e,vc.MinusSign));};}function My(i,r=!1){return function(t,e){let o=QF(t).getFullYear();return Ps(o,i,a0(e,vc.MinusSign),r);};}var tR={};function dne(i){if(tR[i])return tR[i];let r;switch(i){case"G":case"GG":case"GGG":r=an(3,Bi.Abbreviated);break;case"GGGG":r=an(3,Bi.Wide);break;case"GGGGG":r=an(3,Bi.Narrow);break;case"y":r=ir(0,1,0,!1,!0);break;case"yy":r=ir(0,2,0,!0,!0);break;case"yyy":r=ir(0,3,0,!1,!0);break;case"yyyy":r=ir(0,4,0,!1,!0);break;case"Y":r=My(1);break;case"YY":r=My(2,!0);break;case"YYY":r=My(3);break;case"YYYY":r=My(4);break;case"M":case"L":r=ir(1,1,1);break;case"MM":case"LL":r=ir(1,2,1);break;case"MMM":r=an(2,Bi.Abbreviated);break;case"MMMM":r=an(2,Bi.Wide);break;case"MMMMM":r=an(2,Bi.Narrow);break;case"LLL":r=an(2,Bi.Abbreviated,co.Standalone);break;case"LLLL":r=an(2,Bi.Wide,co.Standalone);break;case"LLLLL":r=an(2,Bi.Narrow,co.Standalone);break;case"w":r=eR(1);break;case"ww":r=eR(2);break;case"W":r=eR(1,!0);break;case"d":r=ir(2,1);break;case"dd":r=ir(2,2);break;case"c":case"cc":r=ir(7,1);break;case"ccc":r=an(1,Bi.Abbreviated,co.Standalone);break;case"cccc":r=an(1,Bi.Wide,co.Standalone);break;case"ccccc":r=an(1,Bi.Narrow,co.Standalone);break;case"cccccc":r=an(1,Bi.Short,co.Standalone);break;case"E":case"EE":case"EEE":r=an(1,Bi.Abbreviated);break;case"EEEE":r=an(1,Bi.Wide);break;case"EEEEE":r=an(1,Bi.Narrow);break;case"EEEEEE":r=an(1,Bi.Short);break;case"a":case"aa":case"aaa":r=an(0,Bi.Abbreviated);break;case"aaaa":r=an(0,Bi.Wide);break;case"aaaaa":r=an(0,Bi.Narrow);break;case"b":case"bb":case"bbb":r=an(0,Bi.Abbreviated,co.Standalone,!0);break;case"bbbb":r=an(0,Bi.Wide,co.Standalone,!0);break;case"bbbbb":r=an(0,Bi.Narrow,co.Standalone,!0);break;case"B":case"BB":case"BBB":r=an(0,Bi.Abbreviated,co.Format,!0);break;case"BBBB":r=an(0,Bi.Wide,co.Format,!0);break;case"BBBBB":r=an(0,Bi.Narrow,co.Format,!0);break;case"h":r=ir(3,1,-12);break;case"hh":r=ir(3,2,-12);break;case"H":r=ir(3,1);break;case"HH":r=ir(3,2);break;case"m":r=ir(4,1);break;case"mm":r=ir(4,2);break;case"s":r=ir(5,1);break;case"ss":r=ir(5,2);break;case"S":r=ir(6,1);break;case"SS":r=ir(6,2);break;case"SSS":r=ir(6,3);break;case"Z":case"ZZ":case"ZZZ":r=Dy(0);break;case"ZZZZZ":r=Dy(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=Dy(1);break;case"OOOO":case"ZZZZ":case"zzzz":r=Dy(2);break;default:return null;}return tR[i]=r,r;}function ZF(i,r){i=i.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(t)?r:t;}function une(i,r){return i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+r),i;}function pne(i,r,t){let n=i.getTimezoneOffset(),o=ZF(r,n);return une(i,-1*(o-n));}function mne(i){if(FF(i))return i;if(typeof i=="number"&&!isNaN(i))return new Date(i);if(typeof i=="string"){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){let[n,o=1,a=1]=i.split("-").map(s=>+s);return Py(n,o-1,a);}let t=parseFloat(i);if(!isNaN(i-t))return new Date(t);let e;if(e=i.match(nne))return _ne(e);}let r=new Date(i);if(!FF(r))throw new fe(2302,!1);return r;}function _ne(i){let r=new Date(0),t=0,e=0,n=i[8]?r.setUTCFullYear:r.setFullYear,o=i[8]?r.setUTCHours:r.setHours;i[9]&&(t=Number(i[9]+i[10]),e=Number(i[9]+i[11])),n.call(r,Number(i[1]),Number(i[2])-1,Number(i[3]));let a=Number(i[4]||0)-t,s=Number(i[5]||0)-e,l=Number(i[6]||0),_=Math.floor(parseFloat("0."+(i[7]||0))*1e3);return o.call(r,a,s,l,_),r;}function FF(i){return i instanceof Date&&!isNaN(i.valueOf());}var iR=/\s+/,VF=[],Je=(()=>{class i{_ngEl;_renderer;initialClasses=VF;rawClass;stateMap=new Map();constructor(t,e){this._ngEl=t,this._renderer=e;}set klass(t){this.initialClasses=t!=null?t.trim().split(iR):VF;}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(iR):t;}ngDoCheck(){for(let e of this.initialClasses)this._updateState(e,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let e of t)this._updateState(e,!0);else if(t!=null)for(let e of Object.keys(t))this._updateState(e,!!t[e]);this._applyStateDiff();}_updateState(t,e){let n=this.stateMap.get(t);n!==void 0?(n.enabled!==e&&(n.changed=!0,n.enabled=e),n.touched=!0):this.stateMap.set(t,{enabled:e,changed:!0,touched:!0});}_applyStateDiff(){for(let t of this.stateMap){let e=t[0],n=t[1];n.changed?(this._toggleClass(e,n.enabled),n.changed=!1):n.touched||(n.enabled&&this._toggleClass(e,!1),this.stateMap.delete(e)),n.touched=!1;}}_toggleClass(t,e){t=t.trim(),t.length>0&&t.split(iR).forEach(n=>{e?this._renderer.addClass(this._ngEl.nativeElement,n):this._renderer.removeClass(this._ngEl.nativeElement,n);});}static ɵfac=function(e){return new(e||i)(k(ze),k(Jt));};static ɵdir=Le({type:i,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}});}return i;})();var Ry=class{$implicit;ngForOf;index;count;constructor(r,t,e,n){this.$implicit=r,this.ngForOf=t,this.index=e,this.count=n;}get first(){return this.index===0;}get last(){return this.index===this.count-1;}get even(){return this.index%2===0;}get odd(){return!this.even;}},ve=(()=>{class i{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0;}set ngForTrackBy(t){this._trackByFn=t;}get ngForTrackBy(){return this._trackByFn;}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n;}set ngForTemplate(t){t&&(this._template=t);}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy));}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t);}}_applyChanges(t){let e=this._viewContainer;t.forEachOperation((n,o,a)=>{if(n.previousIndex==null)e.createEmbeddedView(this._template,new Ry(n.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)e.remove(o===null?void 0:o);else if(o!==null){let s=e.get(o);e.move(s,a),zF(s,n);}});for(let n=0,o=e.length;n<o;n++){let s=e.get(n).context;s.index=n,s.count=o,s.ngForOf=this._ngForOf;}t.forEachIdentityChange(n=>{let o=e.get(n.currentIndex);zF(o,n);});}static ngTemplateContextGuard(t,e){return!0;}static ɵfac=function(e){return new(e||i)(k(Mt),k(Hn),k(Sy));};static ɵdir=Le({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}});}return i;})();function zF(i,r){i.context.$implicit=r.item;}var de=(()=>{class i{_viewContainer;_context=new Ny();_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,e){this._viewContainer=t,this._thenTemplateRef=e;}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView();}set ngIfThen(t){GF(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView();}set ngIfElse(t){GF(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView();}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)));}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,e){return!0;}static ɵfac=function(e){return new(e||i)(k(Mt),k(Hn));};static ɵdir=Le({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}});}return i;})(),Ny=class{$implicit=null;ngIf=null;};function GF(i,r){if(i&&!i.createEmbeddedView)throw new fe(2020,!1);}var ky=class{_viewContainerRef;_templateRef;_created=!1;constructor(r,t){this._viewContainerRef=r,this._templateRef=t;}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef);}destroy(){this._created=!1,this._viewContainerRef.clear();}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy();}},fr=(()=>{class i{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0);}_addCase(){return this._caseCount++;}_addDefault(t){this._defaultViews.push(t);}_matchCase(t){let e=t===this._ngSwitch;return this._lastCasesMatched||=e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e;}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let e of this._defaultViews)e.enforceState(t);}}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}});}return i;})(),Qr=(()=>{class i{ngSwitch;_view;ngSwitchCase;constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new ky(t,e);}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase));}static ɵfac=function(e){return new(e||i)(k(Mt),k(Hn),k(fr,9));};static ɵdir=Le({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}});}return i;})(),aR=(()=>{class i{constructor(t,e,n){n._addDefault(new ky(t,e));}static ɵfac=function(e){return new(e||i)(k(Mt),k(Hn),k(fr,9));};static ɵdir=Le({type:i,selectors:[["","ngSwitchDefault",""]]});}return i;})();var wn=(()=>{class i{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n;}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create());}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t);}}_setStyle(t,e){let[n,o]=t.split("."),a=n.indexOf("-")===-1?void 0:As.DashCase;e!=null?this._renderer.setStyle(this._ngEl.nativeElement,n,o?`${e}${o}`:e,a):this._renderer.removeStyle(this._ngEl.nativeElement,n,a);}_applyChanges(t){t.forEachRemovedItem(e=>this._setStyle(e.key,null)),t.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),t.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue));}static ɵfac=function(e){return new(e||i)(k(ze),k(KP),k(Jt));};static ɵdir=Le({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}});}return i;})(),_p=(()=>{class i{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t;}ngOnChanges(t){if(this._shouldRecreateView(t)){let e=this._viewContainerRef;if(this._viewRef&&e.remove(e.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return;}let n=this._createContextForwardProxy();this._viewRef=e.createEmbeddedView(this.ngTemplateOutlet,n,{injector:this.ngTemplateOutletInjector??void 0});}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector;}_createContextForwardProxy(){return new Proxy({},{set:(t,e,n)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,e,n):!1,get:(t,e,n)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,e,n);}});}static ɵfac=function(e){return new(e||i)(k(Mt));};static ɵdir=Le({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Oi]});}return i;})();function $y(i,r){return new fe(2100,!1);}var nR=class{createSubscription(r,t,e){return $o(()=>r.subscribe({next:t,error:e}));}dispose(r){$o(()=>r.unsubscribe());}},rR=class{createSubscription(r,t,e){return r.then(n=>t?.(n),n=>e?.(n)),{unsubscribe:()=>{t=null,e=null;}};}dispose(r){r.unsubscribe();}},fne=new rR(),hne=new nR(),sR=(()=>{class i{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=N(No);constructor(t){this._ref=t;}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null;}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t);}finally{this.markForCheckOnValueUpdate=!0;}return this._latestValue;}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue;}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e),e=>this.applicationErrorHandler(e));}_selectStrategy(t){if(fc(t))return fne;if(_y(t))return hne;throw $y(i,t);}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null;}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this.markForCheckOnValueUpdate&&this._ref?.markForCheck());}static ɵfac=function(e){return new(e||i)(k($t,16));};static ɵpipe=Kt({name:"async",type:i,pure:!1});}return i;})();var s0=(()=>{class i{transform(t){if(t==null)return null;if(typeof t!="string")throw $y(i,t);return t.toUpperCase();}static ɵfac=function(e){return new(e||i)();};static ɵpipe=Kt({name:"uppercase",type:i,pure:!0});}return i;})(),gne="mediumDate",JF=new se(""),e6=new se(""),Dr=(()=>{class i{locale;defaultTimezone;defaultOptions;constructor(t,e,n){this.locale=t,this.defaultTimezone=e,this.defaultOptions=n;}transform(t,e,n,o){if(t==null||t===""||t!==t)return null;try{let a=e??this.defaultOptions?.dateFormat??gne,s=n??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return KF(t,a,o||this.locale,s);}catch(a){throw $y(i,a.message);}}static ɵfac=function(e){return new(e||i)(k(sl,16),k(JF,24),k(e6,24));};static ɵpipe=Kt({name:"date",type:i,pure:!0});}return i;})();var Rs=(()=>{class i{transform(t,e,n){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw $y(i,t);return t.slice(e,n);}static ɵfac=function(e){return new(e||i)();};static ɵpipe=Kt({name:"slice",type:i,pure:!1});}return i;})();var Cc=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({});}return i;})();function l0(i,r){r=encodeURIComponent(r);for(let t of i.split(";")){let e=t.indexOf("="),[n,o]=e==-1?[t,""]:[t.slice(0,e),t.slice(e+1)];if(n.trim()===r)return decodeURIComponent(o);}return null;}var fp=class{};function t6(i,r,t){return PP(i,r,t);}var dR="browser",vne="server";function Ly(i){return i===dR;}function i6(i){return i===vne;}var n6=(()=>{class i{static ɵprov=Q({token:i,providedIn:"root",factory:()=>new lR(N(bt),window)});}return i;})(),lR=class{document;window;offset=()=>[0,0];constructor(r,t){this.document=r,this.window=t;}setOffset(r){Array.isArray(r)?this.offset=()=>r:this.offset=r;}getScrollPosition(){return[this.window.scrollX,this.window.scrollY];}scrollToPosition(r,t){this.window.scrollTo(rt(re({},t),{left:r[0],top:r[1]}));}scrollToAnchor(r,t){let e=Cne(this.document,r);e&&(this.scrollToElement(e,t),e.focus());}setHistoryScrollRestoration(r){this.window.history.scrollRestoration=r;}scrollToElement(r,t){let e=r.getBoundingClientRect(),n=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(rt(re({},t),{left:n-a[0],top:o-a[1]}));}};function Cne(i,r){let t=i.getElementById(r)||i.getElementsByName(r)[0];if(t)return t;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let e=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),n=e.currentNode;for(;n;){let o=n.shadowRoot;if(o){let a=o.getElementById(r)||o.querySelector(`[name="${r}"]`);if(a)return a;}n=e.nextNode();}}return null;}var zy=new se(""),_R=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map();constructor(t,e){this._zone=e,t.forEach(n=>{n.manager=this;}),this._plugins=t.slice().reverse();}addEventListener(t,e,n,o){return this._findPluginFor(e).addEventListener(t,e,n,o);}getZone(){return this._zone;}_findPluginFor(t){let e=this._eventNameToPlugin.get(t);if(e)return e;if(e=this._plugins.find(o=>o.supports(t)),!e)throw new fe(5101,!1);return this._eventNameToPlugin.set(t,e),e;}static ɵfac=function(e){return new(e||i)(K(zy),K(We));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})(),c0=class{_doc;constructor(r){this._doc=r;}manager;},Fy="ng-app-id";function r6(i){for(let r of i)r.remove();}function o6(i,r){let t=r.createElement("style");return t.textContent=i,t;}function yne(i,r,t,e){let n=i.head?.querySelectorAll(`style[${Fy}="${r}"],link[${Fy}="${r}"]`);if(n)for(let o of n)o.removeAttribute(Fy),o instanceof HTMLLinkElement?e.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]});}function pR(i,r){let t=r.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",i),t;}var fR=(()=>{class i{doc;appId;nonce;inline=new Map();external=new Map();hosts=new Set();isServer;constructor(t,e,n,o={}){this.doc=t,this.appId=e,this.nonce=n,this.isServer=i6(o),yne(t,e,this.inline,this.external),this.hosts.add(t.head);}addStyles(t,e){for(let n of t)this.addUsage(n,this.inline,o6);e?.forEach(n=>this.addUsage(n,this.external,pR));}removeStyles(t,e){for(let n of t)this.removeUsage(n,this.inline);e?.forEach(n=>this.removeUsage(n,this.external));}addUsage(t,e,n){let o=e.get(t);o?o.usage++:e.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,n(t,this.doc)))});}removeUsage(t,e){let n=e.get(t);n&&(n.usage--,n.usage<=0&&(r6(n.elements),e.delete(t)));}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])r6(t);this.hosts.clear();}addHost(t){this.hosts.add(t);for(let[e,{elements:n}]of this.inline)n.push(this.addElement(t,o6(e,this.doc)));for(let[e,{elements:n}]of this.external)n.push(this.addElement(t,pR(e,this.doc)));}removeHost(t){this.hosts.delete(t);}addElement(t,e){return this.nonce&&e.setAttribute("nonce",this.nonce),this.isServer&&e.setAttribute(Fy,this.appId),t.appendChild(e);}static ɵfac=function(e){return new(e||i)(K(bt),K(Qm),K(Zm,8),K(ol));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})(),uR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hR=/%COMP%/g;var s6="%COMP%",bne=`_nghost-${s6}`,Sne=`_ngcontent-${s6}`,Ene=!0,Tne=new se("",{providedIn:"root",factory:()=>Ene});function Ine(i){return Sne.replace(hR,i);}function xne(i){return bne.replace(hR,i);}function l6(i,r){return r.map(t=>t.replace(hR,i));}var p0=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map();defaultRenderer;platformIsServer;constructor(t,e,n,o,a,s,l,_=null,f=null){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=_,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new d0(t,a,l,this.platformIsServer,this.tracingService);}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;let n=this.getOrCreateRenderer(t,e);return n instanceof Vy?n.applyToHost(t):n instanceof u0&&n.applyStyles(),n;}getOrCreateRenderer(t,e){let n=this.rendererByCompId,o=n.get(e.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,_=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer,S=this.tracingService;switch(e.encapsulation){case pc.Emulated:o=new Vy(l,_,e,this.appId,f,a,s,g,S);break;case pc.ShadowDom:return new mR(l,_,t,e,a,s,this.nonce,g,S);default:o=new u0(l,_,e,f,a,s,g,S);break;}n.set(e.id,o);}return o;}ngOnDestroy(){this.rendererByCompId.clear();}componentReplaced(t){this.rendererByCompId.delete(t);}static ɵfac=function(e){return new(e||i)(K(_R),K(fR),K(Qm),K(Tne),K(bt),K(ol),K(We),K(Zm),K(gd,8));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})(),d0=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(r,t,e,n,o){this.eventManager=r,this.doc=t,this.ngZone=e,this.platformIsServer=n,this.tracingService=o;}destroy(){}destroyNode=null;createElement(r,t){return t?this.doc.createElementNS(uR[t]||t,r):this.doc.createElement(r);}createComment(r){return this.doc.createComment(r);}createText(r){return this.doc.createTextNode(r);}appendChild(r,t){(a6(r)?r.content:r).appendChild(t);}insertBefore(r,t,e){r&&(a6(r)?r.content:r).insertBefore(t,e);}removeChild(r,t){t.remove();}selectRootElement(r,t){let e=typeof r=="string"?this.doc.querySelector(r):r;if(!e)throw new fe(-5104,!1);return t||(e.textContent=""),e;}parentNode(r){return r.parentNode;}nextSibling(r){return r.nextSibling;}setAttribute(r,t,e,n){if(n){t=n+":"+t;let o=uR[n];o?r.setAttributeNS(o,t,e):r.setAttribute(t,e);}else r.setAttribute(t,e);}removeAttribute(r,t,e){if(e){let n=uR[e];n?r.removeAttributeNS(n,t):r.removeAttribute(`${e}:${t}`);}else r.removeAttribute(t);}addClass(r,t){r.classList.add(t);}removeClass(r,t){r.classList.remove(t);}setStyle(r,t,e,n){n&(As.DashCase|As.Important)?r.style.setProperty(t,e,n&As.Important?"important":""):r.style[t]=e;}removeStyle(r,t,e){e&As.DashCase?r.style.removeProperty(t):r.style[t]="";}setProperty(r,t,e){r!=null&&(r[t]=e);}setValue(r,t){r.nodeValue=t;}listen(r,t,e,n){if(typeof r=="string"&&(r=Sa().getGlobalEventTarget(this.doc,r),!r))throw new fe(5102,!1);let o=this.decoratePreventDefault(e);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(r,t,o)),this.eventManager.addEventListener(r,t,o,n);}decoratePreventDefault(r){return t=>{if(t==="__ngUnwrap__")return r;r(t)===!1&&t.preventDefault();};}};function a6(i){return i.tagName==="TEMPLATE"&&i.content!==void 0;}var mR=class extends d0{sharedStylesHost;hostEl;shadowRoot;constructor(r,t,e,n,o,a,s,l,_){super(r,o,a,l,_),this.sharedStylesHost=t,this.hostEl=e,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=n.styles;f=l6(n.id,f);for(let S of f){let x=document.createElement("style");s&&x.setAttribute("nonce",s),x.textContent=S,this.shadowRoot.appendChild(x);}let g=n.getExternalStyles?.();if(g)for(let S of g){let x=pR(S,o);s&&x.setAttribute("nonce",s),this.shadowRoot.appendChild(x);}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r;}appendChild(r,t){return super.appendChild(this.nodeOrShadowRoot(r),t);}insertBefore(r,t,e){return super.insertBefore(this.nodeOrShadowRoot(r),t,e);}removeChild(r,t){return super.removeChild(null,t);}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)));}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot);}},u0=class extends d0{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(r,t,e,n,o,a,s,l,_){super(r,o,a,s,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=n;let f=e.styles;this.styles=_?l6(_,f):f,this.styleUrls=e.getExternalStyles?.(_);}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls);}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls);}},Vy=class extends u0{contentAttr;hostAttr;constructor(r,t,e,n,o,a,s,l,_){let f=n+"-"+e.id;super(r,t,e,o,a,s,l,_,f),this.contentAttr=Ine(f),this.hostAttr=xne(f);}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"");}createElement(r,t){let e=super.createElement(r,t);return super.setAttribute(e,this.contentAttr,""),e;}};var Gy=class i extends t0{supportsDOMEvents=!0;static makeCurrent(){QP(new i());}onAndCancel(r,t,e,n){return r.addEventListener(t,e,n),()=>{r.removeEventListener(t,e,n);};}dispatchEvent(r,t){r.dispatchEvent(t);}remove(r){r.remove();}createElement(r,t){return t=t||this.getDefaultDocument(),t.createElement(r);}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle");}getDefaultDocument(){return document;}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE;}isShadowRoot(r){return r instanceof DocumentFragment;}getGlobalEventTarget(r,t){return t==="window"?window:t==="document"?r:t==="body"?r.body:null;}getBaseHref(r){let t=Ane();return t==null?null:wne(t);}resetBaseElement(){m0=null;}getUserAgent(){return window.navigator.userAgent;}getCookie(r){return l0(document.cookie,r);}},m0=null;function Ane(){return m0=m0||document.head.querySelector("base"),m0?m0.getAttribute("href"):null;}function wne(i){return new URL(i,document.baseURI).pathname;}var jy=class{addToWindow(r){Zn.getAngularTestability=(e,n=!0)=>{let o=r.findTestabilityInTree(e,n);if(o==null)throw new fe(5103,!1);return o;},Zn.getAllAngularTestabilities=()=>r.getAllTestabilities(),Zn.getAllAngularRootElements=()=>r.getAllRootElements();let t=e=>{let n=Zn.getAllAngularTestabilities(),o=n.length,a=function(){o--,o==0&&e();};n.forEach(s=>{s.whenStable(a);});};Zn.frameworkStabilizers||(Zn.frameworkStabilizers=[]),Zn.frameworkStabilizers.push(t);}findTestabilityInTree(r,t,e){if(t==null)return null;let n=r.getTestability(t);return n??(e?Sa().isShadowRoot(t)?this.findTestabilityInTree(r,t.host,!0):this.findTestabilityInTree(r,t.parentElement,!0):null);}},Dne=(()=>{class i{build(){return new XMLHttpRequest();}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})(),d6=(()=>{class i extends c0{constructor(t){super(t);}supports(t){return!0;}addEventListener(t,e,n,o){return t.addEventListener(e,n,o),()=>this.removeEventListener(t,e,n,o);}removeEventListener(t,e,n,o){return t.removeEventListener(e,n,o);}static ɵfac=function(e){return new(e||i)(K(bt));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})(),c6=["alt","control","meta","shift"],Mne={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},One={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},u6=(()=>{class i extends c0{constructor(t){super(t);}supports(t){return i.parseEventName(t)!=null;}addEventListener(t,e,n,o){let a=i.parseEventName(e),s=i.eventCallback(a.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sa().onAndCancel(t,a.domEventName,s,o));}static parseEventName(t){let e=t.toLowerCase().split("."),n=e.shift();if(e.length===0||!(n==="keydown"||n==="keyup"))return null;let o=i._normalizeKey(e.pop()),a="",s=e.indexOf("code");if(s>-1&&(e.splice(s,1),a="code."),c6.forEach(_=>{let f=e.indexOf(_);f>-1&&(e.splice(f,1),a+=_+".");}),a+=o,e.length!=0||o.length===0)return null;let l={};return l.domEventName=n,l.fullKey=a,l;}static matchEventFullKeyCode(t,e){let n=Mne[t.key]||t.key,o="";return e.indexOf("code.")>-1&&(n=t.code,o="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),c6.forEach(a=>{if(a!==n){let s=One[a];s(t)&&(o+=a+".");}}),o+=n,o===e);}static eventCallback(t,e,n){return o=>{i.matchEventFullKeyCode(o,t)&&n.runGuarded(()=>e(o));};}static _normalizeKey(t){return t==="esc"?"escape":t;}static ɵfac=function(e){return new(e||i)(K(bt));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})();function Pne(){Gy.makeCurrent();}function Rne(){return new Yr();}function Nne(){return GO(document),document;}var kne=[{provide:ol,useValue:dR},{provide:XC,useValue:Pne,multi:!0},{provide:bt,useFactory:Nne}],gR=XP(DF,"browser",kne);var $ne=[{provide:i_,useClass:jy},{provide:my,useClass:Wg,deps:[We,Bg,i_]},{provide:Wg,useClass:Wg,deps:[We,Bg,i_]}],Lne=[{provide:ng,useValue:"root"},{provide:Yr,useFactory:Rne},{provide:zy,useClass:d6,multi:!0,deps:[bt]},{provide:zy,useClass:u6,multi:!0,deps:[bt]},p0,fR,_R,{provide:tr,useExisting:p0},{provide:fp,useClass:Dne},[]],hp=(()=>{class i{constructor(){}static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({providers:[...Lne,...$ne],imports:[Cc,MF]});}return i;})();var l_=class{},vp=class{},At=class i{headers;normalizedNames=new Map();lazyInit;lazyUpdate=null;constructor(r){r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map(),r.split(`
`).forEach(t=>{let e=t.indexOf(":");if(e>0){let n=t.slice(0,e),o=t.slice(e+1).trim();this.addHeaderEntry(n,o);}});}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map(),r.forEach((t,e)=>{this.addHeaderEntry(e,t);})):this.lazyInit=()=>{this.headers=new Map(),Object.entries(r).forEach(([t,e])=>{this.setHeaderEntries(t,e);});}:this.headers=new Map();}has(r){return this.init(),this.headers.has(r.toLowerCase());}get(r){this.init();let t=this.headers.get(r.toLowerCase());return t&&t.length>0?t[0]:null;}keys(){return this.init(),Array.from(this.normalizedNames.values());}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null;}append(r,t){return this.clone({name:r,value:t,op:"a"});}set(r,t){return this.clone({name:r,value:t,op:"s"});}delete(r,t){return this.clone({name:r,value:t,op:"d"});}maybeSetNormalizedName(r,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,r);}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null));}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(t=>{this.headers.set(t,r.headers.get(t)),this.normalizedNames.set(t,r.normalizedNames.get(t));});}clone(r){let t=new i();return t.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([r]),t;}applyUpdate(r){let t=r.name.toLowerCase();switch(r.op){case"a":case"s":let e=r.value;if(typeof e=="string"&&(e=[e]),e.length===0)return;this.maybeSetNormalizedName(r.name,t);let n=(r.op==="a"?this.headers.get(t):void 0)||[];n.push(...e),this.headers.set(t,n);break;case"d":let o=r.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a);}break;}}addHeaderEntry(r,t){let e=r.toLowerCase();this.maybeSetNormalizedName(r,e),this.headers.has(e)?this.headers.get(e).push(t):this.headers.set(e,[t]);}setHeaderEntries(r,t){let e=(Array.isArray(t)?t:[t]).map(o=>o.toString()),n=r.toLowerCase();this.headers.set(n,e),this.maybeSetNormalizedName(r,n);}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>r(this.normalizedNames.get(t),this.headers.get(t)));}};var Wy=class{encodeKey(r){return p6(r);}encodeValue(r){return p6(r);}decodeKey(r){return decodeURIComponent(r);}decodeValue(r){return decodeURIComponent(r);}};function Fne(i,r){let t=new Map();return i.length>0&&i.replace(/^\?/,"").split("&").forEach(n=>{let o=n.indexOf("="),[a,s]=o==-1?[r.decodeKey(n),""]:[r.decodeKey(n.slice(0,o)),r.decodeValue(n.slice(o+1))],l=t.get(a)||[];l.push(s),t.set(a,l);}),t;}var Vne=/%(\d[a-f0-9])/gi,zne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function p6(i){return encodeURIComponent(i).replace(Vne,(r,t)=>zne[t]??r);}function Uy(i){return`${i}`;}var yc=class i{map;encoder;updates=null;cloneFrom=null;constructor(r={}){if(this.encoder=r.encoder||new Wy(),r.fromString){if(r.fromObject)throw new fe(2805,!1);this.map=Fne(r.fromString,this.encoder);}else r.fromObject?(this.map=new Map(),Object.keys(r.fromObject).forEach(t=>{let e=r.fromObject[t],n=Array.isArray(e)?e.map(Uy):[Uy(e)];this.map.set(t,n);})):this.map=null;}has(r){return this.init(),this.map.has(r);}get(r){this.init();let t=this.map.get(r);return t?t[0]:null;}getAll(r){return this.init(),this.map.get(r)||null;}keys(){return this.init(),Array.from(this.map.keys());}append(r,t){return this.clone({param:r,value:t,op:"a"});}appendAll(r){let t=[];return Object.keys(r).forEach(e=>{let n=r[e];Array.isArray(n)?n.forEach(o=>{t.push({param:e,value:o,op:"a"});}):t.push({param:e,value:n,op:"a"});}),this.clone(t);}set(r,t){return this.clone({param:r,value:t,op:"s"});}delete(r,t){return this.clone({param:r,value:t,op:"d"});}toString(){return this.init(),this.keys().map(r=>{let t=this.encoder.encodeKey(r);return this.map.get(r).map(e=>t+"="+this.encoder.encodeValue(e)).join("&");}).filter(r=>r!=="").join("&");}clone(r){let t=new i({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(r),t;}init(){this.map===null&&(this.map=new Map()),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let t=(r.op==="a"?this.map.get(r.param):void 0)||[];t.push(Uy(r.value)),this.map.set(r.param,t);break;case"d":if(r.value!==void 0){let e=this.map.get(r.param)||[],n=e.indexOf(Uy(r.value));n!==-1&&e.splice(n,1),e.length>0?this.map.set(r.param,e):this.map.delete(r.param);}else{this.map.delete(r.param);break;}}}),this.cloneFrom=this.updates=null);}};var By=class{map=new Map();set(r,t){return this.map.set(r,t),this;}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r);}delete(r){return this.map.delete(r),this;}has(r){return this.map.has(r);}keys(){return this.map.keys();}};function Gne(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0;}}function m6(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer;}function _6(i){return typeof Blob<"u"&&i instanceof Blob;}function f6(i){return typeof FormData<"u"&&i instanceof FormData;}function jne(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams;}var h6="Content-Type",g6="Accept",C6="X-Request-URL",y6="text/plain",b6="application/json",Une=`${b6}, ${y6}, */*`,s_=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(r,t,e,n){this.url=t,this.method=r.toUpperCase();let o;if(Gne(this.method)||n?(this.body=e!==void 0?e:null,o=n):o=e,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new At(),this.context??=new By(),!this.params)this.params=new yc(),this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let s=t.indexOf("?"),l=s===-1?"?":s<t.length-1?"&":"";this.urlWithParams=t+l+a;}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||m6(this.body)||_6(this.body)||f6(this.body)||jne(this.body)?this.body:this.body instanceof yc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString();}detectContentTypeHeader(){return this.body===null||f6(this.body)?null:_6(this.body)?this.body.type||null:m6(this.body)?null:typeof this.body=="string"?y6:this.body instanceof yc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?b6:null;}clone(r={}){let t=r.method||this.method,e=r.url||this.url,n=r.responseType||this.responseType,o=r.keepalive??this.keepalive,a=r.transferCache??this.transferCache,s=r.body!==void 0?r.body:this.body,l=r.withCredentials??this.withCredentials,_=r.reportProgress??this.reportProgress,f=r.headers||this.headers,g=r.params||this.params,S=r.context??this.context;return r.setHeaders!==void 0&&(f=Object.keys(r.setHeaders).reduce((x,D)=>x.set(D,r.setHeaders[D]),f)),r.setParams&&(g=Object.keys(r.setParams).reduce((x,D)=>x.set(D,r.setParams[D]),g)),new i(t,e,s,{params:g,headers:f,context:S,reportProgress:_,responseType:n,withCredentials:l,transferCache:a,keepalive:o});}},gp=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i;}(gp||{}),c_=class{headers;status;statusText;url;ok;type;constructor(r,t=200,e="OK"){this.headers=r.headers||new At(),this.status=r.status!==void 0?r.status:t,this.statusText=r.statusText||e,this.url=r.url||null,this.ok=this.status>=200&&this.status<300;}},Hy=class i extends c_{constructor(r={}){super(r);}type=gp.ResponseHeader;clone(r={}){return new i({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0});}},_0=class i extends c_{body;constructor(r={}){super(r),this.body=r.body!==void 0?r.body:null;}type=gp.Response;clone(r={}){return new i({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0});}},f0=class extends c_{name="HttpErrorResponse";message;error;ok=!1;constructor(r){super(r,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null;}},Wne=200,Bne=204;function vR(i,r){return{body:r,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive};}var uo=(()=>{class i{handler;constructor(t){this.handler=t;}request(t,e,n={}){let o;if(t instanceof s_)o=t;else{let l;n.headers instanceof At?l=n.headers:l=new At(n.headers);let _;n.params&&(n.params instanceof yc?_=n.params:_=new yc({fromObject:n.params})),o=new s_(t,e,n.body!==void 0?n.body:null,{headers:l,context:n.context,params:_,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive});}let a=ge(o).pipe(tl(l=>this.handler.handle(l)));if(t instanceof s_||n.observe==="events")return a;let s=a.pipe(Zt(l=>l instanceof _0));switch(n.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(me(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new fe(2806,!1);return l.body;}));case"blob":return s.pipe(me(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new fe(2807,!1);return l.body;}));case"text":return s.pipe(me(l=>{if(l.body!==null&&typeof l.body!="string")throw new fe(2808,!1);return l.body;}));case"json":default:return s.pipe(me(l=>l.body));}case"response":return s;default:throw new fe(2809,!1);}}delete(t,e={}){return this.request("DELETE",t,e);}get(t,e={}){return this.request("GET",t,e);}head(t,e={}){return this.request("HEAD",t,e);}jsonp(t,e){return this.request("JSONP",t,{params:new yc().append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"});}options(t,e={}){return this.request("OPTIONS",t,e);}patch(t,e,n={}){return this.request("PATCH",t,vR(n,e));}post(t,e,n={}){return this.request("POST",t,vR(n,e));}put(t,e,n={}){return this.request("PUT",t,vR(n,e));}static ɵfac=function(e){return new(e||i)(K(l_));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})();var Hne=new se("");function S6(i,r){return r(i);}function qne(i,r){return(t,e)=>r.intercept(t,{handle:n=>i(n,e)});}function Yne(i,r,t){return(e,n)=>ro(t,()=>r(e,o=>i(o,n)));}var Yy=new se(""),yR=new se(""),E6=new se(""),bR=new se("",{providedIn:"root",factory:()=>!0});function Xne(){let i=null;return(r,t)=>{i===null&&(i=(N(Yy,{optional:!0})??[]).reduceRight(qne,S6));let e=N(zm);if(N(bR)){let o=e.add();return i(r,t).pipe(il(o));}else return i(r,t);};}var qy=(()=>{class i extends l_{backend;injector;chain=null;pendingTasks=N(zm);contributeToStability=N(bR);constructor(t,e){super(),this.backend=t,this.injector=e;}handle(t){if(this.chain===null){let e=Array.from(new Set([...this.injector.get(yR),...this.injector.get(E6,[])]));this.chain=e.reduceRight((n,o)=>Yne(n,o,this.injector),S6);}if(this.contributeToStability){let e=this.pendingTasks.add();return this.chain(t,n=>this.backend.handle(n)).pipe(il(e));}else return this.chain(t,e=>this.backend.handle(e));}static ɵfac=function(e){return new(e||i)(K(vp),K(Xi));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})();var Kne=/^\)\]\}',?\n/,Qne=RegExp(`^${C6}:`,"m");function Zne(i){return"responseURL"in i&&i.responseURL?i.responseURL:Qne.test(i.getAllResponseHeaders())?i.getResponseHeader(C6):null;}var CR=(()=>{class i{xhrFactory;constructor(t){this.xhrFactory=t;}handle(t){if(t.method==="JSONP")throw new fe(-2800,!1);t.keepalive;let e=this.xhrFactory;return(e.ɵloadImpl?Wi(e.ɵloadImpl()):ge(null)).pipe(ot(()=>new ct(o=>{let a=e.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((R,j)=>a.setRequestHeader(R,j.join(","))),t.headers.has(g6)||a.setRequestHeader(g6,Une),!t.headers.has(h6)){let R=t.detectContentTypeHeader();R!==null&&a.setRequestHeader(h6,R);}if(t.responseType){let R=t.responseType.toLowerCase();a.responseType=R!=="json"?R:"text";}let s=t.serializeBody(),l=null,_=()=>{if(l!==null)return l;let R=a.statusText||"OK",j=new At(a.getAllResponseHeaders()),V=Zne(a)||t.url;return l=new Hy({headers:j,status:a.status,statusText:R,url:V}),l;},f=()=>{let{headers:R,status:j,statusText:V,url:ie}=_(),_e=null;j!==Bne&&(_e=typeof a.response>"u"?a.responseText:a.response),j===0&&(j=_e?Wne:0);let oe=j>=200&&j<300;if(t.responseType==="json"&&typeof _e=="string"){let Ne=_e;_e=_e.replace(Kne,"");try{_e=_e!==""?JSON.parse(_e):null;}catch(Ce){_e=Ne,oe&&(oe=!1,_e={error:Ce,text:_e});}}oe?(o.next(new _0({body:_e,headers:R,status:j,statusText:V,url:ie||void 0})),o.complete()):o.error(new f0({error:_e,headers:R,status:j,statusText:V,url:ie||void 0}));},g=R=>{let{url:j}=_(),V=new f0({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:j||void 0});o.error(V);},S=!1,x=R=>{S||(o.next(_()),S=!0);let j={type:gp.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(j.total=R.total),t.responseType==="text"&&a.responseText&&(j.partialText=a.responseText),o.next(j);},D=R=>{let j={type:gp.UploadProgress,loaded:R.loaded};R.lengthComputable&&(j.total=R.total),o.next(j);};return a.addEventListener("load",f),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),t.reportProgress&&(a.addEventListener("progress",x),s!==null&&a.upload&&a.upload.addEventListener("progress",D)),a.send(s),o.next({type:gp.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",f),a.removeEventListener("timeout",g),t.reportProgress&&(a.removeEventListener("progress",x),s!==null&&a.upload&&a.upload.removeEventListener("progress",D)),a.readyState!==a.DONE&&a.abort();};})));}static ɵfac=function(e){return new(e||i)(K(fp));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})(),T6=new se(""),Jne="XSRF-TOKEN",ere=new se("",{providedIn:"root",factory:()=>Jne}),tre="X-XSRF-TOKEN",ire=new se("",{providedIn:"root",factory:()=>tre}),h0=class{},nre=(()=>{class i{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,e){this.doc=t,this.cookieName=e;}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=l0(t,this.cookieName),this.lastCookieString=t),this.lastToken;}static ɵfac=function(e){return new(e||i)(K(bt),K(ere));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})();function rre(i,r){let t=i.url.toLowerCase();if(!N(T6)||i.method==="GET"||i.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return r(i);let e=N(h0).getToken(),n=N(ire);return e!=null&&!i.headers.has(n)&&(i=i.clone({headers:i.headers.set(n,e)})),r(i);}var SR=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i;}(SR||{});function ore(i,r){return{ɵkind:i,ɵproviders:r};}function ER(...i){let r=[uo,CR,qy,{provide:l_,useExisting:qy},{provide:vp,useFactory:()=>N(Hne,{optional:!0})??N(CR)},{provide:yR,useValue:rre,multi:!0},{provide:T6,useValue:!0},{provide:h0,useClass:nre}];for(let t of i)r.push(...t.ɵproviders);return Zu(r);}var v6=new se("");function TR(){return ore(SR.LegacyInterceptors,[{provide:v6,useFactory:Xne},{provide:yR,useExisting:v6,multi:!0}]);}var d_=(()=>{class i{_doc;constructor(t){this._doc=t;}getTitle(){return this._doc.title;}setTitle(t){this._doc.title=t||"";}static ɵfac=function(e){return new(e||i)(K(bt));};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var yp=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:function(e){let n=null;return e?n=new(e||i)():n=K(are),n;},providedIn:"root"});}return i;})(),are=(()=>{class i extends yp{_doc;constructor(t){super(),this._doc=t;}sanitize(t,e){if(e==null)return null;switch(t){case Tr.NONE:return e;case Tr.HTML:return al(e,"HTML")?ya(e):QC(this._doc,String(e)).toString();case Tr.STYLE:return al(e,"Style")?ya(e):e;case Tr.SCRIPT:if(al(e,"Script"))return ya(e);throw new fe(5200,!1);case Tr.URL:return al(e,"URL")?ya(e):Jm(String(e));case Tr.RESOURCE_URL:if(al(e,"ResourceURL"))return ya(e);throw new fe(5201,!1);default:throw new fe(5202,!1);}}bypassSecurityTrustHtml(t){return UO(t);}bypassSecurityTrustStyle(t){return WO(t);}bypassSecurityTrustScript(t){return BO(t);}bypassSecurityTrustUrl(t){return HO(t);}bypassSecurityTrustResourceUrl(t){return qO(t);}static ɵfac=function(e){return new(e||i)(K(bt));};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var po={production:!0};function sre(i){let r=i,t=Math.floor(Math.abs(i)),e=i.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5;}var I6=["de",[["AM","PM"],void 0,void 0],void 0,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xE4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],void 0,void 0],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} 'um' {0}",void 0],[",",".",";","%","+","-","E","\xB7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","Euro",{ATS:["\xF6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[void 0,"\u0440."],CUC:[void 0,"Cub$"],DEM:["DM"],FKP:[void 0,"Fl\xA3"],GHS:[void 0,"\u20B5"],GNF:[void 0,"F.G."],KMF:[void 0,"FC"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],RUR:[void 0,"\u0440."],RWF:[void 0,"F.Rw"],SYP:[],THB:["\u0E3F"],TWD:["NT$"],XXX:[],ZMW:[void 0,"K"]},"ltr",sre];var x6=[[["Mitternacht","morgens","vorm.","mittags","nachm.","abends","nachts"],void 0,["Mitternacht","morgens","vormittags","mittags","nachmittags","abends","nachts"]],[["Mitternacht","Morgen","Vorm.","Mittag","Nachm.","Abend","Nacht"],void 0,["Mitternacht","Morgen","Vormittag","Mittag","Nachmittag","Abend","Nacht"]],["00:00",["05:00","10:00"],["10:00","12:00"],["12:00","13:00"],["13:00","18:00"],["18:00","24:00"],["00:00","05:00"]]];var k6=(()=>{class i{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,e){this._renderer=t,this._elementRef=e;}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e);}registerOnTouched(t){this.onTouched=t;}registerOnChange(t){this.onChange=t;}setDisabledState(t){this.setProperty("disabled",t);}static ɵfac=function(e){return new(e||i)(k(Jt),k(ze));};static ɵdir=Le({type:i});}return i;})(),f_=(()=>{class i extends k6{static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵdir=Le({type:i,features:[ci]});}return i;})(),Ea=new se(""),lre={provide:Ea,useExisting:tn(()=>pi),multi:!0},pi=(()=>{class i extends f_{writeValue(t){this.setProperty("checked",t);}static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵdir=Le({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,n){e&1&&b("change",function(a){return n.onChange(a.target.checked);})("blur",function(){return n.onTouched();});},standalone:!1,features:[Qt([lre]),ci]});}return i;})(),cre={provide:Ea,useExisting:tn(()=>Me),multi:!0};function dre(){let i=Sa()?Sa().getUserAgent():"";return /android (\d+)/.test(i.toLowerCase());}var ure=new se(""),Me=(()=>{class i extends k6{_compositionMode;_composing=!1;constructor(t,e,n){super(t,e),this._compositionMode=n,this._compositionMode==null&&(this._compositionMode=!dre());}writeValue(t){let e=t??"";this.setProperty("value",e);}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t);}_compositionStart(){this._composing=!0;}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t);}static ɵfac=function(e){return new(e||i)(k(Jt),k(ze),k(ure,8));};static ɵdir=Le({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){e&1&&b("input",function(a){return n._handleInput(a.target.value);})("blur",function(){return n.onTouched();})("compositionstart",function(){return n._compositionStart();})("compositionend",function(a){return n._compositionEnd(a.target.value);});},standalone:!1,features:[Qt([cre]),ci]});}return i;})();function wR(i){return i==null||DR(i)===0;}function DR(i){return i==null?null:Array.isArray(i)||typeof i=="string"?i.length:i instanceof Set?i.size:null;}var Ta=new se(""),bp=new se(""),pre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ci=class{static min(r){return $6(r);}static max(r){return L6(r);}static required(r){return mre(r);}static requiredTrue(r){return _re(r);}static email(r){return fre(r);}static minLength(r){return hre(r);}static maxLength(r){return gre(r);}static pattern(r){return vre(r);}static nullValidator(r){return Ky();}static compose(r){return U6(r);}static composeAsync(r){return W6(r);}};function $6(i){return r=>{if(r.value==null||i==null)return null;let t=parseFloat(r.value);return!isNaN(t)&&t<i?{min:{min:i,actual:r.value}}:null;};}function L6(i){return r=>{if(r.value==null||i==null)return null;let t=parseFloat(r.value);return!isNaN(t)&&t>i?{max:{max:i,actual:r.value}}:null;};}function mre(i){return wR(i.value)?{required:!0}:null;}function _re(i){return i.value===!0?null:{required:!0};}function fre(i){return wR(i.value)||pre.test(i.value)?null:{email:!0};}function hre(i){return r=>{let t=r.value?.length??DR(r.value);return t===null||t===0?null:t<i?{minlength:{requiredLength:i,actualLength:t}}:null;};}function gre(i){return r=>{let t=r.value?.length??DR(r.value);return t!==null&&t>i?{maxlength:{requiredLength:i,actualLength:t}}:null;};}function vre(i){if(!i)return Ky;let r,t;return typeof i=="string"?(t="",i.charAt(0)!=="^"&&(t+="^"),t+=i,i.charAt(i.length-1)!=="$"&&(t+="$"),r=new RegExp(t)):(t=i.toString(),r=i),e=>{if(wR(e.value))return null;let n=e.value;return r.test(n)?null:{pattern:{requiredPattern:t,actualValue:n}};};}function Ky(i){return null;}function F6(i){return i!=null;}function V6(i){return fc(i)?Wi(i):i;}function z6(i){let r={};return i.forEach(t=>{r=t!=null?re(re({},r),t):r;}),Object.keys(r).length===0?null:r;}function G6(i,r){return r.map(t=>t(i));}function Cre(i){return!i.validate;}function j6(i){return i.map(r=>Cre(r)?r:t=>r.validate(t));}function U6(i){if(!i)return null;let r=i.filter(F6);return r.length==0?null:function(t){return z6(G6(t,r));};}function MR(i){return i!=null?U6(j6(i)):null;}function W6(i){if(!i)return null;let r=i.filter(F6);return r.length==0?null:function(t){let e=G6(t,r).map(V6);return Mi(e).pipe(me(z6));};}function OR(i){return i!=null?W6(j6(i)):null;}function A6(i,r){return i===null?[r]:Array.isArray(i)?[...i,r]:[i,r];}function B6(i){return i._rawValidators;}function H6(i){return i._rawAsyncValidators;}function IR(i){return i?Array.isArray(i)?i:[i]:[];}function Qy(i,r){return Array.isArray(i)?i.includes(r):i===r;}function w6(i,r){let t=IR(r);return IR(i).forEach(n=>{Qy(t,n)||t.push(n);}),t;}function D6(i,r){return IR(r).filter(t=>!Qy(i,t));}var Zy=class{get value(){return this.control?this.control.value:null;}get valid(){return this.control?this.control.valid:null;}get invalid(){return this.control?this.control.invalid:null;}get pending(){return this.control?this.control.pending:null;}get disabled(){return this.control?this.control.disabled:null;}get enabled(){return this.control?this.control.enabled:null;}get errors(){return this.control?this.control.errors:null;}get pristine(){return this.control?this.control.pristine:null;}get dirty(){return this.control?this.control.dirty:null;}get touched(){return this.control?this.control.touched:null;}get status(){return this.control?this.control.status:null;}get untouched(){return this.control?this.control.untouched:null;}get statusChanges(){return this.control?this.control.statusChanges:null;}get valueChanges(){return this.control?this.control.valueChanges:null;}get path(){return null;}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=MR(this._rawValidators);}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=OR(this._rawAsyncValidators);}get validator(){return this._composedValidatorFn||null;}get asyncValidator(){return this._composedAsyncValidatorFn||null;}_onDestroyCallbacks=[];_registerOnDestroy(r){this._onDestroyCallbacks.push(r);}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[];}reset(r=void 0){this.control&&this.control.reset(r);}hasError(r,t){return this.control?this.control.hasError(r,t):!1;}getError(r,t){return this.control?this.control.getError(r,t):null;}},Lo=class extends Zy{name;get formDirective(){return null;}get path(){return null;}},Wa=class extends Zy{_parent=null;name=null;valueAccessor=null;},Jy=class{_cd;constructor(r){this._cd=r;}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched;}get isUntouched(){return!!this._cd?.control?.untouched;}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine;}get isDirty(){return!!this._cd?.control?.dirty;}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid;}get isInvalid(){return!!this._cd?.control?.invalid;}get isPending(){return!!this._cd?.control?.pending;}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted;}},yre={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Jit=rt(re({},yre),{"[class.ng-submitted]":"isSubmitted"}),Se=(()=>{class i extends Jy{constructor(t){super(t);}static ɵfac=function(e){return new(e||i)(k(Wa,2));};static ɵdir=Le({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){e&2&&vt("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending);},standalone:!1,features:[ci]});}return i;})(),h_=(()=>{class i extends Jy{constructor(t){super(t);}static ɵfac=function(e){return new(e||i)(k(Lo,10));};static ɵdir=Le({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,n){e&2&&vt("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted);},standalone:!1,features:[ci]});}return i;})();var g0="VALID",Xy="INVALID",p_="PENDING",v0="DISABLED",bd=class{},eb=class extends bd{value;source;constructor(r,t){super(),this.value=r,this.source=t;}},y0=class extends bd{pristine;source;constructor(r,t){super(),this.pristine=r,this.source=t;}},b0=class extends bd{touched;source;constructor(r,t){super(),this.touched=r,this.source=t;}},m_=class extends bd{status;source;constructor(r,t){super(),this.status=r,this.source=t;}},tb=class extends bd{source;constructor(r){super(),this.source=r;}},ib=class extends bd{source;constructor(r){super(),this.source=r;}};function PR(i){return(ab(i)?i.validators:i)||null;}function bre(i){return Array.isArray(i)?MR(i):i||null;}function RR(i,r){return(ab(r)?r.asyncValidators:i)||null;}function Sre(i){return Array.isArray(i)?OR(i):i||null;}function ab(i){return i!=null&&!Array.isArray(i)&&typeof i=="object";}function q6(i,r,t){let e=i.controls;if(!(r?Object.keys(e):e).length)throw new fe(1e3,"");if(!e[t])throw new fe(1001,"");}function Y6(i,r,t){i._forEachChild((e,n)=>{if(t[n]===void 0)throw new fe(1002,"");});}var __=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(r,t){this._assignValidators(r),this._assignAsyncValidators(t);}get validator(){return this._composedValidatorFn;}set validator(r){this._rawValidators=this._composedValidatorFn=r;}get asyncValidator(){return this._composedAsyncValidatorFn;}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r;}get parent(){return this._parent;}get status(){return $o(this.statusReactive);}set status(r){$o(()=>this.statusReactive.set(r));}_status=Ds(()=>this.statusReactive());statusReactive=$i(void 0);get valid(){return this.status===g0;}get invalid(){return this.status===Xy;}get pending(){return this.status==p_;}get disabled(){return this.status===v0;}get enabled(){return this.status!==v0;}errors;get pristine(){return $o(this.pristineReactive);}set pristine(r){$o(()=>this.pristineReactive.set(r));}_pristine=Ds(()=>this.pristineReactive());pristineReactive=$i(!0);get dirty(){return!this.pristine;}get touched(){return $o(this.touchedReactive);}set touched(r){$o(()=>this.touchedReactive.set(r));}_touched=Ds(()=>this.touchedReactive());touchedReactive=$i(!1);get untouched(){return!this.touched;}_events=new xe();events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change";}setValidators(r){this._assignValidators(r);}setAsyncValidators(r){this._assignAsyncValidators(r);}addValidators(r){this.setValidators(w6(r,this._rawValidators));}addAsyncValidators(r){this.setAsyncValidators(w6(r,this._rawAsyncValidators));}removeValidators(r){this.setValidators(D6(r,this._rawValidators));}removeAsyncValidators(r){this.setAsyncValidators(D6(r,this._rawAsyncValidators));}hasValidator(r){return Qy(this._rawValidators,r);}hasAsyncValidator(r){return Qy(this._rawAsyncValidators,r);}clearValidators(){this.validator=null;}clearAsyncValidators(){this.asyncValidator=null;}markAsTouched(r={}){let t=this.touched===!1;this.touched=!0;let e=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsTouched(rt(re({},r),{sourceControl:e})),t&&r.emitEvent!==!1&&this._events.next(new b0(!0,e));}markAllAsDirty(r={}){this.markAsDirty({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(r));}markAllAsTouched(r={}){this.markAsTouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(r));}markAsUntouched(r={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let e=r.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:e});}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,e),t&&r.emitEvent!==!1&&this._events.next(new b0(!1,e));}markAsDirty(r={}){let t=this.pristine===!0;this.pristine=!1;let e=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsDirty(rt(re({},r),{sourceControl:e})),t&&r.emitEvent!==!1&&this._events.next(new y0(!1,e));}markAsPristine(r={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let e=r.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:r.emitEvent});}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r,e),t&&r.emitEvent!==!1&&this._events.next(new y0(!0,e));}markAsPending(r={}){this.status=p_;let t=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new m_(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.markAsPending(rt(re({},r),{sourceControl:t}));}disable(r={}){let t=this._parentMarkedDirty(r.onlySelf);this.status=v0,this.errors=null,this._forEachChild(n=>{n.disable(rt(re({},r),{onlySelf:!0}));}),this._updateValue();let e=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new eb(this.value,e)),this._events.next(new m_(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(rt(re({},r),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(n=>n(!0));}enable(r={}){let t=this._parentMarkedDirty(r.onlySelf);this.status=g0,this._forEachChild(e=>{e.enable(rt(re({},r),{onlySelf:!0}));}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(rt(re({},r),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(e=>e(!1));}_updateAncestors(r,t){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t));}setParent(r){this._parent=r;}getRawValue(){return this.value;}updateValueAndValidity(r={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let e=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===g0||this.status===p_)&&this._runAsyncValidator(e,r.emitEvent);}let t=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new eb(this.value,t)),this._events.next(new m_(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(rt(re({},r),{sourceControl:t}));}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent});}_setInitialStatus(){this.status=this._allControlsDisabled()?v0:g0;}_runValidator(){return this.validator?this.validator(this):null;}_runAsyncValidator(r,t){if(this.asyncValidator){this.status=p_,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:r!==!1};let e=V6(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:t,shouldHaveEmitted:r});});}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let r=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,r;}return!1;}setErrors(r,t={}){this.errors=r,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted);}get(r){let t=r;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((e,n)=>e&&e._find(n),this);}getError(r,t){let e=t?this.get(t):this;return e&&e.errors?e.errors[r]:null;}hasError(r,t){return!!this.getError(r,t);}get root(){let r=this;for(;r._parent;)r=r._parent;return r;}_updateControlsErrors(r,t,e){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),(r||e)&&this._events.next(new m_(this.status,t)),this._parent&&this._parent._updateControlsErrors(r,t,e);}_initObservables(){this.valueChanges=new ae(),this.statusChanges=new ae();}_calculateStatus(){return this._allControlsDisabled()?v0:this.errors?Xy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(p_)?p_:this._anyControlsHaveStatus(Xy)?Xy:g0;}_anyControlsHaveStatus(r){return this._anyControls(t=>t.status===r);}_anyControlsDirty(){return this._anyControls(r=>r.dirty);}_anyControlsTouched(){return this._anyControls(r=>r.touched);}_updatePristine(r,t){let e=!this._anyControlsDirty(),n=this.pristine!==e;this.pristine=e,this._parent&&!r.onlySelf&&this._parent._updatePristine(r,t),n&&this._events.next(new y0(this.pristine,t));}_updateTouched(r={},t){this.touched=this._anyControlsTouched(),this._events.next(new b0(this.touched,t)),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,t);}_onDisabledChange=[];_registerOnCollectionChange(r){this._onCollectionChange=r;}_setUpdateStrategy(r){ab(r)&&r.updateOn!=null&&(this._updateOn=r.updateOn);}_parentMarkedDirty(r){let t=this._parent&&this._parent.dirty;return!r&&!!t&&!this._parent._anyControlsDirty();}_find(r){return null;}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=bre(this._rawValidators);}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=Sre(this._rawAsyncValidators);}},Sd=class extends __{constructor(r,t,e){super(PR(t),RR(e,t)),this.controls=r,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator});}controls;registerControl(r,t){return this.controls[r]?this.controls[r]:(this.controls[r]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t);}addControl(r,t,e={}){this.registerControl(r,t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange();}removeControl(r,t={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange();}setControl(r,t,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],t&&this.registerControl(r,t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange();}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled;}setValue(r,t={}){Y6(this,!0,r),Object.keys(r).forEach(e=>{q6(this,!0,e),this.controls[e].setValue(r[e],{onlySelf:!0,emitEvent:t.emitEvent});}),this.updateValueAndValidity(t);}patchValue(r,t={}){r!=null&&(Object.keys(r).forEach(e=>{let n=this.controls[e];n&&n.patchValue(r[e],{onlySelf:!0,emitEvent:t.emitEvent});}),this.updateValueAndValidity(t));}reset(r={},t={}){this._forEachChild((e,n)=>{e.reset(r?r[n]:null,{onlySelf:!0,emitEvent:t.emitEvent});}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t);}getRawValue(){return this._reduceChildren({},(r,t,e)=>(r[e]=t.getRawValue(),r));}_syncPendingControls(){let r=this._reduceChildren(!1,(t,e)=>e._syncPendingControls()?!0:t);return r&&this.updateValueAndValidity({onlySelf:!0}),r;}_forEachChild(r){Object.keys(this.controls).forEach(t=>{let e=this.controls[t];e&&r(e,t);});}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange);});}_updateValue(){this.value=this._reduceValue();}_anyControls(r){for(let[t,e]of Object.entries(this.controls))if(this.contains(t)&&r(e))return!0;return!1;}_reduceValue(){let r={};return this._reduceChildren(r,(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t));}_reduceChildren(r,t){let e=r;return this._forEachChild((n,o)=>{e=t(e,n,o);}),e;}_allControlsDisabled(){for(let r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled;}_find(r){return this.controls.hasOwnProperty(r)?this.controls[r]:null;}};var xR=class extends Sd{};var Sp=new se("",{providedIn:"root",factory:()=>E0}),E0="always";function sb(i,r){return[...r.path,i];}function S0(i,r,t=E0){NR(i,r),r.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&r.valueAccessor.setDisabledState?.(i.disabled),Tre(i,r),xre(i,r),Ire(i,r),Ere(i,r);}function nb(i,r,t=!0){let e=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(e),r.valueAccessor.registerOnTouched(e)),ob(i,r),i&&(r._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}));}function rb(i,r){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(r);});}function Ere(i,r){if(r.valueAccessor.setDisabledState){let t=e=>{r.valueAccessor.setDisabledState(e);};i.registerOnDisabledChange(t),r._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t);});}}function NR(i,r){let t=B6(i);r.validator!==null?i.setValidators(A6(t,r.validator)):typeof t=="function"&&i.setValidators([t]);let e=H6(i);r.asyncValidator!==null?i.setAsyncValidators(A6(e,r.asyncValidator)):typeof e=="function"&&i.setAsyncValidators([e]);let n=()=>i.updateValueAndValidity();rb(r._rawValidators,n),rb(r._rawAsyncValidators,n);}function ob(i,r){let t=!1;if(i!==null){if(r.validator!==null){let n=B6(i);if(Array.isArray(n)&&n.length>0){let o=n.filter(a=>a!==r.validator);o.length!==n.length&&(t=!0,i.setValidators(o));}}if(r.asyncValidator!==null){let n=H6(i);if(Array.isArray(n)&&n.length>0){let o=n.filter(a=>a!==r.asyncValidator);o.length!==n.length&&(t=!0,i.setAsyncValidators(o));}}}let e=()=>{};return rb(r._rawValidators,e),rb(r._rawAsyncValidators,e),t;}function Tre(i,r){r.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&X6(i,r);});}function Ire(i,r){r.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&X6(i,r),i.updateOn!=="submit"&&i.markAsTouched();});}function X6(i,r){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1;}function xre(i,r){let t=(e,n)=>{r.valueAccessor.writeValue(e),n&&r.viewToModelUpdate(e);};i.registerOnChange(t),r._registerOnDestroy(()=>{i._unregisterOnChange(t);});}function K6(i,r){i==null,NR(i,r);}function Are(i,r){return ob(i,r);}function kR(i,r){if(!i.hasOwnProperty("model"))return!1;let t=i.model;return t.isFirstChange()?!0:!Object.is(r,t.currentValue);}function wre(i){return Object.getPrototypeOf(i.constructor)===f_;}function Q6(i,r){i._syncPendingControls(),r.forEach(t=>{let e=t.control;e.updateOn==="submit"&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1);});}function $R(i,r){if(!r)return null;Array.isArray(r);let t,e,n;return r.forEach(o=>{o.constructor===Me?t=o:wre(o)?e=o:n=o;}),n||e||t||null;}function Dre(i,r){let t=i.indexOf(r);t>-1&&i.splice(t,1);}var Mre={provide:Lo,useExisting:tn(()=>LR)},C0=Promise.resolve(),LR=(()=>{class i extends Lo{callSetDisabledState;get submitted(){return $o(this.submittedReactive);}_submitted=Ds(()=>this.submittedReactive());submittedReactive=$i(!1);_directives=new Set();form;ngSubmit=new ae();options;constructor(t,e,n){super(),this.callSetDisabledState=n,this.form=new Sd({},MR(t),OR(e));}ngAfterViewInit(){this._setUpdateStrategy();}get formDirective(){return this;}get control(){return this.form;}get path(){return[];}get controls(){return this.form.controls;}addControl(t){C0.then(()=>{let e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),S0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t);});}getControl(t){return this.form.get(t.path);}removeControl(t){C0.then(()=>{let e=this._findContainer(t.path);e&&e.removeControl(t.name),this._directives.delete(t);});}addFormGroup(t){C0.then(()=>{let e=this._findContainer(t.path),n=new Sd({});K6(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1});});}removeFormGroup(t){C0.then(()=>{let e=this._findContainer(t.path);e&&e.removeControl(t.name);});}getFormGroup(t){return this.form.get(t.path);}updateModel(t,e){C0.then(()=>{this.form.get(t.path).setValue(e);});}setValue(t){this.control.setValue(t);}onSubmit(t){return this.submittedReactive.set(!0),Q6(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new tb(this.control)),t?.target?.method==="dialog";}onReset(){this.resetForm();}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new ib(this.form));}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn);}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form;}static ɵfac=function(e){return new(e||i)(k(Ta,10),k(bp,10),k(Sp,8));};static ɵdir=Le({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,n){e&1&&b("submit",function(a){return n.onSubmit(a);})("reset",function(){return n.onReset();});},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Qt([Mre]),ci]});}return i;})();function M6(i,r){let t=i.indexOf(r);t>-1&&i.splice(t,1);}function O6(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i;}var bc=class extends __{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(r=null,t,e){super(PR(t),RR(e,t)),this._applyFormState(r),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ab(t)&&(t.nonNullable||t.initialValueIsDefault)&&(O6(r)?this.defaultValue=r.value:this.defaultValue=r);}setValue(r,t={}){this.value=this._pendingValue=r,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(e=>e(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t);}patchValue(r,t={}){this.setValue(r,t);}reset(r=this.defaultValue,t={}){this._applyFormState(r),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1;}_updateValue(){}_anyControls(r){return!1;}_allControlsDisabled(){return this.disabled;}registerOnChange(r){this._onChange.push(r);}_unregisterOnChange(r){M6(this._onChange,r);}registerOnDisabledChange(r){this._onDisabledChange.push(r);}_unregisterOnDisabledChange(r){M6(this._onDisabledChange,r);}_forEachChild(r){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1;}_applyFormState(r){O6(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r;}},lb=bc,Ore=i=>i instanceof bc,Pre=(()=>{class i extends Lo{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this);}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this);}get control(){return this.formDirective.getFormGroup(this);}get path(){return sb(this.name==null?this.name:this.name.toString(),this._parent);}get formDirective(){return this._parent?this._parent.formDirective:null;}_checkParentType(){}static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵdir=Le({type:i,standalone:!1,features:[ci]});}return i;})();var Rre={provide:Wa,useExisting:tn(()=>Ee)},P6=Promise.resolve(),Ee=(()=>{class i extends Wa{_changeDetectorRef;callSetDisabledState;control=new bc();static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ae();constructor(t,e,n,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=$R(this,o);}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let e=t.name.previousValue;this.formDirective.removeControl({name:e,path:this._getPath(e)});}this._setUpControl();}"isDisabled"in t&&this._updateDisabled(t),kR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model);}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this);}get path(){return this._getPath(this.name);}get formDirective(){return this._parent?this._parent.formDirective:null;}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t);}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0;}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn);}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone);}_setUpStandalone(){S0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1});}_checkForErrors(){this._checkName();}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name;}_updateValue(t){P6.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck();});}_updateDisabled(t){let e=t.isDisabled.currentValue,n=e!==0&&gt(e);P6.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck();});}_getPath(t){return this._parent?sb(t,this._parent):[t];}static ɵfac=function(e){return new(e||i)(k(Lo,9),k(Ta,10),k(bp,10),k(Ea,10),k($t,8),k(Sp,8));};static ɵdir=Le({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Qt([Rre]),ci,Oi]});}return i;})();var cb=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1});}return i;})(),Nre={provide:Ea,useExisting:tn(()=>Fo),multi:!0},Fo=(()=>{class i extends f_{writeValue(t){let e=t??"";this.setProperty("value",e);}registerOnChange(t){this.onChange=e=>{t(e==""?null:parseFloat(e));};}static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵdir=Le({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,n){e&1&&b("input",function(a){return n.onChange(a.target.value);})("blur",function(){return n.onTouched();});},standalone:!1,features:[Qt([Nre]),ci]});}return i;})(),kre={provide:Ea,useExisting:tn(()=>Sc),multi:!0};var $re=(()=>{class i{_accessors=[];add(t,e){this._accessors.push([t,e]);}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t){this._accessors.splice(e,1);return;}}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value);});}_isSameGroup(t,e){return t[0].control?t[0]._parent===e._control._parent&&t[1].name===e.name:!1;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),Sc=(()=>{class i extends f_{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=N(Sp,{optional:!0})??E0;constructor(t,e,n,o){super(t,e),this._registry=n,this._injector=o;}ngOnInit(){this._control=this._injector.get(Wa),this._checkName(),this._registry.add(this._control,this);}ngOnDestroy(){this._registry.remove(this);}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state);}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this);};}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0;}fireUncheck(t){this.writeValue(t);}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName);}static ɵfac=function(e){return new(e||i)(k(Jt),k(ze),k($re),k(tt));};static ɵdir=Le({type:i,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,n){e&1&&b("change",function(){return n.onChange();})("blur",function(){return n.onTouched();});},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Qt([kre]),ci]});}return i;})();var FR=new se(""),Lre={provide:Wa,useExisting:tn(()=>VR)},VR=(()=>{class i extends Wa{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new ae();static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,e,n,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=$R(this,n);}ngOnChanges(t){if(this._isControlChanged(t)){let e=t.form.previousValue;e&&nb(e,this,!1),S0(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1});}kR(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model);}ngOnDestroy(){this.form&&nb(this.form,this,!1);}get path(){return[];}get control(){return this.form;}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t);}_isControlChanged(t){return t.hasOwnProperty("form");}static ɵfac=function(e){return new(e||i)(k(Ta,10),k(bp,10),k(Ea,10),k(FR,8),k(Sp,8));};static ɵdir=Le({type:i,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Qt([Lre]),ci,Oi]});}return i;})(),Fre={provide:Lo,useExisting:tn(()=>cl)},cl=(()=>{class i extends Lo{callSetDisabledState;get submitted(){return $o(this._submittedReactive);}set submitted(t){this._submittedReactive.set(t);}_submitted=Ds(()=>this._submittedReactive());_submittedReactive=$i(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ae();constructor(t,e,n){super(),this.callSetDisabledState=n,this._setValidators(t),this._setAsyncValidators(e);}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form);}ngOnDestroy(){this.form&&(ob(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}));}get formDirective(){return this;}get control(){return this.form;}get path(){return[];}addControl(t){let e=this.form.get(t.path);return S0(e,t,this.callSetDisabledState),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e;}getControl(t){return this.form.get(t.path);}removeControl(t){nb(t.control||null,t,!1),Dre(this.directives,t);}addFormGroup(t){this._setUpFormContainer(t);}removeFormGroup(t){this._cleanUpFormContainer(t);}getFormGroup(t){return this.form.get(t.path);}addFormArray(t){this._setUpFormContainer(t);}removeFormArray(t){this._cleanUpFormContainer(t);}getFormArray(t){return this.form.get(t.path);}updateModel(t,e){this.form.get(t.path).setValue(e);}onSubmit(t){return this._submittedReactive.set(!0),Q6(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new tb(this.control)),t?.target?.method==="dialog";}onReset(){this.resetForm();}resetForm(t=void 0,e={}){this.form.reset(t,e),this._submittedReactive.set(!1),e?.emitEvent!==!1&&this.form._events.next(new ib(this.form));}_updateDomValue(){this.directives.forEach(t=>{let e=t.control,n=this.form.get(t.path);e!==n&&(nb(e||null,t),Ore(n)&&(S0(n,t,this.callSetDisabledState),t.control=n));}),this.form._updateTreeValidity({emitEvent:!1});}_setUpFormContainer(t){let e=this.form.get(t.path);K6(e,t),e.updateValueAndValidity({emitEvent:!1});}_cleanUpFormContainer(t){if(this.form){let e=this.form.get(t.path);e&&Are(e,t)&&e.updateValueAndValidity({emitEvent:!1});}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{});}_updateValidators(){NR(this.form,this),this._oldForm&&ob(this._oldForm,this);}static ɵfac=function(e){return new(e||i)(k(Ta,10),k(bp,10),k(Sp,8));};static ɵdir=Le({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,n){e&1&&b("submit",function(a){return n.onSubmit(a);})("reset",function(){return n.onReset();});},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Qt([Fre]),ci,Oi]});}return i;})(),Vre={provide:Lo,useExisting:tn(()=>db)},db=(()=>{class i extends Pre{name=null;constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n);}_checkParentType(){Z6(this._parent);}static ɵfac=function(e){return new(e||i)(k(Lo,13),k(Ta,10),k(bp,10));};static ɵdir=Le({type:i,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Qt([Vre]),ci]});}return i;})(),zre={provide:Lo,useExisting:tn(()=>ub)},ub=(()=>{class i extends Lo{_parent;name=null;constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n);}ngOnInit(){Z6(this._parent),this.formDirective.addFormArray(this);}ngOnDestroy(){this.formDirective?.removeFormArray(this);}get control(){return this.formDirective.getFormArray(this);}get formDirective(){return this._parent?this._parent.formDirective:null;}get path(){return sb(this.name==null?this.name:this.name.toString(),this._parent);}static ɵfac=function(e){return new(e||i)(k(Lo,13),k(Ta,10),k(bp,10));};static ɵdir=Le({type:i,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Qt([zre]),ci]});}return i;})();function Z6(i){return!(i instanceof db)&&!(i instanceof cl)&&!(i instanceof ub);}var Gre={provide:Wa,useExisting:tn(()=>T0)},T0=(()=>{class i extends Wa{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new ae();static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,e,n,o,a){super(),this._ngModelWarningConfig=a,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=$R(this,o);}ngOnChanges(t){this._added||this._setUpControl(),kR(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model));}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this);}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t);}get path(){return sb(this.name==null?this.name:this.name.toString(),this._parent);}get formDirective(){return this._parent?this._parent.formDirective:null;}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0;}static ɵfac=function(e){return new(e||i)(k(Lo,13),k(Ta,10),k(bp,10),k(Ea,10),k(FR,8));};static ɵdir=Le({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Qt([Gre]),ci,Oi]});}return i;})();var jre={provide:Ea,useExisting:tn(()=>mo),multi:!0};function J6(i,r){return i==null?`${r}`:(r&&typeof r=="object"&&(r="Object"),`${i}: ${r}`.slice(0,50));}function Ure(i){return i.split(":")[0];}var mo=(()=>{class i extends f_{value;_optionMap=new Map();_idCounter=0;set compareWith(t){this._compareWith=t;}_compareWith=Object.is;writeValue(t){this.value=t;let e=this._getOptionId(t),n=J6(e,t);this.setProperty("value",n);}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value);};}_registerOption(){return(this._idCounter++).toString();}_getOptionId(t){for(let e of this._optionMap.keys())if(this._compareWith(this._optionMap.get(e),t))return e;return null;}_getOptionValue(t){let e=Ure(t);return this._optionMap.has(e)?this._optionMap.get(e):t;}static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵdir=Le({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,n){e&1&&b("change",function(a){return n.onChange(a.target.value);})("blur",function(){return n.onTouched();});},inputs:{compareWith:"compareWith"},standalone:!1,features:[Qt([jre]),ci]});}return i;})(),_o=(()=>{class i{_element;_renderer;_select;id;constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption());}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(J6(this.id,t)),this._select.writeValue(this._select.value));}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value);}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t);}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value));}static ɵfac=function(e){return new(e||i)(k(ze),k(Jt),k(mo,9));};static ɵdir=Le({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1});}return i;})(),Wre={provide:Ea,useExisting:tn(()=>eV),multi:!0};function R6(i,r){return i==null?`${r}`:(typeof r=="string"&&(r=`'${r}'`),r&&typeof r=="object"&&(r="Object"),`${i}: ${r}`.slice(0,50));}function Bre(i){return i.split(":")[0];}var eV=(()=>{class i extends f_{value;_optionMap=new Map();_idCounter=0;set compareWith(t){this._compareWith=t;}_compareWith=Object.is;writeValue(t){this.value=t;let e;if(Array.isArray(t)){let n=t.map(o=>this._getOptionId(o));e=(o,a)=>{o._setSelected(n.indexOf(a.toString())>-1);};}else e=(n,o)=>{n._setSelected(!1);};this._optionMap.forEach(e);}registerOnChange(t){this.onChange=e=>{let n=[],o=e.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let l=a[s],_=this._getOptionValue(l.value);n.push(_);}}else{let a=e.options;for(let s=0;s<a.length;s++){let l=a[s];if(l.selected){let _=this._getOptionValue(l.value);n.push(_);}}}this.value=n,t(n);};}_registerOption(t){let e=(this._idCounter++).toString();return this._optionMap.set(e,t),e;}_getOptionId(t){for(let e of this._optionMap.keys())if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null;}_getOptionValue(t){let e=Bre(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t;}static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵdir=Le({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,n){e&1&&b("change",function(a){return n.onChange(a.target);})("blur",function(){return n.onTouched();});},inputs:{compareWith:"compareWith"},standalone:!1,features:[Qt([Wre]),ci]});}return i;})(),fo=(()=>{class i{_element;_renderer;_select;id;_value;constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this));}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(R6(this.id,t)),this._select.writeValue(this._select.value));}set value(t){this._select?(this._value=t,this._setElementValue(R6(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t);}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t);}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t);}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value));}static ɵfac=function(e){return new(e||i)(k(ze),k(Jt),k(eV,9));};static ɵdir=Le({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1});}return i;})();function tV(i){return typeof i=="number"?i:parseFloat(i);}var iV=(()=>{class i{_validator=Ky;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let e=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(e),this._validator=this._enabled?this.createValidator(e):Ky,this._onChange&&this._onChange();}}validate(t){return this._validator(t);}registerOnValidatorChange(t){this._onChange=t;}enabled(t){return t!=null;}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,features:[Oi]});}return i;})(),Hre={provide:Ta,useExisting:tn(()=>zR),multi:!0},zR=(()=>{class i extends iV{max;inputName="max";normalizeInput=t=>tV(t);createValidator=t=>L6(t);static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵdir=Le({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,n){e&2&&lt("max",n._enabled?n.max:null);},inputs:{max:"max"},standalone:!1,features:[Qt([Hre]),ci]});}return i;})(),qre={provide:Ta,useExisting:tn(()=>I0),multi:!0},I0=(()=>{class i extends iV{min;inputName="min";normalizeInput=t=>tV(t);createValidator=t=>$6(t);static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵdir=Le({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,n){e&2&&lt("min",n._enabled?n.min:null);},inputs:{min:"min"},standalone:!1,features:[Qt([qre]),ci]});}return i;})();var nV=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({});}return i;})(),AR=class extends __{constructor(r,t,e){super(PR(t),RR(e,t)),this.controls=r,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator});}controls;at(r){return this.controls[this._adjustIndex(r)];}push(r,t={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange();}insert(r,t,e={}){this.controls.splice(r,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent});}removeAt(r,t={}){let e=this._adjustIndex(r);e<0&&(e=0),this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent});}setControl(r,t,e={}){let n=this._adjustIndex(r);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),t&&(this.controls.splice(n,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange();}get length(){return this.controls.length;}setValue(r,t={}){Y6(this,!1,r),r.forEach((e,n)=>{q6(this,!1,n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent});}),this.updateValueAndValidity(t);}patchValue(r,t={}){r!=null&&(r.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent});}),this.updateValueAndValidity(t));}reset(r=[],t={}){this._forEachChild((e,n)=>{e.reset(r[n],{onlySelf:!0,emitEvent:t.emitEvent});}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t);}getRawValue(){return this.controls.map(r=>r.getRawValue());}clear(r={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}));}_adjustIndex(r){return r<0?r+this.length:r;}_syncPendingControls(){let r=this.controls.reduce((t,e)=>e._syncPendingControls()?!0:t,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r;}_forEachChild(r){this.controls.forEach((t,e)=>{r(t,e);});}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value);}_anyControls(r){return this.controls.some(t=>t.enabled&&r(t));}_setUpControls(){this._forEachChild(r=>this._registerControl(r));}_allControlsDisabled(){for(let r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled;}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange);}_find(r){return this.at(r)??null;}};function N6(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0);}var Yre=(()=>{class i{useNonNullable=!1;get nonNullable(){let t=new i();return t.useNonNullable=!0,t;}group(t,e=null){let n=this._reduceControls(t),o={};return N6(e)?o=e:e!==null&&(o.validators=e.validator,o.asyncValidators=e.asyncValidator),new Sd(n,o);}record(t,e=null){let n=this._reduceControls(t);return new xR(n,e);}control(t,e,n){let o={};return this.useNonNullable?(N6(e)?o=e:(o.validators=e,o.asyncValidators=n),new bc(t,rt(re({},o),{nonNullable:!0}))):new bc(t,e,n);}array(t,e,n){let o=t.map(a=>this._createControl(a));return new AR(o,e,n);}_reduceControls(t){let e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n]);}),e;}_createControl(t){if(t instanceof bc)return t;if(t instanceof __)return t;if(Array.isArray(t)){let e=t[0],n=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(e,n,o);}else return this.control(t);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var Ed=(()=>{class i extends Yre{group(t,e=null){return super.group(t,e);}control(t,e,n){return super.control(t,e,n);}array(t,e,n){return super.array(t,e,n);}static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var pb=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:Sp,useValue:t.callSetDisabledState??E0}]};}static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[nV]});}return i;})(),rV=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:FR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Sp,useValue:t.callSetDisabledState??E0}]};}static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[nV]});}return i;})();var jt="primary",F0=Symbol("RouteTitle"),BR=class{params;constructor(r){this.params=r||{};}has(r){return Object.prototype.hasOwnProperty.call(this.params,r);}get(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t[0]:t;}return null;}getAll(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t:[t];}return[];}get keys(){return Object.keys(this.params);}};function Ip(i){return new BR(i);}function pV(i,r,t){let e=t.path.split("/");if(e.length>i.length||t.pathMatch==="full"&&(r.hasChildren()||e.length<i.length))return null;let n={};for(let o=0;o<e.length;o++){let a=e[o],s=i[o];if(a[0]===":")n[a.substring(1)]=s;else if(a!==s.path)return null;}return{consumed:i.slice(0,e.length),posParams:n};}function Xre(i,r){if(i.length!==r.length)return!1;for(let t=0;t<i.length;++t)if(!dl(i[t],r[t]))return!1;return!0;}function dl(i,r){let t=i?HR(i):void 0,e=r?HR(r):void 0;if(!t||!e||t.length!=e.length)return!1;let n;for(let o=0;o<t.length;o++)if(n=t[o],!mV(i[n],r[n]))return!1;return!0;}function HR(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)];}function mV(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;let t=[...i].sort(),e=[...r].sort();return t.every((n,o)=>e[o]===n);}else return i===r;}function _V(i){return i.length>0?i[i.length-1]:null;}function Ec(i){return L1(i)?i:fc(i)?Wi(Promise.resolve(i)):ge(i);}var Kre={exact:hV,subset:gV},fV={exact:Qre,subset:Zre,ignored:()=>!0};function oV(i,r,t){return Kre[t.paths](i.root,r.root,t.matrixParams)&&fV[t.queryParams](i.queryParams,r.queryParams)&&!(t.fragment==="exact"&&i.fragment!==r.fragment);}function Qre(i,r){return dl(i,r);}function hV(i,r,t){if(!Ep(i.segments,r.segments)||!fb(i.segments,r.segments,t)||i.numberOfChildren!==r.numberOfChildren)return!1;for(let e in r.children)if(!i.children[e]||!hV(i.children[e],r.children[e],t))return!1;return!0;}function Zre(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(t=>mV(i[t],r[t]));}function gV(i,r,t){return vV(i,r,r.segments,t);}function vV(i,r,t,e){if(i.segments.length>t.length){let n=i.segments.slice(0,t.length);return!(!Ep(n,t)||r.hasChildren()||!fb(n,t,e));}else if(i.segments.length===t.length){if(!Ep(i.segments,t)||!fb(i.segments,t,e))return!1;for(let n in r.children)if(!i.children[n]||!gV(i.children[n],r.children[n],e))return!1;return!0;}else{let n=t.slice(0,i.segments.length),o=t.slice(i.segments.length);return!Ep(i.segments,n)||!fb(i.segments,n,e)||!i.children[jt]?!1:vV(i.children[jt],r,o,e);}}function fb(i,r,t){return r.every((e,n)=>fV[t](i[n].parameters,e.parameters));}var pl=class{root;queryParams;fragment;_queryParamMap;constructor(r=new Ai([],{}),t={},e=null){this.root=r,this.queryParams=t,this.fragment=e;}get queryParamMap(){return this._queryParamMap??=Ip(this.queryParams),this._queryParamMap;}toString(){return toe.serialize(this);}},Ai=class{segments;children;parent=null;constructor(r,t){this.segments=r,this.children=t,Object.values(t).forEach(e=>e.parent=this);}hasChildren(){return this.numberOfChildren>0;}get numberOfChildren(){return Object.keys(this.children).length;}toString(){return hb(this);}},Td=class{path;parameters;_parameterMap;constructor(r,t){this.path=r,this.parameters=t;}get parameterMap(){return this._parameterMap??=Ip(this.parameters),this._parameterMap;}toString(){return yV(this);}};function Jre(i,r){return Ep(i,r)&&i.every((t,e)=>dl(t.parameters,r[e].parameters));}function Ep(i,r){return i.length!==r.length?!1:i.every((t,e)=>t.path===r[e].path);}function eoe(i,r){let t=[];return Object.entries(i.children).forEach(([e,n])=>{e===jt&&(t=t.concat(r(n,e)));}),Object.entries(i.children).forEach(([e,n])=>{e!==jt&&(t=t.concat(r(n,e)));}),t;}var xp=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:()=>new Id(),providedIn:"root"});}return i;})(),Id=class{parse(r){let t=new YR(r);return new pl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment());}serialize(r){let t=`/${x0(r.root,!0)}`,e=roe(r.queryParams),n=typeof r.fragment=="string"?`#${ioe(r.fragment)}`:"";return`${t}${e}${n}`;}},toe=new Id();function hb(i){return i.segments.map(r=>yV(r)).join("/");}function x0(i,r){if(!i.hasChildren())return hb(i);if(r){let t=i.children[jt]?x0(i.children[jt],!1):"",e=[];return Object.entries(i.children).forEach(([n,o])=>{n!==jt&&e.push(`${n}:${x0(o,!1)}`);}),e.length>0?`${t}(${e.join("//")})`:t;}else{let t=eoe(i,(e,n)=>n===jt?[x0(i.children[jt],!1)]:[`${n}:${x0(e,!1)}`]);return Object.keys(i.children).length===1&&i.children[jt]!=null?`${hb(i)}/${t[0]}`:`${hb(i)}/(${t.join("//")})`;}}function CV(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",");}function mb(i){return CV(i).replace(/%3B/gi,";");}function ioe(i){return encodeURI(i);}function qR(i){return CV(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&");}function gb(i){return decodeURIComponent(i);}function aV(i){return gb(i.replace(/\+/g,"%20"));}function yV(i){return`${qR(i.path)}${noe(i.parameters)}`;}function noe(i){return Object.entries(i).map(([r,t])=>`;${qR(r)}=${qR(t)}`).join("");}function roe(i){let r=Object.entries(i).map(([t,e])=>Array.isArray(e)?e.map(n=>`${mb(t)}=${mb(n)}`).join("&"):`${mb(t)}=${mb(e)}`).filter(t=>t);return r.length?`?${r.join("&")}`:"";}var ooe=/^[^\/()?;#]+/;function GR(i){let r=i.match(ooe);return r?r[0]:"";}var aoe=/^[^\/()?;=#]+/;function soe(i){let r=i.match(aoe);return r?r[0]:"";}var loe=/^[^=?&#]+/;function coe(i){let r=i.match(loe);return r?r[0]:"";}var doe=/^[^&#]+/;function uoe(i){let r=i.match(doe);return r?r[0]:"";}var YR=class{url;remaining;constructor(r){this.url=r,this.remaining=r;}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ai([],{}):new Ai([],this.parseChildren());}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r;}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null;}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let e={};return this.peekStartsWith("(")&&(e=this.parseParens(!1)),(r.length>0||Object.keys(t).length>0)&&(e[jt]=new Ai(r,t)),e;}parseSegment(){let r=GR(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new fe(4009,!1);return this.capture(r),new Td(gb(r),this.parseMatrixParams());}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r;}parseParam(r){let t=soe(this.remaining);if(!t)return;this.capture(t);let e="";if(this.consumeOptional("=")){let n=GR(this.remaining);n&&(e=n,this.capture(e));}r[gb(t)]=gb(e);}parseQueryParam(r){let t=coe(this.remaining);if(!t)return;this.capture(t);let e="";if(this.consumeOptional("=")){let a=uoe(this.remaining);a&&(e=a,this.capture(e));}let n=aV(t),o=aV(e);if(r.hasOwnProperty(n)){let a=r[n];Array.isArray(a)||(a=[a],r[n]=a),a.push(o);}else r[n]=o;}parseParens(r){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let e=GR(this.remaining),n=this.remaining[e.length];if(n!=="/"&&n!==")"&&n!==";")throw new fe(4010,!1);let o;e.indexOf(":")>-1?(o=e.slice(0,e.indexOf(":")),this.capture(o),this.capture(":")):r&&(o=jt);let a=this.parseChildren();t[o]=Object.keys(a).length===1?a[jt]:new Ai([],a),this.consumeOptional("//");}return t;}peekStartsWith(r){return this.remaining.startsWith(r);}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1;}capture(r){if(!this.consumeOptional(r))throw new fe(4011,!1);}};function bV(i){return i.segments.length>0?new Ai([],{[jt]:i}):i;}function SV(i){let r={};for(let[e,n]of Object.entries(i.children)){let o=SV(n);if(e===jt&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))r[a]=s;else(o.segments.length>0||o.hasChildren())&&(r[e]=o);}let t=new Ai(i.segments,r);return poe(t);}function poe(i){if(i.numberOfChildren===1&&i.children[jt]){let r=i.children[jt];return new Ai(i.segments.concat(r.segments),r.children);}return i;}function xd(i){return i instanceof pl;}function EV(i,r,t=null,e=null){let n=TV(i);return IV(n,r,t,e);}function TV(i){let r;function t(o){let a={};for(let l of o.children){let _=t(l);a[l.outlet]=_;}let s=new Ai(o.url,a);return o===i&&(r=s),s;}let e=t(i.root),n=bV(e);return r??n;}function IV(i,r,t,e){let n=i;for(;n.parent;)n=n.parent;if(r.length===0)return jR(n,n,n,t,e);let o=moe(r);if(o.toRoot())return jR(n,n,new Ai([],{}),t,e);let a=_oe(o,n,i),s=a.processChildren?w0(a.segmentGroup,a.index,o.commands):AV(a.segmentGroup,a.index,o.commands);return jR(n,a.segmentGroup,s,t,e);}function vb(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath;}function M0(i){return typeof i=="object"&&i!=null&&i.outlets;}function jR(i,r,t,e,n){let o={};e&&Object.entries(e).forEach(([l,_])=>{o[l]=Array.isArray(_)?_.map(f=>`${f}`):`${_}`;});let a;i===r?a=t:a=xV(i,r,t);let s=bV(SV(a));return new pl(s,o,n);}function xV(i,r,t){let e={};return Object.entries(i.children).forEach(([n,o])=>{o===r?e[n]=t:e[n]=xV(o,r,t);}),new Ai(i.segments,e);}var Cb=class{isAbsolute;numberOfDoubleDots;commands;constructor(r,t,e){if(this.isAbsolute=r,this.numberOfDoubleDots=t,this.commands=e,r&&e.length>0&&vb(e[0]))throw new fe(4003,!1);let n=e.find(M0);if(n&&n!==_V(e))throw new fe(4004,!1);}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/";}};function moe(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Cb(!0,0,i);let r=0,t=!1,e=i.reduce((n,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,_])=>{s[l]=typeof _=="string"?_.split("/"):_;}),[...n,{outlets:s}];}if(o.segmentPath)return[...n,o.segmentPath];}return typeof o!="string"?[...n,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?t=!0:s===".."?r++:s!=""&&n.push(s));}),n):[...n,o];},[]);return new Cb(t,r,e);}var C_=class{segmentGroup;processChildren;index;constructor(r,t,e){this.segmentGroup=r,this.processChildren=t,this.index=e;}};function _oe(i,r,t){if(i.isAbsolute)return new C_(r,!0,0);if(!t)return new C_(r,!1,NaN);if(t.parent===null)return new C_(t,!0,0);let e=vb(i.commands[0])?0:1,n=t.segments.length-1+e;return foe(t,n,i.numberOfDoubleDots);}function foe(i,r,t){let e=i,n=r,o=t;for(;o>n;){if(o-=n,e=e.parent,!e)throw new fe(4005,!1);n=e.segments.length;}return new C_(e,!1,n-o);}function hoe(i){return M0(i[0])?i[0].outlets:{[jt]:i};}function AV(i,r,t){if(i??=new Ai([],{}),i.segments.length===0&&i.hasChildren())return w0(i,r,t);let e=goe(i,r,t),n=t.slice(e.commandIndex);if(e.match&&e.pathIndex<i.segments.length){let o=new Ai(i.segments.slice(0,e.pathIndex),{});return o.children[jt]=new Ai(i.segments.slice(e.pathIndex),i.children),w0(o,0,n);}else return e.match&&n.length===0?new Ai(i.segments,{}):e.match&&!i.hasChildren()?XR(i,r,t):e.match?w0(i,0,n):XR(i,r,t);}function w0(i,r,t){if(t.length===0)return new Ai(i.segments,{});{let e=hoe(t),n={};if(Object.keys(e).some(o=>o!==jt)&&i.children[jt]&&i.numberOfChildren===1&&i.children[jt].segments.length===0){let o=w0(i.children[jt],r,t);return new Ai(i.segments,o.children);}return Object.entries(e).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(n[o]=AV(i.children[o],r,a));}),Object.entries(i.children).forEach(([o,a])=>{e[o]===void 0&&(n[o]=a);}),new Ai(i.segments,n);}}function goe(i,r,t){let e=0,n=r,o={match:!1,pathIndex:0,commandIndex:0};for(;n<i.segments.length;){if(e>=t.length)return o;let a=i.segments[n],s=t[e];if(M0(s))break;let l=`${s}`,_=e<t.length-1?t[e+1]:null;if(n>0&&l===void 0)break;if(l&&_&&typeof _=="object"&&_.outlets===void 0){if(!lV(l,_,a))return o;e+=2;}else{if(!lV(l,{},a))return o;e++;}n++;}return{match:!0,pathIndex:n,commandIndex:e};}function XR(i,r,t){let e=i.segments.slice(0,r),n=0;for(;n<t.length;){let o=t[n];if(M0(o)){let l=voe(o.outlets);return new Ai(e,l);}if(n===0&&vb(t[0])){let l=i.segments[r];e.push(new Td(l.path,sV(t[0]))),n++;continue;}let a=M0(o)?o.outlets[jt]:`${o}`,s=n<t.length-1?t[n+1]:null;a&&s&&vb(s)?(e.push(new Td(a,sV(s))),n+=2):(e.push(new Td(a,{})),n++);}return new Ai(e,{});}function voe(i){let r={};return Object.entries(i).forEach(([t,e])=>{typeof e=="string"&&(e=[e]),e!==null&&(r[t]=XR(new Ai([],{}),0,e));}),r;}function sV(i){let r={};return Object.entries(i).forEach(([t,e])=>r[t]=`${e}`),r;}function lV(i,r,t){return i==t.path&&dl(r,t.parameters);}var y_="imperative",hr=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i;}(hr||{}),xa=class{id;url;constructor(r,t){this.id=r,this.url=t;}},Ad=class extends xa{type=hr.NavigationStart;navigationTrigger;restoredState;constructor(r,t,e="imperative",n=null){super(r,t),this.navigationTrigger=e,this.restoredState=n;}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`;}},Aa=class extends xa{urlAfterRedirects;type=hr.NavigationEnd;constructor(r,t,e){super(r,t),this.urlAfterRedirects=e;}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`;}},Vo=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i[i.Aborted=4]="Aborted",i;}(Vo||{}),S_=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i;}(S_||{}),ul=class extends xa{reason;code;type=hr.NavigationCancel;constructor(r,t,e,n){super(r,t),this.reason=e,this.code=n;}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`;}},ml=class extends xa{reason;code;type=hr.NavigationSkipped;constructor(r,t,e,n){super(r,t),this.reason=e,this.code=n;}},E_=class extends xa{error;target;type=hr.NavigationError;constructor(r,t,e,n){super(r,t),this.error=e,this.target=n;}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`;}},O0=class extends xa{urlAfterRedirects;state;type=hr.RoutesRecognized;constructor(r,t,e,n){super(r,t),this.urlAfterRedirects=e,this.state=n;}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;}},yb=class extends xa{urlAfterRedirects;state;type=hr.GuardsCheckStart;constructor(r,t,e,n){super(r,t),this.urlAfterRedirects=e,this.state=n;}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;}},bb=class extends xa{urlAfterRedirects;state;shouldActivate;type=hr.GuardsCheckEnd;constructor(r,t,e,n,o){super(r,t),this.urlAfterRedirects=e,this.state=n,this.shouldActivate=o;}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`;}},Sb=class extends xa{urlAfterRedirects;state;type=hr.ResolveStart;constructor(r,t,e,n){super(r,t),this.urlAfterRedirects=e,this.state=n;}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;}},Eb=class extends xa{urlAfterRedirects;state;type=hr.ResolveEnd;constructor(r,t,e,n){super(r,t),this.urlAfterRedirects=e,this.state=n;}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;}},Tb=class{route;type=hr.RouteConfigLoadStart;constructor(r){this.route=r;}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`;}},Ib=class{route;type=hr.RouteConfigLoadEnd;constructor(r){this.route=r;}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`;}},xb=class{snapshot;type=hr.ChildActivationStart;constructor(r){this.snapshot=r;}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`;}},Ab=class{snapshot;type=hr.ChildActivationEnd;constructor(r){this.snapshot=r;}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`;}},wb=class{snapshot;type=hr.ActivationStart;constructor(r){this.snapshot=r;}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`;}},Db=class{snapshot;type=hr.ActivationEnd;constructor(r){this.snapshot=r;}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`;}},T_=class{routerEvent;position;anchor;type=hr.Scroll;constructor(r,t,e){this.routerEvent=r,this.position=t,this.anchor=e;}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`;}},P0=class{},I_=class{url;navigationBehaviorOptions;constructor(r,t){this.url=r,this.navigationBehaviorOptions=t;}};function Coe(i){return!(i instanceof P0)&&!(i instanceof I_);}function yoe(i,r){return i.providers&&!i._injector&&(i._injector=t_(i.providers,r,`Route: ${i.path}`)),i._injector??r;}function Ns(i){return i.outlet||jt;}function boe(i,r){let t=i.filter(e=>Ns(e)===r);return t.push(...i.filter(e=>Ns(e)!==r)),t;}function V0(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let r=i.parent;r;r=r.parent){let t=r.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector;}return null;}var Mb=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return V0(this.route?.snapshot)??this.rootInjector;}constructor(r){this.rootInjector=r,this.children=new Ap(this.rootInjector);}},Ap=(()=>{class i{rootInjector;contexts=new Map();constructor(t){this.rootInjector=t;}onChildOutletCreated(t,e){let n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n);}onChildOutletDestroyed(t){let e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null);}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map(),t;}onOutletReAttached(t){this.contexts=t;}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Mb(this.rootInjector),this.contexts.set(t,e)),e;}getContext(t){return this.contexts.get(t)||null;}static ɵfac=function(e){return new(e||i)(K(Xi));};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),Ob=class{_root;constructor(r){this._root=r;}get root(){return this._root.value;}parent(r){let t=this.pathFromRoot(r);return t.length>1?t[t.length-2]:null;}children(r){let t=KR(r,this._root);return t?t.children.map(e=>e.value):[];}firstChild(r){let t=KR(r,this._root);return t&&t.children.length>0?t.children[0].value:null;}siblings(r){let t=QR(r,this._root);return t.length<2?[]:t[t.length-2].children.map(n=>n.value).filter(n=>n!==r);}pathFromRoot(r){return QR(r,this._root).map(t=>t.value);}};function KR(i,r){if(i===r.value)return r;for(let t of r.children){let e=KR(i,t);if(e)return e;}return null;}function QR(i,r){if(i===r.value)return[r];for(let t of r.children){let e=QR(i,t);if(e.length)return e.unshift(r),e;}return[];}var Ia=class{value;children;constructor(r,t){this.value=r,this.children=t;}toString(){return`TreeNode(${this.value})`;}};function v_(i){let r={};return i&&i.children.forEach(t=>r[t.value.outlet]=t),r;}var R0=class extends Ob{snapshot;constructor(r,t){super(r),this.snapshot=t,oN(this,r);}toString(){return this.snapshot.toString();}};function wV(i){let r=Soe(i),t=new ur([new Td("",{})]),e=new ur({}),n=new ur({}),o=new ur({}),a=new ur(""),s=new Dn(t,e,o,a,n,jt,i,r.root);return s.snapshot=r.root,new R0(new Ia(s,[]),r);}function Soe(i){let r={},t={},e={},n="",o=new Tp([],r,e,n,t,jt,i,null,{});return new N0("",new Ia(o,[]));}var Dn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(r,t,e,n,o,a,s,l){this.urlSubject=r,this.paramsSubject=t,this.queryParamsSubject=e,this.fragmentSubject=n,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(me(_=>_[F0]))??ge(void 0),this.url=r,this.params=t,this.queryParams=e,this.fragment=n,this.data=o;}get routeConfig(){return this._futureSnapshot.routeConfig;}get root(){return this._routerState.root;}get parent(){return this._routerState.parent(this);}get firstChild(){return this._routerState.firstChild(this);}get children(){return this._routerState.children(this);}get pathFromRoot(){return this._routerState.pathFromRoot(this);}get paramMap(){return this._paramMap??=this.params.pipe(me(r=>Ip(r))),this._paramMap;}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(r=>Ip(r))),this._queryParamMap;}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`;}};function Pb(i,r,t="emptyOnly"){let e,{routeConfig:n}=i;return r!==null&&(t==="always"||n?.path===""||!r.component&&!r.routeConfig?.loadComponent)?e={params:re(re({},r.params),i.params),data:re(re({},r.data),i.data),resolve:re(re(re(re({},i.data),r.data),n?.data),i._resolvedData)}:e={params:re({},i.params),data:re({},i.data),resolve:re(re({},i.data),i._resolvedData??{})},n&&MV(n)&&(e.resolve[F0]=n.title),e;}var Tp=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[F0];}constructor(r,t,e,n,o,a,s,l,_){this.url=r,this.params=t,this.queryParams=e,this.fragment=n,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=_;}get root(){return this._routerState.root;}get parent(){return this._routerState.parent(this);}get firstChild(){return this._routerState.firstChild(this);}get children(){return this._routerState.children(this);}get pathFromRoot(){return this._routerState.pathFromRoot(this);}get paramMap(){return this._paramMap??=Ip(this.params),this._paramMap;}get queryParamMap(){return this._queryParamMap??=Ip(this.queryParams),this._queryParamMap;}toString(){let r=this.url.map(e=>e.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${t}')`;}},N0=class extends Ob{url;constructor(r,t){super(t),this.url=r,oN(this,t);}toString(){return DV(this._root);}};function oN(i,r){r.value._routerState=i,r.children.forEach(t=>oN(i,t));}function DV(i){let r=i.children.length>0?` { ${i.children.map(DV).join(", ")} } `:"";return`${i.value}${r}`;}function UR(i){if(i.snapshot){let r=i.snapshot,t=i._futureSnapshot;i.snapshot=t,dl(r.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),r.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),dl(r.params,t.params)||i.paramsSubject.next(t.params),Xre(r.url,t.url)||i.urlSubject.next(t.url),dl(r.data,t.data)||i.dataSubject.next(t.data);}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data);}function ZR(i,r){let t=dl(i.params,r.params)&&Jre(i.url,r.url),e=!i.parent!=!r.parent;return t&&!e&&(!i.parent||ZR(i.parent,r.parent));}function MV(i){return typeof i.title=="string"||i.title===null;}var OV=new se(""),z0=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated;}_activatedRoute=null;name=jt;activateEvents=new ae();deactivateEvents=new ae();attachEvents=new ae();detachEvents=new ae();routerOutletData=EF(void 0);parentContexts=N(Ap);location=N(Mt);changeDetector=N($t);inputBinder=N(G0,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:e,previousValue:n}=t.name;if(e)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName();}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this);}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this;}ngOnInit(){this.initializeOutletWithName();}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector));}get isActivated(){return!!this.activated;}get component(){if(!this.activated)throw new fe(4012,!1);return this.activated.instance;}get activatedRoute(){if(!this.activated)throw new fe(4012,!1);return this._activatedRoute;}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{};}detach(){if(!this.activated)throw new fe(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t;}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance);}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t);}}activateWith(t,e){if(this.isActivated)throw new fe(4013,!1);this._activatedRoute=t;let n=this.location,a=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new JR(t,s,n.injector,this.routerOutletData);this.activated=n.createComponent(a,{index:n.length,injector:l,environmentInjector:e}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance);}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Oi]});}return i;})(),JR=class{route;childContexts;parent;outletData;constructor(r,t,e,n){this.route=r,this.childContexts=t,this.parent=e,this.outletData=n;}get(r,t){return r===Dn?this.route:r===Ap?this.childContexts:r===OV?this.outletData:this.parent.get(r,t);}},G0=new se(""),aN=(()=>{class i{outletDataSubscriptions=new Map();bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t);}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t);}subscribeToRouteData(t){let{activatedRoute:e}=t,n=_s([e.queryParams,e.params,e.data]).pipe(ot(([o,a,s],l)=>(s=re(re(re({},o),a),s),l===0?ge(s):Promise.resolve(s)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==e||e.component===null){this.unsubscribeFromRouteData(t);return;}let a=RF(e.component);if(!a){this.unsubscribeFromRouteData(t);return;}for(let{templateName:s}of a.inputs)t.activatedComponentRef.setInput(s,o[s]);});this.outletDataSubscriptions.set(t,n);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})(),sN=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(e,n){e&1&&$(0,"router-outlet");},dependencies:[z0],encapsulation:2});}return i;})();function lN(i){let r=i.children&&i.children.map(lN),t=r?rt(re({},i),{children:r}):re({},i);return!t.component&&!t.loadComponent&&(r||t.loadChildren)&&t.outlet&&t.outlet!==jt&&(t.component=sN),t;}function Eoe(i,r,t){let e=k0(i,r._root,t?t._root:void 0);return new R0(e,r);}function k0(i,r,t){if(t&&i.shouldReuseRoute(r.value,t.value.snapshot)){let e=t.value;e._futureSnapshot=r.value;let n=Toe(i,r,t);return new Ia(e,n);}else{if(i.shouldAttach(r.value)){let o=i.retrieve(r.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=r.value,a.children=r.children.map(s=>k0(i,s)),a;}}let e=Ioe(r.value),n=r.children.map(o=>k0(i,o));return new Ia(e,n);}}function Toe(i,r,t){return r.children.map(e=>{for(let n of t.children)if(i.shouldReuseRoute(e.value,n.value.snapshot))return k0(i,e,n);return k0(i,e);});}function Ioe(i){return new Dn(new ur(i.url),new ur(i.params),new ur(i.queryParams),new ur(i.fragment),new ur(i.data),i.outlet,i.component,i);}var x_=class{redirectTo;navigationBehaviorOptions;constructor(r,t){this.redirectTo=r,this.navigationBehaviorOptions=t;}},PV="ngNavigationCancelingError";function Rb(i,r){let{redirectTo:t,navigationBehaviorOptions:e}=xd(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,n=RV(!1,Vo.Redirect);return n.url=t,n.navigationBehaviorOptions=e,n;}function RV(i,r){let t=new Error(`NavigationCancelingError: ${i||""}`);return t[PV]=!0,t.cancellationCode=r,t;}function xoe(i){return NV(i)&&xd(i.url);}function NV(i){return!!i&&i[PV];}var Aoe=(i,r,t,e)=>me(n=>(new eN(r,n.targetRouterState,n.currentRouterState,t,e).activate(i),n)),eN=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(r,t,e,n,o){this.routeReuseStrategy=r,this.futureState=t,this.currState=e,this.forwardEvent=n,this.inputBindingEnabled=o;}activate(r){let t=this.futureState._root,e=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,e,r),UR(this.futureState.root),this.activateChildRoutes(t,e,r);}deactivateChildRoutes(r,t,e){let n=v_(t);r.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,n[a],e),delete n[a];}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,e);});}deactivateRoutes(r,t,e){let n=r.value,o=t?t.value:null;if(n===o){if(n.component){let a=e.getContext(n.outlet);a&&this.deactivateChildRoutes(r,t,a.children);}else this.deactivateChildRoutes(r,t,e);}else o&&this.deactivateRouteAndItsChildren(t,e);}deactivateRouteAndItsChildren(r,t){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,t):this.deactivateRouteAndOutlet(r,t);}detachAndStoreRouteSubtree(r,t){let e=t.getContext(r.value.outlet),n=e&&r.value.component?e.children:t,o=v_(r);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);if(e&&e.outlet){let a=e.outlet.detach(),s=e.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:a,route:r,contexts:s});}}deactivateRouteAndOutlet(r,t){let e=t.getContext(r.value.outlet),n=e&&r.value.component?e.children:t,o=v_(r);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);e&&(e.outlet&&(e.outlet.deactivate(),e.children.onOutletDeactivated()),e.attachRef=null,e.route=null);}activateChildRoutes(r,t,e){let n=v_(t);r.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],e),this.forwardEvent(new Db(o.value.snapshot));}),r.children.length&&this.forwardEvent(new Ab(r.value.snapshot));}activateRoutes(r,t,e){let n=r.value,o=t?t.value:null;if(UR(n),n===o){if(n.component){let a=e.getOrCreateContext(n.outlet);this.activateChildRoutes(r,t,a.children);}else this.activateChildRoutes(r,t,e);}else if(n.component){let a=e.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let s=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),UR(s.route.value),this.activateChildRoutes(r,null,a.children);}else a.attachRef=null,a.route=n,a.outlet&&a.outlet.activateWith(n,a.injector),this.activateChildRoutes(r,null,a.children);}else this.activateChildRoutes(r,null,e);}},Nb=class{path;route;constructor(r){this.path=r,this.route=this.path[this.path.length-1];}},b_=class{component;route;constructor(r,t){this.component=r,this.route=t;}};function woe(i,r,t){let e=i._root,n=r?r._root:null;return A0(e,n,t,[e.value]);}function Doe(i){let r=i.routeConfig?i.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:i,guards:r};}function w_(i,r){let t=Symbol(),e=r.get(i,t);return e===t?typeof i=="function"&&!mD(i)?i:r.get(i):e;}function A0(i,r,t,e,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=v_(r);return i.children.forEach(a=>{Moe(a,o[a.value.outlet],t,e.concat([a.value]),n),delete o[a.value.outlet];}),Object.entries(o).forEach(([a,s])=>D0(s,t.getContext(a),n)),n;}function Moe(i,r,t,e,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,a=r?r.value:null,s=t?t.getContext(i.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=Ooe(a,o,o.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new Nb(e)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?A0(i,r,s?s.children:null,e,n):A0(i,r,t,e,n),l&&s&&s.outlet&&s.outlet.isActivated&&n.canDeactivateChecks.push(new b_(s.outlet.component,a));}else a&&D0(r,s,n),n.canActivateChecks.push(new Nb(e)),o.component?A0(i,null,s?s.children:null,e,n):A0(i,null,t,e,n);return n;}function Ooe(i,r,t){if(typeof t=="function")return t(i,r);switch(t){case"pathParamsChange":return!Ep(i.url,r.url);case"pathParamsOrQueryParamsChange":return!Ep(i.url,r.url)||!dl(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ZR(i,r)||!dl(i.queryParams,r.queryParams);case"paramsChange":default:return!ZR(i,r);}}function D0(i,r,t){let e=v_(i),n=i.value;Object.entries(e).forEach(([o,a])=>{n.component?r?D0(a,r.children.getContext(o),t):D0(a,null,t):D0(a,r,t);}),n.component?r&&r.outlet&&r.outlet.isActivated?t.canDeactivateChecks.push(new b_(r.outlet.component,n)):t.canDeactivateChecks.push(new b_(null,n)):t.canDeactivateChecks.push(new b_(null,n));}function j0(i){return typeof i=="function";}function Poe(i){return typeof i=="boolean";}function Roe(i){return i&&j0(i.canLoad);}function Noe(i){return i&&j0(i.canActivate);}function koe(i){return i&&j0(i.canActivateChild);}function $oe(i){return i&&j0(i.canDeactivate);}function Loe(i){return i&&j0(i.canMatch);}function kV(i){return i instanceof rc||i?.name==="EmptyError";}var _b=Symbol("INITIAL_VALUE");function A_(){return ot(i=>_s(i.map(r=>r.pipe(vn(1),nn(_b)))).pipe(me(r=>{for(let t of r)if(t!==!0){if(t===_b)return _b;if(t===!1||Foe(t))return t;}return!0;}),Zt(r=>r!==_b),vn(1)));}function Foe(i){return xd(i)||i instanceof x_;}function Voe(i,r){return Un(t=>{let{targetSnapshot:e,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return a.length===0&&o.length===0?ge(rt(re({},t),{guardsResult:!0})):zoe(a,e,n,i).pipe(Un(s=>s&&Poe(s)?Goe(e,o,i,r):ge(s)),me(s=>rt(re({},t),{guardsResult:s})));});}function zoe(i,r,t,e){return Wi(i).pipe(Un(n=>Hoe(n.component,n.route,t,r,e)),Ts(n=>n!==!0,!0));}function Goe(i,r,t,e){return Wi(r).pipe(tl(n=>id(Uoe(n.route.parent,e),joe(n.route,e),Boe(i,n.path,t),Woe(i,n.route,t))),Ts(n=>n!==!0,!0));}function joe(i,r){return i!==null&&r&&r(new wb(i)),ge(!0);}function Uoe(i,r){return i!==null&&r&&r(new xb(i)),ge(!0);}function Woe(i,r,t){let e=r.routeConfig?r.routeConfig.canActivate:null;if(!e||e.length===0)return ge(!0);let n=e.map(o=>fs(()=>{let a=V0(r)??t,s=w_(o,a),l=Noe(s)?s.canActivate(r,i):ro(a,()=>s(r,i));return Ec(l).pipe(Ts());}));return ge(n).pipe(A_());}function Boe(i,r,t){let e=r[r.length-1],o=r.slice(0,r.length-1).reverse().map(a=>Doe(a)).filter(a=>a!==null).map(a=>fs(()=>{let s=a.guards.map(l=>{let _=V0(a.node)??t,f=w_(l,_),g=koe(f)?f.canActivateChild(e,i):ro(_,()=>f(e,i));return Ec(g).pipe(Ts());});return ge(s).pipe(A_());}));return ge(o).pipe(A_());}function Hoe(i,r,t,e,n){let o=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!o||o.length===0)return ge(!0);let a=o.map(s=>{let l=V0(r)??n,_=w_(s,l),f=$oe(_)?_.canDeactivate(i,r,t,e):ro(l,()=>_(i,r,t,e));return Ec(f).pipe(Ts());});return ge(a).pipe(A_());}function qoe(i,r,t,e){let n=r.canLoad;if(n===void 0||n.length===0)return ge(!0);let o=n.map(a=>{let s=w_(a,i),l=Roe(s)?s.canLoad(r,t):ro(i,()=>s(r,t));return Ec(l);});return ge(o).pipe(A_(),$V(e));}function $V(i){return Lw(rn(r=>{if(typeof r!="boolean")throw Rb(i,r);}),me(r=>r===!0));}function Yoe(i,r,t,e){let n=r.canMatch;if(!n||n.length===0)return ge(!0);let o=n.map(a=>{let s=w_(a,i),l=Loe(s)?s.canMatch(r,t):ro(i,()=>s(r,t));return Ec(l);});return ge(o).pipe(A_(),$V(e));}var $0=class{segmentGroup;constructor(r){this.segmentGroup=r||null;}},L0=class extends Error{urlTree;constructor(r){super(),this.urlTree=r;}};function g_(i){return li(new $0(i));}function Xoe(i){return li(new fe(4e3,!1));}function Koe(i){return li(RV(!1,Vo.GuardRejected));}var tN=class{urlSerializer;urlTree;constructor(r,t){this.urlSerializer=r,this.urlTree=t;}lineralizeSegments(r,t){let e=[],n=t.root;for(;;){if(e=e.concat(n.segments),n.numberOfChildren===0)return ge(e);if(n.numberOfChildren>1||!n.children[jt])return Xoe(`${r.redirectTo}`);n=n.children[jt];}}applyRedirectCommands(r,t,e,n,o){return Qoe(t,n,o).pipe(me(a=>{if(a instanceof pl)throw new L0(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),r,e);if(a[0]==="/")throw new L0(s);return s;}));}applyRedirectCreateUrlTree(r,t,e,n){let o=this.createSegmentGroup(r,t.root,e,n);return new pl(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment);}createQueryParams(r,t){let e={};return Object.entries(r).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);e[n]=t[s];}else e[n]=o;}),e;}createSegmentGroup(r,t,e,n){let o=this.createSegments(r,t.segments,e,n),a={};return Object.entries(t.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(r,l,e,n);}),new Ai(o,a);}createSegments(r,t,e,n){return t.map(o=>o.path[0]===":"?this.findPosParam(r,o,n):this.findOrReturn(o,e));}findPosParam(r,t,e){let n=e[t.path.substring(1)];if(!n)throw new fe(4001,!1);return n;}findOrReturn(r,t){let e=0;for(let n of t){if(n.path===r.path)return t.splice(e),n;e++;}return r;}};function Qoe(i,r,t){if(typeof i=="string")return ge(i);let e=i,{queryParams:n,fragment:o,routeConfig:a,url:s,outlet:l,params:_,data:f,title:g}=r;return Ec(ro(t,()=>e({params:_,data:f,queryParams:n,fragment:o,routeConfig:a,url:s,outlet:l,title:g})));}var iN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zoe(i,r,t,e,n){let o=LV(i,r,t);return o.matched?(e=yoe(r,e),Yoe(e,r,t,n).pipe(me(a=>a===!0?o:re({},iN)))):ge(o);}function LV(i,r,t){if(r.path==="**")return Joe(t);if(r.path==="")return r.pathMatch==="full"&&(i.hasChildren()||t.length>0)?re({},iN):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let n=(r.matcher||pV)(t,i,r);if(!n)return re({},iN);let o={};Object.entries(n.posParams??{}).forEach(([s,l])=>{o[s]=l.path;});let a=n.consumed.length>0?re(re({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:t.slice(n.consumed.length),parameters:a,positionalParamSegments:n.posParams??{}};}function Joe(i){return{matched:!0,parameters:i.length>0?_V(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}};}function cV(i,r,t,e){return t.length>0&&iae(i,t,e)?{segmentGroup:new Ai(r,tae(e,new Ai(t,i.children))),slicedSegments:[]}:t.length===0&&nae(i,t,e)?{segmentGroup:new Ai(i.segments,eae(i,t,e,i.children)),slicedSegments:t}:{segmentGroup:new Ai(i.segments,i.children),slicedSegments:t};}function eae(i,r,t,e){let n={};for(let o of t)if($b(i,r,o)&&!e[Ns(o)]){let a=new Ai([],{});n[Ns(o)]=a;}return re(re({},e),n);}function tae(i,r){let t={};t[jt]=r;for(let e of i)if(e.path===""&&Ns(e)!==jt){let n=new Ai([],{});t[Ns(e)]=n;}return t;}function iae(i,r,t){return t.some(e=>$b(i,r,e)&&Ns(e)!==jt);}function nae(i,r,t){return t.some(e=>$b(i,r,e));}function $b(i,r,t){return(i.hasChildren()||r.length>0)&&t.pathMatch==="full"?!1:t.path==="";}function rae(i,r,t){return r.length===0&&!i.children[t];}var nN=class{};function oae(i,r,t,e,n,o,a="emptyOnly"){return new rN(i,r,t,e,n,a,o).recognize();}var aae=31,rN=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(r,t,e,n,o,a,s){this.injector=r,this.configLoader=t,this.rootComponentType=e,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new tN(this.urlSerializer,this.urlTree);}noMatchError(r){return new fe(4002,`'${r.segmentGroup}'`);}recognize(){let r=cV(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(me(({children:t,rootSnapshot:e})=>{let n=new Ia(e,t),o=new N0("",n),a=EV(e,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a};}));}match(r){let t=new Tp([],Object.freeze({}),Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),jt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,jt,t).pipe(me(e=>({children:e,rootSnapshot:t})),Jn(e=>{if(e instanceof L0)return this.urlTree=e.urlTree,this.match(e.urlTree.root);throw e instanceof $0?this.noMatchError(e):e;}));}processSegmentGroup(r,t,e,n,o){return e.segments.length===0&&e.hasChildren()?this.processChildren(r,t,e,o):this.processSegment(r,t,e,e.segments,n,!0,o).pipe(me(a=>a instanceof Ia?[a]:[]));}processChildren(r,t,e,n){let o=[];for(let a of Object.keys(e.children))a==="primary"?o.unshift(a):o.push(a);return Wi(o).pipe(tl(a=>{let s=e.children[a],l=boe(t,a);return this.processSegmentGroup(r,l,s,a,n);}),CM((a,s)=>(a.push(...s),a)),ud(null),hM(),Un(a=>{if(a===null)return g_(e);let s=FV(a);return sae(s),ge(s);}));}processSegment(r,t,e,n,o,a,s){return Wi(t).pipe(tl(l=>this.processSegmentAgainstRoute(l._injector??r,t,l,e,n,o,a,s).pipe(Jn(_=>{if(_ instanceof $0)return ge(null);throw _;}))),Ts(l=>!!l),Jn(l=>{if(kV(l))return rae(e,n,o)?ge(new nN()):g_(e);throw l;}));}processSegmentAgainstRoute(r,t,e,n,o,a,s,l){return Ns(e)!==a&&(a===jt||!$b(n,o,e))?g_(n):e.redirectTo===void 0?this.matchSegmentAgainstRoute(r,n,e,o,a,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(r,n,t,e,o,a,l):g_(n);}expandSegmentAgainstRouteUsingRedirect(r,t,e,n,o,a,s){let{matched:l,parameters:_,consumedSegments:f,positionalParamSegments:g,remainingSegments:S}=LV(t,n,o);if(!l)return g_(t);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aae&&(this.allowRedirects=!1));let x=new Tp(o,_,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,dV(n),Ns(n),n.component??n._loadedComponent??null,n,uV(n)),D=Pb(x,s,this.paramsInheritanceStrategy);return x.params=Object.freeze(D.params),x.data=Object.freeze(D.data),this.applyRedirects.applyRedirectCommands(f,n.redirectTo,g,x,r).pipe(ot(j=>this.applyRedirects.lineralizeSegments(n,j)),Un(j=>this.processSegment(r,e,t,j.concat(S),a,!1,s)));}matchSegmentAgainstRoute(r,t,e,n,o,a){let s=Zoe(t,e,n,r,this.urlSerializer);return e.path==="**"&&(t.children={}),s.pipe(ot(l=>l.matched?(r=e._injector??r,this.getChildConfig(r,e,n).pipe(ot(({routes:_})=>{let f=e._loadedInjector??r,{parameters:g,consumedSegments:S,remainingSegments:x}=l,D=new Tp(S,g,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,dV(e),Ns(e),e.component??e._loadedComponent??null,e,uV(e)),R=Pb(D,a,this.paramsInheritanceStrategy);D.params=Object.freeze(R.params),D.data=Object.freeze(R.data);let{segmentGroup:j,slicedSegments:V}=cV(t,S,x,_);if(V.length===0&&j.hasChildren())return this.processChildren(f,_,j,D).pipe(me(_e=>new Ia(D,_e)));if(_.length===0&&V.length===0)return ge(new Ia(D,[]));let ie=Ns(e)===o;return this.processSegment(f,_,j,V,ie?jt:o,!0,D).pipe(me(_e=>new Ia(D,_e instanceof Ia?[_e]:[])));}))):g_(t)));}getChildConfig(r,t,e){return t.children?ge({routes:t.children,injector:r}):t.loadChildren?t._loadedRoutes!==void 0?ge({routes:t._loadedRoutes,injector:t._loadedInjector}):qoe(r,t,e,this.urlSerializer).pipe(Un(n=>n?this.configLoader.loadChildren(r,t).pipe(rn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector;})):Koe(t))):ge({routes:[],injector:r});}};function sae(i){i.sort((r,t)=>r.value.outlet===jt?-1:t.value.outlet===jt?1:r.value.outlet.localeCompare(t.value.outlet));}function lae(i){let r=i.value.routeConfig;return r&&r.path==="";}function FV(i){let r=[],t=new Set();for(let e of i){if(!lae(e)){r.push(e);continue;}let n=r.find(o=>e.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...e.children),t.add(n)):r.push(e);}for(let e of t){let n=FV(e.children);r.push(new Ia(e.value,n));}return r.filter(e=>!t.has(e));}function dV(i){return i.data||{};}function uV(i){return i.resolve||{};}function cae(i,r,t,e,n,o){return Un(a=>oae(i,r,t,e,a.extractedUrl,n,o).pipe(me(({state:s,tree:l})=>rt(re({},a),{targetSnapshot:s,urlAfterRedirects:l}))));}function dae(i,r){return Un(t=>{let{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return ge(t);let o=new Set(n.map(l=>l.route)),a=new Set();for(let l of o)if(!a.has(l))for(let _ of VV(l))a.add(_);let s=0;return Wi(a).pipe(tl(l=>o.has(l)?uae(l,e,i,r):(l.data=Pb(l,l.parent,i).resolve,ge(void 0))),rn(()=>s++),Gm(1),Un(l=>s===a.size?ge(t):ps));});}function VV(i){let r=i.children.map(t=>VV(t)).flat();return[i,...r];}function uae(i,r,t,e){let n=i.routeConfig,o=i._resolve;return n?.title!==void 0&&!MV(n)&&(o[F0]=n.title),fs(()=>(i.data=Pb(i,i.parent,t).resolve,pae(o,i,r,e).pipe(me(a=>(i._resolvedData=a,i.data=re(re({},i.data),a),null)))));}function pae(i,r,t,e){let n=HR(i);if(n.length===0)return ge({});let o={};return Wi(n).pipe(Un(a=>mae(i[a],r,t,e).pipe(Ts(),rn(s=>{if(s instanceof x_)throw Rb(new Id(),s);o[a]=s;}))),Gm(1),me(()=>o),Jn(a=>kV(a)?ps:li(a)));}function mae(i,r,t,e){let n=V0(r)??e,o=w_(i,n),a=o.resolve?o.resolve(r,t):ro(n,()=>o(r,t));return Ec(a);}function WR(i){return ot(r=>{let t=i(r);return t?Wi(t).pipe(me(()=>r)):ge(r);});}var cN=(()=>{class i{buildTitle(t){let e,n=t.root;for(;n!==void 0;)e=this.getResolvedTitleForRoute(n)??e,n=n.children.find(o=>o.outlet===jt);return e;}getResolvedTitleForRoute(t){return t.data[F0];}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:()=>N(zV),providedIn:"root"});}return i;})(),zV=(()=>{class i extends cN{title;constructor(t){super(),this.title=t;}updateTitle(t){let e=this.buildTitle(t);e!==void 0&&this.title.setTitle(e);}static ɵfac=function(e){return new(e||i)(K(d_));};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),wd=new se("",{providedIn:"root",factory:()=>({})}),D_=new se(""),Lb=(()=>{class i{componentLoaders=new WeakMap();childrenLoaders=new WeakMap();onLoadStartListener;onLoadEndListener;compiler=N($P);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ge(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let e=Ec(t.loadComponent()).pipe(me(jV),rn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o;}),il(()=>{this.componentLoaders.delete(t);})),n=new Uu(e,()=>new xe()).pipe(Jc());return this.componentLoaders.set(t,n),n;}loadChildren(t,e){if(this.childrenLoaders.get(e))return this.childrenLoaders.get(e);if(e._loadedRoutes)return ge({routes:e._loadedRoutes,injector:e._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(e);let o=GV(e,this.compiler,t,this.onLoadEndListener).pipe(il(()=>{this.childrenLoaders.delete(e);})),a=new Uu(o,()=>new xe()).pipe(Jc());return this.childrenLoaders.set(e,a),a;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function GV(i,r,t,e){return Ec(i.loadChildren()).pipe(me(jV),Un(n=>n instanceof cy||Array.isArray(n)?ge(n):Wi(r.compileModuleAsync(n))),me(n=>{e&&e(i);let o,a,s=!1;return Array.isArray(n)?(a=n,s=!0):(o=n.create(t).injector,a=o.get(D_,[],{optional:!0,self:!0}).flat()),{routes:a.map(lN),injector:o};}));}function _ae(i){return i&&typeof i=="object"&&"default"in i;}function jV(i){return _ae(i)?i.default:i;}var Fb=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:()=>N(fae),providedIn:"root"});}return i;})(),fae=(()=>{class i{shouldProcessUrl(t){return!0;}extract(t){return t;}merge(t,e){return t;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),dN=new se(""),uN=new se("");function UV(i,r,t){let e=i.get(uN),n=i.get(bt);if(!n.startViewTransition||e.skipNextTransition)return e.skipNextTransition=!1,new Promise(_=>setTimeout(_));let o,a=new Promise(_=>{o=_;}),s=n.startViewTransition(()=>(o(),hae(i))),{onViewTransitionCreated:l}=e;return l&&ro(i,()=>l({transition:s,from:r,to:t})),a;}function hae(i){return new Promise(r=>{xr({read:()=>setTimeout(r)},{injector:i});});}var pN=new se(""),Vb=(()=>{class i{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new xe();transitionAbortWithErrorSubject=new xe();configLoader=N(Lb);environmentInjector=N(Xi);destroyRef=N(Ga);urlSerializer=N(xp);rootContexts=N(Ap);location=N(ll);inputBindingEnabled=N(G0,{optional:!0})!==null;titleStrategy=N(cN);options=N(wd,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Fb);createViewTransition=N(dN,{optional:!0});navigationErrorHandler=N(pN,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0;}transitions;afterPreactivation=()=>ge(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=n=>this.events.next(new Tb(n)),e=n=>this.events.next(new Ib(n));this.configLoader.onLoadEndListener=e,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0;});}complete(){this.transitions?.complete();}handleNavigationRequest(t){let e=++this.navigationId;this.transitions?.next(rt(re({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController(),id:e}));}setupNavigations(t){return this.transitions=new ur(null),this.transitions.pipe(Zt(e=>e!==null),ot(e=>{let n=!1;return ge(e).pipe(ot(o=>{if(this.navigationId>e.id)return this.cancelNavigationTransition(e,"",Vo.SupersededByNewNavigation),ps;this.currentTransition=e,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?rt(re({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&s!=="reload"){let l="";return this.events.next(new ml(o.id,this.urlSerializer.serialize(o.rawUrl),l,S_.IgnoredSameUrlNavigation)),o.resolve(!1),ps;}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ge(o).pipe(ot(l=>(this.events.next(new Ad(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?ps:Promise.resolve(l))),cae(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),rn(l=>{e.targetSnapshot=l.targetSnapshot,e.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=rt(re({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let _=new O0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(_);}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:_,source:f,restoredState:g,extras:S}=o,x=new Ad(l,this.urlSerializer.serialize(_),f,g);this.events.next(x);let D=wV(this.rootComponentType).snapshot;return this.currentTransition=e=rt(re({},o),{targetSnapshot:D,urlAfterRedirects:_,extras:rt(re({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ge(e);}else{let l="";return this.events.next(new ml(o.id,this.urlSerializer.serialize(o.extractedUrl),l,S_.IgnoredByUrlHandlingStrategy)),o.resolve(!1),ps;}}),rn(o=>{let a=new yb(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a);}),me(o=>(this.currentTransition=e=rt(re({},o),{guards:woe(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),e)),Voe(this.environmentInjector,o=>this.events.next(o)),rn(o=>{if(e.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Rb(this.urlSerializer,o.guardsResult);let a=new bb(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a);}),Zt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Vo.GuardRejected),!1)),WR(o=>{if(o.guards.canActivateChecks.length!==0)return ge(o).pipe(rn(a=>{let s=new Sb(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s);}),ot(a=>{let s=!1;return ge(a).pipe(dae(this.paramsInheritanceStrategy,this.environmentInjector),rn({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",Vo.NoDataFromResolver);}}));}),rn(a=>{let s=new Eb(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s);}));}),WR(o=>{let a=s=>{let l=[];s.routeConfig?.loadComponent&&!s.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(s.routeConfig).pipe(rn(_=>{s.component=_;}),me(()=>{})));for(let _ of s.children)l.push(...a(_));return l;};return _s(a(o.targetSnapshot.root)).pipe(ud(null),vn(1));}),WR(()=>this.afterPreactivation()),ot(()=>{let{currentSnapshot:o,targetSnapshot:a}=e,s=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return s?Wi(s).pipe(me(()=>e)):ge(e);}),me(o=>{let a=Eoe(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=e=rt(re({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,e;}),rn(()=>{this.events.next(new P0());}),Aoe(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),vn(1),Bn(new ct(o=>{let a=e.abortController.signal,s=()=>o.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s);}).pipe(Zt(()=>!n&&!e.targetRouterState),rn(()=>{this.cancelNavigationTransition(e,e.abortController.signal.reason+"",Vo.Aborted);}))),rn({next:o=>{n=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Aa(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0);},complete:()=>{n=!0;}}),Bn(this.transitionAbortWithErrorSubject.pipe(rn(o=>{throw o;}))),il(()=>{n||this.cancelNavigationTransition(e,"",Vo.SupersededByNewNavigation),this.currentTransition?.id===e.id&&(this.currentNavigation=null,this.currentTransition=null);}),Jn(o=>{if(this.destroyed)return e.resolve(!1),ps;if(n=!0,NV(o))this.events.next(new ul(e.id,this.urlSerializer.serialize(e.extractedUrl),o.message,o.cancellationCode)),xoe(o)?this.events.next(new I_(o.url,o.navigationBehaviorOptions)):e.resolve(!1);else{let a=new E_(e.id,this.urlSerializer.serialize(e.extractedUrl),o,e.targetSnapshot??void 0);try{let s=ro(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof x_){let{message:l,cancellationCode:_}=Rb(this.urlSerializer,s);this.events.next(new ul(e.id,this.urlSerializer.serialize(e.extractedUrl),l,_)),this.events.next(new I_(s.redirectTo,s.navigationBehaviorOptions));}else throw this.events.next(a),o;}catch(s){this.options.resolveNavigationPromiseOnError?e.resolve(!1):e.reject(s);}}return ps;}));}));}cancelNavigationTransition(t,e,n){let o=new ul(t.id,this.urlSerializer.serialize(t.extractedUrl),e,n);this.events.next(o),t.resolve(!1);}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString();}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),e=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==e?.toString()&&!this.currentNavigation?.extras.skipLocationChange;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function gae(i){return i!==y_;}var WV=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:()=>N(vae),providedIn:"root"});}return i;})(),kb=class{shouldDetach(r){return!1;}store(r,t){}shouldAttach(r){return!1;}retrieve(r){return null;}shouldReuseRoute(r,t){return r.routeConfig===t.routeConfig;}},vae=(()=>{class i extends kb{static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),BV=(()=>{class i{urlSerializer=N(xp);options=N(wd,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(ll);urlHandlingStrategy=N(Fb);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new pl();getCurrentUrlTree(){return this.currentUrlTree;}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree;}createBrowserPath({finalUrl:t,initialUrl:e,targetBrowserUrl:n}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,e):e,a=n??o;return a instanceof pl?this.urlSerializer.serialize(a):a;}commitTransition({targetRouterState:t,finalUrl:e,initialUrl:n}){e&&t?(this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(e,n),this.routerState=t):this.rawUrlTree=n;}routerState=wV(null);getRouterState(){return this.routerState;}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento();}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState};}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:()=>N(Cae),providedIn:"root"});}return i;})(),Cae=(()=>{class i extends BV{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState();}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.ɵrouterPageId??this.currentPageId;}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(e=>{e.type==="popstate"&&setTimeout(()=>{t(e.url,e.state,"popstate");});});}handleRouterEvent(t,e){t instanceof Ad?this.updateStateMemento():t instanceof ml?this.commitTransition(e):t instanceof O0?this.urlUpdateStrategy==="eager"&&(e.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(e),e)):t instanceof P0?(this.commitTransition(e),this.urlUpdateStrategy==="deferred"&&!e.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(e),e)):t instanceof ul&&t.code!==Vo.SupersededByNewNavigation&&t.code!==Vo.Redirect?this.restoreHistory(e):t instanceof E_?this.restoreHistory(e,!0):t instanceof Aa&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId);}setBrowserUrl(t,{extras:e,id:n}){let{replaceUrl:o,state:a}=e;if(this.location.isCurrentPathEqualTo(t)||o){let s=this.browserPageId,l=re(re({},a),this.generateNgRouterState(n,s));this.location.replaceState(t,"",l);}else{let s=re(re({},a),this.generateNgRouterState(n,this.browserPageId+1));this.location.go(t,"",s);}}restoreHistory(t,e=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,o=this.currentPageId-n;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree());}else this.canceledNavigationResolution==="replace"&&(e&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree());}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId));}generateNgRouterState(t,e){return this.canceledNavigationResolution==="computed"?{navigationId:t,ɵrouterPageId:e}:{navigationId:t};}static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function zb(i,r){i.events.pipe(Zt(t=>t instanceof Aa||t instanceof ul||t instanceof E_||t instanceof ml),me(t=>t instanceof Aa||t instanceof ml?0:(t instanceof ul?t.code===Vo.Redirect||t.code===Vo.SupersededByNewNavigation:!1)?2:1),Zt(t=>t!==2),vn(1)).subscribe(()=>{r();});}var yae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Hi=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree();}get rawUrlTree(){return this.stateManager.getRawUrlTree();}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(py);stateManager=N(BV);options=N(wd,{optional:!0})||{};pendingTasks=N(cc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(Vb);urlSerializer=N(xp);location=N(ll);urlHandlingStrategy=N(Fb);injector=N(Xi);_events=new xe();get events(){return this._events;}get routerState(){return this.stateManager.getRouterState();}navigated=!1;routeReuseStrategy=N(WV);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(D_,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(G0,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t);}}),this.subscribeToNavigationEvents();}eventsSubscription=new ht();subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(e=>{try{let n=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(n!==null&&o!==null){if(this.stateManager.handleRouterEvent(e,o),e instanceof ul&&e.code!==Vo.Redirect&&e.code!==Vo.SupersededByNewNavigation)this.navigated=!0;else if(e instanceof Aa)this.navigated=!0;else if(e instanceof I_){let a=e.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(e.url,n.currentRawUrl),l=re({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||gae(n.source)},a);this.scheduleNavigation(s,y_,null,l,{resolve:n.resolve,reject:n.reject,promise:n.promise});}}Coe(e)&&this._events.next(e);}catch(n){this.navigationTransitions.transitionAbortWithErrorSubject.next(n);}});this.eventsSubscription.add(t);}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t;}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),y_,this.stateManager.restoredState());}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,e,n)=>{this.navigateToSyncWithBrowser(t,n,e);});}navigateToSyncWithBrowser(t,e,n){let o={replaceUrl:!0},a=n?.navigationId?n:null;if(n){let l=re({},n);delete l.navigationId,delete l.ɵrouterPageId,Object.keys(l).length!==0&&(o.state=l);}let s=this.parseUrl(t);this.scheduleNavigation(s,e,a,o).catch(l=>{this.injector.get(No)(l);});}get url(){return this.serializeUrl(this.currentUrlTree);}getCurrentNavigation(){return this.navigationTransitions.currentNavigation;}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation;}resetConfig(t){this.config=t.map(lN),this.navigated=!1;}ngOnDestroy(){this.dispose();}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe();}createUrlTree(t,e={}){let{relativeTo:n,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=e,_=l?this.currentUrlTree.fragment:a,f=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":f=re(re({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null;}f!==null&&(f=this.removeEmptyProps(f));let g;try{let S=n?n.snapshot:this.routerState.snapshot.root;g=TV(S);}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root;}return IV(g,t,f,_??null);}navigateByUrl(t,e={skipLocationChange:!1}){let n=xd(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,y_,null,e);}navigate(t,e={skipLocationChange:!1}){return Sae(t),this.navigateByUrl(this.createUrlTree(t,e),e);}serializeUrl(t){return this.urlSerializer.serialize(t);}parseUrl(t){try{return this.urlSerializer.parse(t);}catch{return this.urlSerializer.parse("/");}}isActive(t,e){let n;if(e===!0?n=re({},yae):e===!1?n=re({},bae):n=e,xd(t))return oV(this.currentUrlTree,t,n);let o=this.parseUrl(t);return oV(this.currentUrlTree,o,n);}removeEmptyProps(t){return Object.entries(t).reduce((e,[n,o])=>(o!=null&&(e[n]=o),e),{});}scheduleNavigation(t,e,n,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,_;a?(s=a.resolve,l=a.reject,_=a.promise):_=new Promise((g,S)=>{s=g,l=S;});let f=this.pendingTasks.add();return zb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f));}),this.navigationTransitions.handleNavigationRequest({source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:s,reject:l,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(g=>Promise.reject(g));}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function Sae(i){for(let r=0;r<i.length;r++)if(i[r]==null)throw new fe(4008,!1);}var Mr=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=$i(null);get href(){return $o(this.reactiveHref);}set href(t){this.reactiveHref.set(t);}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new xe();applicationErrorHandler=N(No);options=N(wd,{optional:!0});constructor(t,e,n,o,a,s){this.router=t,this.route=e,this.tabIndexAttribute=n,this.renderer=o,this.el=a,this.locationStrategy=s,this.reactiveHref.set(N(new na("href"),{optional:!0}));let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary();}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,e=n=>n==="merge"||n==="preserve";t||=e(this.queryParamsHandling),t||=!this.queryParamsHandling&&!e(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(n=>{n instanceof Aa&&this.updateHref();}));}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t);}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this);}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xd(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"));}onClick(t,e,n,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(t!==0||e||n||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,l)?.catch(_=>{this.applicationErrorHandler(_);}),!this.isAnchorElement;}ngOnDestroy(){this.subscription?.unsubscribe();}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null);}applyAttributeValue(t,e){let n=this.renderer,o=this.el.nativeElement;e!==null?n.setAttribute(o,t,e):n.removeAttribute(o,t);}get urlTree(){return this.routerLinkInput===null?null:xd(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment});}static ɵfac=function(e){return new(e||i)(k(Hi),k(Dn),$g("tabindex"),k(Jt),k(ze),k(Os));};static ɵdir=Le({type:i,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(e,n){e&1&&b("click",function(a){return n.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey);}),e&2&&lt("href",n.reactiveHref(),KO)("target",n.target);},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gt],replaceUrl:[2,"replaceUrl","replaceUrl",gt],routerLink:"routerLink"},features:[Oi]});}return i;})(),Tc=(()=>{class i{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive;}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ae();constructor(t,e,n,o,a){this.router=t,this.element=e,this.renderer=n,this.cdr=o,this.link=a,this.routerEventsSubscription=t.events.subscribe(s=>{s instanceof Aa&&this.update();});}ngAfterContentInit(){ge(this.links.changes,ge(null)).pipe(Xs()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges();});}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=Wi(t).pipe(Xs()).subscribe(e=>{this._isActive!==this.isLinkActive(this.router)(e)&&this.update();});}set routerLinkActive(t){let e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(n=>!!n);}ngOnChanges(t){this.update();}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe();}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e);}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t));});}isLinkActive(t){let e=Eae(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>{let o=n.urlTree;return o?t.isActive(o,e):!1;};}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t);}static ɵfac=function(e){return new(e||i)(k(Hi),k(ze),k(Jt),k($t),k(Mr,8));};static ɵdir=Le({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(e,n,o){if(e&1&&on(o,Mr,5),e&2){let a;qe(a=Ye())&&(n.links=a);}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Oi]});}return i;})();function Eae(i){return!!i.paths;}var U0=class{};var HV=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(t,e,n,o){this.router=t,this.injector=e,this.preloadingStrategy=n,this.loader=o;}setUpPreloading(){this.subscription=this.router.events.pipe(Zt(t=>t instanceof Aa),tl(()=>this.preload())).subscribe(()=>{});}preload(){return this.processRoutes(this.injector,this.router.config);}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe();}processRoutes(t,e){let n=[];for(let o of e){o.providers&&!o._injector&&(o._injector=t_(o.providers,t,`Route: ${o.path}`));let a=o._injector??t,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&n.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&n.push(this.processRoutes(s,o.children??o._loadedRoutes));}return Wi(n).pipe(Xs());}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>{let n;e.loadChildren&&e.canLoad===void 0?n=this.loader.loadChildren(t,e):n=ge(null);let o=n.pipe(Un(a=>a===null?ge(void 0):(e._loadedRoutes=a.routes,e._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(e.loadComponent&&!e._loadedComponent){let a=this.loader.loadComponent(e);return Wi([o,a]).pipe(Xs());}else return o;});}static ɵfac=function(e){return new(e||i)(K(Hi),K(Xi),K(U0),K(Lb));};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),qV=new se(""),Tae=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=y_;restoredId=0;store={};constructor(t,e,n,o,a={}){this.urlSerializer=t,this.transitions=e,this.viewportScroller=n,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled";}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents();}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ad?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Aa?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ml&&t.code===S_.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment));});}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof T_&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]));});}scheduleScrollEvent(t,e){this.zone.runOutsideAngular(()=>fm(this,null,function*(){yield new Promise(n=>{setTimeout(n),typeof requestAnimationFrame<"u"&&requestAnimationFrame(n);}),this.zone.run(()=>{this.transitions.events.next(new T_(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,e));});}));}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe();}static ɵfac=function(e){Ug();};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})();function Iae(i){return i.routerState.root;}function W0(i,r){return{ɵkind:i,ɵproviders:r};}function xae(){let i=N(tt);return r=>{let t=i.get(ko);if(r!==t.components[0])return;let e=i.get(Hi),n=i.get(YV);i.get(_N)===1&&e.initialNavigation(),i.get(QV,null,{optional:!0})?.setUpPreloading(),i.get(qV,null,{optional:!0})?.init(),e.resetRootComponentType(t.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe());};}var YV=new se("",{factory:()=>new xe()}),_N=new se("",{providedIn:"root",factory:()=>1});function XV(){let i=[{provide:_N,useValue:0},fy(()=>{let r=N(tt);return r.get(ZP,Promise.resolve()).then(()=>new Promise(e=>{let n=r.get(Hi),o=r.get(YV);zb(n,()=>{e(!0);}),r.get(Vb).afterPreactivation=()=>(e(!0),o.closed?ge(void 0):o),n.initialNavigation();}));})];return W0(2,i);}function KV(){let i=[fy(()=>{N(Hi).setUpLocationChangeListener();}),{provide:_N,useValue:2}];return W0(3,i);}var QV=new se("");function ZV(i){return W0(0,[{provide:QV,useExisting:HV},{provide:U0,useExisting:i}]);}function JV(){return W0(8,[aN,{provide:G0,useExisting:aN}]);}function e9(i){ws("NgRouterViewTransitions");let r=[{provide:dN,useValue:UV},{provide:uN,useValue:re({skipNextTransition:!!i?.skipInitialTransition},i)}];return W0(9,r);}var t9=[ll,{provide:xp,useClass:Id},Hi,Ap,{provide:Dn,useFactory:Iae,deps:[Hi]},Lb,[]],fN=(()=>{class i{constructor(){}static forRoot(t,e){return{ngModule:i,providers:[t9,[],{provide:D_,multi:!0,useValue:t},[],e?.errorHandler?{provide:pN,useValue:e.errorHandler}:[],{provide:wd,useValue:e||{}},e?.useHash?wae():Dae(),Aae(),e?.preloadingStrategy?ZV(e.preloadingStrategy).ɵproviders:[],e?.initialNavigation?Mae(e):[],e?.bindToComponentInputs?JV().ɵproviders:[],e?.enableViewTransitions?e9().ɵproviders:[],Oae()]};}static forChild(t){return{ngModule:i,providers:[{provide:D_,multi:!0,useValue:t}]};}static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({});}return i;})();function Aae(){return{provide:qV,useFactory:()=>{let i=N(n6),r=N(We),t=N(wd),e=N(Vb),n=N(xp);return t.scrollOffset&&i.setOffset(t.scrollOffset),new Tae(n,e,i,r,t);}};}function wae(){return{provide:Os,useClass:oR};}function Dae(){return{provide:Os,useClass:xy};}function Mae(i){return[i.initialNavigation==="disabled"?KV().ɵproviders:[],i.initialNavigation==="enabledBlocking"?XV().ɵproviders:[]];}var mN=new se("");function Oae(){return[{provide:mN,useFactory:xae},{provide:hy,multi:!0,useExisting:mN}];}var B0=class{_attachedHost;attach(r){return this._attachedHost=r,r.attach(this);}detach(){let r=this._attachedHost;r!=null&&(this._attachedHost=null,r.detach());}get isAttached(){return this._attachedHost!=null;}setAttachedHost(r){this._attachedHost=r;}},Dd=class extends B0{component;viewContainerRef;injector;projectableNodes;constructor(r,t,e,n){super(),this.component=r,this.viewContainerRef=t,this.injector=e,this.projectableNodes=n;}},_l=class extends B0{templateRef;viewContainerRef;context;injector;constructor(r,t,e,n){super(),this.templateRef=r,this.viewContainerRef=t,this.context=e,this.injector=n;}get origin(){return this.templateRef.elementRef;}attach(r,t=this.context){return this.context=t,super.attach(r);}detach(){return this.context=void 0,super.detach();}},hN=class extends B0{element;constructor(r){super(),this.element=r instanceof ze?r.nativeElement:r;}},M_=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal;}attach(r){if(r instanceof Dd)return this._attachedPortal=r,this.attachComponentPortal(r);if(r instanceof _l)return this._attachedPortal=r,this.attachTemplatePortal(r);if(this.attachDomPortal&&r instanceof hN)return this._attachedPortal=r,this.attachDomPortal(r);}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn();}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0;}setDisposeFn(r){this._disposeFn=r;}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null);}},H0=class extends M_{outletElement;_appRef;_defaultInjector;constructor(r,t,e){super(),this.outletElement=r,this._appRef=t,this._defaultInjector=e;}attachComponentPortal(r){let t;if(r.viewContainerRef){let e=r.injector||r.viewContainerRef.injector,n=e.get(rl,null,{optional:!0})||void 0;t=r.viewContainerRef.createComponent(r.component,{index:r.viewContainerRef.length,injector:e,ngModuleRef:n,projectableNodes:r.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy());}else{let e=this._appRef,n=r.injector||this._defaultInjector||tt.NULL,o=n.get(Xi,e.injector);t=Ey(r.component,{elementInjector:n,environmentInjector:o,projectableNodes:r.projectableNodes||void 0}),e.attachView(t.hostView),this.setDisposeFn(()=>{e.viewCount>0&&e.detachView(t.hostView),t.destroy();});}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=r,t;}attachTemplatePortal(r){let t=r.viewContainerRef,e=t.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return e.rootNodes.forEach(n=>this.outletElement.appendChild(n)),e.detectChanges(),this.setDisposeFn(()=>{let n=t.indexOf(e);n!==-1&&t.remove(n);}),this._attachedPortal=r,e;}attachDomPortal=r=>{let t=r.element;t.parentNode;let e=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(e,t),this.outletElement.appendChild(t),this._attachedPortal=r,super.setDisposeFn(()=>{e.parentNode&&e.parentNode.replaceChild(t,e);});};dispose(){super.dispose(),this.outletElement.remove();}_getComponentRootNode(r){return r.hostView.rootNodes[0];}};var Md=(()=>{class i extends M_{_moduleRef=N(rl,{optional:!0});_document=N(bt);_viewContainerRef=N(Mt);_isInitialized=!1;_attachedRef;constructor(){super();}get portal(){return this._attachedPortal;}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null);}attached=new ae();get attachedRef(){return this._attachedRef;}ngOnInit(){this._isInitialized=!0;}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null;}attachComponentPortal(t){t.setAttachedHost(this);let e=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,n=e.createComponent(t.component,{index:e.length,injector:t.injector||e.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return e!==this._viewContainerRef&&this._getRootNode().appendChild(n.hostView.rootNodes[0]),super.setDisposeFn(()=>n.destroy()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n;}attachTemplatePortal(t){t.setAttachedHost(this);let e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e;}attachDomPortal=t=>{let e=t.element;e.parentNode;let n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n);});};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode;}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ci]});}return i;})();var Ic=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({});}return i;})();function wp(i){return i.buttons===0||i.detail===0;}function Dp(i){let r=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!r&&r.identifier===-1&&(r.radiusX==null||r.radiusX===1)&&(r.radiusY==null||r.radiusY===1);}var gN;function i9(){if(gN==null){let i=typeof document<"u"?document.head:null;gN=!!(i&&(i.createShadowRoot||i.attachShadow));}return gN;}function vN(i){if(i9()){let r=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&r instanceof ShadowRoot)return r;}return null;}function xc(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){let r=i.shadowRoot.activeElement;if(r===i)break;i=r;}return i;}function zo(i){return i.composedPath?i.composedPath()[0]:i.target;}var CN;try{CN=typeof Intl<"u"&&Intl.v8BreakIterator;}catch{CN=!1;}var Zi=(()=>{class i{_platformId=N(ol);isBrowser=this._platformId?Ly(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||CN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var q0;function n9(){if(q0==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>q0=!0}));}finally{q0=q0||!1;}return q0;}function O_(i){return n9()?i:!!i.capture;}function Y0(i,r=0){return r9(i)?Number(i):arguments.length===2?r:0;}function r9(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i));}function fl(i){return i instanceof ze?i.nativeElement:i;}var o9=new se("cdk-input-modality-detector-options"),a9={ignoreKeys:[18,17,224,91,16]},s9=650,yN={passive:!0,capture:!0},l9=(()=>{class i{_platform=N(Zi);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value;}_mostRecentTarget=null;_modality=new ur(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(e=>e===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zo(t));};_onMousedown=t=>{Date.now()-this._lastTouchMs<s9||(this._modality.next(wp(t)?"keyboard":"mouse"),this._mostRecentTarget=zo(t));};_onTouchstart=t=>{if(Dp(t)){this._modality.next("keyboard");return;}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zo(t);};constructor(){let t=N(We),e=N(bt),n=N(o9,{optional:!0});if(this._options=re(re({},a9),n),this.modalityDetected=this._modality.pipe(vg(1)),this.modalityChanged=this.modalityDetected.pipe(hC()),this._platform.isBrowser){let o=N(tr).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(e,"keydown",this._onKeydown,yN),o.listen(e,"mousedown",this._onMousedown,yN),o.listen(e,"touchstart",this._onTouchstart,yN)]);}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t());}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),X0=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i;}(X0||{}),c9=new se("cdk-focus-monitor-default-options"),Gb=O_({passive:!0,capture:!0}),ks=(()=>{class i{_ngZone=N(We);_platform=N(Zi);_inputModalityDetector=N(l9);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map();_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map();_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1);};_document=N(bt,{optional:!0});_stopInputModalityDetector=new xe();constructor(){let t=N(c9,{optional:!0});this._detectionMode=t?.detectionMode||X0.IMMEDIATE;}_rootNodeFocusAndBlurListener=t=>{let e=zo(t);for(let n=e;n;n=n.parentElement)t.type==="focus"?this._onFocus(t,n):this._onBlur(t,n);};monitor(t,e=!1){let n=fl(t);if(!this._platform.isBrowser||n.nodeType!==1)return ge();let o=vN(n)||this._getDocument(),a=this._elementInfo.get(n);if(a)return e&&(a.checkChildren=!0),a.subject;let s={checkChildren:e,subject:new xe(),rootNode:o};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject;}stopMonitoring(t){let e=fl(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n));}focusVia(t,e,n){let o=fl(t),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,e,l)):(this._setOrigin(e),typeof o.focus=="function"&&o.focus(n));}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e));}_getDocument(){return this._document||document;}_getWindow(){return this._getDocument().defaultView||window;}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program";}_shouldBeAttributedToTouch(t){return this._detectionMode===X0.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget);}_setClasses(t,e){t.classList.toggle("cdk-focused",!!e),t.classList.toggle("cdk-touch-focused",e==="touch"),t.classList.toggle("cdk-keyboard-focused",e==="keyboard"),t.classList.toggle("cdk-mouse-focused",e==="mouse"),t.classList.toggle("cdk-program-focused",e==="program");}_setOrigin(t,e=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&e,this._detectionMode===X0.IMMEDIATE){clearTimeout(this._originTimeoutId);let n=this._originFromTouchInteraction?s9:1;this._originTimeoutId=setTimeout(()=>this._origin=null,n);}});}_onFocus(t,e){let n=this._elementInfo.get(e),o=zo(t);!n||!n.checkChildren&&e!==o||this._originChanged(e,this._getFocusOrigin(o),n);}_onBlur(t,e){let n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n,null));}_emitOrigin(t,e){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(e));}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Gb),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Gb);}),this._rootNodeFocusListenerCount.set(e,n+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener);}),this._inputModalityDetector.modalityDetected.pipe(Bn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0);}));}_removeGlobalListeners(t){let e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){let n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gb),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gb),this._rootNodeFocusListenerCount.delete(e));}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId));}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n,e),this._lastFocusOrigin=e;}_getClosestElementsInfo(t){let e=[];return this._elementInfo.forEach((n,o)=>{(o===t||n.checkChildren&&o.contains(t))&&e.push([o,n]);}),e;}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:e,mostRecentModality:n}=this._inputModalityDetector;if(n!=="mouse"||!e||e===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(e))return!0;}return!1;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),bN=(()=>{class i{_elementRef=N(ze);_focusMonitor=N(ks);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new ae();constructor(){}get focusOrigin(){return this._focusOrigin;}ngAfterViewInit(){let t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,t.nodeType===1&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>{this._focusOrigin=e,this.cdkFocusChange.emit(e);});}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe();}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]});}return i;})();var jb=new WeakMap(),Mn=(()=>{class i{_appRef;_injector=N(tt);_environmentInjector=N(Xi);load(t){let e=this._appRef=this._appRef||this._injector.get(ko),n=jb.get(e);n||(n={loaders:new Set(),refs:[]},jb.set(e,n),e.onDestroy(()=>{jb.get(e)?.refs.forEach(o=>o.destroy()),jb.delete(e);})),n.loaders.has(t)||(n.loaders.add(t),n.refs.push(Ey(t,{environmentInjector:this._environmentInjector})));}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var Od=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(e,n){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0});}return i;})();function P_(i){return Array.isArray(i)?i:[i];}var d9=new Set(),Mp,Ub=(()=>{class i{_platform=N(Zi);_nonce=N(Zm,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Rae;}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&Pae(t,this._nonce),this._matchMedia(t);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function Pae(i,r){if(!d9.has(i))try{Mp||(Mp=document.createElement("style"),r&&Mp.setAttribute("nonce",r),Mp.setAttribute("type","text/css"),document.head.appendChild(Mp)),Mp.sheet&&(Mp.sheet.insertRule(`@media ${i} {body{ }}`,0),d9.add(i));}catch(t){console.error(t);}}function Rae(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}};}var SN=(()=>{class i{_mediaMatcher=N(Ub);_zone=N(We);_queries=new Map();_destroySubject=new xe();constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete();}isMatched(t){return u9(P_(t)).some(n=>this._registerQuery(n).mql.matches);}observe(t){let n=u9(P_(t)).map(a=>this._registerQuery(a).observable),o=_s(n);return o=id(o.pipe(vn(1)),o.pipe(vg(1),hg(0))),o.pipe(me(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:_})=>{s.matches=s.matches||l,s.breakpoints[_]=l;}),s;}));}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let e=this._mediaMatcher.matchMedia(t),o={observable:new ct(a=>{let s=l=>this._zone.run(()=>a.next(l));return e.addListener(s),()=>{e.removeListener(s);};}).pipe(nn(e),me(({matches:a})=>({query:t,matches:a})),Bn(this._destroySubject)),mql:e};return this._queries.set(t,o),o;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function u9(i){return i.map(r=>r.split(",")).reduce((r,t)=>r.concat(t)).map(r=>r.trim());}var Nae=(()=>{class i{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var Wb=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({providers:[Nae]});}return i;})();var IN=(()=>{class i{_platform=N(Zi);constructor(){}isDisabled(t){return t.hasAttribute("disabled");}isVisible(t){return $ae(t)&&getComputedStyle(t).visibility==="visible";}isTabbable(t){if(!this._platform.isBrowser)return!1;let e=kae(Wae(t));if(e&&(p9(e)===-1||!this.isVisible(e)))return!1;let n=t.nodeName.toLowerCase(),o=p9(t);return t.hasAttribute("contenteditable")?o!==-1:n==="iframe"||n==="object"||this._platform.WEBKIT&&this._platform.IOS&&!jae(t)?!1:n==="audio"?t.hasAttribute("controls")?o!==-1:!1:n==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0;}isFocusable(t,e){return Uae(t)&&!this.isDisabled(t)&&(e?.ignoreVisibility||this.isVisible(t));}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function kae(i){try{return i.frameElement;}catch{return null;}}function $ae(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length);}function Lae(i){let r=i.nodeName.toLowerCase();return r==="input"||r==="select"||r==="button"||r==="textarea";}function Fae(i){return zae(i)&&i.type=="hidden";}function Vae(i){return Gae(i)&&i.hasAttribute("href");}function zae(i){return i.nodeName.toLowerCase()=="input";}function Gae(i){return i.nodeName.toLowerCase()=="a";}function f9(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let r=i.getAttribute("tabindex");return!!(r&&!isNaN(parseInt(r,10)));}function p9(i){if(!f9(i))return null;let r=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r;}function jae(i){let r=i.nodeName.toLowerCase(),t=r==="input"&&i.type;return t==="text"||t==="password"||r==="select"||r==="textarea";}function Uae(i){return Fae(i)?!1:Lae(i)||Vae(i)||i.hasAttribute("contenteditable")||f9(i);}function Wae(i){return i.ownerDocument&&i.ownerDocument.defaultView||window;}var TN=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled;}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor));}_enabled=!0;constructor(r,t,e,n,o=!1,a){this._element=r,this._checker=t,this._ngZone=e,this._document=n,this._injector=a,o||this.attachAnchors();}destroy(){let r=this._startAnchor,t=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1;}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener));}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached);}focusInitialElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(r)));});}focusFirstTabbableElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(r)));});}focusLastTabbableElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(r)));});}_getRegionBoundary(r){let t=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);return r=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element);}focusInitialElement(r){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let e=this._getFirstTabbableElement(t);return e?.focus(r),!!e;}return t.focus(r),!0;}return this.focusFirstTabbableElement(r);}focusFirstTabbableElement(r){let t=this._getRegionBoundary("start");return t&&t.focus(r),!!t;}focusLastTabbableElement(r){let t=this._getRegionBoundary("end");return t&&t.focus(r),!!t;}hasAttached(){return this._hasAttached;}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let t=r.children;for(let e=0;e<t.length;e++){let n=t[e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[e]):null;if(n)return n;}return null;}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let t=r.children;for(let e=t.length-1;e>=0;e--){let n=t[e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[e]):null;if(n)return n;}return null;}_createAnchor(){let r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r;}_toggleAnchorTabIndex(r,t){r?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex");}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor));}_executeOnStable(r){this._injector?xr(r,{injector:this._injector}):setTimeout(r);}},Bb=(()=>{class i{_checker=N(IN);_ngZone=N(We);_document=N(bt);_injector=N(tt);constructor(){N(Mn).load(Od);}create(t,e=!1){return new TN(t,this._checker,this._ngZone,this._document,e,this._injector);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),xN=(()=>{class i{_elementRef=N(ze);_focusTrapFactory=N(Bb);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1;}set enabled(t){this.focusTrap&&(this.focusTrap.enabled=t);}autoCapture;constructor(){N(Zi).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0));}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null);}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus();}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors();}ngOnChanges(t){let e=t.autoCapture;e&&!e.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus();}_captureFocus(){this._previouslyFocusedElement=xc(),this.focusTrap?.focusInitialElementWhenReady();}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",gt],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",gt]},exportAs:["cdkTrapFocus"],features:[Oi]});}return i;})(),h9=new se("liveAnnouncerElement",{providedIn:"root",factory:g9});function g9(){return null;}var v9=new se("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Bae=0,AN=(()=>{class i{_ngZone=N(We);_defaultOptions=N(v9,{optional:!0});_liveElement;_document=N(bt);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=N(h9,{optional:!0});this._liveElement=t||this._createLiveElement();}announce(t,...e){let n=this._defaultOptions,o,a;return e.length===1&&typeof e[0]=="number"?a=e[0]:[o,a]=e,this.clear(),clearTimeout(this._previousTimeout),o||(o=n&&n.politeness?n.politeness:"polite"),a==null&&n&&(a=n.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0;},100),this._currentPromise));}clear(){this._liveElement&&(this._liveElement.textContent="");}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0;}_createLiveElement(){let t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let o=0;o<e.length;o++)e[o].remove();return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),n.id=`cdk-live-announcer-${Bae++}`,this._document.body.appendChild(n),n;}_exposeAnnouncerToModals(t){let e=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<e.length;n++){let o=e[n],a=o.getAttribute("aria-owns");a?a.indexOf(t)===-1&&o.setAttribute("aria-owns",a+" "+t):o.setAttribute("aria-owns",t);}}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var Pd=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i;}(Pd||{}),m9="cdk-high-contrast-black-on-white",_9="cdk-high-contrast-white-on-black",EN="cdk-high-contrast-active",Hb=(()=>{class i{_platform=N(Zi);_hasCheckedHighContrastMode;_document=N(bt);_breakpointSubscription;constructor(){this._breakpointSubscription=N(SN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses());});}getHighContrastMode(){if(!this._platform.isBrowser)return Pd.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,o=(n&&n.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Pd.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Pd.BLACK_ON_WHITE;}return Pd.NONE;}ngOnDestroy(){this._breakpointSubscription.unsubscribe();}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(EN,m9,_9),this._hasCheckedHighContrastMode=!0;let e=this.getHighContrastMode();e===Pd.BLACK_ON_WHITE?t.add(EN,m9):e===Pd.WHITE_ON_BLACK&&t.add(EN,_9);}}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),K0=(()=>{class i{constructor(){N(Hb)._applyBodyHighContrastModeCssClasses();}static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[Wb]});}return i;})();function Or(i,...r){return r.length?r.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey;}function wN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha;}function Xn(i){return i==null?"":typeof i=="string"?i:`${i}px`;}var Hae=new se("cdk-dir-doc",{providedIn:"root",factory:qae});function qae(){return N(bt);}var Yae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function C9(i){let r=i?.toLowerCase()||"";return r==="auto"&&typeof navigator<"u"&&navigator?.language?Yae.test(navigator.language)?"rtl":"ltr":r==="rtl"?"rtl":"ltr";}var gr=(()=>{class i{get value(){return this.valueSignal();}valueSignal=$i("ltr");change=new ae();constructor(){let t=N(Hae,{optional:!0});if(t){let e=t.body?t.body.dir:null,n=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(C9(e||n||"ltr"));}}ngOnDestroy(){this.change.complete();}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var $s=function(i){return i[i.NORMAL=0]="NORMAL",i[i.NEGATED=1]="NEGATED",i[i.INVERTED=2]="INVERTED",i;}($s||{}),qb,Op;function Yb(){if(Op==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Op=!1,Op;if("scrollBehavior"in document.documentElement.style)Op=!0;else{let i=Element.prototype.scrollTo;i?Op=!/\{\s*\[native code\]\s*\}/.test(i.toString()):Op=!1;}}return Op;}function R_(){if(typeof document!="object"||!document)return $s.NORMAL;if(qb==null){let i=document.createElement("div"),r=i.style;i.dir="rtl",r.width="1px",r.overflow="auto",r.visibility="hidden",r.pointerEvents="none",r.position="absolute";let t=document.createElement("div"),e=t.style;e.width="2px",e.height="1px",i.appendChild(t),document.body.appendChild(i),qb=$s.NORMAL,i.scrollLeft===0&&(i.scrollLeft=1,qb=i.scrollLeft===0?$s.NEGATED:$s.INVERTED),i.remove();}return qb;}var Rd=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({});}return i;})();var Xae=20,Xb=(()=>{class i{_ngZone=N(We);_platform=N(Zi);_renderer=N(tr).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new xe();_scrolledCount=0;scrollContainers=new Map();register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)));}deregister(t){let e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t));}scrolled(t=Xae){return this._platform.isBrowser?new ct(e=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let n=t>0?this._scrolled.pipe(fC(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0);};}):ge();}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete();}ancestorScrolled(t,e){let n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Zt(o=>!o||n.indexOf(o)>-1));}getAncestorScrollContainers(t){let e=[];return this.scrollContainers.forEach((n,o)=>{this._scrollableContainsElement(o,t)&&e.push(o);}),e;}_scrollableContainsElement(t,e){let n=fl(e),o=t.getElementRef().nativeElement;do if(n==o)return!0;while(n=n.parentElement);return!1;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),y9=(()=>{class i{elementRef=N(ze);scrollDispatcher=N(Xb);ngZone=N(We);dir=N(gr,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new xe();_renderer=N(Jt);_cleanupScroll;_elementScrolled=new xe();constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this);}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete();}elementScrolled(){return this._elementScrolled;}getElementRef(){return this.elementRef;}scrollTo(t){let e=this.elementRef.nativeElement,n=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=n?t.end:t.start),t.right==null&&(t.right=n?t.start:t.end),t.bottom!=null&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&R_()!=$s.NORMAL?(t.left!=null&&(t.right=e.scrollWidth-e.clientWidth-t.left),R_()==$s.INVERTED?t.left=t.right:R_()==$s.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t);}_applyScrollToOptions(t){let e=this.elementRef.nativeElement;Yb()?e.scrollTo(t):(t.top!=null&&(e.scrollTop=t.top),t.left!=null&&(e.scrollLeft=t.left));}measureScrollOffset(t){let e="left",n="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return t=="start"?t=a?n:e:t=="end"&&(t=a?e:n),a&&R_()==$s.INVERTED?t==e?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&R_()==$s.NEGATED?t==e?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==e?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft;}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]});}return i;})(),Kae=20,Pp=(()=>{class i{_platform=N(Zi);_listeners;_viewportSize;_change=new xe();_document=N(bt,{optional:!0});constructor(){let t=N(We),e=N(tr).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let n=o=>this._change.next(o);this._listeners=[e.listen("window","resize",n),e.listen("window","orientationchange",n)];}this.change().subscribe(()=>this._viewportSize=null);});}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete();}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t;}getViewportRect(){let t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e};}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,e=this._getWindow(),n=t.documentElement,o=n.getBoundingClientRect(),a=-o.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,s=-o.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0;return{top:a,left:s};}change(t=Kae){return t>0?this._change.pipe(fC(t)):this._change;}_getWindow(){return this._document.defaultView||window;}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0};}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var Nd=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({});}return i;})(),DN=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[Rd,Nd,Rd,Nd]});}return i;})();var MN={},bn=(()=>{class i{_appId=N(Qm);getId(t){return this._appId!=="ng"&&(t+=this._appId),MN.hasOwnProperty(t)||(MN[t]=0),`${t}${MN[t]++}`;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var b9=Yb();function Np(i){return new Kb(i.get(Pp),i.get(bt));}var Kb=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(r,t){this._viewportRuler=r,this._document=t;}attach(){}enable(){if(this._canBeEnabled()){let r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=Xn(-this._previousScrollPosition.left),r.style.top=Xn(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0;}}disable(){if(this._isEnabled){let r=this._document.documentElement,t=this._document.body,e=r.style,n=t.style,o=e.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),b9&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),b9&&(e.scrollBehavior=o,n.scrollBehavior=a);}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width;}};function w9(i,r){return new Qb(i.get(Xb),i.get(We),i.get(Pp),r);}var Qb=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(r,t,e,n){this._scrollDispatcher=r,this._ngZone=t,this._viewportRuler=e,this._config=n;}attach(r){this._overlayRef,this._overlayRef=r;}enable(){if(this._scrollSubscription)return;let r=this._scrollDispatcher.scrolled(0).pipe(Zt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition();})):this._scrollSubscription=r.subscribe(this._detach);}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null);}detach(){this.disable(),this._overlayRef=null;}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach());};};var Q0=class{enable(){}disable(){}attach(){}};function ON(i,r){return r.some(t=>{let e=i.bottom<t.top,n=i.top>t.bottom,o=i.right<t.left,a=i.left>t.right;return e||n||o||a;});}function S9(i,r){return r.some(t=>{let e=i.top<t.top,n=i.bottom>t.bottom,o=i.left<t.left,a=i.right>t.right;return e||n||o||a;});}function wa(i,r){return new Zb(i.get(Xb),i.get(Pp),i.get(We),r);}var Zb=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(r,t,e,n){this._scrollDispatcher=r,this._viewportRuler=t,this._ngZone=e,this._config=n;}attach(r){this._overlayRef,this._overlayRef=r;}enable(){if(!this._scrollSubscription){let r=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(r).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();ON(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()));}});}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null);}detach(){this.disable(),this._overlayRef=null;}},D9=(()=>{class i{_injector=N(tt);constructor(){}noop=()=>new Q0();close=t=>w9(this._injector,t);block=()=>Np(this._injector);reposition=t=>wa(this._injector,t);static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),hl=class{positionStrategy;scrollStrategy=new Q0();panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(r){if(r){let t=Object.keys(r);for(let e of t)r[e]!==void 0&&(this[e]=r[e]);}}};var Jb=class{connectionPair;scrollableViewProperties;constructor(r,t){this.connectionPair=r,this.scrollableViewProperties=t;}};var M9=(()=>{class i{_attachedOverlays=[];_document=N(bt);_isAttached;constructor(){}ngOnDestroy(){this.detach();}add(t){this.remove(t),this._attachedOverlays.push(t);}remove(t){let e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),this._attachedOverlays.length===0&&this.detach();}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),O9=(()=>{class i extends M9{_ngZone=N(We);_renderer=N(tr).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener);}),this._isAttached=!0);}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1);}_keydownListener=t=>{let e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){this._ngZone.run(()=>e[n]._keydownEvents.next(t));break;}};static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),P9=(()=>{class i extends M9{_platform=N(Zi);_ngZone=N(We);_renderer=N(tr).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let e=this._document.body,n={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(e,"pointerdown",this._pointerDownListener,n),o.listen(e,"click",this._clickListener,n),o.listen(e,"auxclick",this._clickListener,n),o.listen(e,"contextmenu",this._clickListener,n)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0;}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1);}_pointerDownListener=t=>{this._pointerDownEventTarget=zo(t);};_clickListener=t=>{let e=zo(t),n=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:e;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(E9(s.overlayElement,e)||E9(s.overlayElement,n))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(t)):l.next(t);}};static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function E9(i,r){let t=typeof ShadowRoot<"u"&&ShadowRoot,e=r;for(;e;){if(e===i)return!0;e=t&&e instanceof ShadowRoot?e.host:e.parentNode;}return!1;}var R9=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(e,n){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0});}return i;})(),tS=(()=>{class i{_platform=N(Zi);_containerElement;_document=N(bt);_styleLoader=N(Mn);constructor(){}ngOnDestroy(){this._containerElement?.remove();}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement;}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||wN()){let n=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<n.length;o++)n[o].remove();}let e=this._document.createElement("div");e.classList.add(t),wN()?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e;}_loadStyles(){this._styleLoader.load(R9);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),PN=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(r,t,e,n){this._renderer=t,this._ngZone=e,this.element=r.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",n);}detach(){this._ngZone.runOutsideAngular(()=>{let r=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(r,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),r.style.pointerEvents="none",r.classList.remove("cdk-overlay-backdrop-showing");});}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove();};},N_=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new xe();_attachments=new xe();_detachments=new xe();_positionStrategy;_scrollStrategy;_locationChanges=ht.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new xe();_outsidePointerEvents=new xe();_afterNextRenderRef;constructor(r,t,e,n,o,a,s,l,_,f=!1,g,S){this._portalOutlet=r,this._host=t,this._pane=e,this._config=n,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=_,this._animationsDisabled=f,this._injector=g,this._renderer=S,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy;}get overlayElement(){return this._pane;}get backdropElement(){return this._backdropRef?.element||null;}get hostElement(){return this._host;}attach(r){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(r);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=xr(()=>{this.hasAttached()&&this.updatePosition();},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()));}),t;}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let r=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r;}dispose(){let r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,r&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent();}hasAttached(){return this._portalOutlet.hasAttached();}backdropClick(){return this._backdropClick;}attachments(){return this._attachments;}detachments(){return this._detachments;}keydownEvents(){return this._keydownEvents;}outsidePointerEvents(){return this._outsidePointerEvents;}getConfig(){return this._config;}updatePosition(){this._positionStrategy&&this._positionStrategy.apply();}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()));}updateSize(r){this._config=re(re({},this._config),r),this._updateElementSize();}setDirection(r){this._config=rt(re({},this._config),{direction:r}),this._updateElementDirection();}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0);}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1);}getDirection(){let r=this._config.direction;return r?typeof r=="string"?r:r.value:"ltr";}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()));}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection());}_updateElementSize(){if(!this._pane)return;let r=this._pane.style;r.width=Xn(this._config.width),r.height=Xn(this._config.height),r.minWidth=Xn(this._config.minWidth),r.minHeight=Xn(this._config.minHeight),r.maxWidth=Xn(this._config.maxWidth),r.maxHeight=Xn(this._config.maxHeight);}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none";}_attachBackdrop(){let r="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new PN(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t);}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(r));}):this._backdropRef.element.classList.add(r);}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host);}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach();}_toggleClasses(r,t,e){let n=P_(t||[]).filter(o=>!!o);n.length&&(e?r.classList.add(...n):r.classList.remove(...n));}_detachContentWhenEmpty(){let r=!1;try{this._detachContentAfterRenderRef=xr(()=>{r=!0,this._detachContent();},{injector:this._injector});}catch(t){if(r)throw t;this._detachContent();}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent();}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}));}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent());}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect();}_disposeScrollStrategy(){let r=this._scrollStrategy;r?.disable(),r?.detach?.();}},T9="cdk-overlay-connected-position-bounding-box",Zae=/([A-Za-z%]+)$/;function $_(i,r){return new Z0(r,i.get(Pp),i.get(bt),i.get(Zi),i.get(tS));}var Z0=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new xe();_resizeSubscription=ht.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions;}constructor(r,t,e,n,o){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=o,this.setOrigin(r);}attach(r){this._overlayRef&&this._overlayRef,this._validatePositions(),r.hostElement.classList.add(T9),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply();});}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return;}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._originRect,t=this._overlayRect,e=this._viewportRect,n=this._containerRect,o=[],a;for(let s of this._preferredPositions){let l=this._getOriginPoint(r,n,s),_=this._getOverlayPoint(l,t,s),f=this._getOverlayFit(_,t,e,s);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return;}if(this._canFitWithFlexibleDimensions(f,_,e)){o.push({position:s,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue;}(!a||a.overlayFit.visibleArea<f.visibleArea)&&(a={overlayFit:f,overlayPoint:_,originPoint:l,position:s,overlayRect:t});}if(o.length){let s=null,l=-1;for(let _ of o){let f=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);f>l&&(l=f,s=_);}this._isPushed=!1,this._applyPosition(s.position,s.origin);return;}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return;}this._applyPosition(a.position,a.originPoint);}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe();}dispose(){this._isDisposed||(this._boundingBox&&Rp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(T9),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0);}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let r=this._lastPosition;if(r){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,r);this._applyPosition(r,t);}else this.apply();}withScrollableContainers(r){return this._scrollables=r,this;}withPositions(r){return this._preferredPositions=r,r.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this;}withViewportMargin(r){return this._viewportMargin=r,this;}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this;}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this;}withPush(r=!0){return this._canPush=r,this;}withLockedPosition(r=!0){return this._positionLocked=r,this;}setOrigin(r){return this._origin=r,this;}withDefaultOffsetX(r){return this._offsetX=r,this;}withDefaultOffsetY(r){return this._offsetY=r,this;}withTransformOriginOn(r){return this._transformOriginSelector=r,this;}_getOriginPoint(r,t,e){let n;if(e.originX=="center")n=r.left+r.width/2;else{let a=this._isRtl()?r.right:r.left,s=this._isRtl()?r.left:r.right;n=e.originX=="start"?a:s;}t.left<0&&(n-=t.left);let o;return e.originY=="center"?o=r.top+r.height/2:o=e.originY=="top"?r.top:r.bottom,t.top<0&&(o-=t.top),{x:n,y:o};}_getOverlayPoint(r,t,e){let n;e.overlayX=="center"?n=-t.width/2:e.overlayX==="start"?n=this._isRtl()?-t.width:0:n=this._isRtl()?0:-t.width;let o;return e.overlayY=="center"?o=-t.height/2:o=e.overlayY=="top"?0:-t.height,{x:r.x+n,y:r.y+o};}_getOverlayFit(r,t,e,n){let o=x9(t),{x:a,y:s}=r,l=this._getOffset(n,"x"),_=this._getOffset(n,"y");l&&(a+=l),_&&(s+=_);let f=0-a,g=a+o.width-e.width,S=0-s,x=s+o.height-e.height,D=this._subtractOverflows(o.width,f,g),R=this._subtractOverflows(o.height,S,x),j=D*R;return{visibleArea:j,isCompletelyWithinViewport:o.width*o.height===j,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:D==o.width};}_canFitWithFlexibleDimensions(r,t,e){if(this._hasFlexibleDimensions){let n=e.bottom-t.y,o=e.right-t.x,a=I9(this._overlayRef.getConfig().minHeight),s=I9(this._overlayRef.getConfig().minWidth),l=r.fitsInViewportVertically||a!=null&&a<=n,_=r.fitsInViewportHorizontally||s!=null&&s<=o;return l&&_;}return!1;}_pushOverlayOnScreen(r,t,e){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};let n=x9(t),o=this._viewportRect,a=Math.max(r.x+n.width-o.width,0),s=Math.max(r.y+n.height-o.height,0),l=Math.max(o.top-e.top-r.y,0),_=Math.max(o.left-e.left-r.x,0),f=0,g=0;return n.width<=o.width?f=_||-a:f=r.x<this._viewportMargin?o.left-e.left-r.x:0,n.height<=o.height?g=l||-s:g=r.y<this._viewportMargin?o.top-e.top-r.y:0,this._previousPushAmount={x:f,y:g},{x:r.x+f,y:r.y+g};}_applyPosition(r,t){if(this._setTransformOrigin(r),this._setOverlayElementStyles(t,r),this._setBoundingBoxStyles(t,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._positionChanges.observers.length){let e=this._getScrollVisibility();if(r!==this._lastPosition||!this._lastScrollVisibility||!Jae(this._lastScrollVisibility,e)){let n=new Jb(r,e);this._positionChanges.next(n);}this._lastScrollVisibility=e;}this._lastPosition=r,this._isInitialRender=!1;}_setTransformOrigin(r){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),e,n=r.overlayY;r.overlayX==="center"?e="center":this._isRtl()?e=r.overlayX==="start"?"right":"left":e=r.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${e} ${n}`;}_calculateBoundingBoxRect(r,t){let e=this._viewportRect,n=this._isRtl(),o,a,s;if(t.overlayY==="top")a=r.y,o=e.height-a+this._viewportMargin;else if(t.overlayY==="bottom")s=e.height-r.y+this._viewportMargin*2,o=e.height-s+this._viewportMargin;else{let x=Math.min(e.bottom-r.y+e.top,r.y),D=this._lastBoundingBoxSize.height;o=x*2,a=r.y-x,o>D&&!this._isInitialRender&&!this._growAfterOpen&&(a=r.y-D/2);}let l=t.overlayX==="start"&&!n||t.overlayX==="end"&&n,_=t.overlayX==="end"&&!n||t.overlayX==="start"&&n,f,g,S;if(_)S=e.width-r.x+this._viewportMargin*2,f=r.x-this._viewportMargin;else if(l)g=r.x,f=e.right-r.x;else{let x=Math.min(e.right-r.x+e.left,r.x),D=this._lastBoundingBoxSize.width;f=x*2,g=r.x-x,f>D&&!this._isInitialRender&&!this._growAfterOpen&&(g=r.x-D/2);}return{top:a,left:g,bottom:s,right:S,width:f,height:o};}_setBoundingBoxStyles(r,t){let e=this._calculateBoundingBoxRect(r,t);!this._isInitialRender&&!this._growAfterOpen&&(e.height=Math.min(e.height,this._lastBoundingBoxSize.height),e.width=Math.min(e.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;n.height=Xn(e.height),n.top=Xn(e.top),n.bottom=Xn(e.bottom),n.width=Xn(e.width),n.left=Xn(e.left),n.right=Xn(e.right),t.overlayX==="center"?n.alignItems="center":n.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?n.justifyContent="center":n.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(n.maxHeight=Xn(o)),a&&(n.maxWidth=Xn(a));}this._lastBoundingBoxSize=e,Rp(this._boundingBox.style,n);}_resetBoundingBoxStyles(){Rp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""});}_resetOverlayElementStyles(){Rp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""});}_setOverlayElementStyles(r,t){let e={},n=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(n){let f=this._viewportRuler.getViewportScrollPosition();Rp(e,this._getExactOverlayY(t,r,f)),Rp(e,this._getExactOverlayX(t,r,f));}else e.position="static";let s="",l=this._getOffset(t,"x"),_=this._getOffset(t,"y");l&&(s+=`translateX(${l}px) `),_&&(s+=`translateY(${_}px)`),e.transform=s.trim(),a.maxHeight&&(n?e.maxHeight=Xn(a.maxHeight):o&&(e.maxHeight="")),a.maxWidth&&(n?e.maxWidth=Xn(a.maxWidth):o&&(e.maxWidth="")),Rp(this._pane.style,e);}_getExactOverlayY(r,t,e){let n={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,r);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,e)),r.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;n.bottom=`${a-(o.y+this._overlayRect.height)}px`;}else n.top=Xn(o.y);return n;}_getExactOverlayX(r,t,e){let n={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,r);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,e));let a;if(this._isRtl()?a=r.overlayX==="end"?"left":"right":a=r.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;n.right=`${s-(o.x+this._overlayRect.width)}px`;}else n.left=Xn(o.x);return n;}_getScrollVisibility(){let r=this._getOriginRect(),t=this._pane.getBoundingClientRect(),e=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:S9(r,e),isOriginOutsideView:ON(r,e),isOverlayClipped:S9(t,e),isOverlayOutsideView:ON(t,e)};}_subtractOverflows(r,...t){return t.reduce((e,n)=>e-Math.max(n,0),r);}_getNarrowedViewportRect(){let r=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,e=this._viewportRuler.getViewportScrollPosition();return{top:e.top+this._viewportMargin,left:e.left+this._viewportMargin,right:e.left+r-this._viewportMargin,bottom:e.top+t-this._viewportMargin,width:r-2*this._viewportMargin,height:t-2*this._viewportMargin};}_isRtl(){return this._overlayRef.getDirection()==="rtl";}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed;}_getOffset(r,t){return t==="x"?r.offsetX==null?this._offsetX:r.offsetX:r.offsetY==null?this._offsetY:r.offsetY;}_validatePositions(){}_addPanelClasses(r){this._pane&&P_(r).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t));});}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r);}),this._appliedPanelClasses=[]);}_getOriginRect(){let r=this._origin;if(r instanceof ze)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();let t=r.width||0,e=r.height||0;return{top:r.y,bottom:r.y+e,left:r.x,right:r.x+t,height:e,width:t};}};function Rp(i,r){for(let t in r)r.hasOwnProperty(t)&&(i[t]=r[t]);return i;}function I9(i){if(typeof i!="number"&&i!=null){let[r,t]=i.split(Zae);return!t||t==="px"?parseFloat(r):null;}return i||null;}function x9(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)};}function Jae(i,r){return i===r?!0:i.isOriginClipped===r.isOriginClipped&&i.isOriginOutsideView===r.isOriginOutsideView&&i.isOverlayClipped===r.isOverlayClipped&&i.isOverlayOutsideView===r.isOverlayOutsideView;}var A9="cdk-global-overlay-wrapper";function kp(i){return new eS();}var eS=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(r){let t=r.getConfig();this._overlayRef=r,this._width&&!t.width&&r.updateSize({width:this._width}),this._height&&!t.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(A9),this._isDisposed=!1;}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this;}left(r=""){return this._xOffset=r,this._xPosition="left",this;}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this;}right(r=""){return this._xOffset=r,this._xPosition="right",this;}start(r=""){return this._xOffset=r,this._xPosition="start",this;}end(r=""){return this._xOffset=r,this._xPosition="end",this;}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this;}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this;}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this;}centerVertically(r=""){return this.top(r),this._alignItems="center",this;}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let r=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,e=this._overlayRef.getConfig(),{width:n,height:o,maxWidth:a,maxHeight:s}=e,l=(n==="100%"||n==="100vw")&&(!a||a==="100%"||a==="100vw"),_=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),f=this._xPosition,g=this._xOffset,S=this._overlayRef.getConfig().direction==="rtl",x="",D="",R="";l?R="flex-start":f==="center"?(R="center",S?D=g:x=g):S?f==="left"||f==="end"?(R="flex-end",x=g):(f==="right"||f==="start")&&(R="flex-start",D=g):f==="left"||f==="start"?(R="flex-start",x=g):(f==="right"||f==="end")&&(R="flex-end",D=g),r.position=this._cssPosition,r.marginLeft=l?"0":x,r.marginTop=_?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=l?"0":D,t.justifyContent=R,t.alignItems=_?"flex-start":this._alignItems;}dispose(){if(this._isDisposed||!this._overlayRef)return;let r=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,e=t.style;t.classList.remove(A9),e.justifyContent=e.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0;}},N9=(()=>{class i{_injector=N(tt);constructor(){}global(){return kp();}flexibleConnectedTo(t){return $_(this._injector,t);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function kd(i,r){i.get(Mn).load(R9);let t=i.get(tS),e=i.get(bt),n=i.get(bn),o=i.get(ko),a=i.get(gr),s=e.createElement("div"),l=e.createElement("div");l.id=n.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),s.appendChild(l),t.getContainerElement().appendChild(s);let _=new H0(l,o,i),f=new hl(r),g=i.get(Jt,null,{optional:!0})||i.get(tr).createRenderer(null,null);return f.direction=f.direction||a.value,new N_(_,s,l,f,i.get(We),i.get(O9),e,i.get(ll),i.get(P9),r?.disableAnimations??i.get(hd,null,{optional:!0})==="NoopAnimations",i.get(Xi),g);}var k9=(()=>{class i{scrollStrategies=N(D9);_positionBuilder=N(N9);_injector=N(tt);constructor(){}create(t){return kd(this._injector,t);}position(){return this._positionBuilder;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),ese=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],$9=new se("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=N(tt);return()=>wa(i);}}),k_=(()=>{class i{elementRef=N(ze);constructor(){}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]});}return i;})(),iS=(()=>{class i{_dir=N(gr,{optional:!0});_injector=N(tt);_overlayRef;_templatePortal;_backdropSubscription=ht.EMPTY;_attachSubscription=ht.EMPTY;_detachSubscription=ht.EMPTY;_positionSubscription=ht.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=N($9);_disposeOnNavigation=!1;_ngZone=N(We);origin;positions;positionStrategy;get offsetX(){return this._offsetX;}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position);}get offsetY(){return this._offsetY;}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position);}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation;}set disposeOnNavigation(t){this._disposeOnNavigation=t;}backdropClick=new ae();positionChange=new ae();attach=new ae();detach=new ae();overlayKeydown=new ae();overlayOutsideClick=new ae();constructor(){let t=N(Hn),e=N(Mt);this._templatePortal=new _l(t,e),this.scrollStrategy=this._scrollStrategyFactory();}get overlayRef(){return this._overlayRef;}get dir(){return this._dir?this._dir.value:"ltr";}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose();}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this.attachOverlay():this.detachOverlay());}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ese);let t=this._overlayRef=kd(this._injector,this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),e.keyCode===27&&!this.disableClose&&!Or(e)&&(e.preventDefault(),this.detachOverlay());}),this._overlayRef.outsidePointerEvents().subscribe(e=>{let n=this._getOriginElement(),o=zo(e);(!n||n!==o&&!n.contains(o))&&this.overlayOutsideClick.next(e);});}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new hl({direction:this._dir||"ltr",positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(e.width=this.width),(this.height||this.height===0)&&(e.height=this.height),(this.minWidth||this.minWidth===0)&&(e.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e;}_updatePositionStrategy(t){let e=this.positions.map(n=>({originX:n.originX,originY:n.originY,overlayX:n.overlayX,overlayY:n.overlayY,offsetX:n.offsetX||this.offsetX,offsetY:n.offsetY||this.offsetY,panelClass:n.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector);}_createPositionStrategy(){let t=$_(this._injector,this._getOrigin());return this._updatePositionStrategy(t),t;}_getOrigin(){return this.origin instanceof k_?this.origin.elementRef:this.origin;}_getOriginElement(){return this.origin instanceof k_?this.origin.elementRef.nativeElement:this.origin instanceof ze?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null;}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t);}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(OM(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe();})),this.open=!0;}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1;}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",gt],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",gt],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",gt],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",gt],push:[2,"cdkConnectedOverlayPush","push",gt],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",gt]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Oi]});}return i;})();function tse(i){let r=N(tt);return()=>wa(r);}var ise={provide:$9,useFactory:tse},Ls=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({providers:[k9,ise],imports:[Rd,Ic,DN,DN]});}return i;})();function nse(i,r){}var $d=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext;};var NN=(()=>{class i extends M_{_elementRef=N(ze);_focusTrapFactory=N(Bb);_config;_interactivityChecker=N(IN);_ngZone=N(We);_focusMonitor=N(ks);_renderer=N(Jt);_platform=N(Zi);_document=N(bt,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=N($t);_injector=N(tt);_isDestroyed=!1;constructor(){super(),this._config=N($d,{optional:!0})||new $d(),this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy);}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck();}_removeAriaLabelledBy(t){let e=this._ariaLabelledByQueue.indexOf(t);e>-1&&(this._ariaLabelledByQueue.splice(e,1),this._changeDetectorRef.markForCheck());}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus();}_captureInitialFocus(){this._trapFocus();}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus();}attachComponentPortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),e;}attachTemplatePortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),e;}attachDomPortal=t=>{this._portalOutlet.hasAttached();let e=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),e;};_recaptureFocus(){this._containsFocus()||this._trapFocus();}_forceFocus(t,e){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{o(),a(),t.removeAttribute("tabindex");},o=this._renderer.listen(t,"blur",n),a=this._renderer.listen(t,"mousedown",n);})),t.focus(e);}_focusByCssSelector(t,e){let n=this._elementRef.nativeElement.querySelector(t);n&&this._forceFocus(n,e);}_trapFocus(t){this._isDestroyed||xr(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus(t);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(t)||this._focusDialogContainer(t);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',t);break;default:this._focusByCssSelector(this._config.autoFocus,t);break;}},{injector:this._injector});}_restoreFocus(){let t=this._config.restoreFocus,e=null;if(typeof t=="string"?e=this._document.querySelector(t):typeof t=="boolean"?e=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(e=t),this._config.restoreFocus&&e&&typeof e.focus=="function"){let n=xc(),o=this._elementRef.nativeElement;(!n||n===this._document.body||n===o||o.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus());}this._focusTrap&&this._focusTrap.destroy();}_focusDialogContainer(t){this._elementRef.nativeElement.focus?.(t);}_containsFocus(){let t=this._elementRef.nativeElement,e=xc();return t===e||t.contains(e);}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=xc()));}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(e,n){if(e&1&&Et(Md,7),e&2){let o;qe(o=Ye())&&(n._portalOutlet=o.first);}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,n){e&2&&lt("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null);},features:[ci],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){e&1&&E(0,nse,0,0,"ng-template",0);},dependencies:[Md],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2});}return i;})(),J0=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new xe();backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(r,t){this.overlayRef=r,this.config=t,this.disableClose=t.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!Or(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}));}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.();}),this._detachSubscription=r.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close();});}close(r,t){if(this._canClose(r)){let e=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(r),e.complete(),this.componentInstance=this.containerInstance=null;}}updatePosition(){return this.overlayRef.updatePosition(),this;}updateSize(r="",t=""){return this.overlayRef.updateSize({width:r,height:t}),this;}addPanelClass(r){return this.overlayRef.addPanelClass(r),this;}removePanelClass(r){return this.overlayRef.removePanelClass(r),this;}_canClose(r){let t=this.config;return!!this.containerInstance&&(!t.closePredicate||t.closePredicate(r,t,this.componentInstance));}},rse=new se("DialogScrollStrategy",{providedIn:"root",factory:()=>{let i=N(tt);return()=>Np(i);}}),ose=new se("DialogData"),ase=new se("DefaultDialogConfig");function sse(i){let r=$i(i),t=new ae();return{valueSignal:r,get value(){return r();},change:t,ngOnDestroy(){t.complete();}};}var kN=(()=>{class i{_injector=N(tt);_defaultOptions=N(ase,{optional:!0});_parentDialog=N(i,{optional:!0,skipSelf:!0});_overlayContainer=N(tS);_idGenerator=N(bn);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new xe();_afterOpenedAtThisLevel=new xe();_ariaHiddenElements=new Map();_scrollStrategy=N(rse);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel;}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel;}afterAllClosed=fs(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(nn(void 0)));constructor(){}open(t,e){let n=this._defaultOptions||new $d();e=re(re({},n),e),e.id=e.id||this._idGenerator.getId("cdk-dialog-"),e.id&&this.getDialogById(e.id);let o=this._getOverlayConfig(e),a=kd(this._injector,o),s=new J0(a,e),l=this._attachContainer(a,s,e);return s.containerInstance=l,this._attachDialogContent(t,s,l,e),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s;}closeAll(){RN(this.openDialogs,t=>t.close());}getDialogById(t){return this.openDialogs.find(e=>e.id===t);}ngOnDestroy(){RN(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1);}),RN(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[];}_getOverlayConfig(t){let e=new hl({positionStrategy:t.positionStrategy||kp().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation,disableAnimations:t.disableAnimations});return t.backdropClass&&(e.backdropClass=t.backdropClass),e;}_attachContainer(t,e,n){let o=n.injector||n.viewContainerRef?.injector,a=[{provide:$d,useValue:n},{provide:J0,useValue:e},{provide:N_,useValue:t}],s;n.container?typeof n.container=="function"?s=n.container:(s=n.container.type,a.push(...n.container.providers(n))):s=NN;let l=new Dd(s,n.viewContainerRef,tt.create({parent:o||this._injector,providers:a}));return t.attach(l).instance;}_attachDialogContent(t,e,n,o){if(t instanceof Hn){let a=this._createInjector(o,e,n,void 0),s={$implicit:o.data,dialogRef:e};o.templateContext&&(s=re(re({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),n.attachTemplatePortal(new _l(t,null,s,a));}else{let a=this._createInjector(o,e,n,this._injector),s=n.attachComponentPortal(new Dd(t,o.viewContainerRef,a));e.componentRef=s,e.componentInstance=s.instance;}}_createInjector(t,e,n,o){let a=t.injector||t.viewContainerRef?.injector,s=[{provide:ose,useValue:t.data},{provide:J0,useValue:e}];return t.providers&&(typeof t.providers=="function"?s.push(...t.providers(e,t,n)):s.push(...t.providers)),t.direction&&(!a||!a.get(gr,null,{optional:!0}))&&s.push({provide:gr,useValue:sse(t.direction)}),tt.create({parent:a||o,providers:s});}_removeOpenDialog(t,e){let n=this.openDialogs.indexOf(t);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden");}),this._ariaHiddenElements.clear(),e&&this._getAfterAllClosed().next()));}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let o=e[n];o!==t&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"));}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function RN(i,r){let t=i.length;for(;t--;)r(i[t]);}var L9=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({providers:[kN],imports:[Ls,Ic,K0,Ic]});}return i;})();function F9(i){return i!=null&&`${i}`!="false";}var lse=new se("MATERIAL_ANIMATIONS");function qi(){return N(lse,{optional:!0})?.animationsDisabled||N(hd,{optional:!0})==="NoopAnimations"?!0:N(Ub).matchMedia("(prefers-reduced-motion)").matches;}var cse=200,nS=class{_letterKeyStream=new xe();_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new xe();selectedItem=this._selectedItem;constructor(r,t){let e=typeof t?.debounceInterval=="number"?t.debounceInterval:cse;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(r),this._setupKeyHandler(e);}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete();}setCurrentSelectedItemIndex(r){this._selectedItemIndex=r;}setItems(r){this._items=r;}handleKey(r){let t=r.keyCode;r.key&&r.key.length===1?this._letterKeyStream.next(r.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t));}isTyping(){return this._pressedLetters.length>0;}reset(){this._pressedLetters=[];}_setupKeyHandler(r){this._letterKeyStream.pipe(rn(t=>this._pressedLetters.push(t)),hg(r),Zt(()=>this._pressedLetters.length>0),me(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let e=1;e<this._items.length+1;e++){let n=(this._selectedItemIndex+e)%this._items.length,o=this._items[n];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break;}}this._pressedLetters=[];});}};var L_=class{_items;_activeItemIndex=$i(-1);_activeItem=$i(null);_wrap=!1;_typeaheadSubscription=ht.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=r=>r.disabled;constructor(r,t){this._items=r,r instanceof uc?this._itemChangesSubscription=r.changes.subscribe(e=>this._itemsChanged(e.toArray())):dd(r)&&(this._effectRef=VP(()=>this._itemsChanged(r()),{injector:t}));}tabOut=new xe();change=new xe();skipPredicate(r){return this._skipPredicateFn=r,this;}withWrap(r=!0){return this._wrap=r,this;}withVerticalOrientation(r=!0){return this._vertical=r,this;}withHorizontalOrientation(r){return this._horizontal=r,this;}withAllowedModifierKeys(r){return this._allowedModifierKeys=r,this;}withTypeAhead(r=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new nS(t,{debounceInterval:typeof r=="number"?r:void 0,skipPredicate:e=>this._skipPredicateFn(e)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(e=>{this.setActiveItem(e);}),this;}cancelTypeahead(){return this._typeahead?.reset(),this;}withHomeAndEnd(r=!0){return this._homeAndEnd=r,this;}withPageUpDown(r=!0,t=10){return this._pageUpAndDown={enabled:r,delta:t},this;}setActiveItem(r){let t=this._activeItem();this.updateActiveItem(r),this._activeItem()!==t&&this.change.next(this._activeItemIndex());}onKeydown(r){let t=r.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!r[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&n){this.setNextItemActive();break;}else return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break;}else return;case 39:if(this._horizontal&&n){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break;}else return;case 37:if(this._horizontal&&n){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break;}else return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break;}else return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break;}else return;case 33:if(this._pageUpAndDown.enabled&&n){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break;}else return;case 34:if(this._pageUpAndDown.enabled&&n){let o=this._activeItemIndex()+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break;}else return;default:(n||Or(r,"shiftKey"))&&this._typeahead?.handleKey(r);return;}this._typeahead?.reset(),r.preventDefault();}get activeItemIndex(){return this._activeItemIndex();}get activeItem(){return this._activeItem();}isTyping(){return!!this._typeahead&&this._typeahead.isTyping();}setFirstItemActive(){this._setActiveItemByIndex(0,1);}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1);}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1);}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1);}updateActiveItem(r){let t=this._getItemsArray(),e=typeof r=="number"?r:t.indexOf(r),n=t[e];this._activeItem.set(n??null),this._activeItemIndex.set(e),this._typeahead?.setCurrentSelectedItemIndex(e);}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete();}_setActiveItemByDelta(r){this._wrap?this._setActiveInWrapMode(r):this._setActiveInDefaultMode(r);}_setActiveInWrapMode(r){let t=this._getItemsArray();for(let e=1;e<=t.length;e++){let n=(this._activeItemIndex()+r*e+t.length)%t.length,o=t[n];if(!this._skipPredicateFn(o)){this.setActiveItem(n);return;}}}_setActiveInDefaultMode(r){this._setActiveItemByIndex(this._activeItemIndex()+r,r);}_setActiveItemByIndex(r,t){let e=this._getItemsArray();if(e[r]){for(;this._skipPredicateFn(e[r]);)if(r+=t,!e[r])return;this.setActiveItem(r);}}_getItemsArray(){return dd(this._items)?this._items():this._items instanceof uc?this._items.toArray():this._items;}_itemsChanged(r){this._typeahead?.setItems(r);let t=this._activeItem();if(t){let e=r.indexOf(t);e>-1&&e!==this._activeItemIndex()&&(this._activeItemIndex.set(e),this._typeahead?.setCurrentSelectedItemIndex(e));}}};var ev=class extends L_{setActiveItem(r){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(r),this.activeItem&&this.activeItem.setActiveStyles();}};var tv=class extends L_{_origin="program";setFocusOrigin(r){return this._origin=r,this;}setActiveItem(r){super.setActiveItem(r),this.activeItem&&this.activeItem.focus(this._origin);}};var z9=" ";function G9(i,r,t){let e=j9(i,r);t=t.trim(),!e.some(n=>n.trim()===t)&&(e.push(t),i.setAttribute(r,e.join(z9)));}function $N(i,r,t){let e=j9(i,r);t=t.trim();let n=e.filter(o=>o!==t);n.length?i.setAttribute(r,n.join(z9)):i.removeAttribute(r);}function j9(i,r){return i.getAttribute(r)?.match(/\S+/g)??[];}var qt=(()=>{class i{constructor(){N(Hb)._applyBodyHighContrastModeCssClasses();}static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[Rd,Rd]});}return i;})();function dse(i,r){}var nv=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration;},LN="mdc-dialog--open",U9="mdc-dialog--opening",W9="mdc-dialog--closing",use=150,pse=75,q9=(()=>{class i extends NN{_animationStateChanged=new ae();_animationsEnabled=!qi();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?H9(this._config.enterAnimationDuration)??use:0;_exitAnimationDuration=this._animationsEnabled?H9(this._config.exitAnimationDuration)??pse:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation();}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(B9,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(U9,LN)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(LN),Promise.resolve().then(()=>this._finishDialogOpen()));}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(LN),this._animationsEnabled?(this._hostElement.style.setProperty(B9,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(W9)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose());}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck();}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration);};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration});};_clearAnimationClasses(){this._hostElement.classList.remove(U9,W9);}_waitForAnimationToComplete(t,e){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(e,t);}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t();});}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus();}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t});}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer);}attachComponentPortal(t){let e=super.attachComponentPortal(t);return e.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),e;}static ɵfac=(()=>{let t;return function(n){return(t||(t=qn(i)))(n||i);};})();static ɵcmp=Z({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(e,n){e&2&&(ja("id",n._config.id),lt("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),vt("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0));},features:[ci],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1),E(2,dse,0,0,"ng-template",2),p()());},dependencies:[Md],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2});}return i;})(),B9="--mat-dialog-transition-duration";function H9(i){return i==null?null:typeof i=="number"?i:i.endsWith("ms")?Y0(i.substring(0,i.length-2)):i.endsWith("s")?Y0(i.substring(0,i.length-1))*1e3:i==="0"?0:null;}var iv=function(i){return i[i.OPEN=0]="OPEN",i[i.CLOSING=1]="CLOSING",i[i.CLOSED=2]="CLOSED",i;}(iv||{}),wt=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new xe();_beforeClosed=new xe();_result;_closeFallbackTimeout;_state=iv.OPEN;_closeInteractionType;constructor(r,t,e){this._ref=r,this._config=t,this._containerInstance=e,this.disableClose=t.disableClose,this.id=r.id,r.addPanelClass("mat-mdc-dialog-panel"),e._animationStateChanged.pipe(Zt(n=>n.state==="opened"),vn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete();}),e._animationStateChanged.pipe(Zt(n=>n.state==="closed"),vn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose();}),r.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose();}),no(this.backdropClick(),this.keydownEvents().pipe(Zt(n=>n.keyCode===27&&!this.disableClose&&!Or(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),Y9(this,n.type==="keydown"?"keyboard":"mouse"));});}close(r){let t=this._config.closePredicate;t&&!t(r,this._config,this.componentInstance)||(this._result=r,this._containerInstance._animationStateChanged.pipe(Zt(e=>e.state==="closing"),vn(1)).subscribe(e=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100);}),this._state=iv.CLOSING,this._containerInstance._startExitAnimation());}afterOpened(){return this._afterOpened;}afterClosed(){return this._ref.closed;}beforeClosed(){return this._beforeClosed;}backdropClick(){return this._ref.backdropClick;}keydownEvents(){return this._ref.keydownEvents;}updatePosition(r){let t=this._ref.config.positionStrategy;return r&&(r.left||r.right)?r.left?t.left(r.left):t.right(r.right):t.centerHorizontally(),r&&(r.top||r.bottom)?r.top?t.top(r.top):t.bottom(r.bottom):t.centerVertically(),this._ref.updatePosition(),this;}updateSize(r="",t=""){return this._ref.updateSize(r,t),this;}addPanelClass(r){return this._ref.addPanelClass(r),this;}removePanelClass(r){return this._ref.removePanelClass(r),this;}getState(){return this._state;}_finishDialogClose(){this._state=iv.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null;}};function Y9(i,r,t){return i._closeInteractionType=r,i.close(t);}var lS=new se("MatMdcDialogData"),X9=new se("mat-mdc-dialog-default-options"),K9=new se("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let i=N(tt);return()=>Np(i);}}),ri=(()=>{class i{_defaultOptions=N(X9,{optional:!0});_scrollStrategy=N(K9);_parentDialog=N(i,{optional:!0,skipSelf:!0});_idGenerator=N(bn);_injector=N(tt);_dialog=N(kN);_animationsDisabled=qi();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new xe();_afterOpenedAtThisLevel=new xe();dialogConfigClass=nv;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel;}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel;}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel;}afterAllClosed=fs(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(nn(void 0)));constructor(){this._dialogRefConstructor=wt,this._dialogContainerType=q9,this._dialogDataToken=lS;}open(t,e){let n;e=re(re({},this._defaultOptions||new nv()),e),e.id=e.id||this._idGenerator.getId("mat-mdc-dialog-"),e.scrollStrategy=e.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(t,rt(re({},e),{positionStrategy:kp(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||e.enterAnimationDuration?.toLocaleString()==="0"||e.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:e},{provide:$d,useValue:e}]},templateContext:()=>({dialogRef:n}),providers:(a,s,l)=>(n=new this._dialogRefConstructor(a,e,l),n.updatePosition(e?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=o.componentRef,n.componentInstance=o.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(n);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next());}),n;}closeAll(){this._closeDialogs(this.openDialogs);}getDialogById(t){return this.openDialogs.find(e=>e.id===t);}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete();}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close();}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var Kn=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[SP([y9])]});}return i;})();var F_=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({providers:[ri],imports:[L9,Ls,Ic,qt,qt]});}return i;})();var cS=(()=>{let r=class r{constructor(e){this.dialogRef=e,this._info={title:"Info",content:void 0};}get info(){return this._info;}set info(e){this._info=e;}};r.ɵfac=function(n){return new(n||r)(k(wt));},r.ɵcmp=Z({type:r,selectors:[["app-info"]],standalone:!1,decls:10,vars:2,consts:()=>{let e;return e="OK",[e,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","confirm"],[1,"vex-dialog-form"],[1,"content"],["mat-dialog-content",""],[1,"dialogbuttons"],["type","button",1,"save",3,"click"]];},template:function(n,o){n&1&&(u(0,"div",1)(1,"div",2)(2,"h5"),T(3),p(),u(4,"div",3)(5,"div",4),T(6),p()(),u(7,"div",5)(8,"button",6),b("click",function(){return o.dialogRef.close("ok");}),P(9,0),p()()()()),n&2&&(c(3),z(o.info.title),c(3),ue(" ",o.info.content," "));},dependencies:[Kn],encapsulation:2});let i=r;return i;})();function mse(){return window;}var Te=(()=>{let r=class r{static get nativeWindow(){return mse();}};r.ɵfac=function(n){return new(n||r)();},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var ye={};$K(ye,{add:()=>V_,after:()=>mS,ary:()=>q_,assign:()=>$r,assignIn:()=>yl,assignInWith:()=>Fs,assignWith:()=>MS,at:()=>PS,attempt:()=>rf,before:()=>of,bind:()=>af,bindAll:()=>RS,bindKey:()=>NS,camelCase:()=>$S,capitalize:()=>sf,castArray:()=>LS,ceil:()=>FS,chain:()=>_f,chunk:()=>VS,clamp:()=>zS,clone:()=>Wo,cloneDeep:()=>Oe,cloneDeepWith:()=>KS,cloneWith:()=>QS,commit:()=>cv,compact:()=>eu,concat:()=>ca,cond:()=>aE,conforms:()=>lE,conformsTo:()=>cE,constant:()=>Gd,countBy:()=>pE,create:()=>mE,curry:()=>_E,curryRight:()=>fE,debounce:()=>Df,deburr:()=>df,default:()=>Bj,defaultTo:()=>hE,defaults:()=>gE,defaultsDeep:()=>vE,defer:()=>yE,delay:()=>bE,difference:()=>SE,differenceBy:()=>EE,differenceWith:()=>TE,divide:()=>IE,drop:()=>xE,dropRight:()=>au,dropRightWhile:()=>AE,dropWhile:()=>wE,each:()=>he,eachRight:()=>lu,endsWith:()=>$c,entries:()=>cu,entriesIn:()=>du,eq:()=>En,escape:()=>Nf,escapeRegExp:()=>PE,every:()=>NE,extend:()=>yl,extendWith:()=>Fs,fill:()=>kE,filter:()=>LE,find:()=>VE,findIndex:()=>da,findKey:()=>GE,findLast:()=>jE,findLastIndex:()=>$f,findLastKey:()=>UE,first:()=>uu,flatMap:()=>BE,flatMapDeep:()=>HE,flatMapDepth:()=>qE,flatten:()=>nf,flattenDeep:()=>YE,flattenDepth:()=>XE,flip:()=>KE,floor:()=>QE,flow:()=>JE,flowRight:()=>eT,forEach:()=>he,forEachRight:()=>lu,forIn:()=>tT,forInRight:()=>iT,forOwn:()=>nT,forOwnRight:()=>rT,fromPairs:()=>oT,functions:()=>aT,functionsIn:()=>sT,get:()=>B,groupBy:()=>lT,gt:()=>cT,gte:()=>dT,has:()=>uT,hasIn:()=>A,head:()=>uu,identity:()=>wi,inRange:()=>pT,includes:()=>Vf,indexOf:()=>Jr,initial:()=>mT,intersection:()=>_T,intersectionBy:()=>fT,intersectionWith:()=>hT,invert:()=>vT,invertBy:()=>CT,invoke:()=>bT,invokeMap:()=>ST,isArguments:()=>jo,isArray:()=>pe,isArrayBuffer:()=>ET,isArrayLike:()=>Ri,isArrayLikeObject:()=>ei,isBoolean:()=>Lc,isBuffer:()=>Zr,isDate:()=>Fc,isElement:()=>TT,isEmpty:()=>Eo,isEqual:()=>Bo,isEqualWith:()=>IT,isError:()=>Kd,isFinite:()=>xT,isFunction:()=>rr,isInteger:()=>jf,isLength:()=>vl,isMap:()=>yf,isMatch:()=>AT,isMatchWith:()=>wT,isNaN:()=>Vc,isNative:()=>DT,isNil:()=>MT,isNull:()=>OT,isNumber:()=>xl,isObject:()=>mt,isObjectLike:()=>Lt,isPlainObject:()=>Uo,isRegExp:()=>_u,isSafeInteger:()=>PT,isSet:()=>bf,isString:()=>Ln,isSymbol:()=>sn,isTypedArray:()=>aa,isUndefined:()=>RT,isWeakMap:()=>NT,isWeakSet:()=>kT,iteratee:()=>$T,join:()=>LT,kebabCase:()=>FT,keyBy:()=>VT,keys:()=>Wt,keysIn:()=>yi,last:()=>mi,lastIndexOf:()=>zT,lodash:()=>F,lowerCase:()=>GT,lowerFirst:()=>jT,lt:()=>UT,lte:()=>WT,map:()=>Tl,mapKeys:()=>Wf,mapValues:()=>BT,matches:()=>HT,matchesProperty:()=>qT,max:()=>YT,maxBy:()=>XT,mean:()=>QT,meanBy:()=>ZT,memoize:()=>ef,merge:()=>zr,mergeWith:()=>Sl,method:()=>JT,methodOf:()=>eI,min:()=>tI,minBy:()=>iI,mixin:()=>Hf,multiply:()=>nI,negate:()=>Vs,next:()=>pv,noop:()=>Vd,now:()=>ou,nth:()=>oI,nthArg:()=>aI,omit:()=>sI,omitBy:()=>cI,once:()=>dI,orderBy:()=>mI,over:()=>_I,overArgs:()=>fI,overEvery:()=>hI,overSome:()=>gI,pad:()=>vI,padEnd:()=>CI,padStart:()=>yI,parseInt:()=>To,partial:()=>Kf,partialRight:()=>bI,partition:()=>SI,pick:()=>EI,pickBy:()=>ua,plant:()=>_v,property:()=>Af,propertyOf:()=>TI,pull:()=>II,pullAll:()=>Zf,pullAllBy:()=>xI,pullAllWith:()=>AI,pullAt:()=>DI,random:()=>MI,range:()=>PI,rangeRight:()=>RI,rearg:()=>NI,reduce:()=>$I,reduceRight:()=>LI,reject:()=>FI,remove:()=>hu,repeat:()=>VI,replace:()=>Pn,rest:()=>zI,result:()=>GI,reverse:()=>zp,round:()=>eh,sample:()=>UI,sampleSize:()=>WI,set:()=>Ue,setWith:()=>BI,shuffle:()=>HI,size:()=>dn,slice:()=>qI,snakeCase:()=>YI,some:()=>XI,sortBy:()=>KI,sortedIndex:()=>QI,sortedIndexBy:()=>ZI,sortedIndexOf:()=>JI,sortedLastIndex:()=>ex,sortedLastIndexBy:()=>tx,sortedLastIndexOf:()=>ix,sortedUniq:()=>rx,sortedUniqBy:()=>ox,split:()=>Cu,spread:()=>ax,startCase:()=>sx,startsWith:()=>ih,stubArray:()=>Zd,stubFalse:()=>Wd,stubObject:()=>lx,stubString:()=>cx,stubTrue:()=>dx,subtract:()=>ux,sum:()=>px,sumBy:()=>mx,tail:()=>_x,take:()=>fx,takeRight:()=>hx,takeRightWhile:()=>gx,takeWhile:()=>vx,tap:()=>Cx,template:()=>Sx,templateSettings:()=>Gp,throttle:()=>Ex,thru:()=>zs,times:()=>Tx,toArray:()=>qf,toFinite:()=>ho,toInteger:()=>Ve,toIterator:()=>fv,toJSON:()=>pa,toLength:()=>kf,toLower:()=>xx,toNumber:()=>$n,toPairs:()=>cu,toPairsIn:()=>du,toPath:()=>Ax,toPlainObject:()=>Mf,toSafeInteger:()=>wx,toString:()=>ft,toUpper:()=>Dx,transform:()=>nh,trim:()=>Px,trimEnd:()=>Rx,trimStart:()=>Nx,truncate:()=>kx,unary:()=>$x,unescape:()=>Lx,union:()=>Fx,unionBy:()=>Vx,unionWith:()=>zx,uniq:()=>zc,uniqBy:()=>Gx,uniqWith:()=>rh,uniqueId:()=>jx,unset:()=>oh,unzip:()=>yu,unzipWith:()=>ah,update:()=>Wx,updateWith:()=>Bx,upperCase:()=>Hx,upperFirst:()=>Qd,value:()=>pa,valueOf:()=>pa,values:()=>di,valuesIn:()=>qx,without:()=>Yx,words:()=>pf,wrap:()=>Xx,wrapperAt:()=>Kx,wrapperChain:()=>Qx,wrapperCommit:()=>cv,wrapperLodash:()=>F,wrapperNext:()=>pv,wrapperPlant:()=>_v,wrapperReverse:()=>Zx,wrapperToIterator:()=>fv,wrapperValue:()=>pa,xor:()=>Jx,xorBy:()=>eA,xorWith:()=>tA,zip:()=>iA,zipObject:()=>rA,zipObjectDeep:()=>oA,zipWith:()=>aA});var _se=typeof global=="object"&&global&&global.Object===Object&&global,dS=_se;var fse=typeof self=="object"&&self&&self.Object===Object&&self,hse=dS||fse||Function("return this")(),oi=hse;var gse=oi.Symbol,Sn=gse;var Q9=Object.prototype,vse=Q9.hasOwnProperty,Cse=Q9.toString,rv=Sn?Sn.toStringTag:void 0;function yse(i){var r=vse.call(i,rv),t=i[rv];try{i[rv]=void 0;var e=!0;}catch{}var n=Cse.call(i);return e&&(r?i[rv]=t:delete i[rv]),n;}var Z9=yse;var bse=Object.prototype,Sse=bse.toString;function Ese(i){return Sse.call(i);}var J9=Ese;var Tse="[object Null]",Ise="[object Undefined]",e7=Sn?Sn.toStringTag:void 0;function xse(i){return i==null?i===void 0?Ise:Tse:e7&&e7 in Object(i)?Z9(i):J9(i);}var Li=xse;function Ase(i){return i!=null&&typeof i=="object";}var Lt=Ase;var wse="[object Symbol]";function Dse(i){return typeof i=="symbol"||Lt(i)&&Li(i)==wse;}var sn=Dse;var Mse=NaN;function Ose(i){return typeof i=="number"?i:sn(i)?Mse:+i;}var FN=Ose;function Pse(i,r){for(var t=-1,e=i==null?0:i.length,n=Array(e);++t<e;)n[t]=r(i[t],t,i);return n;}var Ft=Pse;var Rse=Array.isArray,pe=Rse;var Nse=1/0,t7=Sn?Sn.prototype:void 0,i7=t7?t7.toString:void 0;function n7(i){if(typeof i=="string")return i;if(pe(i))return Ft(i,n7)+"";if(sn(i))return i7?i7.call(i):"";var r=i+"";return r=="0"&&1/i==-Nse?"-0":r;}var kn=n7;function kse(i,r){return function(t,e){var n;if(t===void 0&&e===void 0)return r;if(t!==void 0&&(n=t),e!==void 0){if(n===void 0)return e;typeof t=="string"||typeof e=="string"?(t=kn(t),e=kn(e)):(t=FN(t),e=FN(e)),n=i(t,e);}return n;};}var Ld=kse;var $se=Ld(function(i,r){return i+r;},0),V_=$se;var Lse=/\s/;function Fse(i){for(var r=i.length;r--&&Lse.test(i.charAt(r)););return r;}var uS=Fse;var Vse=/^\s+/;function zse(i){return i&&i.slice(0,uS(i)+1).replace(Vse,"");}var pS=zse;function Gse(i){var r=typeof i;return i!=null&&(r=="object"||r=="function");}var mt=Gse;var r7=NaN,jse=/^[-+]0x[0-9a-f]+$/i,Use=/^0b[01]+$/i,Wse=/^0o[0-7]+$/i,Bse=parseInt;function Hse(i){if(typeof i=="number")return i;if(sn(i))return r7;if(mt(i)){var r=typeof i.valueOf=="function"?i.valueOf():i;i=mt(r)?r+"":r;}if(typeof i!="string")return i===0?i:+i;i=pS(i);var t=Use.test(i);return t||Wse.test(i)?Bse(i.slice(2),t?2:8):jse.test(i)?r7:+i;}var $n=Hse;var o7=1/0,qse=17976931348623157e292;function Yse(i){if(!i)return i===0?i:0;if(i=$n(i),i===o7||i===-o7){var r=i<0?-1:1;return r*qse;}return i===i?i:0;}var ho=Yse;function Xse(i){var r=ho(i),t=r%1;return r===r?t?r-t:r:0;}var Ve=Xse;var Kse="Expected a function";function Qse(i,r){if(typeof r!="function")throw new TypeError(Kse);return i=Ve(i),function(){if(--i<1)return r.apply(this,arguments);};}var mS=Qse;function Zse(i){return i;}var wi=Zse;var Jse="[object AsyncFunction]",ele="[object Function]",tle="[object GeneratorFunction]",ile="[object Proxy]";function nle(i){if(!mt(i))return!1;var r=Li(i);return r==ele||r==tle||r==Jse||r==ile;}var rr=nle;var rle=oi["__core-js_shared__"],z_=rle;var a7=function(){var i=/[^.]+$/.exec(z_&&z_.keys&&z_.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:"";}();function ole(i){return!!a7&&a7 in i;}var s7=ole;var ale=Function.prototype,sle=ale.toString;function lle(i){if(i!=null){try{return sle.call(i);}catch{}try{return i+"";}catch{}}return"";}var Pc=lle;var cle=/[\\^$.*+?()[\]{}|]/g,dle=/^\[object .+?Constructor\]$/,ule=Function.prototype,ple=Object.prototype,mle=ule.toString,_le=ple.hasOwnProperty,fle=RegExp("^"+mle.call(_le).replace(cle,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hle(i){if(!mt(i)||s7(i))return!1;var r=rr(i)?fle:dle;return r.test(Pc(i));}var _S=hle;function gle(i,r){return i?.[r];}var l7=gle;function vle(i,r){var t=l7(i,r);return _S(t)?t:void 0;}var oa=vle;var Cle=oa(oi,"WeakMap"),$p=Cle;var yle=$p&&new $p(),G_=yle;var ble=G_?function(i,r){return G_.set(i,r),i;}:wi,fS=ble;var c7=Object.create,Sle=function(){function i(){}return function(r){if(!mt(r))return{};if(c7)return c7(r);i.prototype=r;var t=new i();return i.prototype=void 0,t;};}(),Ba=Sle;function Ele(i){return function(){var r=arguments;switch(r.length){case 0:return new i();case 1:return new i(r[0]);case 2:return new i(r[0],r[1]);case 3:return new i(r[0],r[1],r[2]);case 4:return new i(r[0],r[1],r[2],r[3]);case 5:return new i(r[0],r[1],r[2],r[3],r[4]);case 6:return new i(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new i(r[0],r[1],r[2],r[3],r[4],r[5],r[6]);}var t=Ba(i.prototype),e=i.apply(t,r);return mt(e)?e:t;};}var Rc=Ele;var Tle=1;function Ile(i,r,t){var e=r&Tle,n=Rc(i);function o(){var a=this&&this!==oi&&this instanceof o?n:i;return a.apply(e?t:this,arguments);}return o;}var d7=Ile;function xle(i,r,t){switch(t.length){case 0:return i.call(r);case 1:return i.call(r,t[0]);case 2:return i.call(r,t[0],t[1]);case 3:return i.call(r,t[0],t[1],t[2]);}return i.apply(r,t);}var mn=xle;var Ale=Math.max;function wle(i,r,t,e){for(var n=-1,o=i.length,a=t.length,s=-1,l=r.length,_=Ale(o-a,0),f=Array(l+_),g=!e;++s<l;)f[s]=r[s];for(;++n<a;)(g||n<o)&&(f[t[n]]=i[n]);for(;_--;)f[s++]=i[n++];return f;}var hS=wle;var Dle=Math.max;function Mle(i,r,t,e){for(var n=-1,o=i.length,a=-1,s=t.length,l=-1,_=r.length,f=Dle(o-s,0),g=Array(f+_),S=!e;++n<f;)g[n]=i[n];for(var x=n;++l<_;)g[x+l]=r[l];for(;++a<s;)(S||n<o)&&(g[x+t[a]]=i[n++]);return g;}var gS=Mle;function Ole(i,r){for(var t=i.length,e=0;t--;)i[t]===r&&++e;return e;}var u7=Ole;function Ple(){}var Fd=Ple;var Rle=4294967295;function vS(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Rle,this.__views__=[];}vS.prototype=Ba(Fd.prototype);vS.prototype.constructor=vS;var Ut=vS;function Nle(){}var Vd=Nle;var kle=G_?function(i){return G_.get(i);}:Vd,j_=kle;var $le={},zd=$le;var Lle=Object.prototype,Fle=Lle.hasOwnProperty;function Vle(i){for(var r=i.name+"",t=zd[r],e=Fle.call(zd,r)?t.length:0;e--;){var n=t[e],o=n.func;if(o==null||o==i)return n.name;}return r;}var U_=Vle;function CS(i,r){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0;}CS.prototype=Ba(Fd.prototype);CS.prototype.constructor=CS;var go=CS;function zle(i,r){var t=-1,e=i.length;for(r||(r=Array(e));++t<e;)r[t]=i[t];return r;}var ln=zle;function Gle(i){if(i instanceof Ut)return i.clone();var r=new go(i.__wrapped__,i.__chain__);return r.__actions__=ln(i.__actions__),r.__index__=i.__index__,r.__values__=i.__values__,r;}var yS=Gle;var jle=Object.prototype,Ule=jle.hasOwnProperty;function bS(i){if(Lt(i)&&!pe(i)&&!(i instanceof Ut)){if(i instanceof go)return i;if(Ule.call(i,"__wrapped__"))return yS(i);}return new go(i);}bS.prototype=Fd.prototype;bS.prototype.constructor=bS;var F=bS;function Wle(i){var r=U_(i),t=F[r];if(typeof t!="function"||!(r in Ut.prototype))return!1;if(i===t)return!0;var e=j_(t);return!!e&&i===e[0];}var ov=Wle;var Ble=800,Hle=16,qle=Date.now;function Yle(i){var r=0,t=0;return function(){var e=qle(),n=Hle-(e-t);if(t=e,n>0){if(++r>=Ble)return arguments[0];}else r=0;return i.apply(void 0,arguments);};}var SS=Yle;var Xle=SS(fS),ES=Xle;var Kle=/\{\n\/\* \[wrapped with (.+)\] \*/,Qle=/,? & /;function Zle(i){var r=i.match(Kle);return r?r[1].split(Qle):[];}var p7=Zle;var Jle=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function ece(i,r){var t=r.length;if(!t)return i;var e=t-1;return r[e]=(t>1?"& ":"")+r[e],r=r.join(t>2?", ":" "),i.replace(Jle,`{
/* [wrapped with `+r+`] */
`);}var m7=ece;function tce(i){return function(){return i;};}var Gd=tce;var ice=function(){try{var i=oa(Object,"defineProperty");return i({},"",{}),i;}catch{}}(),W_=ice;var nce=W_?function(i,r){return W_(i,"toString",{configurable:!0,enumerable:!1,value:Gd(r),writable:!0});}:wi,_7=nce;var rce=SS(_7),B_=rce;function oce(i,r){for(var t=-1,e=i==null?0:i.length;++t<e&&r(i[t],t,i)!==!1;);return i;}var vr=oce;function ace(i,r,t,e){for(var n=i.length,o=t+(e?1:-1);e?o--:++o<n;)if(r(i[o],o,i))return o;return-1;}var jd=ace;function sce(i){return i!==i;}var TS=sce;function lce(i,r,t){for(var e=t-1,n=i.length;++e<n;)if(i[e]===r)return e;return-1;}var f7=lce;function cce(i,r,t){return r===r?f7(i,r,t):jd(i,TS,t);}var Ha=cce;function dce(i,r){var t=i==null?0:i.length;return!!t&&Ha(i,r,0)>-1;}var Ud=dce;var uce=1,pce=2,mce=8,_ce=16,fce=32,hce=64,gce=128,vce=256,Cce=512,yce=[["ary",gce],["bind",uce],["bindKey",pce],["curry",mce],["curryRight",_ce],["flip",Cce],["partial",fce],["partialRight",hce],["rearg",vce]];function bce(i,r){return vr(yce,function(t){var e="_."+t[0];r&t[1]&&!Ud(i,e)&&i.push(e);}),i.sort();}var h7=bce;function Sce(i,r,t){var e=r+"";return B_(i,m7(e,h7(p7(e),t)));}var IS=Sce;var Ece=1,Tce=2,Ice=4,xce=8,g7=32,v7=64;function Ace(i,r,t,e,n,o,a,s,l,_){var f=r&xce,g=f?a:void 0,S=f?void 0:a,x=f?o:void 0,D=f?void 0:o;r|=f?g7:v7,r&=~(f?v7:g7),r&Ice||(r&=~(Ece|Tce));var R=[i,r,n,x,g,D,S,s,l,_],j=t.apply(void 0,R);return ov(i)&&ES(j,R),j.placeholder=e,IS(j,i,r);}var xS=Ace;function wce(i){var r=i;return r.placeholder;}var qa=wce;var Dce=9007199254740991,Mce=/^(?:0|[1-9]\d*)$/;function Oce(i,r){var t=typeof i;return r=r??Dce,!!r&&(t=="number"||t!="symbol"&&Mce.test(i))&&i>-1&&i%1==0&&i<r;}var Pr=Oce;var Pce=Math.min;function Rce(i,r){for(var t=i.length,e=Pce(r.length,t),n=ln(i);e--;){var o=r[e];i[e]=Pr(o,t)?n[o]:void 0;}return i;}var C7=Rce;var y7="__lodash_placeholder__";function Nce(i,r){for(var t=-1,e=i.length,n=0,o=[];++t<e;){var a=i[t];(a===r||a===y7)&&(i[t]=y7,o[n++]=t);}return o;}var Go=Nce;var kce=1,$ce=2,Lce=8,Fce=16,Vce=128,zce=512;function b7(i,r,t,e,n,o,a,s,l,_){var f=r&Vce,g=r&kce,S=r&$ce,x=r&(Lce|Fce),D=r&zce,R=S?void 0:Rc(i);function j(){for(var V=arguments.length,ie=Array(V),_e=V;_e--;)ie[_e]=arguments[_e];if(x)var oe=qa(j),Ne=u7(ie,oe);if(e&&(ie=hS(ie,e,n,x)),o&&(ie=gS(ie,o,a,x)),V-=Ne,x&&V<_){var Ce=Go(ie,oe);return xS(i,r,b7,j.placeholder,t,ie,Ce,s,l,_-V);}var Ge=g?t:this,dt=S?Ge[i]:i;return V=ie.length,s?ie=C7(ie,s):D&&V>1&&ie.reverse(),f&&l<V&&(ie.length=l),this&&this!==oi&&this instanceof j&&(dt=R||Rc(dt)),dt.apply(Ge,ie);}return j;}var H_=b7;function Gce(i,r,t){var e=Rc(i);function n(){for(var o=arguments.length,a=Array(o),s=o,l=qa(n);s--;)a[s]=arguments[s];var _=o<3&&a[0]!==l&&a[o-1]!==l?[]:Go(a,l);if(o-=_.length,o<t)return xS(i,r,H_,n.placeholder,void 0,a,_,void 0,void 0,t-o);var f=this&&this!==oi&&this instanceof n?e:i;return mn(f,this,a);}return n;}var S7=Gce;var jce=1;function Uce(i,r,t,e){var n=r&jce,o=Rc(i);function a(){for(var s=-1,l=arguments.length,_=-1,f=e.length,g=Array(f+l),S=this&&this!==oi&&this instanceof a?o:i;++_<f;)g[_]=e[_];for(;l--;)g[_++]=arguments[++s];return mn(S,n?t:this,g);}return a;}var E7=Uce;var T7="__lodash_placeholder__",VN=1,Wce=2,Bce=4,I7=8,av=128,x7=256,Hce=Math.min;function qce(i,r){var t=i[1],e=r[1],n=t|e,o=n<(VN|Wce|av),a=e==av&&t==I7||e==av&&t==x7&&i[7].length<=r[8]||e==(av|x7)&&r[7].length<=r[8]&&t==I7;if(!(o||a))return i;e&VN&&(i[2]=r[2],n|=t&VN?0:Bce);var s=r[3];if(s){var l=i[3];i[3]=l?hS(l,s,r[4]):s,i[4]=l?Go(i[3],T7):r[4];}return s=r[5],s&&(l=i[5],i[5]=l?gS(l,s,r[6]):s,i[6]=l?Go(i[5],T7):r[6]),s=r[7],s&&(i[7]=s),e&av&&(i[8]=i[8]==null?r[8]:Hce(i[8],r[8])),i[9]==null&&(i[9]=r[9]),i[0]=r[0],i[1]=n,i;}var A7=qce;var Yce="Expected a function",w7=1,Xce=2,zN=8,GN=16,jN=32,D7=64,M7=Math.max;function Kce(i,r,t,e,n,o,a,s){var l=r&Xce;if(!l&&typeof i!="function")throw new TypeError(Yce);var _=e?e.length:0;if(_||(r&=~(jN|D7),e=n=void 0),a=a===void 0?a:M7(Ve(a),0),s=s===void 0?s:Ve(s),_-=n?n.length:0,r&D7){var f=e,g=n;e=n=void 0;}var S=l?void 0:j_(i),x=[i,r,t,e,n,f,g,o,a,s];if(S&&A7(x,S),i=x[0],r=x[1],t=x[2],e=x[3],n=x[4],s=x[9]=x[9]===void 0?l?0:i.length:M7(x[9]-_,0),!s&&r&(zN|GN)&&(r&=~(zN|GN)),!r||r==w7)var D=d7(i,r,t);else r==zN||r==GN?D=S7(i,r,s):(r==jN||r==(w7|jN))&&!n.length?D=E7(i,r,t,e):D=H_.apply(void 0,x);var R=S?fS:ES;return IS(R(D,x),i,r);}var Rr=Kce;var Qce=128;function Zce(i,r,t){return r=t?void 0:r,r=i&&r==null?i.length:r,Rr(i,Qce,void 0,void 0,void 0,void 0,r);}var q_=Zce;function Jce(i,r,t){r=="__proto__"&&W_?W_(i,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):i[r]=t;}var Nr=Jce;function ede(i,r){return i===r||i!==i&&r!==r;}var En=ede;var tde=Object.prototype,ide=tde.hasOwnProperty;function nde(i,r,t){var e=i[r];(!(ide.call(i,r)&&En(e,t))||t===void 0&&!(r in i))&&Nr(i,r,t);}var gl=nde;function rde(i,r,t,e){var n=!t;t||(t={});for(var o=-1,a=r.length;++o<a;){var s=r[o],l=e?e(t[s],i[s],s,t,i):void 0;l===void 0&&(l=i[s]),n?Nr(t,s,l):gl(t,s,l);}return t;}var or=rde;var O7=Math.max;function ode(i,r,t){return r=O7(r===void 0?i.length-1:r,0),function(){for(var e=arguments,n=-1,o=O7(e.length-r,0),a=Array(o);++n<o;)a[n]=e[r+n];n=-1;for(var s=Array(r+1);++n<r;)s[n]=e[n];return s[r]=t(a),mn(i,this,s);};}var AS=ode;function ade(i,r){return B_(AS(i,r,wi),i+"");}var je=ade;var sde=9007199254740991;function lde(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=sde;}var vl=lde;function cde(i){return i!=null&&vl(i.length)&&!rr(i);}var Ri=cde;function dde(i,r,t){if(!mt(t))return!1;var e=typeof r;return(e=="number"?Ri(t)&&Pr(r,t.length):e=="string"&&r in t)?En(t[r],i):!1;}var Fi=dde;function ude(i){return je(function(r,t){var e=-1,n=t.length,o=n>1?t[n-1]:void 0,a=n>2?t[2]:void 0;for(o=i.length>3&&typeof o=="function"?(n--,o):void 0,a&&Fi(t[0],t[1],a)&&(o=n<3?void 0:o,n=1),r=Object(r);++e<n;){var s=t[e];s&&i(r,s,e,o);}return r;});}var Ya=ude;var pde=Object.prototype;function mde(i){var r=i&&i.constructor,t=typeof r=="function"&&r.prototype||pde;return i===t;}var Cl=mde;function _de(i,r){for(var t=-1,e=Array(i);++t<i;)e[t]=r(t);return e;}var Y_=_de;var fde="[object Arguments]";function hde(i){return Lt(i)&&Li(i)==fde;}var UN=hde;var P7=Object.prototype,gde=P7.hasOwnProperty,vde=P7.propertyIsEnumerable,Cde=UN(function(){return arguments;}())?UN:function(i){return Lt(i)&&gde.call(i,"callee")&&!vde.call(i,"callee");},jo=Cde;function yde(){return!1;}var Wd=yde;var k7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,R7=k7&&typeof module=="object"&&module&&!module.nodeType&&module,bde=R7&&R7.exports===k7,N7=bde?oi.Buffer:void 0,Sde=N7?N7.isBuffer:void 0,Ede=Sde||Wd,Zr=Ede;var Tde="[object Arguments]",Ide="[object Array]",xde="[object Boolean]",Ade="[object Date]",wde="[object Error]",Dde="[object Function]",Mde="[object Map]",Ode="[object Number]",Pde="[object Object]",Rde="[object RegExp]",Nde="[object Set]",kde="[object String]",$de="[object WeakMap]",Lde="[object ArrayBuffer]",Fde="[object DataView]",Vde="[object Float32Array]",zde="[object Float64Array]",Gde="[object Int8Array]",jde="[object Int16Array]",Ude="[object Int32Array]",Wde="[object Uint8Array]",Bde="[object Uint8ClampedArray]",Hde="[object Uint16Array]",qde="[object Uint32Array]",_n={};_n[Vde]=_n[zde]=_n[Gde]=_n[jde]=_n[Ude]=_n[Wde]=_n[Bde]=_n[Hde]=_n[qde]=!0;_n[Tde]=_n[Ide]=_n[Lde]=_n[xde]=_n[Fde]=_n[Ade]=_n[wde]=_n[Dde]=_n[Mde]=_n[Ode]=_n[Pde]=_n[Rde]=_n[Nde]=_n[kde]=_n[$de]=!1;function Yde(i){return Lt(i)&&vl(i.length)&&!!_n[Li(i)];}var $7=Yde;function Xde(i){return function(r){return i(r);};}var fn=Xde;var L7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sv=L7&&typeof module=="object"&&module&&!module.nodeType&&module,Kde=sv&&sv.exports===L7,WN=Kde&&dS.process,Qde=function(){try{var i=sv&&sv.require&&sv.require("util").types;return i||WN&&WN.binding&&WN.binding("util");}catch{}}(),kr=Qde;var F7=kr&&kr.isTypedArray,Zde=F7?fn(F7):$7,aa=Zde;var Jde=Object.prototype,eue=Jde.hasOwnProperty;function tue(i,r){var t=pe(i),e=!t&&jo(i),n=!t&&!e&&Zr(i),o=!t&&!e&&!n&&aa(i),a=t||e||n||o,s=a?Y_(i.length,String):[],l=s.length;for(var _ in i)(r||eue.call(i,_))&&!(a&&(_=="length"||n&&(_=="offset"||_=="parent")||o&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||Pr(_,l)))&&s.push(_);return s;}var wS=tue;function iue(i,r){return function(t){return i(r(t));};}var DS=iue;var nue=DS(Object.keys,Object),V7=nue;var rue=Object.prototype,oue=rue.hasOwnProperty;function aue(i){if(!Cl(i))return V7(i);var r=[];for(var t in Object(i))oue.call(i,t)&&t!="constructor"&&r.push(t);return r;}var X_=aue;function sue(i){return Ri(i)?wS(i):X_(i);}var Wt=sue;var lue=Object.prototype,cue=lue.hasOwnProperty,due=Ya(function(i,r){if(Cl(r)||Ri(r)){or(r,Wt(r),i);return;}for(var t in r)cue.call(r,t)&&gl(i,t,r[t]);}),$r=due;function uue(i){var r=[];if(i!=null)for(var t in Object(i))r.push(t);return r;}var z7=uue;var pue=Object.prototype,mue=pue.hasOwnProperty;function _ue(i){if(!mt(i))return z7(i);var r=Cl(i),t=[];for(var e in i)e=="constructor"&&(r||!mue.call(i,e))||t.push(e);return t;}var G7=_ue;function fue(i){return Ri(i)?wS(i,!0):G7(i);}var yi=fue;var hue=Ya(function(i,r){or(r,yi(r),i);}),yl=hue;var gue=Ya(function(i,r,t,e){or(r,yi(r),i,e);}),Fs=gue;var vue=Ya(function(i,r,t,e){or(r,Wt(r),i,e);}),MS=vue;var Cue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yue=/^\w*$/;function bue(i,r){if(pe(i))return!1;var t=typeof i;return t=="number"||t=="symbol"||t=="boolean"||i==null||sn(i)?!0:yue.test(i)||!Cue.test(i)||r!=null&&i in Object(r);}var K_=bue;var Sue=oa(Object,"create"),Nc=Sue;function Eue(){this.__data__=Nc?Nc(null):{},this.size=0;}var j7=Eue;function Tue(i){var r=this.has(i)&&delete this.__data__[i];return this.size-=r?1:0,r;}var U7=Tue;var Iue="__lodash_hash_undefined__",xue=Object.prototype,Aue=xue.hasOwnProperty;function wue(i){var r=this.__data__;if(Nc){var t=r[i];return t===Iue?void 0:t;}return Aue.call(r,i)?r[i]:void 0;}var W7=wue;var Due=Object.prototype,Mue=Due.hasOwnProperty;function Oue(i){var r=this.__data__;return Nc?r[i]!==void 0:Mue.call(r,i);}var B7=Oue;var Pue="__lodash_hash_undefined__";function Rue(i,r){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=Nc&&r===void 0?Pue:r,this;}var H7=Rue;function Q_(i){var r=-1,t=i==null?0:i.length;for(this.clear();++r<t;){var e=i[r];this.set(e[0],e[1]);}}Q_.prototype.clear=j7;Q_.prototype.delete=U7;Q_.prototype.get=W7;Q_.prototype.has=B7;Q_.prototype.set=H7;var BN=Q_;function Nue(){this.__data__=[],this.size=0;}var q7=Nue;function kue(i,r){for(var t=i.length;t--;)if(En(i[t][0],r))return t;return-1;}var Bd=kue;var $ue=Array.prototype,Lue=$ue.splice;function Fue(i){var r=this.__data__,t=Bd(r,i);if(t<0)return!1;var e=r.length-1;return t==e?r.pop():Lue.call(r,t,1),--this.size,!0;}var Y7=Fue;function Vue(i){var r=this.__data__,t=Bd(r,i);return t<0?void 0:r[t][1];}var X7=Vue;function zue(i){return Bd(this.__data__,i)>-1;}var K7=zue;function Gue(i,r){var t=this.__data__,e=Bd(t,i);return e<0?(++this.size,t.push([i,r])):t[e][1]=r,this;}var Q7=Gue;function Z_(i){var r=-1,t=i==null?0:i.length;for(this.clear();++r<t;){var e=i[r];this.set(e[0],e[1]);}}Z_.prototype.clear=q7;Z_.prototype.delete=Y7;Z_.prototype.get=X7;Z_.prototype.has=K7;Z_.prototype.set=Q7;var Hd=Z_;var jue=oa(oi,"Map"),qd=jue;function Uue(){this.size=0,this.__data__={hash:new BN(),map:new(qd||Hd)(),string:new BN()};}var Z7=Uue;function Wue(i){var r=typeof i;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?i!=="__proto__":i===null;}var J7=Wue;function Bue(i,r){var t=i.__data__;return J7(r)?t[typeof r=="string"?"string":"hash"]:t.map;}var Yd=Bue;function Hue(i){var r=Yd(this,i).delete(i);return this.size-=r?1:0,r;}var ez=Hue;function que(i){return Yd(this,i).get(i);}var tz=que;function Yue(i){return Yd(this,i).has(i);}var iz=Yue;function Xue(i,r){var t=Yd(this,i),e=t.size;return t.set(i,r),this.size+=t.size==e?0:1,this;}var nz=Xue;function J_(i){var r=-1,t=i==null?0:i.length;for(this.clear();++r<t;){var e=i[r];this.set(e[0],e[1]);}}J_.prototype.clear=Z7;J_.prototype.delete=ez;J_.prototype.get=tz;J_.prototype.has=iz;J_.prototype.set=nz;var Lp=J_;var Kue="Expected a function";function HN(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError(Kue);var t=function(){var e=arguments,n=r?r.apply(this,e):e[0],o=t.cache;if(o.has(n))return o.get(n);var a=i.apply(this,e);return t.cache=o.set(n,a)||o,a;};return t.cache=new(HN.Cache||Lp)(),t;}HN.Cache=Lp;var ef=HN;var Que=500;function Zue(i){var r=ef(i,function(e){return t.size===Que&&t.clear(),e;}),t=r.cache;return r;}var rz=Zue;var Jue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,epe=/\\(\\)?/g,tpe=rz(function(i){var r=[];return i.charCodeAt(0)===46&&r.push(""),i.replace(Jue,function(t,e,n,o){r.push(n?o.replace(epe,"$1"):e||t);}),r;}),OS=tpe;function ipe(i){return i==null?"":kn(i);}var ft=ipe;function npe(i,r){return pe(i)?i:K_(i,r)?[i]:OS(ft(i));}var vo=npe;var rpe=1/0;function ope(i){if(typeof i=="string"||sn(i))return i;var r=i+"";return r=="0"&&1/i==-rpe?"-0":r;}var ar=ope;function ape(i,r){r=vo(r,i);for(var t=0,e=r.length;i!=null&&t<e;)i=i[ar(r[t++])];return t&&t==e?i:void 0;}var sa=ape;function spe(i,r,t){var e=i==null?void 0:sa(i,r);return e===void 0?t:e;}var B=spe;function lpe(i,r){for(var t=-1,e=r.length,n=Array(e),o=i==null;++t<e;)n[t]=o?void 0:B(i,r[t]);return n;}var tf=lpe;function cpe(i,r){for(var t=-1,e=r.length,n=i.length;++t<e;)i[n+t]=r[t];return i;}var Co=cpe;var oz=Sn?Sn.isConcatSpreadable:void 0;function dpe(i){return pe(i)||jo(i)||!!(oz&&i&&i[oz]);}var az=dpe;function sz(i,r,t,e,n){var o=-1,a=i.length;for(t||(t=az),n||(n=[]);++o<a;){var s=i[o];r>0&&t(s)?r>1?sz(s,r-1,t,e,n):Co(n,s):e||(n[n.length]=s);}return n;}var bi=sz;function upe(i){var r=i==null?0:i.length;return r?bi(i,1):[];}var nf=upe;function ppe(i){return B_(AS(i,void 0,nf),i+"");}var Lr=ppe;var mpe=Lr(tf),PS=mpe;var _pe=DS(Object.getPrototypeOf,Object),Xd=_pe;var fpe="[object Object]",hpe=Function.prototype,gpe=Object.prototype,lz=hpe.toString,vpe=gpe.hasOwnProperty,Cpe=lz.call(Object);function ype(i){if(!Lt(i)||Li(i)!=fpe)return!1;var r=Xd(i);if(r===null)return!0;var t=vpe.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&lz.call(t)==Cpe;}var Uo=ype;var bpe="[object DOMException]",Spe="[object Error]";function Epe(i){if(!Lt(i))return!1;var r=Li(i);return r==Spe||r==bpe||typeof i.message=="string"&&typeof i.name=="string"&&!Uo(i);}var Kd=Epe;var Tpe=je(function(i,r){try{return mn(i,void 0,r);}catch(t){return Kd(t)?t:new Error(t);}}),rf=Tpe;var Ipe="Expected a function";function xpe(i,r){var t;if(typeof r!="function")throw new TypeError(Ipe);return i=Ve(i),function(){return--i>0&&(t=r.apply(this,arguments)),i<=1&&(r=void 0),t;};}var of=xpe;var Ape=1,wpe=32,qN=je(function(i,r,t){var e=Ape;if(t.length){var n=Go(t,qa(qN));e|=wpe;}return Rr(i,e,r,t,n);});qN.placeholder={};var af=qN;var Dpe=Lr(function(i,r){return vr(r,function(t){t=ar(t),Nr(i,t,af(i[t],i));}),i;}),RS=Dpe;var Mpe=1,Ope=2,Ppe=32,YN=je(function(i,r,t){var e=Mpe|Ope;if(t.length){var n=Go(t,qa(YN));e|=Ppe;}return Rr(r,e,i,t,n);});YN.placeholder={};var NS=YN;function Rpe(i,r,t){var e=-1,n=i.length;r<0&&(r=-r>n?0:n+r),t=t>n?n:t,t<0&&(t+=n),n=r>t?0:t-r>>>0,r>>>=0;for(var o=Array(n);++e<n;)o[e]=i[e+r];return o;}var On=Rpe;function Npe(i,r,t){var e=i.length;return t=t===void 0?e:t,!r&&t>=e?i:On(i,r,t);}var yo=Npe;var kpe="\\ud800-\\udfff",$pe="\\u0300-\\u036f",Lpe="\\ufe20-\\ufe2f",Fpe="\\u20d0-\\u20ff",Vpe=$pe+Lpe+Fpe,zpe="\\ufe0e\\ufe0f",Gpe="\\u200d",jpe=RegExp("["+Gpe+kpe+Vpe+zpe+"]");function Upe(i){return jpe.test(i);}var Xa=Upe;function Wpe(i){return i.split("");}var cz=Wpe;var dz="\\ud800-\\udfff",Bpe="\\u0300-\\u036f",Hpe="\\ufe20-\\ufe2f",qpe="\\u20d0-\\u20ff",Ype=Bpe+Hpe+qpe,Xpe="\\ufe0e\\ufe0f",Kpe="["+dz+"]",XN="["+Ype+"]",KN="\\ud83c[\\udffb-\\udfff]",Qpe="(?:"+XN+"|"+KN+")",uz="[^"+dz+"]",pz="(?:\\ud83c[\\udde6-\\uddff]){2}",mz="[\\ud800-\\udbff][\\udc00-\\udfff]",Zpe="\\u200d",_z=Qpe+"?",fz="["+Xpe+"]?",Jpe="(?:"+Zpe+"(?:"+[uz,pz,mz].join("|")+")"+fz+_z+")*",eme=fz+_z+Jpe,tme="(?:"+[uz+XN+"?",XN,pz,mz,Kpe].join("|")+")",ime=RegExp(KN+"(?="+KN+")|"+tme+eme,"g");function nme(i){return i.match(ime)||[];}var hz=nme;function rme(i){return Xa(i)?hz(i):cz(i);}var Cr=rme;function ome(i){return function(r){r=ft(r);var t=Xa(r)?Cr(r):void 0,e=t?t[0]:r.charAt(0),n=t?yo(t,1).join(""):r.slice(1);return e[i]()+n;};}var kS=ome;var ame=kS("toUpperCase"),Qd=ame;function sme(i){return Qd(ft(i).toLowerCase());}var sf=sme;function lme(i,r,t,e){var n=-1,o=i==null?0:i.length;for(e&&o&&(t=i[++n]);++n<o;)t=r(t,i[n],n,i);return t;}var lf=lme;function cme(i){return function(r){return i?.[r];};}var cf=cme;var dme={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ume=cf(dme),gz=ume;var pme=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mme="\\u0300-\\u036f",_me="\\ufe20-\\ufe2f",fme="\\u20d0-\\u20ff",hme=mme+_me+fme,gme="["+hme+"]",vme=RegExp(gme,"g");function Cme(i){return i=ft(i),i&&i.replace(pme,gz).replace(vme,"");}var df=Cme;var yme=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function bme(i){return i.match(yme)||[];}var vz=bme;var Sme=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Eme(i){return Sme.test(i);}var Cz=Eme;var Tz="\\ud800-\\udfff",Tme="\\u0300-\\u036f",Ime="\\ufe20-\\ufe2f",xme="\\u20d0-\\u20ff",Ame=Tme+Ime+xme,Iz="\\u2700-\\u27bf",xz="a-z\\xdf-\\xf6\\xf8-\\xff",wme="\\xac\\xb1\\xd7\\xf7",Dme="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Mme="\\u2000-\\u206f",Ome=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Az="A-Z\\xc0-\\xd6\\xd8-\\xde",Pme="\\ufe0e\\ufe0f",wz=wme+Dme+Mme+Ome,Dz="['\u2019]",yz="["+wz+"]",Rme="["+Ame+"]",Mz="\\d+",Nme="["+Iz+"]",Oz="["+xz+"]",Pz="[^"+Tz+wz+Mz+Iz+xz+Az+"]",kme="\\ud83c[\\udffb-\\udfff]",$me="(?:"+Rme+"|"+kme+")",Lme="[^"+Tz+"]",Rz="(?:\\ud83c[\\udde6-\\uddff]){2}",Nz="[\\ud800-\\udbff][\\udc00-\\udfff]",uf="["+Az+"]",Fme="\\u200d",bz="(?:"+Oz+"|"+Pz+")",Vme="(?:"+uf+"|"+Pz+")",Sz="(?:"+Dz+"(?:d|ll|m|re|s|t|ve))?",Ez="(?:"+Dz+"(?:D|LL|M|RE|S|T|VE))?",kz=$me+"?",$z="["+Pme+"]?",zme="(?:"+Fme+"(?:"+[Lme,Rz,Nz].join("|")+")"+$z+kz+")*",Gme="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jme="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ume=$z+kz+zme,Wme="(?:"+[Nme,Rz,Nz].join("|")+")"+Ume,Bme=RegExp([uf+"?"+Oz+"+"+Sz+"(?="+[yz,uf,"$"].join("|")+")",Vme+"+"+Ez+"(?="+[yz,uf+bz,"$"].join("|")+")",uf+"?"+bz+"+"+Sz,uf+"+"+Ez,jme,Gme,Mz,Wme].join("|"),"g");function Hme(i){return i.match(Bme)||[];}var Lz=Hme;function qme(i,r,t){return i=ft(i),r=t?void 0:r,r===void 0?Cz(i)?Lz(i):vz(i):i.match(r)||[];}var pf=qme;var Yme="['\u2019]",Xme=RegExp(Yme,"g");function Kme(i){return function(r){return lf(pf(df(r).replace(Xme,"")),i,"");};}var Ka=Kme;var Qme=Ka(function(i,r,t){return r=r.toLowerCase(),i+(t?sf(r):r);}),$S=Qme;function Zme(){if(!arguments.length)return[];var i=arguments[0];return pe(i)?i:[i];}var LS=Zme;var Jme=oi.isFinite,e_e=Math.min;function t_e(i){var r=Math[i];return function(t,e){if(t=$n(t),e=e==null?0:e_e(Ve(e),292),e&&Jme(t)){var n=(ft(t)+"e").split("e"),o=r(n[0]+"e"+(+n[1]+e));return n=(ft(o)+"e").split("e"),+(n[0]+"e"+(+n[1]-e));}return r(t);};}var mf=t_e;var i_e=mf("ceil"),FS=i_e;function n_e(i){var r=F(i);return r.__chain__=!0,r;}var _f=n_e;var r_e=Math.ceil,o_e=Math.max;function a_e(i,r,t){(t?Fi(i,r,t):r===void 0)?r=1:r=o_e(Ve(r),0);var e=i==null?0:i.length;if(!e||r<1)return[];for(var n=0,o=0,a=Array(r_e(e/r));n<e;)a[o++]=On(i,n,n+=r);return a;}var VS=a_e;function s_e(i,r,t){return i===i&&(t!==void 0&&(i=i<=t?i:t),r!==void 0&&(i=i>=r?i:r)),i;}var la=s_e;function l_e(i,r,t){return t===void 0&&(t=r,r=void 0),t!==void 0&&(t=$n(t),t=t===t?t:0),r!==void 0&&(r=$n(r),r=r===r?r:0),la($n(i),r,t);}var zS=l_e;function c_e(){this.__data__=new Hd(),this.size=0;}var Fz=c_e;function d_e(i){var r=this.__data__,t=r.delete(i);return this.size=r.size,t;}var Vz=d_e;function u_e(i){return this.__data__.get(i);}var zz=u_e;function p_e(i){return this.__data__.has(i);}var Gz=p_e;var m_e=200;function __e(i,r){var t=this.__data__;if(t instanceof Hd){var e=t.__data__;if(!qd||e.length<m_e-1)return e.push([i,r]),this.size=++t.size,this;t=this.__data__=new Lp(e);}return t.set(i,r),this.size=t.size,this;}var jz=__e;function ff(i){var r=this.__data__=new Hd(i);this.size=r.size;}ff.prototype.clear=Fz;ff.prototype.delete=Vz;ff.prototype.get=zz;ff.prototype.has=Gz;ff.prototype.set=jz;var bl=ff;function f_e(i,r){return i&&or(r,Wt(r),i);}var GS=f_e;function h_e(i,r){return i&&or(r,yi(r),i);}var Uz=h_e;var qz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Wz=qz&&typeof module=="object"&&module&&!module.nodeType&&module,g_e=Wz&&Wz.exports===qz,Bz=g_e?oi.Buffer:void 0,Hz=Bz?Bz.allocUnsafe:void 0;function v_e(i,r){if(r)return i.slice();var t=i.length,e=Hz?Hz(t):new i.constructor(t);return i.copy(e),e;}var jS=v_e;function C_e(i,r){for(var t=-1,e=i==null?0:i.length,n=0,o=[];++t<e;){var a=i[t];r(a,t,i)&&(o[n++]=a);}return o;}var bo=C_e;function y_e(){return[];}var Zd=y_e;var b_e=Object.prototype,S_e=b_e.propertyIsEnumerable,Yz=Object.getOwnPropertySymbols,E_e=Yz?function(i){return i==null?[]:(i=Object(i),bo(Yz(i),function(r){return S_e.call(i,r);}));}:Zd,hf=E_e;function T_e(i,r){return or(i,hf(i),r);}var Xz=T_e;var I_e=Object.getOwnPropertySymbols,x_e=I_e?function(i){for(var r=[];i;)Co(r,hf(i)),i=Xd(i);return r;}:Zd,US=x_e;function A_e(i,r){return or(i,US(i),r);}var Kz=A_e;function w_e(i,r,t){var e=r(i);return pe(i)?e:Co(e,t(i));}var WS=w_e;function D_e(i){return WS(i,Wt,hf);}var lv=D_e;function M_e(i){return WS(i,yi,US);}var gf=M_e;var O_e=oa(oi,"DataView"),BS=O_e;var P_e=oa(oi,"Promise"),HS=P_e;var R_e=oa(oi,"Set"),Jd=R_e;var Qz="[object Map]",N_e="[object Object]",Zz="[object Promise]",Jz="[object Set]",eG="[object WeakMap]",tG="[object DataView]",k_e=Pc(BS),$_e=Pc(qd),L_e=Pc(HS),F_e=Pc(Jd),V_e=Pc($p),Fp=Li;(BS&&Fp(new BS(new ArrayBuffer(1)))!=tG||qd&&Fp(new qd())!=Qz||HS&&Fp(HS.resolve())!=Zz||Jd&&Fp(new Jd())!=Jz||$p&&Fp(new $p())!=eG)&&(Fp=function(i){var r=Li(i),t=r==N_e?i.constructor:void 0,e=t?Pc(t):"";if(e)switch(e){case k_e:return tG;case $_e:return Qz;case L_e:return Zz;case F_e:return Jz;case V_e:return eG;}return r;});var yr=Fp;var z_e=Object.prototype,G_e=z_e.hasOwnProperty;function j_e(i){var r=i.length,t=new i.constructor(r);return r&&typeof i[0]=="string"&&G_e.call(i,"index")&&(t.index=i.index,t.input=i.input),t;}var iG=j_e;var U_e=oi.Uint8Array,vf=U_e;function W_e(i){var r=new i.constructor(i.byteLength);return new vf(r).set(new vf(i)),r;}var Cf=W_e;function B_e(i,r){var t=r?Cf(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.byteLength);}var nG=B_e;var H_e=/\w*$/;function q_e(i){var r=new i.constructor(i.source,H_e.exec(i));return r.lastIndex=i.lastIndex,r;}var rG=q_e;var oG=Sn?Sn.prototype:void 0,aG=oG?oG.valueOf:void 0;function Y_e(i){return aG?Object(aG.call(i)):{};}var sG=Y_e;function X_e(i,r){var t=r?Cf(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.length);}var qS=X_e;var K_e="[object Boolean]",Q_e="[object Date]",Z_e="[object Map]",J_e="[object Number]",efe="[object RegExp]",tfe="[object Set]",ife="[object String]",nfe="[object Symbol]",rfe="[object ArrayBuffer]",ofe="[object DataView]",afe="[object Float32Array]",sfe="[object Float64Array]",lfe="[object Int8Array]",cfe="[object Int16Array]",dfe="[object Int32Array]",ufe="[object Uint8Array]",pfe="[object Uint8ClampedArray]",mfe="[object Uint16Array]",_fe="[object Uint32Array]";function ffe(i,r,t){var e=i.constructor;switch(r){case rfe:return Cf(i);case K_e:case Q_e:return new e(+i);case ofe:return nG(i,t);case afe:case sfe:case lfe:case cfe:case dfe:case ufe:case pfe:case mfe:case _fe:return qS(i,t);case Z_e:return new e();case J_e:case ife:return new e(i);case efe:return rG(i);case tfe:return new e();case nfe:return sG(i);}}var lG=ffe;function hfe(i){return typeof i.constructor=="function"&&!Cl(i)?Ba(Xd(i)):{};}var YS=hfe;var gfe="[object Map]";function vfe(i){return Lt(i)&&yr(i)==gfe;}var cG=vfe;var dG=kr&&kr.isMap,Cfe=dG?fn(dG):cG,yf=Cfe;var yfe="[object Set]";function bfe(i){return Lt(i)&&yr(i)==yfe;}var uG=bfe;var pG=kr&&kr.isSet,Sfe=pG?fn(pG):uG,bf=Sfe;var Efe=1,Tfe=2,Ife=4,mG="[object Arguments]",xfe="[object Array]",Afe="[object Boolean]",wfe="[object Date]",Dfe="[object Error]",_G="[object Function]",Mfe="[object GeneratorFunction]",Ofe="[object Map]",Pfe="[object Number]",fG="[object Object]",Rfe="[object RegExp]",Nfe="[object Set]",kfe="[object String]",$fe="[object Symbol]",Lfe="[object WeakMap]",Ffe="[object ArrayBuffer]",Vfe="[object DataView]",zfe="[object Float32Array]",Gfe="[object Float64Array]",jfe="[object Int8Array]",Ufe="[object Int16Array]",Wfe="[object Int32Array]",Bfe="[object Uint8Array]",Hfe="[object Uint8ClampedArray]",qfe="[object Uint16Array]",Yfe="[object Uint32Array]",cn={};cn[mG]=cn[xfe]=cn[Ffe]=cn[Vfe]=cn[Afe]=cn[wfe]=cn[zfe]=cn[Gfe]=cn[jfe]=cn[Ufe]=cn[Wfe]=cn[Ofe]=cn[Pfe]=cn[fG]=cn[Rfe]=cn[Nfe]=cn[kfe]=cn[$fe]=cn[Bfe]=cn[Hfe]=cn[qfe]=cn[Yfe]=!0;cn[Dfe]=cn[_G]=cn[Lfe]=!1;function XS(i,r,t,e,n,o){var a,s=r&Efe,l=r&Tfe,_=r&Ife;if(t&&(a=n?t(i,e,n,o):t(i)),a!==void 0)return a;if(!mt(i))return i;var f=pe(i);if(f){if(a=iG(i),!s)return ln(i,a);}else{var g=yr(i),S=g==_G||g==Mfe;if(Zr(i))return jS(i,s);if(g==fG||g==mG||S&&!n){if(a=l||S?{}:YS(i),!s)return l?Kz(i,Uz(a,i)):Xz(i,GS(a,i));}else{if(!cn[g])return n?i:{};a=lG(i,g,s);}}o||(o=new bl());var x=o.get(i);if(x)return x;o.set(i,a),bf(i)?i.forEach(function(j){a.add(XS(j,r,t,j,i,o));}):yf(i)&&i.forEach(function(j,V){a.set(V,XS(j,r,t,V,i,o));});var D=_?l?gf:lv:l?yi:Wt,R=f?void 0:D(i);return vr(R||i,function(j,V){R&&(V=j,j=i[V]),gl(a,V,XS(j,r,t,V,i,o));}),a;}var Fr=XS;var Xfe=4;function Kfe(i){return Fr(i,Xfe);}var Wo=Kfe;var Qfe=1,Zfe=4;function Jfe(i){return Fr(i,Qfe|Zfe);}var Oe=Jfe;var ehe=1,the=4;function ihe(i,r){return r=typeof r=="function"?r:void 0,Fr(i,ehe|the,r);}var KS=ihe;var nhe=4;function rhe(i,r){return r=typeof r=="function"?r:void 0,Fr(i,nhe,r);}var QS=rhe;function ohe(){return new go(this.value(),this.__chain__);}var cv=ohe;function ahe(i){for(var r=-1,t=i==null?0:i.length,e=0,n=[];++r<t;){var o=i[r];o&&(n[e++]=o);}return n;}var eu=ahe;function she(){var i=arguments.length;if(!i)return[];for(var r=Array(i-1),t=arguments[0],e=i;e--;)r[e-1]=arguments[e];return Co(pe(t)?ln(t):[t],bi(r,1));}var ca=she;var lhe="__lodash_hash_undefined__";function che(i){return this.__data__.set(i,lhe),this;}var hG=che;function dhe(i){return this.__data__.has(i);}var gG=dhe;function ZS(i){var r=-1,t=i==null?0:i.length;for(this.__data__=new Lp();++r<t;)this.add(i[r]);}ZS.prototype.add=ZS.prototype.push=hG;ZS.prototype.has=gG;var tu=ZS;function uhe(i,r){for(var t=-1,e=i==null?0:i.length;++t<e;)if(r(i[t],t,i))return!0;return!1;}var Sf=uhe;function phe(i,r){return i.has(r);}var kc=phe;var mhe=1,_he=2;function fhe(i,r,t,e,n,o){var a=t&mhe,s=i.length,l=r.length;if(s!=l&&!(a&&l>s))return!1;var _=o.get(i),f=o.get(r);if(_&&f)return _==r&&f==i;var g=-1,S=!0,x=t&_he?new tu():void 0;for(o.set(i,r),o.set(r,i);++g<s;){var D=i[g],R=r[g];if(e)var j=a?e(R,D,g,r,i,o):e(D,R,g,i,r,o);if(j!==void 0){if(j)continue;S=!1;break;}if(x){if(!Sf(r,function(V,ie){if(!kc(x,ie)&&(D===V||n(D,V,t,e,o)))return x.push(ie);})){S=!1;break;}}else if(!(D===R||n(D,R,t,e,o))){S=!1;break;}}return o.delete(i),o.delete(r),S;}var JS=fhe;function hhe(i){var r=-1,t=Array(i.size);return i.forEach(function(e,n){t[++r]=[n,e];}),t;}var Ef=hhe;function ghe(i){var r=-1,t=Array(i.size);return i.forEach(function(e){t[++r]=e;}),t;}var iu=ghe;var vhe=1,Che=2,yhe="[object Boolean]",bhe="[object Date]",She="[object Error]",Ehe="[object Map]",The="[object Number]",Ihe="[object RegExp]",xhe="[object Set]",Ahe="[object String]",whe="[object Symbol]",Dhe="[object ArrayBuffer]",Mhe="[object DataView]",vG=Sn?Sn.prototype:void 0,QN=vG?vG.valueOf:void 0;function Ohe(i,r,t,e,n,o,a){switch(t){case Mhe:if(i.byteLength!=r.byteLength||i.byteOffset!=r.byteOffset)return!1;i=i.buffer,r=r.buffer;case Dhe:return!(i.byteLength!=r.byteLength||!o(new vf(i),new vf(r)));case yhe:case bhe:case The:return En(+i,+r);case She:return i.name==r.name&&i.message==r.message;case Ihe:case Ahe:return i==r+"";case Ehe:var s=Ef;case xhe:var l=e&vhe;if(s||(s=iu),i.size!=r.size&&!l)return!1;var _=a.get(i);if(_)return _==r;e|=Che,a.set(i,r);var f=JS(s(i),s(r),e,n,o,a);return a.delete(i),f;case whe:if(QN)return QN.call(i)==QN.call(r);}return!1;}var CG=Ohe;var Phe=1,Rhe=Object.prototype,Nhe=Rhe.hasOwnProperty;function khe(i,r,t,e,n,o){var a=t&Phe,s=lv(i),l=s.length,_=lv(r),f=_.length;if(l!=f&&!a)return!1;for(var g=l;g--;){var S=s[g];if(!(a?S in r:Nhe.call(r,S)))return!1;}var x=o.get(i),D=o.get(r);if(x&&D)return x==r&&D==i;var R=!0;o.set(i,r),o.set(r,i);for(var j=a;++g<l;){S=s[g];var V=i[S],ie=r[S];if(e)var _e=a?e(ie,V,S,r,i,o):e(V,ie,S,i,r,o);if(!(_e===void 0?V===ie||n(V,ie,t,e,o):_e)){R=!1;break;}j||(j=S=="constructor");}if(R&&!j){var oe=i.constructor,Ne=r.constructor;oe!=Ne&&"constructor"in i&&"constructor"in r&&!(typeof oe=="function"&&oe instanceof oe&&typeof Ne=="function"&&Ne instanceof Ne)&&(R=!1);}return o.delete(i),o.delete(r),R;}var yG=khe;var $he=1,bG="[object Arguments]",SG="[object Array]",eE="[object Object]",Lhe=Object.prototype,EG=Lhe.hasOwnProperty;function Fhe(i,r,t,e,n,o){var a=pe(i),s=pe(r),l=a?SG:yr(i),_=s?SG:yr(r);l=l==bG?eE:l,_=_==bG?eE:_;var f=l==eE,g=_==eE,S=l==_;if(S&&Zr(i)){if(!Zr(r))return!1;a=!0,f=!1;}if(S&&!f)return o||(o=new bl()),a||aa(i)?JS(i,r,t,e,n,o):CG(i,r,l,t,e,n,o);if(!(t&$he)){var x=f&&EG.call(i,"__wrapped__"),D=g&&EG.call(r,"__wrapped__");if(x||D){var R=x?i.value():i,j=D?r.value():r;return o||(o=new bl()),n(R,j,t,e,o);}}return S?(o||(o=new bl()),yG(i,r,t,e,n,o)):!1;}var TG=Fhe;function IG(i,r,t,e,n){return i===r?!0:i==null||r==null||!Lt(i)&&!Lt(r)?i!==i&&r!==r:TG(i,r,t,e,IG,n);}var nu=IG;var Vhe=1,zhe=2;function Ghe(i,r,t,e){var n=t.length,o=n,a=!e;if(i==null)return!o;for(i=Object(i);n--;){var s=t[n];if(a&&s[2]?s[1]!==i[s[0]]:!(s[0]in i))return!1;}for(;++n<o;){s=t[n];var l=s[0],_=i[l],f=s[1];if(a&&s[2]){if(_===void 0&&!(l in i))return!1;}else{var g=new bl();if(e)var S=e(_,f,l,i,r,g);if(!(S===void 0?nu(f,_,Vhe|zhe,e,g):S))return!1;}}return!0;}var Tf=Ghe;function jhe(i){return i===i&&!mt(i);}var tE=jhe;function Uhe(i){for(var r=Wt(i),t=r.length;t--;){var e=r[t],n=i[e];r[t]=[e,n,tE(n)];}return r;}var If=Uhe;function Whe(i,r){return function(t){return t==null?!1:t[i]===r&&(r!==void 0||i in Object(t));};}var iE=Whe;function Bhe(i){var r=If(i);return r.length==1&&r[0][2]?iE(r[0][0],r[0][1]):function(t){return t===i||Tf(t,i,r);};}var nE=Bhe;function Hhe(i,r){return i!=null&&r in Object(i);}var xG=Hhe;function qhe(i,r,t){r=vo(r,i);for(var e=-1,n=r.length,o=!1;++e<n;){var a=ar(r[e]);if(!(o=i!=null&&t(i,a)))break;i=i[a];}return o||++e!=n?o:(n=i==null?0:i.length,!!n&&vl(n)&&Pr(a,n)&&(pe(i)||jo(i)));}var rE=qhe;function Yhe(i,r){return i!=null&&rE(i,r,xG);}var A=Yhe;var Xhe=1,Khe=2;function Qhe(i,r){return K_(i)&&tE(r)?iE(ar(i),r):function(t){var e=B(t,i);return e===void 0&&e===r?A(t,i):nu(r,e,Xhe|Khe);};}var oE=Qhe;function Zhe(i){return function(r){return r?.[i];};}var xf=Zhe;function Jhe(i){return function(r){return sa(r,i);};}var AG=Jhe;function ege(i){return K_(i)?xf(ar(i)):AG(i);}var Af=ege;function tge(i){return typeof i=="function"?i:i==null?wi:typeof i=="object"?pe(i)?oE(i[0],i[1]):nE(i):Af(i);}var ke=tge;var ige="Expected a function";function nge(i){var r=i==null?0:i.length,t=ke;return i=r?Ft(i,function(e){if(typeof e[1]!="function")throw new TypeError(ige);return[t(e[0]),e[1]];}):[],je(function(e){for(var n=-1;++n<r;){var o=i[n];if(mn(o[0],this,e))return mn(o[1],this,e);}});}var aE=nge;function rge(i,r,t){var e=t.length;if(i==null)return!e;for(i=Object(i);e--;){var n=t[e],o=r[n],a=i[n];if(a===void 0&&!(n in i)||!o(a))return!1;}return!0;}var sE=rge;function oge(i){var r=Wt(i);return function(t){return sE(t,i,r);};}var wG=oge;var age=1;function sge(i){return wG(Fr(i,age));}var lE=sge;function lge(i,r){return r==null||sE(i,r,Wt(r));}var cE=lge;function cge(i,r,t,e){for(var n=-1,o=i==null?0:i.length;++n<o;){var a=i[n];r(e,a,t(a),i);}return e;}var DG=cge;function dge(i){return function(r,t,e){for(var n=-1,o=Object(r),a=e(r),s=a.length;s--;){var l=a[i?s:++n];if(t(o[l],l,o)===!1)break;}return r;};}var dE=dge;var uge=dE(),wf=uge;function pge(i,r){return i&&wf(i,r,Wt);}var Vr=pge;function mge(i,r){return function(t,e){if(t==null)return t;if(!Ri(t))return i(t,e);for(var n=t.length,o=r?n:-1,a=Object(t);(r?o--:++o<n)&&e(a[o],o,a)!==!1;);return t;};}var uE=mge;var _ge=uE(Vr),So=_ge;function fge(i,r,t,e){return So(i,function(n,o,a){r(e,n,t(n),a);}),e;}var MG=fge;function hge(i,r){return function(t,e){var n=pe(t)?DG:MG,o=r?r():{};return n(t,i,ke(e,2),o);};}var ru=hge;var gge=Object.prototype,vge=gge.hasOwnProperty,Cge=ru(function(i,r,t){vge.call(i,t)?++i[t]:Nr(i,t,1);}),pE=Cge;function yge(i,r){var t=Ba(i);return r==null?t:GS(t,r);}var mE=yge;var bge=8;function ZN(i,r,t){r=t?void 0:r;var e=Rr(i,bge,void 0,void 0,void 0,void 0,void 0,r);return e.placeholder=ZN.placeholder,e;}ZN.placeholder={};var _E=ZN;var Sge=16;function JN(i,r,t){r=t?void 0:r;var e=Rr(i,Sge,void 0,void 0,void 0,void 0,void 0,r);return e.placeholder=JN.placeholder,e;}JN.placeholder={};var fE=JN;var Ege=function(){return oi.Date.now();},ou=Ege;var Tge="Expected a function",Ige=Math.max,xge=Math.min;function Age(i,r,t){var e,n,o,a,s,l,_=0,f=!1,g=!1,S=!0;if(typeof i!="function")throw new TypeError(Tge);r=$n(r)||0,mt(t)&&(f=!!t.leading,g="maxWait"in t,o=g?Ige($n(t.maxWait)||0,r):o,S="trailing"in t?!!t.trailing:S);function x(Ce){var Ge=e,dt=n;return e=n=void 0,_=Ce,a=i.apply(dt,Ge),a;}function D(Ce){return _=Ce,s=setTimeout(V,r),f?x(Ce):a;}function R(Ce){var Ge=Ce-l,dt=Ce-_,hi=r-Ge;return g?xge(hi,o-dt):hi;}function j(Ce){var Ge=Ce-l,dt=Ce-_;return l===void 0||Ge>=r||Ge<0||g&&dt>=o;}function V(){var Ce=ou();if(j(Ce))return ie(Ce);s=setTimeout(V,R(Ce));}function ie(Ce){return s=void 0,S&&e?x(Ce):(e=n=void 0,a);}function _e(){s!==void 0&&clearTimeout(s),_=0,e=l=n=s=void 0;}function oe(){return s===void 0?a:ie(ou());}function Ne(){var Ce=ou(),Ge=j(Ce);if(e=arguments,n=this,l=Ce,Ge){if(s===void 0)return D(l);if(g)return clearTimeout(s),s=setTimeout(V,r),x(l);}return s===void 0&&(s=setTimeout(V,r)),a;}return Ne.cancel=_e,Ne.flush=oe,Ne;}var Df=Age;function wge(i,r){return i==null||i!==i?r:i;}var hE=wge;var OG=Object.prototype,Dge=OG.hasOwnProperty,Mge=je(function(i,r){i=Object(i);var t=-1,e=r.length,n=e>2?r[2]:void 0;for(n&&Fi(r[0],r[1],n)&&(e=1);++t<e;)for(var o=r[t],a=yi(o),s=-1,l=a.length;++s<l;){var _=a[s],f=i[_];(f===void 0||En(f,OG[_])&&!Dge.call(i,_))&&(i[_]=o[_]);}return i;}),gE=Mge;function Oge(i,r,t){(t!==void 0&&!En(i[r],t)||t===void 0&&!(r in i))&&Nr(i,r,t);}var dv=Oge;function Pge(i){return Lt(i)&&Ri(i);}var ei=Pge;function Rge(i,r){if(!(r==="constructor"&&typeof i[r]=="function")&&r!="__proto__")return i[r];}var uv=Rge;function Nge(i){return or(i,yi(i));}var Mf=Nge;function kge(i,r,t,e,n,o,a){var s=uv(i,t),l=uv(r,t),_=a.get(l);if(_){dv(i,t,_);return;}var f=o?o(s,l,t+"",i,r,a):void 0,g=f===void 0;if(g){var S=pe(l),x=!S&&Zr(l),D=!S&&!x&&aa(l);f=l,S||x||D?pe(s)?f=s:ei(s)?f=ln(s):x?(g=!1,f=jS(l,!0)):D?(g=!1,f=qS(l,!0)):f=[]:Uo(l)||jo(l)?(f=s,jo(s)?f=Mf(s):(!mt(s)||rr(s))&&(f=YS(l))):g=!1;}g&&(a.set(l,f),n(f,l,e,o,a),a.delete(l)),dv(i,t,f);}var PG=kge;function RG(i,r,t,e,n){i!==r&&wf(r,function(o,a){if(n||(n=new bl()),mt(o))PG(i,r,a,t,RG,e,n);else{var s=e?e(uv(i,a),o,a+"",i,r,n):void 0;s===void 0&&(s=o),dv(i,a,s);}},yi);}var Of=RG;function NG(i,r,t,e,n,o){return mt(i)&&mt(r)&&(o.set(r,i),Of(i,r,void 0,NG,o),o.delete(r)),i;}var kG=NG;var $ge=Ya(function(i,r,t,e){Of(i,r,t,e);}),Sl=$ge;var Lge=je(function(i){return i.push(void 0,kG),mn(Sl,void 0,i);}),vE=Lge;var Fge="Expected a function";function Vge(i,r,t){if(typeof i!="function")throw new TypeError(Fge);return setTimeout(function(){i.apply(void 0,t);},r);}var CE=Vge;var zge=je(function(i,r){return CE(i,1,r);}),yE=zge;var Gge=je(function(i,r,t){return CE(i,$n(r)||0,t);}),bE=Gge;function jge(i,r,t){for(var e=-1,n=i==null?0:i.length;++e<n;)if(t(r,i[e]))return!0;return!1;}var Pf=jge;var Uge=200;function Wge(i,r,t,e){var n=-1,o=Ud,a=!0,s=i.length,l=[],_=r.length;if(!s)return l;t&&(r=Ft(r,fn(t))),e?(o=Pf,a=!1):r.length>=Uge&&(o=kc,a=!1,r=new tu(r));e:for(;++n<s;){var f=i[n],g=t==null?f:t(f);if(f=e||f!==0?f:0,a&&g===g){for(var S=_;S--;)if(r[S]===g)continue e;l.push(f);}else o(r,g,e)||l.push(f);}return l;}var El=Wge;var Bge=je(function(i,r){return ei(i)?El(i,bi(r,1,ei,!0)):[];}),SE=Bge;function Hge(i){var r=i==null?0:i.length;return r?i[r-1]:void 0;}var mi=Hge;var qge=je(function(i,r){var t=mi(r);return ei(t)&&(t=void 0),ei(i)?El(i,bi(r,1,ei,!0),ke(t,2)):[];}),EE=qge;var Yge=je(function(i,r){var t=mi(r);return ei(t)&&(t=void 0),ei(i)?El(i,bi(r,1,ei,!0),void 0,t):[];}),TE=Yge;var Xge=Ld(function(i,r){return i/r;},1),IE=Xge;function Kge(i,r,t){var e=i==null?0:i.length;return e?(r=t||r===void 0?1:Ve(r),On(i,r<0?0:r,e)):[];}var xE=Kge;function Qge(i,r,t){var e=i==null?0:i.length;return e?(r=t||r===void 0?1:Ve(r),r=e-r,On(i,0,r<0?0:r)):[];}var au=Qge;function Zge(i,r,t,e){for(var n=i.length,o=e?n:-1;(e?o--:++o<n)&&r(i[o],o,i););return t?On(i,e?0:o,e?o+1:n):On(i,e?o+1:0,e?n:o);}var su=Zge;function Jge(i,r){return i&&i.length?su(i,ke(r,3),!0,!0):[];}var AE=Jge;function e0e(i,r){return i&&i.length?su(i,ke(r,3),!0):[];}var wE=e0e;function t0e(i){return typeof i=="function"?i:wi;}var sr=t0e;function i0e(i,r){var t=pe(i)?vr:So;return t(i,sr(r));}var he=i0e;function n0e(i,r){for(var t=i==null?0:i.length;t--&&r(i[t],t,i)!==!1;);return i;}var $G=n0e;var r0e=dE(!0),DE=r0e;function o0e(i,r){return i&&DE(i,r,Wt);}var Rf=o0e;var a0e=uE(Rf,!0),ME=a0e;function s0e(i,r){var t=pe(i)?$G:ME;return t(i,sr(r));}var lu=s0e;function l0e(i,r,t){i=ft(i),r=kn(r);var e=i.length;t=t===void 0?e:la(Ve(t),0,e);var n=t;return t-=r.length,t>=0&&i.slice(t,n)==r;}var $c=l0e;function c0e(i,r){return Ft(r,function(t){return[t,i[t]];});}var LG=c0e;function d0e(i){var r=-1,t=Array(i.size);return i.forEach(function(e){t[++r]=[e,e];}),t;}var FG=d0e;var u0e="[object Map]",p0e="[object Set]";function m0e(i){return function(r){var t=yr(r);return t==u0e?Ef(r):t==p0e?FG(r):LG(r,i(r));};}var OE=m0e;var _0e=OE(Wt),cu=_0e;var f0e=OE(yi),du=f0e;var h0e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g0e=cf(h0e),VG=g0e;var zG=/[&<>"']/g,v0e=RegExp(zG.source);function C0e(i){return i=ft(i),i&&v0e.test(i)?i.replace(zG,VG):i;}var Nf=C0e;var GG=/[\\^$.*+?()[\]{}|]/g,y0e=RegExp(GG.source);function b0e(i){return i=ft(i),i&&y0e.test(i)?i.replace(GG,"\\$&"):i;}var PE=b0e;function S0e(i,r){for(var t=-1,e=i==null?0:i.length;++t<e;)if(!r(i[t],t,i))return!1;return!0;}var RE=S0e;function E0e(i,r){var t=!0;return So(i,function(e,n,o){return t=!!r(e,n,o),t;}),t;}var jG=E0e;function T0e(i,r,t){var e=pe(i)?RE:jG;return t&&Fi(i,r,t)&&(r=void 0),e(i,ke(r,3));}var NE=T0e;var I0e=4294967295;function x0e(i){return i?la(Ve(i),0,I0e):0;}var kf=x0e;function A0e(i,r,t,e){var n=i.length;for(t=Ve(t),t<0&&(t=-t>n?0:n+t),e=e===void 0||e>n?n:Ve(e),e<0&&(e+=n),e=t>e?0:kf(e);t<e;)i[t++]=r;return i;}var UG=A0e;function w0e(i,r,t,e){var n=i==null?0:i.length;return n?(t&&typeof t!="number"&&Fi(i,r,t)&&(t=0,e=n),UG(i,r,t,e)):[];}var kE=w0e;function D0e(i,r){var t=[];return So(i,function(e,n,o){r(e,n,o)&&t.push(e);}),t;}var $E=D0e;function M0e(i,r){var t=pe(i)?bo:$E;return t(i,ke(r,3));}var LE=M0e;function O0e(i){return function(r,t,e){var n=Object(r);if(!Ri(r)){var o=ke(t,3);r=Wt(r),t=function(s){return o(n[s],s,n);};}var a=i(r,t,e);return a>-1?n[o?r[a]:a]:void 0;};}var FE=O0e;var P0e=Math.max;function R0e(i,r,t){var e=i==null?0:i.length;if(!e)return-1;var n=t==null?0:Ve(t);return n<0&&(n=P0e(e+n,0)),jd(i,ke(r,3),n);}var da=R0e;var N0e=FE(da),VE=N0e;function k0e(i,r,t){var e;return t(i,function(n,o,a){if(r(n,o,a))return e=o,!1;}),e;}var zE=k0e;function $0e(i,r){return zE(i,ke(r,3),Vr);}var GE=$0e;var L0e=Math.max,F0e=Math.min;function V0e(i,r,t){var e=i==null?0:i.length;if(!e)return-1;var n=e-1;return t!==void 0&&(n=Ve(t),n=t<0?L0e(e+n,0):F0e(n,e-1)),jd(i,ke(r,3),n,!0);}var $f=V0e;var z0e=FE($f),jE=z0e;function G0e(i,r){return zE(i,ke(r,3),Rf);}var UE=G0e;function j0e(i){return i&&i.length?i[0]:void 0;}var uu=j0e;function U0e(i,r){var t=-1,e=Ri(i)?Array(i.length):[];return So(i,function(n,o,a){e[++t]=r(n,o,a);}),e;}var WE=U0e;function W0e(i,r){var t=pe(i)?Ft:WE;return t(i,ke(r,3));}var Tl=W0e;function B0e(i,r){return bi(Tl(i,r),1);}var BE=B0e;var H0e=1/0;function q0e(i,r){return bi(Tl(i,r),H0e);}var HE=q0e;function Y0e(i,r,t){return t=t===void 0?1:Ve(t),bi(Tl(i,r),t);}var qE=Y0e;var X0e=1/0;function K0e(i){var r=i==null?0:i.length;return r?bi(i,X0e):[];}var YE=K0e;function Q0e(i,r){var t=i==null?0:i.length;return t?(r=r===void 0?1:Ve(r),bi(i,r)):[];}var XE=Q0e;var Z0e=512;function J0e(i){return Rr(i,Z0e);}var KE=J0e;var eve=mf("floor"),QE=eve;var tve="Expected a function",ive=8,nve=32,rve=128,ove=256;function ave(i){return Lr(function(r){var t=r.length,e=t,n=go.prototype.thru;for(i&&r.reverse();e--;){var o=r[e];if(typeof o!="function")throw new TypeError(tve);if(n&&!a&&U_(o)=="wrapper")var a=new go([],!0);}for(e=a?e:t;++e<t;){o=r[e];var s=U_(o),l=s=="wrapper"?j_(o):void 0;l&&ov(l[0])&&l[1]==(rve|ive|nve|ove)&&!l[4].length&&l[9]==1?a=a[U_(l[0])].apply(a,l[3]):a=o.length==1&&ov(o)?a[s]():a.thru(o);}return function(){var _=arguments,f=_[0];if(a&&_.length==1&&pe(f))return a.plant(f).value();for(var g=0,S=t?r[g].apply(this,_):f;++g<t;)S=r[g].call(this,S);return S;};});}var ZE=ave;var sve=ZE(),JE=sve;var lve=ZE(!0),eT=lve;function cve(i,r){return i==null?i:wf(i,sr(r),yi);}var tT=cve;function dve(i,r){return i==null?i:DE(i,sr(r),yi);}var iT=dve;function uve(i,r){return i&&Vr(i,sr(r));}var nT=uve;function pve(i,r){return i&&Rf(i,sr(r));}var rT=pve;function mve(i){for(var r=-1,t=i==null?0:i.length,e={};++r<t;){var n=i[r];e[n[0]]=n[1];}return e;}var oT=mve;function _ve(i,r){return bo(r,function(t){return rr(i[t]);});}var pu=_ve;function fve(i){return i==null?[]:pu(i,Wt(i));}var aT=fve;function hve(i){return i==null?[]:pu(i,yi(i));}var sT=hve;var gve=Object.prototype,vve=gve.hasOwnProperty,Cve=ru(function(i,r,t){vve.call(i,t)?i[t].push(r):Nr(i,t,[r]);}),lT=Cve;function yve(i,r){return i>r;}var Lf=yve;function bve(i){return function(r,t){return typeof r=="string"&&typeof t=="string"||(r=$n(r),t=$n(t)),i(r,t);};}var mu=bve;var Sve=mu(Lf),cT=Sve;var Eve=mu(function(i,r){return i>=r;}),dT=Eve;var Tve=Object.prototype,Ive=Tve.hasOwnProperty;function xve(i,r){return i!=null&&Ive.call(i,r);}var WG=xve;function Ave(i,r){return i!=null&&rE(i,r,WG);}var uT=Ave;var wve=Math.max,Dve=Math.min;function Mve(i,r,t){return i>=Dve(r,t)&&i<wve(r,t);}var BG=Mve;function Ove(i,r,t){return r=ho(r),t===void 0?(t=r,r=0):t=ho(t),i=$n(i),BG(i,r,t);}var pT=Ove;var Pve="[object String]";function Rve(i){return typeof i=="string"||!pe(i)&&Lt(i)&&Li(i)==Pve;}var Ln=Rve;function Nve(i,r){return Ft(r,function(t){return i[t];});}var Ff=Nve;function kve(i){return i==null?[]:Ff(i,Wt(i));}var di=kve;var $ve=Math.max;function Lve(i,r,t,e){i=Ri(i)?i:di(i),t=t&&!e?Ve(t):0;var n=i.length;return t<0&&(t=$ve(n+t,0)),Ln(i)?t<=n&&i.indexOf(r,t)>-1:!!n&&Ha(i,r,t)>-1;}var Vf=Lve;var Fve=Math.max;function Vve(i,r,t){var e=i==null?0:i.length;if(!e)return-1;var n=t==null?0:Ve(t);return n<0&&(n=Fve(e+n,0)),Ha(i,r,n);}var Jr=Vve;function zve(i){var r=i==null?0:i.length;return r?On(i,0,-1):[];}var mT=zve;var Gve=Math.min;function jve(i,r,t){for(var e=t?Pf:Ud,n=i[0].length,o=i.length,a=o,s=Array(o),l=1/0,_=[];a--;){var f=i[a];a&&r&&(f=Ft(f,fn(r))),l=Gve(f.length,l),s[a]=!t&&(r||n>=120&&f.length>=120)?new tu(a&&f):void 0;}f=i[0];var g=-1,S=s[0];e:for(;++g<n&&_.length<l;){var x=f[g],D=r?r(x):x;if(x=t||x!==0?x:0,!(S?kc(S,D):e(_,D,t))){for(a=o;--a;){var R=s[a];if(!(R?kc(R,D):e(i[a],D,t)))continue e;}S&&S.push(D),_.push(x);}}return _;}var zf=jve;function Uve(i){return ei(i)?i:[];}var Gf=Uve;var Wve=je(function(i){var r=Ft(i,Gf);return r.length&&r[0]===i[0]?zf(r):[];}),_T=Wve;var Bve=je(function(i){var r=mi(i),t=Ft(i,Gf);return r===mi(t)?r=void 0:t.pop(),t.length&&t[0]===i[0]?zf(t,ke(r,2)):[];}),fT=Bve;var Hve=je(function(i){var r=mi(i),t=Ft(i,Gf);return r=typeof r=="function"?r:void 0,r&&t.pop(),t.length&&t[0]===i[0]?zf(t,void 0,r):[];}),hT=Hve;function qve(i,r,t,e){return Vr(i,function(n,o,a){r(e,t(n),o,a);}),e;}var HG=qve;function Yve(i,r){return function(t,e){return HG(t,i,r(e),{});};}var gT=Yve;var Xve=Object.prototype,Kve=Xve.toString,Qve=gT(function(i,r,t){r!=null&&typeof r.toString!="function"&&(r=Kve.call(r)),i[r]=t;},Gd(wi)),vT=Qve;var qG=Object.prototype,Zve=qG.hasOwnProperty,Jve=qG.toString,e1e=gT(function(i,r,t){r!=null&&typeof r.toString!="function"&&(r=Jve.call(r)),Zve.call(i,r)?i[r].push(t):i[r]=[t];},ke),CT=e1e;function t1e(i,r){return r.length<2?i:sa(i,On(r,0,-1));}var yT=t1e;function i1e(i,r,t){r=vo(r,i),i=yT(i,r);var e=i==null?i:i[ar(mi(r))];return e==null?void 0:mn(e,i,t);}var Il=i1e;var n1e=je(Il),bT=n1e;var r1e=je(function(i,r,t){var e=-1,n=typeof r=="function",o=Ri(i)?Array(i.length):[];return So(i,function(a){o[++e]=n?mn(r,a,t):Il(a,r,t);}),o;}),ST=r1e;var o1e="[object ArrayBuffer]";function a1e(i){return Lt(i)&&Li(i)==o1e;}var YG=a1e;var XG=kr&&kr.isArrayBuffer,s1e=XG?fn(XG):YG,ET=s1e;var l1e="[object Boolean]";function c1e(i){return i===!0||i===!1||Lt(i)&&Li(i)==l1e;}var Lc=c1e;var d1e="[object Date]";function u1e(i){return Lt(i)&&Li(i)==d1e;}var KG=u1e;var QG=kr&&kr.isDate,p1e=QG?fn(QG):KG,Fc=p1e;function m1e(i){return Lt(i)&&i.nodeType===1&&!Uo(i);}var TT=m1e;var _1e="[object Map]",f1e="[object Set]",h1e=Object.prototype,g1e=h1e.hasOwnProperty;function v1e(i){if(i==null)return!0;if(Ri(i)&&(pe(i)||typeof i=="string"||typeof i.splice=="function"||Zr(i)||aa(i)||jo(i)))return!i.length;var r=yr(i);if(r==_1e||r==f1e)return!i.size;if(Cl(i))return!X_(i).length;for(var t in i)if(g1e.call(i,t))return!1;return!0;}var Eo=v1e;function C1e(i,r){return nu(i,r);}var Bo=C1e;function y1e(i,r,t){t=typeof t=="function"?t:void 0;var e=t?t(i,r):void 0;return e===void 0?nu(i,r,void 0,t):!!e;}var IT=y1e;var b1e=oi.isFinite;function S1e(i){return typeof i=="number"&&b1e(i);}var xT=S1e;function E1e(i){return typeof i=="number"&&i==Ve(i);}var jf=E1e;function T1e(i,r){return i===r||Tf(i,r,If(r));}var AT=T1e;function I1e(i,r,t){return t=typeof t=="function"?t:void 0,Tf(i,r,If(r),t);}var wT=I1e;var x1e="[object Number]";function A1e(i){return typeof i=="number"||Lt(i)&&Li(i)==x1e;}var xl=A1e;function w1e(i){return xl(i)&&i!=+i;}var Vc=w1e;var D1e=z_?rr:Wd,ZG=D1e;var M1e="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function O1e(i){if(ZG(i))throw new Error(M1e);return _S(i);}var DT=O1e;function P1e(i){return i==null;}var MT=P1e;function R1e(i){return i===null;}var OT=R1e;var N1e="[object RegExp]";function k1e(i){return Lt(i)&&Li(i)==N1e;}var JG=k1e;var ej=kr&&kr.isRegExp,$1e=ej?fn(ej):JG,_u=$1e;var tj=9007199254740991;function L1e(i){return jf(i)&&i>=-tj&&i<=tj;}var PT=L1e;function F1e(i){return i===void 0;}var RT=F1e;var V1e="[object WeakMap]";function z1e(i){return Lt(i)&&yr(i)==V1e;}var NT=z1e;var G1e="[object WeakSet]";function j1e(i){return Lt(i)&&Li(i)==G1e;}var kT=j1e;var U1e=1;function W1e(i){return ke(typeof i=="function"?i:Fr(i,U1e));}var $T=W1e;var B1e=Array.prototype,H1e=B1e.join;function q1e(i,r){return i==null?"":H1e.call(i,r);}var LT=q1e;var Y1e=Ka(function(i,r,t){return i+(t?"-":"")+r.toLowerCase();}),FT=Y1e;var X1e=ru(function(i,r,t){Nr(i,t,r);}),VT=X1e;function K1e(i,r,t){for(var e=t+1;e--;)if(i[e]===r)return e;return e;}var ij=K1e;var Q1e=Math.max,Z1e=Math.min;function J1e(i,r,t){var e=i==null?0:i.length;if(!e)return-1;var n=e;return t!==void 0&&(n=Ve(t),n=n<0?Q1e(e+n,0):Z1e(n,e-1)),r===r?ij(i,r,n):jd(i,TS,n,!0);}var zT=J1e;var eCe=Ka(function(i,r,t){return i+(t?" ":"")+r.toLowerCase();}),GT=eCe;var tCe=kS("toLowerCase"),jT=tCe;function iCe(i,r){return i<r;}var Uf=iCe;var nCe=mu(Uf),UT=nCe;var rCe=mu(function(i,r){return i<=r;}),WT=rCe;function oCe(i,r){var t={};return r=ke(r,3),Vr(i,function(e,n,o){Nr(t,r(e,n,o),e);}),t;}var Wf=oCe;function aCe(i,r){var t={};return r=ke(r,3),Vr(i,function(e,n,o){Nr(t,n,r(e,n,o));}),t;}var BT=aCe;var sCe=1;function lCe(i){return nE(Fr(i,sCe));}var HT=lCe;var cCe=1;function dCe(i,r){return oE(i,Fr(r,cCe));}var qT=dCe;function uCe(i,r,t){for(var e=-1,n=i.length;++e<n;){var o=i[e],a=r(o);if(a!=null&&(s===void 0?a===a&&!sn(a):t(a,s)))var s=a,l=o;}return l;}var fu=uCe;function pCe(i){return i&&i.length?fu(i,wi,Lf):void 0;}var YT=pCe;function mCe(i,r){return i&&i.length?fu(i,ke(r,2),Lf):void 0;}var XT=mCe;function _Ce(i,r){for(var t,e=-1,n=i.length;++e<n;){var o=r(i[e]);o!==void 0&&(t=t===void 0?o:t+o);}return t;}var Bf=_Ce;var fCe=NaN;function hCe(i,r){var t=i==null?0:i.length;return t?Bf(i,r)/t:fCe;}var KT=hCe;function gCe(i){return KT(i,wi);}var QT=gCe;function vCe(i,r){return KT(i,ke(r,2));}var ZT=vCe;var CCe=Ya(function(i,r,t){Of(i,r,t);}),zr=CCe;var yCe=je(function(i,r){return function(t){return Il(t,i,r);};}),JT=yCe;var bCe=je(function(i,r){return function(t){return Il(i,t,r);};}),eI=bCe;function SCe(i){return i&&i.length?fu(i,wi,Uf):void 0;}var tI=SCe;function ECe(i,r){return i&&i.length?fu(i,ke(r,2),Uf):void 0;}var iI=ECe;function TCe(i,r,t){var e=Wt(r),n=pu(r,e),o=!(mt(t)&&"chain"in t)||!!t.chain,a=rr(i);return vr(n,function(s){var l=r[s];i[s]=l,a&&(i.prototype[s]=function(){var _=this.__chain__;if(o||_){var f=i(this.__wrapped__),g=f.__actions__=ln(this.__actions__);return g.push({func:l,args:arguments,thisArg:i}),f.__chain__=_,f;}return l.apply(i,Co([this.value()],arguments));});}),i;}var Hf=TCe;var ICe=Ld(function(i,r){return i*r;},1),nI=ICe;var xCe="Expected a function";function ACe(i){if(typeof i!="function")throw new TypeError(xCe);return function(){var r=arguments;switch(r.length){case 0:return!i.call(this);case 1:return!i.call(this,r[0]);case 2:return!i.call(this,r[0],r[1]);case 3:return!i.call(this,r[0],r[1],r[2]);}return!i.apply(this,r);};}var Vs=ACe;function wCe(i){for(var r,t=[];!(r=i.next()).done;)t.push(r.value);return t;}var nj=wCe;var DCe="[object Map]",MCe="[object Set]",ek=Sn?Sn.iterator:void 0;function OCe(i){if(!i)return[];if(Ri(i))return Ln(i)?Cr(i):ln(i);if(ek&&i[ek])return nj(i[ek]());var r=yr(i),t=r==DCe?Ef:r==MCe?iu:di;return t(i);}var qf=OCe;function PCe(){this.__values__===void 0&&(this.__values__=qf(this.value()));var i=this.__index__>=this.__values__.length,r=i?void 0:this.__values__[this.__index__++];return{done:i,value:r};}var pv=PCe;function RCe(i,r){var t=i.length;if(t)return r+=r<0?t:0,Pr(r,t)?i[r]:void 0;}var rI=RCe;function NCe(i,r){return i&&i.length?rI(i,Ve(r)):void 0;}var oI=NCe;function kCe(i){return i=Ve(i),je(function(r){return rI(r,i);});}var aI=kCe;function $Ce(i,r){return r=vo(r,i),i=yT(i,r),i==null||delete i[ar(mi(r))];}var Yf=$Ce;function LCe(i){return Uo(i)?void 0:i;}var rj=LCe;var FCe=1,VCe=2,zCe=4,GCe=Lr(function(i,r){var t={};if(i==null)return t;var e=!1;r=Ft(r,function(o){return o=vo(o,i),e||(e=o.length>1),o;}),or(i,gf(i),t),e&&(t=Fr(t,FCe|VCe|zCe,rj));for(var n=r.length;n--;)Yf(t,r[n]);return t;}),sI=GCe;function jCe(i,r,t,e){if(!mt(i))return i;r=vo(r,i);for(var n=-1,o=r.length,a=o-1,s=i;s!=null&&++n<o;){var l=ar(r[n]),_=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return i;if(n!=a){var f=s[l];_=e?e(f,l,s):void 0,_===void 0&&(_=mt(f)?f:Pr(r[n+1])?[]:{});}gl(s,l,_),s=s[l];}return i;}var Al=jCe;function UCe(i,r,t){for(var e=-1,n=r.length,o={};++e<n;){var a=r[e],s=sa(i,a);t(s,a)&&Al(o,vo(a,i),s);}return o;}var lI=UCe;function WCe(i,r){if(i==null)return{};var t=Ft(gf(i),function(e){return[e];});return r=ke(r),lI(i,t,function(e,n){return r(e,n[0]);});}var ua=WCe;function BCe(i,r){return ua(i,Vs(ke(r)));}var cI=BCe;function HCe(i){return of(2,i);}var dI=HCe;function qCe(i,r){var t=i.length;for(i.sort(r);t--;)i[t]=i[t].value;return i;}var oj=qCe;function YCe(i,r){if(i!==r){var t=i!==void 0,e=i===null,n=i===i,o=sn(i),a=r!==void 0,s=r===null,l=r===r,_=sn(r);if(!s&&!_&&!o&&i>r||o&&a&&l&&!s&&!_||e&&a&&l||!t&&l||!n)return 1;if(!e&&!o&&!_&&i<r||_&&t&&n&&!e&&!o||s&&t&&n||!a&&n||!l)return-1;}return 0;}var uI=YCe;function XCe(i,r,t){for(var e=-1,n=i.criteria,o=r.criteria,a=n.length,s=t.length;++e<a;){var l=uI(n[e],o[e]);if(l){if(e>=s)return l;var _=t[e];return l*(_=="desc"?-1:1);}}return i.index-r.index;}var aj=XCe;function KCe(i,r,t){r.length?r=Ft(r,function(o){return pe(o)?function(a){return sa(a,o.length===1?o[0]:o);}:o;}):r=[wi];var e=-1;r=Ft(r,fn(ke));var n=WE(i,function(o,a,s){var l=Ft(r,function(_){return _(o);});return{criteria:l,index:++e,value:o};});return oj(n,function(o,a){return aj(o,a,t);});}var pI=KCe;function QCe(i,r,t,e){return i==null?[]:(pe(r)||(r=r==null?[]:[r]),t=e?void 0:t,pe(t)||(t=t==null?[]:[t]),pI(i,r,t));}var mI=QCe;function ZCe(i){return Lr(function(r){return r=Ft(r,fn(ke)),je(function(t){var e=this;return i(r,function(n){return mn(n,e,t);});});});}var Xf=ZCe;var JCe=Xf(Ft),_I=JCe;var eye=je,sj=eye;var tye=Math.min,iye=sj(function(i,r){r=r.length==1&&pe(r[0])?Ft(r[0],fn(ke)):Ft(bi(r,1),fn(ke));var t=r.length;return je(function(e){for(var n=-1,o=tye(e.length,t);++n<o;)e[n]=r[n].call(this,e[n]);return mn(i,this,e);});}),fI=iye;var nye=Xf(RE),hI=nye;var rye=Xf(Sf),gI=rye;var oye=9007199254740991,aye=Math.floor;function sye(i,r){var t="";if(!i||r<1||r>oye)return t;do r%2&&(t+=i),r=aye(r/2),r&&(i+=i);while(r);return t;}var mv=sye;var lye=xf("length"),lj=lye;var dj="\\ud800-\\udfff",cye="\\u0300-\\u036f",dye="\\ufe20-\\ufe2f",uye="\\u20d0-\\u20ff",pye=cye+dye+uye,mye="\\ufe0e\\ufe0f",_ye="["+dj+"]",tk="["+pye+"]",ik="\\ud83c[\\udffb-\\udfff]",fye="(?:"+tk+"|"+ik+")",uj="[^"+dj+"]",pj="(?:\\ud83c[\\udde6-\\uddff]){2}",mj="[\\ud800-\\udbff][\\udc00-\\udfff]",hye="\\u200d",_j=fye+"?",fj="["+mye+"]?",gye="(?:"+hye+"(?:"+[uj,pj,mj].join("|")+")"+fj+_j+")*",vye=fj+_j+gye,Cye="(?:"+[uj+tk+"?",tk,pj,mj,_ye].join("|")+")",cj=RegExp(ik+"(?="+ik+")|"+Cye+vye,"g");function yye(i){for(var r=cj.lastIndex=0;cj.test(i);)++r;return r;}var hj=yye;function bye(i){return Xa(i)?hj(i):lj(i);}var Qa=bye;var Sye=Math.ceil;function Eye(i,r){r=r===void 0?" ":kn(r);var t=r.length;if(t<2)return t?mv(r,i):r;var e=mv(r,Sye(i/Qa(r)));return Xa(r)?yo(Cr(e),0,i).join(""):e.slice(0,i);}var Vp=Eye;var Tye=Math.ceil,Iye=Math.floor;function xye(i,r,t){i=ft(i),r=Ve(r);var e=r?Qa(i):0;if(!r||e>=r)return i;var n=(r-e)/2;return Vp(Iye(n),t)+i+Vp(Tye(n),t);}var vI=xye;function Aye(i,r,t){i=ft(i),r=Ve(r);var e=r?Qa(i):0;return r&&e<r?i+Vp(r-e,t):i;}var CI=Aye;function wye(i,r,t){i=ft(i),r=Ve(r);var e=r?Qa(i):0;return r&&e<r?Vp(r-e,t)+i:i;}var yI=wye;var Dye=/^\s+/,Mye=oi.parseInt;function Oye(i,r,t){return t||r==null?r=0:r&&(r=+r),Mye(ft(i).replace(Dye,""),r||0);}var To=Oye;var Pye=32,nk=je(function(i,r){var t=Go(r,qa(nk));return Rr(i,Pye,void 0,r,t);});nk.placeholder={};var Kf=nk;var Rye=64,rk=je(function(i,r){var t=Go(r,qa(rk));return Rr(i,Rye,void 0,r,t);});rk.placeholder={};var bI=rk;var Nye=ru(function(i,r,t){i[t?0:1].push(r);},function(){return[[],[]];}),SI=Nye;function kye(i,r){return lI(i,r,function(t,e){return A(i,e);});}var gj=kye;var $ye=Lr(function(i,r){return i==null?{}:gj(i,r);}),EI=$ye;function Lye(i){for(var r,t=this;t instanceof Fd;){var e=yS(t);e.__index__=0,e.__values__=void 0,r?n.__wrapped__=e:r=e;var n=e;t=t.__wrapped__;}return n.__wrapped__=i,r;}var _v=Lye;function Fye(i){return function(r){return i==null?void 0:sa(i,r);};}var TI=Fye;function Vye(i,r,t,e){for(var n=t-1,o=i.length;++n<o;)if(e(i[n],r))return n;return-1;}var vj=Vye;var zye=Array.prototype,Cj=zye.splice;function Gye(i,r,t,e){var n=e?vj:Ha,o=-1,a=r.length,s=i;for(i===r&&(r=ln(r)),t&&(s=Ft(i,fn(t)));++o<a;)for(var l=0,_=r[o],f=t?t(_):_;(l=n(s,f,l,e))>-1;)s!==i&&Cj.call(s,l,1),Cj.call(i,l,1);return i;}var Qf=Gye;function jye(i,r){return i&&i.length&&r&&r.length?Qf(i,r):i;}var Zf=jye;var Uye=je(Zf),II=Uye;function Wye(i,r,t){return i&&i.length&&r&&r.length?Qf(i,r,ke(t,2)):i;}var xI=Wye;function Bye(i,r,t){return i&&i.length&&r&&r.length?Qf(i,r,void 0,t):i;}var AI=Bye;var Hye=Array.prototype,qye=Hye.splice;function Yye(i,r){for(var t=i?r.length:0,e=t-1;t--;){var n=r[t];if(t==e||n!==o){var o=n;Pr(n)?qye.call(i,n,1):Yf(i,n);}}return i;}var wI=Yye;var Xye=Lr(function(i,r){var t=i==null?0:i.length,e=tf(i,r);return wI(i,Ft(r,function(n){return Pr(n,t)?+n:n;}).sort(uI)),e;}),DI=Xye;var Kye=Math.floor,Qye=Math.random;function Zye(i,r){return i+Kye(Qye()*(r-i+1));}var Jf=Zye;var Jye=parseFloat,ebe=Math.min,tbe=Math.random;function ibe(i,r,t){if(t&&typeof t!="boolean"&&Fi(i,r,t)&&(r=t=void 0),t===void 0&&(typeof r=="boolean"?(t=r,r=void 0):typeof i=="boolean"&&(t=i,i=void 0)),i===void 0&&r===void 0?(i=0,r=1):(i=ho(i),r===void 0?(r=i,i=0):r=ho(r)),i>r){var e=i;i=r,r=e;}if(t||i%1||r%1){var n=tbe();return ebe(i+n*(r-i+Jye("1e-"+((n+"").length-1))),r);}return Jf(i,r);}var MI=ibe;var nbe=Math.ceil,rbe=Math.max;function obe(i,r,t,e){for(var n=-1,o=rbe(nbe((r-i)/(t||1)),0),a=Array(o);o--;)a[e?o:++n]=i,i+=t;return a;}var yj=obe;function abe(i){return function(r,t,e){return e&&typeof e!="number"&&Fi(r,t,e)&&(t=e=void 0),r=ho(r),t===void 0?(t=r,r=0):t=ho(t),e=e===void 0?r<t?1:-1:ho(e),yj(r,t,e,i);};}var OI=abe;var sbe=OI(),PI=sbe;var lbe=OI(!0),RI=lbe;var cbe=256,dbe=Lr(function(i,r){return Rr(i,cbe,void 0,void 0,void 0,r);}),NI=dbe;function ube(i,r,t,e,n){return n(i,function(o,a,s){t=e?(e=!1,o):r(t,o,a,s);}),t;}var kI=ube;function pbe(i,r,t){var e=pe(i)?lf:kI,n=arguments.length<3;return e(i,ke(r,4),t,n,So);}var $I=pbe;function mbe(i,r,t,e){var n=i==null?0:i.length;for(e&&n&&(t=i[--n]);n--;)t=r(t,i[n],n,i);return t;}var bj=mbe;function _be(i,r,t){var e=pe(i)?bj:kI,n=arguments.length<3;return e(i,ke(r,4),t,n,ME);}var LI=_be;function fbe(i,r){var t=pe(i)?bo:$E;return t(i,Vs(ke(r,3)));}var FI=fbe;function hbe(i,r){var t=[];if(!(i&&i.length))return t;var e=-1,n=[],o=i.length;for(r=ke(r,3);++e<o;){var a=i[e];r(a,e,i)&&(t.push(a),n.push(e));}return wI(i,n),t;}var hu=hbe;function gbe(i,r,t){return(t?Fi(i,r,t):r===void 0)?r=1:r=Ve(r),mv(ft(i),r);}var VI=gbe;function vbe(){var i=arguments,r=ft(i[0]);return i.length<3?r:r.replace(i[1],i[2]);}var Pn=vbe;var Cbe="Expected a function";function ybe(i,r){if(typeof i!="function")throw new TypeError(Cbe);return r=r===void 0?r:Ve(r),je(i,r);}var zI=ybe;function bbe(i,r,t){r=vo(r,i);var e=-1,n=r.length;for(n||(n=1,i=void 0);++e<n;){var o=i?.[ar(r[e])];o===void 0&&(e=n,o=t),i=rr(o)?o.call(i):o;}return i;}var GI=bbe;var Sbe=Array.prototype,Ebe=Sbe.reverse;function Tbe(i){return i==null?i:Ebe.call(i);}var zp=Tbe;var Ibe=mf("round"),eh=Ibe;function xbe(i){var r=i.length;return r?i[Jf(0,r-1)]:void 0;}var jI=xbe;function Abe(i){return jI(di(i));}var Sj=Abe;function wbe(i){var r=pe(i)?jI:Sj;return r(i);}var UI=wbe;function Dbe(i,r){var t=-1,e=i.length,n=e-1;for(r=r===void 0?e:r;++t<r;){var o=Jf(t,n),a=i[o];i[o]=i[t],i[t]=a;}return i.length=r,i;}var gu=Dbe;function Mbe(i,r){return gu(ln(i),la(r,0,i.length));}var Ej=Mbe;function Obe(i,r){var t=di(i);return gu(t,la(r,0,t.length));}var Tj=Obe;function Pbe(i,r,t){(t?Fi(i,r,t):r===void 0)?r=1:r=Ve(r);var e=pe(i)?Ej:Tj;return e(i,r);}var WI=Pbe;function Rbe(i,r,t){return i==null?i:Al(i,r,t);}var Ue=Rbe;function Nbe(i,r,t,e){return e=typeof e=="function"?e:void 0,i==null?i:Al(i,r,t,e);}var BI=Nbe;function kbe(i){return gu(ln(i));}var Ij=kbe;function $be(i){return gu(di(i));}var xj=$be;function Lbe(i){var r=pe(i)?Ij:xj;return r(i);}var HI=Lbe;var Fbe="[object Map]",Vbe="[object Set]";function zbe(i){if(i==null)return 0;if(Ri(i))return Ln(i)?Qa(i):i.length;var r=yr(i);return r==Fbe||r==Vbe?i.size:X_(i).length;}var dn=zbe;function Gbe(i,r,t){var e=i==null?0:i.length;return e?(t&&typeof t!="number"&&Fi(i,r,t)?(r=0,t=e):(r=r==null?0:Ve(r),t=t===void 0?e:Ve(t)),On(i,r,t)):[];}var qI=Gbe;var jbe=Ka(function(i,r,t){return i+(t?"_":"")+r.toLowerCase();}),YI=jbe;function Ube(i,r){var t;return So(i,function(e,n,o){return t=r(e,n,o),!t;}),!!t;}var Aj=Ube;function Wbe(i,r,t){var e=pe(i)?Sf:Aj;return t&&Fi(i,r,t)&&(r=void 0),e(i,ke(r,3));}var XI=Wbe;var Bbe=je(function(i,r){if(i==null)return[];var t=r.length;return t>1&&Fi(i,r[0],r[1])?r=[]:t>2&&Fi(r[0],r[1],r[2])&&(r=[r[0]]),pI(i,bi(r,1),[]);}),KI=Bbe;var Hbe=4294967295,qbe=Hbe-1,Ybe=Math.floor,Xbe=Math.min;function Kbe(i,r,t,e){var n=0,o=i==null?0:i.length;if(o===0)return 0;r=t(r);for(var a=r!==r,s=r===null,l=sn(r),_=r===void 0;n<o;){var f=Ybe((n+o)/2),g=t(i[f]),S=g!==void 0,x=g===null,D=g===g,R=sn(g);if(a)var j=e||D;else _?j=D&&(e||S):s?j=D&&S&&(e||!x):l?j=D&&S&&!x&&(e||!R):x||R?j=!1:j=e?g<=r:g<r;j?n=f+1:o=f;}return Xbe(o,qbe);}var th=Kbe;var Qbe=4294967295,Zbe=Qbe>>>1;function Jbe(i,r,t){var e=0,n=i==null?e:i.length;if(typeof r=="number"&&r===r&&n<=Zbe){for(;e<n;){var o=e+n>>>1,a=i[o];a!==null&&!sn(a)&&(t?a<=r:a<r)?e=o+1:n=o;}return n;}return th(i,r,wi,t);}var vu=Jbe;function eSe(i,r){return vu(i,r);}var QI=eSe;function tSe(i,r,t){return th(i,r,ke(t,2));}var ZI=tSe;function iSe(i,r){var t=i==null?0:i.length;if(t){var e=vu(i,r);if(e<t&&En(i[e],r))return e;}return-1;}var JI=iSe;function nSe(i,r){return vu(i,r,!0);}var ex=nSe;function rSe(i,r,t){return th(i,r,ke(t,2),!0);}var tx=rSe;function oSe(i,r){var t=i==null?0:i.length;if(t){var e=vu(i,r,!0)-1;if(En(i[e],r))return e;}return-1;}var ix=oSe;function aSe(i,r){for(var t=-1,e=i.length,n=0,o=[];++t<e;){var a=i[t],s=r?r(a):a;if(!t||!En(s,l)){var l=s;o[n++]=a===0?0:a;}}return o;}var nx=aSe;function sSe(i){return i&&i.length?nx(i):[];}var rx=sSe;function lSe(i,r){return i&&i.length?nx(i,ke(r,2)):[];}var ox=lSe;var cSe=4294967295;function dSe(i,r,t){return t&&typeof t!="number"&&Fi(i,r,t)&&(r=t=void 0),t=t===void 0?cSe:t>>>0,t?(i=ft(i),i&&(typeof r=="string"||r!=null&&!_u(r))&&(r=kn(r),!r&&Xa(i))?yo(Cr(i),0,t):i.split(r,t)):[];}var Cu=dSe;var uSe="Expected a function",pSe=Math.max;function mSe(i,r){if(typeof i!="function")throw new TypeError(uSe);return r=r==null?0:pSe(Ve(r),0),je(function(t){var e=t[r],n=yo(t,0,r);return e&&Co(n,e),mn(i,this,n);});}var ax=mSe;var _Se=Ka(function(i,r,t){return i+(t?" ":"")+Qd(r);}),sx=_Se;function fSe(i,r,t){return i=ft(i),t=t==null?0:la(Ve(t),0,i.length),r=kn(r),i.slice(t,t+r.length)==r;}var ih=fSe;function hSe(){return{};}var lx=hSe;function gSe(){return"";}var cx=gSe;function vSe(){return!0;}var dx=vSe;var CSe=Ld(function(i,r){return i-r;},0),ux=CSe;function ySe(i){return i&&i.length?Bf(i,wi):0;}var px=ySe;function bSe(i,r){return i&&i.length?Bf(i,ke(r,2)):0;}var mx=bSe;function SSe(i){var r=i==null?0:i.length;return r?On(i,1,r):[];}var _x=SSe;function ESe(i,r,t){return i&&i.length?(r=t||r===void 0?1:Ve(r),On(i,0,r<0?0:r)):[];}var fx=ESe;function TSe(i,r,t){var e=i==null?0:i.length;return e?(r=t||r===void 0?1:Ve(r),r=e-r,On(i,r<0?0:r,e)):[];}var hx=TSe;function ISe(i,r){return i&&i.length?su(i,ke(r,3),!1,!0):[];}var gx=ISe;function xSe(i,r){return i&&i.length?su(i,ke(r,3)):[];}var vx=xSe;function ASe(i,r){return r(i),i;}var Cx=ASe;var wj=Object.prototype,wSe=wj.hasOwnProperty;function DSe(i,r,t,e){return i===void 0||En(i,wj[t])&&!wSe.call(e,t)?r:i;}var ok=DSe;var MSe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function OSe(i){return"\\"+MSe[i];}var Dj=OSe;var PSe=/<%=([\s\S]+?)%>/g,yx=PSe;var RSe=/<%-([\s\S]+?)%>/g,Mj=RSe;var NSe=/<%([\s\S]+?)%>/g,Oj=NSe;var kSe={escape:Mj,evaluate:Oj,interpolate:yx,variable:"",imports:{_:{escape:Nf}}},Gp=kSe;var $Se="Invalid `variable` option passed into `_.template`",LSe=/\b__p \+= '';/g,FSe=/\b(__p \+=) '' \+/g,VSe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,zSe=/[()=,{}\[\]\/\s]/,GSe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bx=/($^)/,jSe=/['\n\r\u2028\u2029\\]/g,USe=Object.prototype,Pj=USe.hasOwnProperty;function WSe(i,r,t){var e=Gp.imports._.templateSettings||Gp;t&&Fi(i,r,t)&&(r=void 0),i=ft(i),r=Fs({},r,e,ok);var n=Fs({},r.imports,e.imports,ok),o=Wt(n),a=Ff(n,o),s,l,_=0,f=r.interpolate||bx,g="__p += '",S=RegExp((r.escape||bx).source+"|"+f.source+"|"+(f===yx?GSe:bx).source+"|"+(r.evaluate||bx).source+"|$","g"),x=Pj.call(r,"sourceURL")?"//# sourceURL="+(r.sourceURL+"").replace(/\s/g," ")+`
`:"";i.replace(S,function(j,V,ie,_e,oe,Ne){return ie||(ie=_e),g+=i.slice(_,Ne).replace(jSe,Dj),V&&(s=!0,g+=`' +
__e(`+V+`) +
'`),oe&&(l=!0,g+=`';
`+oe+`;
__p += '`),ie&&(g+=`' +
((__t = (`+ie+`)) == null ? '' : __t) +
'`),_=Ne+j.length,j;}),g+=`';
`;var D=Pj.call(r,"variable")&&r.variable;if(!D)g=`with (obj) {
`+g+`
}
`;else if(zSe.test(D))throw new Error($Se);g=(l?g.replace(LSe,""):g).replace(FSe,"$1").replace(VSe,"$1;"),g="function("+(D||"obj")+`) {
`+(D?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+g+`return __p
}`;var R=rf(function(){return Function(o,x+"return "+g).apply(void 0,a);});if(R.source=g,Kd(R))throw R;return R;}var Sx=WSe;var BSe="Expected a function";function HSe(i,r,t){var e=!0,n=!0;if(typeof i!="function")throw new TypeError(BSe);return mt(t)&&(e="leading"in t?!!t.leading:e,n="trailing"in t?!!t.trailing:n),Df(i,r,{leading:e,maxWait:r,trailing:n});}var Ex=HSe;function qSe(i,r){return r(i);}var zs=qSe;var YSe=9007199254740991,ak=4294967295,XSe=Math.min;function KSe(i,r){if(i=Ve(i),i<1||i>YSe)return[];var t=ak,e=XSe(i,ak);r=sr(r),i-=ak;for(var n=Y_(e,r);++t<i;)r(t);return n;}var Tx=KSe;function QSe(){return this;}var fv=QSe;function ZSe(i,r){var t=i;return t instanceof Ut&&(t=t.value()),lf(r,function(e,n){return n.func.apply(n.thisArg,Co([e],n.args));},t);}var Ix=ZSe;function JSe(){return Ix(this.__wrapped__,this.__actions__);}var pa=JSe;function eEe(i){return ft(i).toLowerCase();}var xx=eEe;function tEe(i){return pe(i)?Ft(i,ar):sn(i)?[i]:ln(OS(ft(i)));}var Ax=tEe;var Rj=9007199254740991;function iEe(i){return i?la(Ve(i),-Rj,Rj):i===0?i:0;}var wx=iEe;function nEe(i){return ft(i).toUpperCase();}var Dx=nEe;function rEe(i,r,t){var e=pe(i),n=e||Zr(i)||aa(i);if(r=ke(r,4),t==null){var o=i&&i.constructor;n?t=e?new o():[]:mt(i)?t=rr(o)?Ba(Xd(i)):{}:t={};}return(n?vr:Vr)(i,function(a,s,l){return r(t,a,s,l);}),t;}var nh=rEe;function oEe(i,r){for(var t=i.length;t--&&Ha(r,i[t],0)>-1;);return t;}var Mx=oEe;function aEe(i,r){for(var t=-1,e=i.length;++t<e&&Ha(r,i[t],0)>-1;);return t;}var Ox=aEe;function sEe(i,r,t){if(i=ft(i),i&&(t||r===void 0))return pS(i);if(!i||!(r=kn(r)))return i;var e=Cr(i),n=Cr(r),o=Ox(e,n),a=Mx(e,n)+1;return yo(e,o,a).join("");}var Px=sEe;function lEe(i,r,t){if(i=ft(i),i&&(t||r===void 0))return i.slice(0,uS(i)+1);if(!i||!(r=kn(r)))return i;var e=Cr(i),n=Mx(e,Cr(r))+1;return yo(e,0,n).join("");}var Rx=lEe;var cEe=/^\s+/;function dEe(i,r,t){if(i=ft(i),i&&(t||r===void 0))return i.replace(cEe,"");if(!i||!(r=kn(r)))return i;var e=Cr(i),n=Ox(e,Cr(r));return yo(e,n).join("");}var Nx=dEe;var uEe=30,pEe="...",mEe=/\w*$/;function _Ee(i,r){var t=uEe,e=pEe;if(mt(r)){var n="separator"in r?r.separator:n;t="length"in r?Ve(r.length):t,e="omission"in r?kn(r.omission):e;}i=ft(i);var o=i.length;if(Xa(i)){var a=Cr(i);o=a.length;}if(t>=o)return i;var s=t-Qa(e);if(s<1)return e;var l=a?yo(a,0,s).join(""):i.slice(0,s);if(n===void 0)return l+e;if(a&&(s+=l.length-s),_u(n)){if(i.slice(s).search(n)){var _,f=l;for(n.global||(n=RegExp(n.source,ft(mEe.exec(n))+"g")),n.lastIndex=0;_=n.exec(f);)var g=_.index;l=l.slice(0,g===void 0?s:g);}}else if(i.indexOf(kn(n),s)!=s){var S=l.lastIndexOf(n);S>-1&&(l=l.slice(0,S));}return l+e;}var kx=_Ee;function fEe(i){return q_(i,1);}var $x=fEe;var hEe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gEe=cf(hEe),Nj=gEe;var kj=/&(?:amp|lt|gt|quot|#39);/g,vEe=RegExp(kj.source);function CEe(i){return i=ft(i),i&&vEe.test(i)?i.replace(kj,Nj):i;}var Lx=CEe;var yEe=1/0,bEe=Jd&&1/iu(new Jd([,-0]))[1]==yEe?function(i){return new Jd(i);}:Vd,$j=bEe;var SEe=200;function EEe(i,r,t){var e=-1,n=Ud,o=i.length,a=!0,s=[],l=s;if(t)a=!1,n=Pf;else if(o>=SEe){var _=r?null:$j(i);if(_)return iu(_);a=!1,n=kc,l=new tu();}else l=r?[]:s;e:for(;++e<o;){var f=i[e],g=r?r(f):f;if(f=t||f!==0?f:0,a&&g===g){for(var S=l.length;S--;)if(l[S]===g)continue e;r&&l.push(g),s.push(f);}else n(l,g,t)||(l!==s&&l.push(g),s.push(f));}return s;}var Ho=EEe;var TEe=je(function(i){return Ho(bi(i,1,ei,!0));}),Fx=TEe;var IEe=je(function(i){var r=mi(i);return ei(r)&&(r=void 0),Ho(bi(i,1,ei,!0),ke(r,2));}),Vx=IEe;var xEe=je(function(i){var r=mi(i);return r=typeof r=="function"?r:void 0,Ho(bi(i,1,ei,!0),void 0,r);}),zx=xEe;function AEe(i){return i&&i.length?Ho(i):[];}var zc=AEe;function wEe(i,r){return i&&i.length?Ho(i,ke(r,2)):[];}var Gx=wEe;function DEe(i,r){return r=typeof r=="function"?r:void 0,i&&i.length?Ho(i,void 0,r):[];}var rh=DEe;var MEe=0;function OEe(i){var r=++MEe;return ft(i)+r;}var jx=OEe;function PEe(i,r){return i==null?!0:Yf(i,r);}var oh=PEe;var REe=Math.max;function NEe(i){if(!(i&&i.length))return[];var r=0;return i=bo(i,function(t){if(ei(t))return r=REe(t.length,r),!0;}),Y_(r,function(t){return Ft(i,xf(t));});}var yu=NEe;function kEe(i,r){if(!(i&&i.length))return[];var t=yu(i);return r==null?t:Ft(t,function(e){return mn(r,void 0,e);});}var ah=kEe;function $Ee(i,r,t,e){return Al(i,r,t(sa(i,r)),e);}var Ux=$Ee;function LEe(i,r,t){return i==null?i:Ux(i,r,sr(t));}var Wx=LEe;function FEe(i,r,t,e){return e=typeof e=="function"?e:void 0,i==null?i:Ux(i,r,sr(t),e);}var Bx=FEe;var VEe=Ka(function(i,r,t){return i+(t?" ":"")+r.toUpperCase();}),Hx=VEe;function zEe(i){return i==null?[]:Ff(i,yi(i));}var qx=zEe;var GEe=je(function(i,r){return ei(i)?El(i,r):[];}),Yx=GEe;function jEe(i,r){return Kf(sr(r),i);}var Xx=jEe;var UEe=Lr(function(i){var r=i.length,t=r?i[0]:0,e=this.__wrapped__,n=function(o){return tf(o,i);};return r>1||this.__actions__.length||!(e instanceof Ut)||!Pr(t)?this.thru(n):(e=e.slice(t,+t+(r?1:0)),e.__actions__.push({func:zs,args:[n],thisArg:void 0}),new go(e,this.__chain__).thru(function(o){return r&&!o.length&&o.push(void 0),o;}));}),Kx=UEe;function WEe(){return _f(this);}var Qx=WEe;function BEe(){var i=this.__wrapped__;if(i instanceof Ut){var r=i;return this.__actions__.length&&(r=new Ut(this)),r=r.reverse(),r.__actions__.push({func:zs,args:[zp],thisArg:void 0}),new go(r,this.__chain__);}return this.thru(zp);}var Zx=BEe;function HEe(i,r,t){var e=i.length;if(e<2)return e?Ho(i[0]):[];for(var n=-1,o=Array(e);++n<e;)for(var a=i[n],s=-1;++s<e;)s!=n&&(o[n]=El(o[n]||a,i[s],r,t));return Ho(bi(o,1),r,t);}var sh=HEe;var qEe=je(function(i){return sh(bo(i,ei));}),Jx=qEe;var YEe=je(function(i){var r=mi(i);return ei(r)&&(r=void 0),sh(bo(i,ei),ke(r,2));}),eA=YEe;var XEe=je(function(i){var r=mi(i);return r=typeof r=="function"?r:void 0,sh(bo(i,ei),void 0,r);}),tA=XEe;var KEe=je(yu),iA=KEe;function QEe(i,r,t){for(var e=-1,n=i.length,o=r.length,a={};++e<n;){var s=e<o?r[e]:void 0;t(a,i[e],s);}return a;}var nA=QEe;function ZEe(i,r){return nA(i||[],r||[],gl);}var rA=ZEe;function JEe(i,r){return nA(i||[],r||[],Al);}var oA=JEe;var eTe=je(function(i){var r=i.length,t=r>1?i[r-1]:void 0;return t=typeof t=="function"?(i.pop(),t):void 0,ah(i,t);}),aA=eTe;var at={chunk:VS,compact:eu,concat:ca,difference:SE,differenceBy:EE,differenceWith:TE,drop:xE,dropRight:au,dropRightWhile:AE,dropWhile:wE,fill:kE,findIndex:da,findLastIndex:$f,first:uu,flatten:nf,flattenDeep:YE,flattenDepth:XE,fromPairs:oT,head:uu,indexOf:Jr,initial:mT,intersection:_T,intersectionBy:fT,intersectionWith:hT,join:LT,last:mi,lastIndexOf:zT,nth:oI,pull:II,pullAll:Zf,pullAllBy:xI,pullAllWith:AI,pullAt:DI,remove:hu,reverse:zp,slice:qI,sortedIndex:QI,sortedIndexBy:ZI,sortedIndexOf:JI,sortedLastIndex:ex,sortedLastIndexBy:tx,sortedLastIndexOf:ix,sortedUniq:rx,sortedUniqBy:ox,tail:_x,take:fx,takeRight:hx,takeRightWhile:gx,takeWhile:vx,union:Fx,unionBy:Vx,unionWith:zx,uniq:zc,uniqBy:Gx,uniqWith:rh,unzip:yu,unzipWith:ah,without:Yx,xor:Jx,xorBy:eA,xorWith:tA,zip:iA,zipObject:rA,zipObjectDeep:oA,zipWith:aA};var Ni={countBy:pE,each:he,eachRight:lu,every:NE,filter:LE,find:VE,findLast:jE,flatMap:BE,flatMapDeep:HE,flatMapDepth:qE,forEach:he,forEachRight:lu,groupBy:lT,includes:Vf,invokeMap:ST,keyBy:VT,map:Tl,orderBy:mI,partition:SI,reduce:$I,reduceRight:LI,reject:FI,sample:UI,sampleSize:WI,shuffle:HI,size:dn,some:XI,sortBy:KI};var sk={now:ou};var Tn={after:mS,ary:q_,before:of,bind:af,bindKey:NS,curry:_E,curryRight:fE,debounce:Df,defer:yE,delay:bE,flip:KE,memoize:ef,negate:Vs,once:dI,overArgs:fI,partial:Kf,partialRight:bI,rearg:NI,rest:zI,spread:ax,throttle:Ex,unary:$x,wrap:Xx};var St={castArray:LS,clone:Wo,cloneDeep:Oe,cloneDeepWith:KS,cloneWith:QS,conformsTo:cE,eq:En,gt:cT,gte:dT,isArguments:jo,isArray:pe,isArrayBuffer:ET,isArrayLike:Ri,isArrayLikeObject:ei,isBoolean:Lc,isBuffer:Zr,isDate:Fc,isElement:TT,isEmpty:Eo,isEqual:Bo,isEqualWith:IT,isError:Kd,isFinite:xT,isFunction:rr,isInteger:jf,isLength:vl,isMap:yf,isMatch:AT,isMatchWith:wT,isNaN:Vc,isNative:DT,isNil:MT,isNull:OT,isNumber:xl,isObject:mt,isObjectLike:Lt,isPlainObject:Uo,isRegExp:_u,isSafeInteger:PT,isSet:bf,isString:Ln,isSymbol:sn,isTypedArray:aa,isUndefined:RT,isWeakMap:NT,isWeakSet:kT,lt:UT,lte:WT,toArray:qf,toFinite:ho,toInteger:Ve,toLength:kf,toNumber:$n,toPlainObject:Mf,toSafeInteger:wx,toString:ft};var eo={add:V_,ceil:FS,divide:IE,floor:QE,max:YT,maxBy:XT,mean:QT,meanBy:ZT,min:tI,minBy:iI,multiply:nI,round:eh,subtract:ux,sum:px,sumBy:mx};var hv={clamp:zS,inRange:pT,random:MI};var Ot={assign:$r,assignIn:yl,assignInWith:Fs,assignWith:MS,at:PS,create:mE,defaults:gE,defaultsDeep:vE,entries:cu,entriesIn:du,extend:yl,extendWith:Fs,findKey:GE,findLastKey:UE,forIn:tT,forInRight:iT,forOwn:nT,forOwnRight:rT,functions:aT,functionsIn:sT,get:B,has:uT,hasIn:A,invert:vT,invertBy:CT,invoke:bT,keys:Wt,keysIn:yi,mapKeys:Wf,mapValues:BT,merge:zr,mergeWith:Sl,omit:sI,omitBy:cI,pick:EI,pickBy:ua,result:GI,set:Ue,setWith:BI,toPairs:cu,toPairsIn:du,transform:nh,unset:oh,update:Wx,updateWith:Bx,values:di,valuesIn:qx};var Za={at:Kx,chain:_f,commit:cv,lodash:F,next:pv,plant:_v,reverse:Zx,tap:Cx,thru:zs,toIterator:fv,toJSON:pa,value:pa,valueOf:pa,wrapperChain:Qx};var _i={camelCase:$S,capitalize:sf,deburr:df,endsWith:$c,escape:Nf,escapeRegExp:PE,kebabCase:FT,lowerCase:GT,lowerFirst:jT,pad:vI,padEnd:CI,padStart:yI,parseInt:To,repeat:VI,replace:Pn,snakeCase:YI,split:Cu,startCase:sx,startsWith:ih,template:Sx,templateSettings:Gp,toLower:xx,toUpper:Dx,trim:Px,trimEnd:Rx,trimStart:Nx,truncate:kx,unescape:Lx,upperCase:Hx,upperFirst:Qd,words:pf};var Si={attempt:rf,bindAll:RS,cond:aE,conforms:lE,constant:Gd,defaultTo:hE,flow:JE,flowRight:eT,identity:wi,iteratee:$T,matches:HT,matchesProperty:qT,method:JT,methodOf:eI,mixin:Hf,noop:Vd,nthArg:aI,over:_I,overEvery:hI,overSome:gI,property:Af,propertyOf:TI,range:PI,rangeRight:RI,stubArray:Zd,stubFalse:Wd,stubObject:lx,stubString:cx,stubTrue:dx,times:Tx,toPath:Ax,uniqueId:jx};function tTe(){var i=new Ut(this.__wrapped__);return i.__actions__=ln(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=ln(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=ln(this.__views__),i;}var Lj=tTe;function iTe(){if(this.__filtered__){var i=new Ut(this);i.__dir__=-1,i.__filtered__=!0;}else i=this.clone(),i.__dir__*=-1;return i;}var Fj=iTe;var nTe=Math.max,rTe=Math.min;function oTe(i,r,t){for(var e=-1,n=t.length;++e<n;){var o=t[e],a=o.size;switch(o.type){case"drop":i+=a;break;case"dropRight":r-=a;break;case"take":r=rTe(r,i+a);break;case"takeRight":i=nTe(i,r-a);break;}}return{start:i,end:r};}var Vj=oTe;var aTe=1,sTe=2,lTe=Math.min;function cTe(){var i=this.__wrapped__.value(),r=this.__dir__,t=pe(i),e=r<0,n=t?i.length:0,o=Vj(0,n,this.__views__),a=o.start,s=o.end,l=s-a,_=e?s:a-1,f=this.__iteratees__,g=f.length,S=0,x=lTe(l,this.__takeCount__);if(!t||!e&&n==l&&x==l)return Ix(i,this.__actions__);var D=[];e:for(;l--&&S<x;){_+=r;for(var R=-1,j=i[_];++R<g;){var V=f[R],ie=V.iteratee,_e=V.type,oe=ie(j);if(_e==sTe)j=oe;else if(!oe){if(_e==aTe)continue e;break e;}}D[S++]=j;}return D;}var zj=cTe;var dTe="4.17.21",uTe=2,pTe=1,mTe=3,Uj=4294967295,_Te=Array.prototype,fTe=Object.prototype,Wj=fTe.hasOwnProperty,Gj=Sn?Sn.iterator:void 0,hTe=Math.max,jj=Math.min,lk=function(i){return function(r,t,e){if(e==null){var n=mt(t),o=n&&Wt(t),a=o&&o.length&&pu(t,o);(a?a.length:n)||(e=t,t=r,r=this);}return i(r,t,e);};}(Hf);F.after=Tn.after;F.ary=Tn.ary;F.assign=Ot.assign;F.assignIn=Ot.assignIn;F.assignInWith=Ot.assignInWith;F.assignWith=Ot.assignWith;F.at=Ot.at;F.before=Tn.before;F.bind=Tn.bind;F.bindAll=Si.bindAll;F.bindKey=Tn.bindKey;F.castArray=St.castArray;F.chain=Za.chain;F.chunk=at.chunk;F.compact=at.compact;F.concat=at.concat;F.cond=Si.cond;F.conforms=Si.conforms;F.constant=Si.constant;F.countBy=Ni.countBy;F.create=Ot.create;F.curry=Tn.curry;F.curryRight=Tn.curryRight;F.debounce=Tn.debounce;F.defaults=Ot.defaults;F.defaultsDeep=Ot.defaultsDeep;F.defer=Tn.defer;F.delay=Tn.delay;F.difference=at.difference;F.differenceBy=at.differenceBy;F.differenceWith=at.differenceWith;F.drop=at.drop;F.dropRight=at.dropRight;F.dropRightWhile=at.dropRightWhile;F.dropWhile=at.dropWhile;F.fill=at.fill;F.filter=Ni.filter;F.flatMap=Ni.flatMap;F.flatMapDeep=Ni.flatMapDeep;F.flatMapDepth=Ni.flatMapDepth;F.flatten=at.flatten;F.flattenDeep=at.flattenDeep;F.flattenDepth=at.flattenDepth;F.flip=Tn.flip;F.flow=Si.flow;F.flowRight=Si.flowRight;F.fromPairs=at.fromPairs;F.functions=Ot.functions;F.functionsIn=Ot.functionsIn;F.groupBy=Ni.groupBy;F.initial=at.initial;F.intersection=at.intersection;F.intersectionBy=at.intersectionBy;F.intersectionWith=at.intersectionWith;F.invert=Ot.invert;F.invertBy=Ot.invertBy;F.invokeMap=Ni.invokeMap;F.iteratee=Si.iteratee;F.keyBy=Ni.keyBy;F.keys=Wt;F.keysIn=Ot.keysIn;F.map=Ni.map;F.mapKeys=Ot.mapKeys;F.mapValues=Ot.mapValues;F.matches=Si.matches;F.matchesProperty=Si.matchesProperty;F.memoize=Tn.memoize;F.merge=Ot.merge;F.mergeWith=Ot.mergeWith;F.method=Si.method;F.methodOf=Si.methodOf;F.mixin=lk;F.negate=Vs;F.nthArg=Si.nthArg;F.omit=Ot.omit;F.omitBy=Ot.omitBy;F.once=Tn.once;F.orderBy=Ni.orderBy;F.over=Si.over;F.overArgs=Tn.overArgs;F.overEvery=Si.overEvery;F.overSome=Si.overSome;F.partial=Tn.partial;F.partialRight=Tn.partialRight;F.partition=Ni.partition;F.pick=Ot.pick;F.pickBy=Ot.pickBy;F.property=Si.property;F.propertyOf=Si.propertyOf;F.pull=at.pull;F.pullAll=at.pullAll;F.pullAllBy=at.pullAllBy;F.pullAllWith=at.pullAllWith;F.pullAt=at.pullAt;F.range=Si.range;F.rangeRight=Si.rangeRight;F.rearg=Tn.rearg;F.reject=Ni.reject;F.remove=at.remove;F.rest=Tn.rest;F.reverse=at.reverse;F.sampleSize=Ni.sampleSize;F.set=Ot.set;F.setWith=Ot.setWith;F.shuffle=Ni.shuffle;F.slice=at.slice;F.sortBy=Ni.sortBy;F.sortedUniq=at.sortedUniq;F.sortedUniqBy=at.sortedUniqBy;F.split=_i.split;F.spread=Tn.spread;F.tail=at.tail;F.take=at.take;F.takeRight=at.takeRight;F.takeRightWhile=at.takeRightWhile;F.takeWhile=at.takeWhile;F.tap=Za.tap;F.throttle=Tn.throttle;F.thru=zs;F.toArray=St.toArray;F.toPairs=Ot.toPairs;F.toPairsIn=Ot.toPairsIn;F.toPath=Si.toPath;F.toPlainObject=St.toPlainObject;F.transform=Ot.transform;F.unary=Tn.unary;F.union=at.union;F.unionBy=at.unionBy;F.unionWith=at.unionWith;F.uniq=at.uniq;F.uniqBy=at.uniqBy;F.uniqWith=at.uniqWith;F.unset=Ot.unset;F.unzip=at.unzip;F.unzipWith=at.unzipWith;F.update=Ot.update;F.updateWith=Ot.updateWith;F.values=Ot.values;F.valuesIn=Ot.valuesIn;F.without=at.without;F.words=_i.words;F.wrap=Tn.wrap;F.xor=at.xor;F.xorBy=at.xorBy;F.xorWith=at.xorWith;F.zip=at.zip;F.zipObject=at.zipObject;F.zipObjectDeep=at.zipObjectDeep;F.zipWith=at.zipWith;F.entries=Ot.toPairs;F.entriesIn=Ot.toPairsIn;F.extend=Ot.assignIn;F.extendWith=Ot.assignInWith;lk(F,F);F.add=eo.add;F.attempt=Si.attempt;F.camelCase=_i.camelCase;F.capitalize=_i.capitalize;F.ceil=eo.ceil;F.clamp=hv.clamp;F.clone=St.clone;F.cloneDeep=St.cloneDeep;F.cloneDeepWith=St.cloneDeepWith;F.cloneWith=St.cloneWith;F.conformsTo=St.conformsTo;F.deburr=_i.deburr;F.defaultTo=Si.defaultTo;F.divide=eo.divide;F.endsWith=_i.endsWith;F.eq=St.eq;F.escape=_i.escape;F.escapeRegExp=_i.escapeRegExp;F.every=Ni.every;F.find=Ni.find;F.findIndex=at.findIndex;F.findKey=Ot.findKey;F.findLast=Ni.findLast;F.findLastIndex=at.findLastIndex;F.findLastKey=Ot.findLastKey;F.floor=eo.floor;F.forEach=Ni.forEach;F.forEachRight=Ni.forEachRight;F.forIn=Ot.forIn;F.forInRight=Ot.forInRight;F.forOwn=Ot.forOwn;F.forOwnRight=Ot.forOwnRight;F.get=Ot.get;F.gt=St.gt;F.gte=St.gte;F.has=Ot.has;F.hasIn=Ot.hasIn;F.head=at.head;F.identity=wi;F.includes=Ni.includes;F.indexOf=at.indexOf;F.inRange=hv.inRange;F.invoke=Ot.invoke;F.isArguments=St.isArguments;F.isArray=pe;F.isArrayBuffer=St.isArrayBuffer;F.isArrayLike=St.isArrayLike;F.isArrayLikeObject=St.isArrayLikeObject;F.isBoolean=St.isBoolean;F.isBuffer=St.isBuffer;F.isDate=St.isDate;F.isElement=St.isElement;F.isEmpty=St.isEmpty;F.isEqual=St.isEqual;F.isEqualWith=St.isEqualWith;F.isError=St.isError;F.isFinite=St.isFinite;F.isFunction=St.isFunction;F.isInteger=St.isInteger;F.isLength=St.isLength;F.isMap=St.isMap;F.isMatch=St.isMatch;F.isMatchWith=St.isMatchWith;F.isNaN=St.isNaN;F.isNative=St.isNative;F.isNil=St.isNil;F.isNull=St.isNull;F.isNumber=St.isNumber;F.isObject=mt;F.isObjectLike=St.isObjectLike;F.isPlainObject=St.isPlainObject;F.isRegExp=St.isRegExp;F.isSafeInteger=St.isSafeInteger;F.isSet=St.isSet;F.isString=St.isString;F.isSymbol=St.isSymbol;F.isTypedArray=St.isTypedArray;F.isUndefined=St.isUndefined;F.isWeakMap=St.isWeakMap;F.isWeakSet=St.isWeakSet;F.join=at.join;F.kebabCase=_i.kebabCase;F.last=mi;F.lastIndexOf=at.lastIndexOf;F.lowerCase=_i.lowerCase;F.lowerFirst=_i.lowerFirst;F.lt=St.lt;F.lte=St.lte;F.max=eo.max;F.maxBy=eo.maxBy;F.mean=eo.mean;F.meanBy=eo.meanBy;F.min=eo.min;F.minBy=eo.minBy;F.stubArray=Si.stubArray;F.stubFalse=Si.stubFalse;F.stubObject=Si.stubObject;F.stubString=Si.stubString;F.stubTrue=Si.stubTrue;F.multiply=eo.multiply;F.nth=at.nth;F.noop=Si.noop;F.now=sk.now;F.pad=_i.pad;F.padEnd=_i.padEnd;F.padStart=_i.padStart;F.parseInt=_i.parseInt;F.random=hv.random;F.reduce=Ni.reduce;F.reduceRight=Ni.reduceRight;F.repeat=_i.repeat;F.replace=_i.replace;F.result=Ot.result;F.round=eo.round;F.sample=Ni.sample;F.size=Ni.size;F.snakeCase=_i.snakeCase;F.some=Ni.some;F.sortedIndex=at.sortedIndex;F.sortedIndexBy=at.sortedIndexBy;F.sortedIndexOf=at.sortedIndexOf;F.sortedLastIndex=at.sortedLastIndex;F.sortedLastIndexBy=at.sortedLastIndexBy;F.sortedLastIndexOf=at.sortedLastIndexOf;F.startCase=_i.startCase;F.startsWith=_i.startsWith;F.subtract=eo.subtract;F.sum=eo.sum;F.sumBy=eo.sumBy;F.template=_i.template;F.times=Si.times;F.toFinite=St.toFinite;F.toInteger=Ve;F.toLength=St.toLength;F.toLower=_i.toLower;F.toNumber=St.toNumber;F.toSafeInteger=St.toSafeInteger;F.toString=St.toString;F.toUpper=_i.toUpper;F.trim=_i.trim;F.trimEnd=_i.trimEnd;F.trimStart=_i.trimStart;F.truncate=_i.truncate;F.unescape=_i.unescape;F.uniqueId=Si.uniqueId;F.upperCase=_i.upperCase;F.upperFirst=_i.upperFirst;F.each=Ni.forEach;F.eachRight=Ni.forEachRight;F.first=at.head;lk(F,function(){var i={};return Vr(F,function(r,t){Wj.call(F.prototype,t)||(i[t]=r);}),i;}(),{chain:!1});F.VERSION=dTe;(F.templateSettings=_i.templateSettings).imports._=F;vr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){F[i].placeholder=F;});vr(["drop","take"],function(i,r){Ut.prototype[i]=function(t){t=t===void 0?1:hTe(Ve(t),0);var e=this.__filtered__&&!r?new Ut(this):this.clone();return e.__filtered__?e.__takeCount__=jj(t,e.__takeCount__):e.__views__.push({size:jj(t,Uj),type:i+(e.__dir__<0?"Right":"")}),e;},Ut.prototype[i+"Right"]=function(t){return this.reverse()[i](t).reverse();};});vr(["filter","map","takeWhile"],function(i,r){var t=r+1,e=t==pTe||t==mTe;Ut.prototype[i]=function(n){var o=this.clone();return o.__iteratees__.push({iteratee:ke(n,3),type:t}),o.__filtered__=o.__filtered__||e,o;};});vr(["head","last"],function(i,r){var t="take"+(r?"Right":"");Ut.prototype[i]=function(){return this[t](1).value()[0];};});vr(["initial","tail"],function(i,r){var t="drop"+(r?"":"Right");Ut.prototype[i]=function(){return this.__filtered__?new Ut(this):this[t](1);};});Ut.prototype.compact=function(){return this.filter(wi);};Ut.prototype.find=function(i){return this.filter(i).head();};Ut.prototype.findLast=function(i){return this.reverse().find(i);};Ut.prototype.invokeMap=je(function(i,r){return typeof i=="function"?new Ut(this):this.map(function(t){return Il(t,i,r);});});Ut.prototype.reject=function(i){return this.filter(Vs(ke(i)));};Ut.prototype.slice=function(i,r){i=Ve(i);var t=this;return t.__filtered__&&(i>0||r<0)?new Ut(t):(i<0?t=t.takeRight(-i):i&&(t=t.drop(i)),r!==void 0&&(r=Ve(r),t=r<0?t.dropRight(-r):t.take(r-i)),t);};Ut.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse();};Ut.prototype.toArray=function(){return this.take(Uj);};Vr(Ut.prototype,function(i,r){var t=/^(?:filter|find|map|reject)|While$/.test(r),e=/^(?:head|last)$/.test(r),n=F[e?"take"+(r=="last"?"Right":""):r],o=e||/^find/.test(r);n&&(F.prototype[r]=function(){var a=this.__wrapped__,s=e?[1]:arguments,l=a instanceof Ut,_=s[0],f=l||pe(a),g=function(V){var ie=n.apply(F,Co([V],s));return e&&S?ie[0]:ie;};f&&t&&typeof _=="function"&&_.length!=1&&(l=f=!1);var S=this.__chain__,x=!!this.__actions__.length,D=o&&!S,R=l&&!x;if(!o&&f){a=R?a:new Ut(this);var j=i.apply(a,s);return j.__actions__.push({func:zs,args:[g],thisArg:void 0}),new go(j,S);}return D&&R?i.apply(this,s):(j=this.thru(g),D?e?j.value()[0]:j.value():j);});});vr(["pop","push","shift","sort","splice","unshift"],function(i){var r=_Te[i],t=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",e=/^(?:pop|shift)$/.test(i);F.prototype[i]=function(){var n=arguments;if(e&&!this.__chain__){var o=this.value();return r.apply(pe(o)?o:[],n);}return this[t](function(a){return r.apply(pe(a)?a:[],n);});};});Vr(Ut.prototype,function(i,r){var t=F[r];if(t){var e=t.name+"";Wj.call(zd,e)||(zd[e]=[]),zd[e].push({name:r,func:t});}});zd[H_(void 0,uTe).name]=[{name:"wrapper",func:void 0}];Ut.prototype.clone=Lj;Ut.prototype.reverse=Fj;Ut.prototype.value=zj;F.prototype.at=Za.at;F.prototype.chain=Za.wrapperChain;F.prototype.commit=Za.commit;F.prototype.next=Za.next;F.prototype.plant=Za.plant;F.prototype.reverse=Za.reverse;F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=Za.value;F.prototype.first=F.prototype.head;Gj&&(F.prototype[Gj]=Za.toIterator);var Bj=F;function gTe(i,r){if(i&1&&(u(0,"h5"),T(1),p()),i&2){let t=d();c(),z(t.parameters.title);}}function vTe(i,r){if(i&1){let t=O();U(0),u(1,"range-picker",16),b("modelChange",function(n){let o=C(t).index,a=d(2);return y(a.parameters.result.pCalendar[o]=n);}),p(),W();}if(i&2){let t=r.$implicit,e=r.index,n=d(2);c(),m("model",n.parameters.result.pCalendar[e])("datePickerMode",!0)("placeholder",t.placeholder);}}function CTe(i,r){if(i&1&&(u(0,"div",14),E(1,vTe,2,3,"ng-container",15),p()),i&2){let t=d();c(),m("ngForOf",t.parameters.pCalendar);}}function yTe(i,r){if(i&1&&(u(0,"option",20),T(1),p()),i&2){let t=r.$implicit;m("title",X(t.title))("value",X(t.value)),c(),z(t.label);}}function bTe(i,r){if(i&1){let t=O();u(0,"div",17)(1,"select",18),b("change",function(n){C(t);let o=d();return y(o.parameters.result.select=n.target.value);}),E(2,yTe,2,5,"option",19),p()();}if(i&2){let t=d();c(2),m("ngForOf",t.parameters.select);}}function STe(i,r){if(i&1){let t=O();u(0,"input",23),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.parameters.result.input,n)||(o.parameters.result.input=n),y(n);}),p();}if(i&2){let t=d(2);m("name",X(t.parameters.input.name))("type",X(t.parameters.input.type)),H("ngModel",t.parameters.result.input);}}function ETe(i,r){if(i&1){let t=O();u(0,"input",24),b("change",function(){C(t);let n=d(2);return y(n.parameters.result.input=!n.parameters.result.input);}),p();}if(i&2){let t=d(2);m("name",X(t.parameters.input.name))("type",X(t.parameters.input.type))("checked",t.parameters.result.input);}}function TTe(i,r){if(i&1&&(U(0),u(1,"span",5),T(2),p(),W()),i&2){let t=d(2);c(),m("innerHtml",t.parameters.input.checkboxtext,Re),c(),z(t.parameters.input.checkboxtext);}}function ITe(i,r){if(i&1&&(u(0,"div",14),$(1,"p",5),E(2,STe,1,5,"input",21)(3,ETe,1,5,"input",22)(4,TTe,3,2,"ng-container",3),p()),i&2){let t=d();c(),m("innerHtml",t.parameters.input.label,Re),c(),m("ngIf",!(t.parameters.input&&t.parameters.input.type&&t.parameters.input.type=="checkbox")),c(),m("ngIf",t.parameters.input&&t.parameters.input.type&&t.parameters.input.type=="checkbox"),c(),m("ngIf",t.parameters.input&&t.parameters.input.type&&t.parameters.input.type=="checkbox"&&t.parameters.input.checkboxtext);}}function xTe(i,r){if(i&1&&$(0,"p",25),i&2){let t=d();m("innerHtml",t.parameters.bodytext,Re);}}function ATe(i,r){if(i&1){let t=O();u(0,"div")(1,"label",26)(2,"input",27),q("ngModelChange",function(n){let o=C(t).$implicit,a=d(2);return Y(a.parameters.result.checkboxes[o.name],n)||(a.parameters.result.checkboxes[o.name]=n),y(n);}),p(),T(3),p()();}if(i&2){let t=r.$implicit,e=d(2);c(),m("title",X(t.title)),c(),H("ngModel",e.parameters.result.checkboxes[t.name]),c(),ue(" ",t.label," ");}}function wTe(i,r){if(i&1&&(U(0),E(1,ATe,4,4,"div",15),W()),i&2){let t=d();c(),m("ngForOf",t.parameters.checkboxes);}}function DTe(i,r){if(i&1){let t=O();u(0,"div",28)(1,"range-picker",16),b("modelChange",function(n){C(t);let o=d();return y(o.parameters.result.date=n);}),p()();}if(i&2){let t=d();c(),m("model",t.parameters.result.date)("datePickerMode",!0)("placeholder",t.parameters.date.placeholder);}}function MTe(i,r){if(i&1&&(u(0,"span",30),T(1),p()),i&2){let t=d(2);c(),z(t.parameters.warningOn.message);}}function OTe(i,r){if(i&1&&(u(0,"div"),E(1,MTe,2,1,"span",29),p()),i&2){let t=d();c(),m("ngIf",t._.hasIn(t.parameters,t.parameters.warningOn.conditions[0])&&t._.get(t.parameters,t.parameters.warningOn.conditions[0])===!0||t._.hasIn(t.parameters,t.parameters.warningOn.conditions[1])&&t._.get(t.parameters,t.parameters.warningOn.conditions[1])===!0);}}function PTe(i,r){if(i&1&&(u(0,"div"),$(1,"filter-generator",31),p()),i&2){let t=d();c(),m("schema",t.parameters.form_schema)("filterTreeHeight",1)("model",t.parameters.result.schema_model)("hideClearButtons",!0)("filterID",t.parameters.form_id)("doNotSave",t.parameters.doNotSave)("onFilterChangeHook",t.parameters.onFilterChangeHook);}}function RTe(i,r){if(i&1){let t=O();u(0,"button",32),b("click",function(){C(t);let n=d();return y(n.dialogRef.close("ok"));}),P(1,0),p();}}function NTe(i,r){if(i&1){let t=O();u(0,"button",33),b("click",function(){C(t);let n=d();return y(n.dialogRef.close(n.parameters.result));}),T(1),p();}if(i&2){let t=d();be(Ct("save ",t.parameters.saveButtonClass)),m("disabled",t.parameters.result&&t.parameters.result.input&&t.parameters.result.input===""||t.parameters.result&&t.parameters.result.select&&t.parameters.result.select===""),c(),z(t.parameters.saveButton);}}var Ei=(()=>{let r=class r{constructor(e){this.dialogRef=e,this._=ye;}get parameters(){return this._parameters;}set parameters(e){A(e,"cancelButton")||(e.cancelButton="CANCEL"),this._parameters=e;}dialogKeyHandler(e,n){let o=e.keyCode?e.keyCode:e.which;o===13&&n.close("ok"),o===27&&n.close(null);}};r.ɵfac=function(n){return new(n||r)(k(wt));},r.ɵcmp=Z({type:r,selectors:[["app-confirm"]],standalone:!1,decls:18,vars:14,consts:()=>{let e;return e="OK",[e,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","confirm",3,"keydown","ngClass"],[1,"vex-dialog-form"],[4,"ngIf"],[1,"content"],[3,"innerHtml"],["class","inputpart",4,"ngIf"],["class","dropdownpart",4,"ngIf"],["class","bodytext",3,"innerHtml",4,"ngIf"],["class","datepicker",4,"ngIf"],[1,"dialogbuttons"],["class","save","type","button",3,"click",4,"ngIf"],["type","button",3,"disabled","class","click",4,"ngIf"],["type","button",1,"cancle",3,"click"],[1,"inputpart"],[4,"ngFor","ngForOf"],["dateFormat","YYYYMMDD",3,"modelChange","model","datePickerMode","placeholder"],[1,"dropdownpart"],["id","reject","name","reject",1,"col-md-12",3,"change"],[3,"title","value",4,"ngFor","ngForOf"],[3,"title","value"],[3,"ngModel","name","type","ngModelChange",4,"ngIf"],[3,"checked","name","type","change",4,"ngIf"],[3,"ngModelChange","ngModel","name","type"],[3,"change","checked","name","type"],[1,"bodytext",3,"innerHtml"],[3,"title"],["type","checkbox","name","checkbox.name",3,"ngModelChange","ngModel"],[1,"datepicker"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[3,"schema","filterTreeHeight","model","hideClearButtons","filterID","doNotSave","onFilterChangeHook"],["type","button",1,"save",3,"click"],["type","button",3,"click","disabled"]];},template:function(n,o){n&1&&(u(0,"div",1),b("keydown",function(s){return o.dialogKeyHandler(s,o.dialogRef);}),u(1,"div",2),E(2,gTe,2,1,"h5",3),u(3,"div",4),$(4,"h3",5),E(5,CTe,2,1,"div",6)(6,bTe,3,1,"div",7)(7,ITe,5,4,"div",6)(8,xTe,1,1,"p",8)(9,wTe,2,1,"ng-container",3)(10,DTe,2,3,"div",9)(11,OTe,2,1,"div",3)(12,PTe,2,7,"div",3),p(),u(13,"div",10),E(14,RTe,2,0,"button",11)(15,NTe,2,5,"button",12),u(16,"button",13),b("click",function(){return o.dialogRef.close(null);}),T(17),p()()()()),n&2&&(m("ngClass",o.parameters.cssClass),c(2),m("ngIf",o.parameters.title),c(2),m("innerHtml",o.parameters.content,Re),c(),m("ngIf",o.parameters.pCalendar),c(),m("ngIf",o.parameters.select),c(),m("ngIf",o.parameters.input),c(),m("ngIf",o.parameters.bodytext),c(),m("ngIf",o.parameters.checkboxes),c(),m("ngIf",o.parameters.date),c(),m("ngIf",o.parameters.warningOn&&o.parameters.warningOn.message),c(),m("ngIf",o.parameters.form_schema),c(2),m("ngIf",!o.parameters.saveButton),c(),m("ngIf",o.parameters.saveButton),c(2),z(o.parameters.cancelButton));},encapsulation:2});let i=r;return i;})();var G=class{constructor(r,t,e,n,o,a,s){this._value=r,this._text=t||r,this._label=n||t||r,this._title=e,this._htmlLabel=o,this._wholeObject=a,this._selected=s||!1;}get value(){return this._value;}set value(r){this._value=r;}get text(){return this._text;}set text(r){this._text=r;}get label(){return this._label;}set label(r){this._label=r;}get title(){return this._title;}set title(r){this._title=r;}get htmlLabel(){return this._htmlLabel;}set htmlLabel(r){this._htmlLabel=r;}get wholeObject(){return this._wholeObject;}set wholeObject(r){this._wholeObject=r;}get selected(){return this._selected;}set selected(r){this._selected=r;}get description(){return this._description;}set description(r){this._description=r;}};var gv=class{constructor(r,t){this.from=r,this.to=t;}};var nU=v1(iU());var I=(()=>{let r=class r{constructor(e,n,o,a){this.$httpClient=e,this.dialog=n,this.router=o,this.sanitizer=a,this.header=new At();}static traverse(e,n,o){o!=null&&(o+=`[${o}]`);for(let a in e)e.hasOwnProperty(a)&&a&&(typeof e[a]=="object"?this.traverse(e[a],n,a):e[a]=n.apply(e,[e[a],a,e,o]));return e;}static penetrateArrayToObject(e,n){e instanceof Object&&!(e instanceof Array)?n.call(this,e):e instanceof Array&&e.forEach(o=>{this.penetrateArrayToObject(o,n);});}static removeKeyFromObject(e,n){pe(n)?n.forEach(o=>{A(e,o)&&delete e[o];}):A(e,n)&&delete e[n];for(let o in e)typeof e[o]=="object"&&this.removeKeyFromObject(e[o],n);return e;}static getPath(e,n,o){for(let a in e)if(e[a]&&typeof e[a]=="object"){let s=this.getPath(e[a],n,o);if(s)return s.unshift(a),s;}else if(n){if(a===n&&e[a]===o)return[a];}else if(e[a]===o)return[a];}static downloadFile(e,n){if(n)try{let o=document.createElement("a"),a=document.createTextNode("&nbsp;");o.appendChild(a),o.href=e,o.download=n,o.target="_blank",document.body.appendChild(o),o.click(),document.body.removeChild(o);}catch(o){this.log("On DownloadFile",o),Te.nativeWindow.open(e);}else Te.nativeWindow.open(e);}static firstLetterToUpperCase(e){return e&&e[0].toUpperCase()+e.slice(1);}static firstLetterToLowerCase(e){return e&&e[0].toLowerCase()+e.slice(1);}static isSet(e){return!((e==null||mt(e)&&Eo(e))&&e!=0&&e!=""&&!Fc(e)&&!Lc(e));}static hasSet(e,n){return A(e,n)&&r.isSet(B(e,n));}static appendStringIfExist(e,n){try{if(e&&e!="")return e+n;}catch{return"";}return"";}static getOrNone(e,n,o){return this.hasSet(e,n)?B(e,n):o??"";}static hasBiggerAs(e,n,o){try{return this.hasSet(e,n)&&B(e,n)>o;}catch{return!1;}}static getStudyInstanceUID(e){try{return B(e,"0020000D.Value[0]");}catch{return;}}static mergeArrayAtPosition(e,n,o=1,a=""){try{return[e.slice(n,o+1).join(a),...e.slice(n+o+1,e.length)];}catch{}}static checkInPath(e,n,o){try{return A(e,n)?o(B(e,n)):!1;}catch{return!1;}}static hasSmallerAs(e,n,o){try{return this.hasSet(e,n)&&B(e,n)>o;}catch{return!1;}}static isDate(e){try{return e&&!isNaN(new Date(e).getTime())&&typeof e!="number"?(console.log("date=",new Date(e)),Fc(new Date(e))):!1;}catch{return!1;}}static isSetInObject(e,n){return A(e,n)&&this.isSet(e[n]);}navigateTo(e){this.router.navigateByUrl(e);}static promiseToObservable(e){return ct.create(n=>{e.then(o=>{n.next(o);}).catch(o=>{n.error(o);});});}static prepareFlatFilterObject(e,n){if(n||(n=3),pe(e)&&e.length>0){if(A(e,"[0][0].firstChild"))return e;{let o=[],a=[],s=[];return e.forEach(l=>{s.length<2?s.push(l):a.length<n?(a.push(s),s=[],s.push(l)):(o.push(a),a=[],a.push(s),s=[],s.push(l));}),s.length>0&&(a.length<n||(o.push(a),a=[]),a.push(s)),a.length>0&&o.push(a),o;}}else return e;}static filtersExists(e,n,o){try{o=o||"or";let a=!0,s=0;return n.forEach(l=>{a=a&&Object.keys(e).indexOf(l)>-1,Object.keys(e).indexOf(l)>-1&&s++;}),o==="and"?a:s>0;}catch{return!1;}}static arrayHasIn(e,n,o){let a=!1;return e.forEach(s=>{A(s,n)&&(o||o===!1?B(s,n)===o&&(a=!0):a=!0);}),a;}static stringifyArrayOrObject(e,n){Object.keys(e).forEach(o=>{pe(e[o])&&n.indexOf(o)===-1&&(e[o].length===2&&o.indexOf("Range")>-1?e[o]=e[o].join(" - "):mt(e[o][0])?e[o]=e[o].map(a=>Object.keys(a).map(s=>`${s}=${a[s]}`)).join("; "):e[o]=e[o].join(", ")),mt(e[o])&&n.indexOf(o)===-1&&(e[o]=Object.keys(e[o]).map(a=>`${a}=${e[o][a]}`).join(", "));});}static extendAetObjectWithAlias(e){let n=[],o=[];return e.forEach(a=>{if(A(a,"dcmOtherAETitle")){let s=Oe(a);a.dcmOtherAETitle.forEach(l=>{s.dicomAETitle=l,o.indexOf(l)===-1&&(n.push(Oe(s)),o.push(l));});}}),[...e,...n];}static extendAetObjectWithAliasFromSameObject(e){let n="dcmNetworkAE.dcmOtherAETitle",o=[];return e.forEach(a=>{if(o.push(a),A(a,n))try{B(a,n).forEach(s=>{o.filter(l=>l.dicomAETitle===s).length<1&&o.push({dicomAETitle:s});});}catch(s){this.log("Trying to get aliases from same path",s);}}),o;}static convertDateRangeToString(e){let n=new Dr("en_US");if(e&&e.length>0){let o=[];return e.forEach(a=>{a&&o.push(n.transform(a,"yyyyMMdd"));}),o.length>1?o.join("-"):o.join("");}else return Fc(e)?n.transform(e,"yyyyMMdd"):"";}static extractDurationFromValue(e){let n,o=/([P|p|T|t])|((\d*)(\w))/g,a,s,l,_,f,g,S,x;try{for(;(n=o.exec(e))!=null;)switch(n[1]&&(x=n[1]),!0){case this.isEqual(n[4],"Y")||this.isEqual(n[4],"y"):a=parseInt(n[3]);break;case this.isEqual(n[4],"W")||this.isEqual(n[4],"w"):S=parseInt(n[3]);break;case this.isEqual(n[4],"M")||this.isEqual(n[4],"m"):x==="T"||x==="t"?f=parseInt(n[3]):l=parseInt(n[3]);break;case this.isEqual(n[4],"D")||this.isEqual(n[4],"d"):s=parseInt(n[3]);break;case this.isEqual(n[4],"H")||this.isEqual(n[4],"h"):_=parseInt(n[3]);break;case this.isEqual(n[4],"S")||this.isEqual(n[4],"s"):g=parseInt(n[3]);break;}return{Week:S,FullYear:a,Date:s,Hours:_,Minutes:f,Month:l,Seconds:g};}catch(D){return console.error("error parsing data!",D),null;}}static filterObjectBasedOnUIConfigAndRole(e,n,o,a){try{let s=[];return typeof o=="string"&&(o=o.split(",").map(l=>l.trim())),typeof a=="string"&&(a=a.split(",").map(l=>l.trim())),o&&a&&this.isAtLeastOneElementOfArrayInArray(a,o)?e.filter(l=>n&&n.length>0&&n.filter(_=>_===l.value).length>0):s;}catch{return e;}}static extractUIConfigsByRoles(e,n,o,a){try{return typeof o=="string"&&(o=o.split(",").map(s=>s.trim())),e.filter(s=>{let l=s[n];return l&&typeof l=="string"&&(l=[l]),a?l&&this.isAtLeastOneElementOfArrayInArray(l,o):l&&this.isAtLeastOneElementOfArrayInArray(l,o)||!l;});}catch{return[];}}static removeLastEmptyStringsFromArray(e){try{let n=e.length;for(;e.length>0&&n>0&&(!e[e.length-1]||e[e.length-1]==="");){e.splice(e.length-1,1);n--;}return e;}catch{return e;}}static isAtLeastOneElementOfArrayInArray(e,n){try{return e.filter(o=>n.filter(a=>o===a).length>0).length>0;}catch{return!1;}}static createDateFromDuration(e){let n=new Date(),o=new Date();return Object.keys(e).forEach(a=>{if(e[a])switch(a){case"Week":o.setDate(n.getDate()-7*e[a]);break;case"FullYear":o.setFullYear(n.getFullYear()-e[a]);break;case"Date":o.setDate(n.getDate()-e[a]);break;case"Hours":o.setHours(n.getHours()-e[a]);break;case"Minutes":o.setMinutes(n.getMinutes()-e[a]);break;case"Month":o.setMonth(n.getMonth()-e[a]);break;case"Seconds":o.setSeconds(n.getSeconds()-e[a]);break;}}),o;}static getSingleDateTimeValueFromInt(e){return e?e<10?`0${e}`:e.toString():"00";}static extractDateTimeFormat(e){let n=/(DATE|date|TIME|time|DATE-TIME|date-time|datetime)=([yMdHmsS:\-.\ \/\\]*)/gm,o,a={dateFormat:void 0,timeFormat:void 0,dateTimeFormat:void 0};try{for(;(o=n.exec(e))!==null;)switch(o.index===n.lastIndex&&n.lastIndex++,o[1].toUpperCase()){case"DATE":{a.dateFormat=o[2];break;}case"TIME":{a.timeFormat=o[2];break;}case"DATE-TIME":{a.dateTimeFormat=o[2];break;}}return a.dateFormat&&a.timeFormat&&!a.dateTimeFormat&&(a.dateTimeFormat=`${a.dateFormat} ${a.timeFormat}`),a.dateFormat=a.dateFormat||"yyyyMMdd",a.timeFormat=a.timeFormat||"HH:mm",a.dateTimeFormat=a.dateTimeFormat||"yyyyMMdd HH:mm",a;}catch{return{dateFormat:"yyyyMMdd",timeFormat:"HH:mm",dateTimeFormat:"yyyyMMdd HH:mm"};}}static extractDateTimeFromString(e){let n=/^\d{14}-\d{14}$|^\d{8}-\d{8}$|^\d{6}-\d{6}$|^\d{14}-$|^-\d{14}$|^\d{14}$|^\d{8}-$|^-\d{8}$|^\d{8}$|^-\d{6}$|^\d{6}-$|^\d{6}$|^\d{14}.\d{1,3}|^\d{6}.\d{1,6}$/m,o=/(-?)(\d{4})(\d{2})(\d{2})(\d{0,2})(\d{0,2})(\d{0,2})(-?)|(-?)(\d{0,4})(\d{0,2})(\d{0,2})(\d{2})(\d{2})(\d{2})(-?)|(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2}).(\d{1,3})|(\d{2})(\d{2})(\d{2}).(\d{1,6})/g,a=n.exec(e),s,l=[],_,f,g;if(a!==null&&a[0]){for(;(s=o.exec(a[0]))!==null;)s.index===o.lastIndex&&o.lastIndex++,l.push(s);return l.length===2&&((l[0][8]==="-"||l[0][16]==="-")&&(_="range"),f={FullYear:l[0][2],Month:l[0][3],Date:l[0][4],Hours:l[0][5]||l[0][13],Minutes:l[0][6]||l[0][14],Seconds:l[0][7]||l[0][15]},g={FullYear:l[1][2],Month:l[1][3],Date:l[1][4],Hours:l[1][5]||l[1][13],Minutes:l[1][6]||l[1][14],Seconds:l[1][7]||l[1][15]}),l.length===1&&(l[0][1]==="-"||l[0][9]==="-"?(_="leftOpen",g={FullYear:l[0][2],Month:l[0][3],Date:l[0][4],Hours:l[0][5]||l[0][13],Minutes:l[0][6]||l[0][14],Seconds:l[0][7]||l[0][15]}):(l[0][8]==="-"||l[0][16]==="-"?_="rightOpen":_="single",f={FullYear:l[0][2],Month:l[0][3],Date:l[0][4],Hours:l[0][5]||l[0][13],Minutes:l[0][6]||l[0][14],Seconds:l[0][7]||l[0][15]})),f&&(f.dateObject=this.getDateFromJ4careDateTime(f)),g&&(g.dateObject=this.getDateFromJ4careDateTime(g)),{mode:_,firstDateTime:f,secondDateTime:g};}try{let S=new Date(e);return isNaN(S.getTime())?null:(_="single",f={FullYear:S.getFullYear().toString(),Month:(S.getMonth()+1).toString(),Date:S.getDate().toString(),Hours:S.getHours().toString(),Minutes:S.getMinutes().toString(),Seconds:S.getSeconds().toString(),dateObject:S},{mode:_,firstDateTime:f,secondDateTime:g});}catch(S){return this.log("Converting string in to date didn't work",S),null;}}static getDateFromJ4careDateTime(e){let n=new Date();return new Date(`${e.FullYear||n.getFullYear()}-${e.Month||n.getMonth()+1}-${e.Date||n.getDate()} ${e.Hours||"00"}:${e.Minutes||"00"}:${e.Seconds||"00"}`);}static splitRange(e,n){let o=r.extractDateTimeFromString(e),a=o&&o.mode==="range"?o.secondDateTime.dateObject.getTime()-o.firstDateTime.dateObject.getTime():0,s=a/(n||31),l=864e5;return a>0?l>s?r.splitRangeInBlocks(o,l,void 0,!1):r.splitRangeInBlocks(o,s,void 0,!0):[e];}static rangeObjectToString(e){let n="",o="",a=e.mode!="single"?"-":"";return(e.mode==="range"||e.mode==="rightOpen"||e.mode==="single")&&(n=this.formatDate(e.firstDateTime.dateObject,"yyyyMMdd")),(e.mode==="range"||e.mode==="leftOpen")&&(o=this.formatDate(e.secondDateTime.dateObject,"yyyyMMdd")),`${n}${a}${o}`;}static splitRangeInBlocks(e,n,o,a=!1){let s=[],l=[];if(o||(o=e&&e.mode==="range"?e.secondDateTime.dateObject.getTime()-e.firstDateTime.dateObject.getTime():0),o>n){s.push(this.formatDate(e.firstDateTime.dateObject,"yyyyMMdd"));let _=o/n,f=e.firstDateTime.dateObject.getTime();for(;_>0;){if(_!=o/n){let g=new Date(f);g.setDate(g.getDate()+1),l.push(this.convertToDatePareString(g,f+n));}else l.push(this.convertToDatePareString(f,f+n));f=f+n,s.push(this.convertToDateString(new Date(f))),_--;}return a?l:s;}else return[this.rangeObjectToString(e)];}static splitDate(e){let n;return A(e,"StudyDate")?n=e.StudyDate:n=e,r.splitRangeInBlocks(r.extractDateTimeFromString(n),864e5);}static getMainAet(e){try{return[e.filter(n=>n.dcmAcceptedUserRole&&n.dcmAcceptedUserRole.indexOf("user")>-1)[0]||e[0]];}catch(n){return console.groupCollapsed("j4care getMainAet(aets[])"),console.error(n),console.groupEnd(),e&&e.length>0?[e[0]]:[];}}static stringValidDate(e){return!!Date.parse(e);}static validTimeObject(e){return!!(e.Hours&&e.Hours<25&&e.Minutes&&e.Minutes<60&&(e.Seconds&&e.Seconds<60||!e.Seconds||e.Seconds===""||e.Seconds==="00"));}static isSetDateObject(e){return!!(e&&e.FullYear&&e.Month&&e.Date);}static isSetTimeObject(e){return!!(e&&e.Hours&&e.Minutes&&e.Seconds);}static validDateObject(e){return!!this.stringValidDate(`${e.FullYear}-${e.Month}-${e.Date}`);}static splitTimeAndTimezone(e){let n=/(.*)([+-])(\d{2}:?\d{2})/,o;return(o=n.exec(e))!==null?{time:o[1],timeZone:`${o[2]||""}${o[3]||""}`}:e&&{time:e,timeZone:""};}static redirectOnAuthResponse(e){let n;try{n=e;}catch{typeof e=="object"?n=e:n=[];}return n;}static attrs2rows(e,n,o){function a(l){if("02468ACE".indexOf(l.charAt(3))<0){let _=l.slice(4,6);if(_!=="00"){let f=n[l.slice(0,4)+"00"+_];return f&&f.Value&&f.Value[0];}}}let s=this;Object.keys(n).sort().forEach(function(l){let _=n[l];if(o.push({level:e,tag:l,name:DCM4CHE.elementName.forTag(l,a(l)),el:_}),_.vr==="SQ"){let f=e+">";he(_.Value,function(g,S){o.push({level:f,item:S}),s.attrs2rows(f,g,o);});}});}static dateToString(e){return`${e.getFullYear()}${this.getSingleDateTimeValueFromInt(e.getMonth()+1)}${this.getSingleDateTimeValueFromInt(e.getDate())}`;}static fullDateToString(e){return`${e.getFullYear()}.${this.getSingleDateTimeValueFromInt(e.getMonth()+1)}.${this.getSingleDateTimeValueFromInt(e.getDate())} ${this.getSingleDateTimeValueFromInt(e.getHours())}:${this.getSingleDateTimeValueFromInt(e.getMinutes())}:${this.getSingleDateTimeValueFromInt(e.getSeconds())}`;}static fullDateToStringFilter(e){return`${e.getFullYear()}${this.getSingleDateTimeValueFromInt(e.getMonth()+1)}${this.getSingleDateTimeValueFromInt(e.getDate())}${this.getSingleDateTimeValueFromInt(e.getHours())}${this.getSingleDateTimeValueFromInt(e.getMinutes())}${this.getSingleDateTimeValueFromInt(e.getSeconds())}`;}static getTimeFromDate(e){return`${r.getSingleDateTimeValueFromInt(e.getHours())}:${r.getSingleDateTimeValueFromInt(e.getMinutes())}:${r.getSingleDateTimeValueFromInt(e.getSeconds())}`;}static getDateFromObject(e){return e.FullYear&&e.Month&&e.Date?`${e.FullYear}${e.Month}${e.Date}`:"";}static getTimeFromObject(e){return e.Hours&&e.Minutes&&e.Seconds?`${e.Hours}:${e.Minutes}:${e.Seconds}`:"";}static isEqual(e,n){return!!(e&&n&&e===n);}static convertDateToString(e){let n=new Dr("en_US");return Fc(e)?n.transform(e,"yyyyMMdd"):"";}static getValue(e,n,o){return n[e]?n[e]:o||"";}static convertBtoHumanReadable(e,n){let o=1e3;return n==0&&(o=1),n==1&&(o=10),n==2&&(o=100),n==3&&(o=1e3),e>2e9?e>1e12?Math.round(e/1e3/1e3/1e3/1e3*o)/o+" TB":Math.round(e/1e3/1e3/1e3*o)/o+" GB":Math.round(e/1e3/1e3*o)/o+" MB";}static millisecondsToHumanReadable(e){return new Date(e).toISOString().slice(11,-1);}static clearEmptyObject(e){return he(e,(n,o)=>{((!n||n===""||n===void 0)&&n!=0||n instanceof Array&&n.length===0)&&delete e[o];}),e;}static trimFilterObject(e){return Object.keys(e).forEach(n=>{typeof e[n]=="string"?e[n]=e[n].trim():e[n]=this.trimFilterObject(e[n]);}),e;}static getUrlParams(e){return this.param(e);}static objToUrlParams(e,n){try{if(e){let o=Object.keys(e).map(s=>{if(e[s]||e[s]===!1||e[s]===0)return console.log("trimmed",e[s]),s+"="+(typeof e[s]=="string"?e[s].trim():e[s]);}),a=eu(o);return(n&&a&&a.length>0?"?":"")+a.join("&");}return"";}catch(o){return console.error(o),"";}}static param(e){let n=r.objToUrlParams(e);return n?"?"+n:"";}get(e){return new ct(n=>{let o=null;return this.$httpClient.get(e,{headers:this.header,responseType:"blob"}).subscribe(a=>{o=URL.createObjectURL(a),n.next(o);}),()=>{o&&(URL.revokeObjectURL(o),o=null);};});}static addZero(e){return e<10?`0${e}`:e;}static convertToDateString(e){if(e!=null){let n=new Date(e),o={yyyy:n.getFullYear(),mm:this.addZero(n.getMonth()+1),dd:this.addZero(n.getDate())};return`${o.yyyy}${o.mm}${o.dd}`;}}static getLastMonthRangeFromNow(){let e=new Date();return e.setMonth(e.getMonth()-1),e.setDate(e.getDate()+1),this.convertToDatePareString(e,new Date());}static convertToDatePareString(e,n){if(r.isSet(e)&&e!=""&&r.isSet(n)&&n!=""){let o=new Date(e),a=new Date(n),s=`${o.getFullYear()}${this.addZero(o.getMonth()+1)}${this.addZero(o.getDate())}`;if(new Date(e).getTime()==new Date(n).getTime())return s;if(new Date(e).getTime()>new Date(n).getTime())return s;{let l=`${a.getFullYear()}${this.addZero(a.getMonth()+1)}${this.addZero(a.getDate())}`;return s===l?s:`${s}-${l}`;}}}static flatten(e){var n={};function o(a,s){if(Object(a)!==a)n[s]=a;else if(Array.isArray(a)){for(var l=0,_=a.length;l<_;l++)o(a[l],s+"["+l+"]");_==0&&(n[s]=[]);}else{var f=!0;for(var g in a)f=!1,o(a[g],s?s+"."+g:g);f&&s&&(n[s]={});}}return o(e,""),n;}static calculateWidthOfTable(e){try{let n=0,o=0,a=0;return e.forEach(s=>{s&&(A(s,"pxWidth")&&s.pxWidth?o+=s.pxWidth:n+=s.widthWeight);}),o>0&&(o+=1),e.forEach(s=>{if(s){let l=s.widthWeight*100/n;if(o>0){if(A(s,"pxWidth")&&s.pxWidth)s.calculatedWidth=`${s.pxWidth}px`;else{let _=l*.01*o;s.calculatedWidth=`calc(${l}% - ${_}px)`,a+=_;}}else s.calculatedWidth=l+"%";}}),console.log("calculated table",e),e;}catch(n){return this.log("Error on calculating width of table",n),e;}}static valuesOf(e){return e&&e.Value;}static valueOf(e){return e&&e.Value&&e.Value[0];}static round(e,n,o){n=n||2;try{return e&&e!=""?typeof e=="number"?o?parseFloat(e.toFixed(n)):e.toFixed(n):eh(e,n):e;}catch(a){return this.log("Error on cutting the floating points, decimal()",a),e;}}static encode64(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="",a=0;for(;a<e.length;){let s=e.charCodeAt(a++)&255,l=e.charCodeAt(a++)&255,_=e.charCodeAt(a++)&255,f=s>>2,g=(s&3)<<4|l>>4,S,x;isNaN(l)?S=x=64:(S=(l&15)<<2|_>>6,isNaN(_)?x=64:x=_&63),o+=n.charAt(f)+n.charAt(g)+n.charAt(S)+n.charAt(x);}return o;}static getTimezoneOffset(e){function n(s){return(s<10?"0":"")+s;}var o=e.getTimezoneOffset(),a=o<0?"+":"-";return o=Math.abs(o),a+n(o/60|0)+n(o%60);}static formatDate(e,n,o){try{return e&&e.getFullYear()?(n=n||"yyyyMMdd",n.replace(/(yyyy)|(MM)|(dd)|(HH)|(mm)|(ss)|(SSS)/g,(a,s,l,_,f,g,S,x)=>{if(s)return`${e.getFullYear()}`;if(l)return this.setZeroPrefix(`${e.getMonth()+1}`);if(_)return this.setZeroPrefix(`${e.getDate()}`);if(f)return this.setZeroPrefix(`${e.getHours()}`);if(g)return this.setZeroPrefix(`${e.getMinutes()}`);if(S)return this.setZeroPrefix(`${e.getSeconds()}`);if(x)return`${e.getMilliseconds()}`;})+(o?r.getTimezoneOffset(e):"")):"";}catch(a){return this.log(`Error on formatting date, date=${e}, format=${n}`,a),"";}}static formatRangeString(e,n){let o="yyyy-MM-dd HH:mm:ss",a="yyyy-MM-dd",s=this.extractDateTimeFromString(e);if(s){if(s.mode==="range")return`${this.formatDate(s.firstDateTime.dateObject,n||o)} - ${this.formatDate(s.secondDateTime.dateObject,n||o)}`;if(s.mode==="single")return`${this.formatDate(s.firstDateTime.dateObject,n||a)}`;}return e;}static setZeroPrefix(e){try{return typeof e=="number"&&(e=e.toString()),e.replace(/(\d*)(\d{1})/g,(n,o,a)=>o?n:`0${a}`);}catch(n){return console.groupCollapsed("j4care setZeroPrefix(str)"),console.error(n),console.groupEnd(),e;}}static newDate(e){try{return new Date(this.splitTimeAndTimezone(e).time);}catch{return new Date(e);}}static diff(e,n){try{let o=n.getTime()-e.getTime();return o>-1?`${this.setZeroPrefix(parseInt((o/(1e3*60*60)%24).toString()))}:${this.setZeroPrefix(parseInt((o/(1e3*60)%60).toString()))}:${this.setZeroPrefix(parseInt((o/1e3%60).toString()))}.${parseInt((o%1e3).toString())}`:"";}catch(o){console.groupCollapsed("j4care diff(date, date2)"),console.error(o),console.groupEnd();return;}}static getDifferenceTime(e,n,o){let a=new Date(e).getTime(),s=new Date(n).getTime();return!a||!s||s<a?null:this.msToTimeSimple(new Date(n).getTime()-new Date(e).getTime(),o);}static msToTimeSimple(e,n){return n?n==="sec"?(e*6/6e3).toFixed(4).toString()+" s":(e/6e4).toFixed(4).toString()+" min":this.msToTime(e);}static msToTime(e){if(e>999){let n=parseInt((e%1e3).toString()),o=parseInt((e/1e3%60).toString()),a=parseInt((e/(1e3*60)%60).toString()),s=parseInt((e/(1e3*60*60)).toString());return s===0?a===0?o.toString()+"."+n.toString()+" sec":(o=o<10?"0"+o:o,a.toString()+":"+o.toString()+"."+n.toString()+" min"):(s=s<10?"0"+s:s,a=a<10?"0"+a:a,o=o<10?"0"+o:o,s.toString()+":"+a.toString()+":"+o.toString()+"."+n.toString()+" h");}else return e.toString()+" ms";}modal(e,n){this.openDialog(e).subscribe(n);}static mapDevicesToDropdown(e,n){try{return console.log("devices[0] instanceof SelectDropdown)",e[0]instanceof G),e&&e.length&&e.length>0&&!(e[0]instanceof G)?A(e,"0.value")?e.map(o=>new G(o.value,o.text)):n?e.map(o=>n.call(this,o)):e.map(o=>new G(o.dicomDeviceName,o.dicomDeviceName,o.dicomDeviceDescription)):e;}catch(o){return this.log("Error on mapping devices",o),e;}}static mapAetToDropdown(e){try{return console.log("aet[0] instanceof SelectDropdown)",e[0]instanceof G),e&&e.length&&e.length>0&&!(e[0]instanceof G)?A(e,"0.value")?e.map(n=>new G(n.value,n.text)):e.map(n=>new G(n.dicomAETitle,n.dicomAETitle,n.dicomDescription)):e;}catch(n){return this.log("Error on mapping aets",n),e;}}openDialog(e,n,o){return this.dialogRef=this.dialog.open(Ei,{height:o||"auto",width:n||"500px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}static log(e,n){console.groupCollapsed(e),console.trace(),n&&console.error(n),console.groupEnd();}static logObject(e,n){try{console.groupCollapsed(e),Object.keys(n).forEach(o=>{console.log(`${o}:`,n[o]);}),console.groupEnd();}catch(o){console.error(o);}}static getDateFromString(e){let n=r.extractDateTimeFromString(e);return n.mode==="single"||n.mode==="rightOpen"?n.firstDateTime.dateObject:n.mode==="range"?new Date(n.firstDateTime.dateObject.getTime()+(n.secondDateTime.dateObject.getTime()-n.firstDateTime.dateObject.getTime())/2):n.mode==="leftOpen"?n.secondDateTime.dateObject:e;}static convertFilterValueToRegex(e){return e?`^${e.replace(/(\*|\?)/g,(n,o)=>{if(o==="*")return".*";if(o==="?")return".";})}$`:"";}static join(e,n,o){try{return e.length>1?o?`${e.slice(0,-1).join(n)}${o}${e.slice(-1)}`:e.join(n):e.toString();}catch(a){return this.log("Error on join",a),"";}}static getConnectionFromReference(e,n){try{let o=/\w+\/(\d*)/,a;return e&&n&&(a=o.exec(e))!==null?n[a[1]]:e;}catch(o){return this.log("Something went wrong on getting the connection from references",o),e;}}static getUrlFromDcmWebApplication(e,n,o){try{return o?`${this.getBaseUrlFromDicomNetworkConnection(e.dicomNetworkConnection||e.dicomNetworkConnectionReference)||""}`:`${this.getBaseUrlFromDicomNetworkConnection(e.dicomNetworkConnection||e.dicomNetworkConnectionReference)||(n==="../"?"":n)}${e.dcmWebServicePath}`.replace("/dcm4chee-arc/dcm4chee-arc","/dcm4chee-arc");}catch(a){this.log("Error on getting Url from DcmWebApplication",a),this.logObject("getUrlFromDcmWebApplication input:",{dcmWebApp:e,baseUrl:n,withoutServicePath:o});}}static getBaseUrlFromDicomNetworkConnection(e){try{let n,o,a;return!pe(e)&&e?a=[e]:a=e,o=a.filter(s=>this.getHTTPProtocolFromDicomNetworkConnection(s)!=""),o.length>1&&(n=o.filter(s=>this.getHTTPProtocolFromDicomNetworkConnection(s)==="https"&&!(A(s,"dicomInstalled")&&s.dicomInstalled===!1))[0]),n=n||o.filter(s=>!(A(s,"dicomInstalled")&&s.dicomInstalled===!1))[0],n&&A(n,"dicomHostname")&&A(n,"dicomPort")?`${this.getHTTPProtocolFromDicomNetworkConnection(n)}://${n.dicomHostname}:${n.dicomPort}`:"";}catch(n){return this.log("Something went wrong on getting base url from a dicom network connections",n),"";}}static getUrlFromDicomNetworkConnection(e){try{return`${this.getHTTPProtocolFromDicomNetworkConnection(e)||"http"}://${e.dicomHostname}:${e.dicomPort}`;}catch{return"";}}static getHTTPProtocolFromDicomNetworkConnection(e){try{let n="";return A(e,"dcmNetworkConnection.dicomHostname")&&(n="dcmNetworkConnection."),A(e,`${n}dcmProtocol`)&&B(e,`${n}dcmProtocol`)==="HTTP"||!A(e,`${n}dcmProtocol`)?A(e,`${n}dicomTLSCipherSuite`)&&pe(B(e,`${n}dicomTLSCipherSuite`))&&B(e,`${n}dicomTLSCipherSuite`).length>0?"https":"http":"";}catch(n){return this.log("Something went wrong on getting the protocol from a connection",n),"";}}static meyGetString(e,n,o="",a="",s){return A(e,n)?`${o}${B(e,n)}${a}`:s?`${o}${a}`:"";}static changed(e,n,o){function a(s,l){return nh(s,function(_,f,g){(!l||!Bo(f,l[g]))&&(o?mt(f)&&l&&g&&mt(l[g])?_[g]=a(f,l[g]):!(pe(f)&&f.length===0)&&!(mt(f)&&Object.keys(f).length===0)&&f!=null&&f!=""&&f[0]!=""&&(_[g]=f):_[g]=mt(f)&&mt(l[g])?a(f,l[g]):f);});}return a(e,n);}static diffObjects(e,n,o,a){if(a){let s=r.changed(e,n,o),l=r.changed(n,e,o);return{first:s,second:l,diff:re(re({},s),l)};}else return Sl(r.changed(e,n,o),r.changed(n,e,o));}static intersection(e,n){if(mt(e)&&mt(n)){let o={};return Object.keys(e).forEach(a=>{A(n,a)&&(o[a]=e[a]);}),o;}}static generateOIDFromUUID(){let n=`0${(0,nU.v4)().replace(/-/g,"")}`;return`2.25.${bigInt(n,16).toString()}`;}static position(e,n){let o={};return n&&(o.behavior=n),o.top=e.offsetTop,o.left=e.offsetLeft,console.log("pos",o),o;}static offset(e){let n=e.getBoundingClientRect();return{top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft};}static prepareCountMessageUpdateMatching(e,n){let o=`<br>
`;try{A(n,"updated")&&(o+="- updated successfully for :"+n.updated+"<br>\n"),A(n,"failed")&&(o+="- failed to update for :"+n.failed+"<br>\n"),A(n,"count")&&!A(n,"failed")&&!A(n,"updated")&&(o+="- resulted in No Op for:"+n.count+"<br>\n"),A(n,"error")&&(o+="Error:"+n.error+"<br>\n");}catch{o="";}return`${e}${o!=""?":":""}${o}`;}static prepareCountMessage(e,n){let o=`<br>
`;try{A(n,"count")&&(o+="Count:"+n.count+"<br>\n"),A(n,"warning")&&(o+="Warning:"+n.warning+"<br>\n"),A(n,"reject")&&(o+="Reject:"+n.reject+"<br>\n"),A(n,"error")&&(o+="Error:"+n.error+"<br>\n");}catch{o="";}return`${e}${o!=""?":":""}${o}`;}static extractLanguageDataFromString(e){try{let n=/([^|]+)\|([^|]+)\|([^|]+)\|([^|]+)/,o;if((o=n.exec(e))!==null)return{code:o[1],name:o[2],nativeName:o[3],flag:o[4]};}catch{return;}}static getDefaultLanguageFromProfile(e,n){try{let o=e.dcmuiLanguageProfileObjects.filter(a=>{if(A(a,"dcmuiLanguageProfileUsername")&&a.dcmuiLanguageProfileUsername===n.user)return!0;if(A(a,"dcmuiLanguageProfileRole")){let s=!1;return a.dcmuiLanguageProfileRole.forEach(l=>{n.roles.indexOf(l)>-1&&(s=!0);}),s;}return!1;});if(o&&o.length>0)return o[0].dcmDefaultLanguage;}catch(o){if(this.log("GetLanguageProfile in catch",o),A(e,"dcmLanguages[0]"))return e.dcmLanguages[0];}}static extractMessageFromWarningHeader(e){let n=/(\d{3}) ([\w:\/-]*) (.*)/,o;try{let a=e.get("Warning");if((o=n.exec(a))!==null)return o[3];}catch{return"";}}static is(e,n,o){try{return o&&A(e,n)?o===B(e,n):A(e,n)&&B(e,n);}catch{return!1;}}static arrayIsNotEmpty(e,n){try{if(n){let o=B(e,n);return pe(o)&&o.length>0;}return pe(e)&&e.length>0;}catch{return!1;}}static addLastSlash(e){return mi(e)!="/"?`${e}/`:e;}static MAP_STATUS_INDEX_TO_STRING(e){return["NEW","IN PROGRESS","COMPLETED","WARNING","ERROR"][e];}blobToUrl(e){return new ct(n=>{try{let o=new FileReader();o.readAsDataURL(e),o.onloadend=()=>{let a=this.sanitizer.bypassSecurityTrustUrl(o.result);n.next(a),n.complete();};}catch(o){n.error(o),n.complete();}});}static extractLastAetFromDiffPath(e){try{let n=/diff\/(\w*)$/,o;return(o=n.exec(e))!==null?o[1]:void 0;}catch(n){r.log("Error on extratcing AET from path",n);}}static isFilesArray(e){try{return e instanceof Array&&e.length>0&&e[0]instanceof File;}catch{return!1;}}};r.ɵfac=function(n){return new(n||r)(K(uo),K(ri),K(Hi),K(yp));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var le=(()=>{let r=class r{constructor(e,n){this.$httpClient=e,this.router=n,this.userSubject=new xe(),this.secured=new xe(),this.serverTimeSubject=new xe(),this._baseUrl="/dcm4chee-arc/",this._isRole=function(o){return this.user?this.user.user===null&&this.user.roles.length===0?!0:!!(this.user.roles&&this.user.roles.indexOf(o)>-1):o!=="admin";},this.setMessageSource=new xe(),this.setGlobalSource=new xe(),this.createPatientSource=new xe(),this.messageSet$=this.setMessageSource.asObservable(),this.globalSet$=this.setGlobalSource.asObservable(),this.createPatient$=this.createPatientSource.asObservable(),this.subscription=this.globalSet$.subscribe(o=>{this._global=o;});}get global(){return this._global;}get serverTime(){return this._serverTime;}set serverTime(e){this._serverTime=e,this.serverTimeSubject.next(e);}get baseUrl(){return this._baseUrl;}set baseUrl(e){this._baseUrl=e;}set global(e){this._global=e;}setUser(e){this._user=e,this.userSubject.next(e);}getUser(){return this._user?ge(this._user):this.userSubject.asObservable();}isSecure(){return typeof this.securedValue=="boolean"?ge(this.securedValue):this.secured.asObservable();}setSecured(e){this.securedValue=e,this.secured.next(e);}get dcm4cheeArcConfig(){return this._dcm4cheeArcConfig;}set dcm4cheeArcConfig(e){this._dcm4cheeArcConfig=e;}get deviceName(){return this._deviceName;}set deviceName(e){this._deviceName=e;}get archiveDevice(){return this._archiveDevice;}set archiveDevice(e){this._archiveDevice=e,!this._deviceName&&A(e,"dicomDeviceName")&&(this._deviceName=e.dicomDeviceName),!this._archiveDeviceName&&A(e,"dicomDeviceName")&&(this._archiveDeviceName=e.dicomDeviceName);}get archiveDeviceName(){return this._archiveDeviceName;}set archiveDeviceName(e){this._archiveDeviceName=e;}setMessage(e){console.log("in set message",e),this.setMessageSource.next(e);}showError(e){this.setMessageSource.next({title:"Error",text:e,status:"error"});}showMsg(e){this.setMessageSource.next({title:"Info",text:e,status:"info"});}showMsgUpdateMatchingMWLs(e,n){this.setMessageSource.next({title:"Info",text:B(e,"count")+" "+n,status:"info"});}showMsgCopyMoveLink(e,n){let o,a=e.filter(l=>l.isError).length,s=A(e,"0.error.error.errorMessage")?B(e,"0.error.error.errorMessage"):"";a===e.length?(o=""+n+" process executed - all failed:<br>\nErrors: "+a+"",s=o+`<br>
`+s,this.showError(s)):(o=""+n+" process executed successfully:<br>\nErrors: "+a+"<br>\nSuccessful: "+(e.length-a)+"",a>0?this.showWarning(o):this.showMsg(o));}showMsgDeleteTasks(e){let n="",o=A(e,"count")?B(e,"count"):"",a=A(e,"failed")?B(e,"failed"):"";o!=""&&(o==0?n+="Deleted "+o+` tasks<br>
`:n+="Deleted "+o+` tasks successfully<br>
`),a!=""&&(n+="Failed to delete "+a+` tasks<br>
`),a!=""?o!=""?this.showWarning(n):this.showError(n):this.showMsg(n);}showMsgUpdateCharsets(e){let n="",o=A(e,"updated")?B(e,"updated"):"",a=A(e,"failures")?B(e,"failures"):"";(o!=""||o==0)&&(n=n+"updated: "+o+`<br>
`),a!=""&&(n=n+`failures: <br>
`,he(a,s=>{n+=s+`<br>
`;})),a!=""?o!=""?this.showWarning(n):this.showError(n):this.showMsg(n);}showMsgSupplementIssuer(e){console.log(e);let n="",o=A(e,"pids")?B(e,"pids"):"",a=A(e,"ambiguous")?B(e,"ambiguous"):"",s=A(e,"failures")?B(e,"failures"):"",l=A(e,"tooManyDuplicates")?B(e,"tooManyDuplicates"):"";o!=""&&(n=n+`PIDs: <br>
`,he(o,_=>{n=n+"- PID: "+_+`<br>
`;})),a!=""&&(n=n+`Ambiguous: <br>
`,he(a,_=>{n=n+"PID: "+B(_,"pid")+", Count: "+_.count+`<br>
`;})),s!=""&&(n=n+`Failures: <br>
`,he(s,(_,f)=>{n+="PID: "+_+", Error: "+f+`<br>
`;})),l!=""&&(n=n+"Too many duplicates for: "+l),n==""&&(n="No matching patient identifier found for supplementing issuer"),s!=""||a!=""||l!=""?o!=""?this.showWarning(n):this.showError(n):this.showMsg(n);}showWarning(e){this.setMessageSource.next({title:"Warning",text:e,status:"warning"});}setGlobal(e){this.setGlobalSource.next(e);}updateGlobal(e,n){if(this.global&&!this.global[e]){let o=Oe(this.global);o[e]=n,this.setGlobal(o);}else this.global&&this.global[e]?this.global[e]=n:this.setGlobal({[e]:n});}createPatient(e){this.createPatientSource.next(e);}get user(){return this._user;}set user(e){this._user=e;}get isRole(){return this._isRole;}set isRole(e){this._isRole=e;}ngOnInit(){}ngOnDestroy(){this.subscription.unsubscribe();}param(e){try{let n=Object.keys(e).map(a=>{if(pe(e[a])){let s=[];return e[a].forEach(l=>{s.push(`${a}=${l}`);}),s.join("&");}else if(e[a]||e[a]===!1||e[a]===0)return a+"="+e[a];});return eu(n).join("&");}catch(n){return I.log("Something went wrong on getting param",n),"";}}getUniqueID(){let e=new Date(this._serverTime);return`${e.getFullYear().toString().substr(-2)}${e.getMonth()}${e.getDate()}${e.getHours()}${e.getMinutes()}${e.getSeconds()}`;}getServerTime(){return this._serverTime?ge(this._serverTime):this.serverTimeSubject.asObservable().pipe(me(e=>new Date(e)),Ts());}setTimeRange(e,n){return this.getServerTime().pipe(me(o=>{let a=new Date(o);return n?(a.setHours(a.getHours()-n),new gv(a,new Date(o))):(e=e||15,a.setMinutes(a.getMinutes()-e),new gv(a,new Date(o)));}));}getKeycloakJson(){return!this.global||!this.global.notSecure?this.$httpClient.get("/dcm4chee-arc/ui2/rs/keycloak.json").pipe(me(e=>Eo(e)?(console.log("ojbect is empty",e),this.updateGlobal("notSecure",!0),e):(this.updateGlobal("notSecure",!1),Wf(e,(n,o)=>o==="auth-server-url"?"url":o==="resource"?"clientId":o)),e=>{throw this.updateGlobal("notSecure",!0),console.log("err",e),this.setSecured(!1),e;})):ge({});}formatBasedOnConfig(e,n){try{let o;return A(this.global,"dateTimeFormat")?o=B(this.global,"dateTimeFormat"):o={timeFormat:"HH:mm",dateFormat:"dd.MM.yyyy",dateTimeFormat:"dd.MM.yyyy HH:mm"},I.formatDate(e,o[n]);}catch(o){return I.log("Error on formatting date based on config",o),"";}}testUrl(e){this.$httpClient.get(e).subscribe(n=>{console.log("res",n);});}};r.ɵfac=function(n){return new(n||r)(K(uo),K(Hi));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();function WTe(i,r){if(i&1&&$(0,"p",8),i&2){let t=d().$implicit;m("innerHtml",t.text,Re);}}function BTe(i,r){if(i&1){let t=O();u(0,"a",10),b("click",function(n){C(t);let o=d(2).$implicit,a=d(2);return n.preventDefault(),y(a.alert(o));}),T(1,"more.."),p();}}function HTe(i,r){if(i&1&&(u(0,"p"),T(1),$(2,"br"),E(3,BTe,2,0,"a",9),p()),i&2){let t=d().$implicit;c(),ue(" ",t.text),c(2),m("ngIf",t.detailError);}}function qTe(i,r){if(i&1){let t=O();u(0,"li",3),b("click",function(){let n=C(t).$implicit,o=d(2);return y(o.closeBox(n));}),u(1,"span",4),T(2,"\xD7"),p(),u(3,"h4"),T(4),p(),E(5,WTe,1,1,"p",5)(6,HTe,4,2,"p",6),$(7,"div",7),p();}if(i&2){let t=r.$implicit;be(ea("",t.status," msg_",t.id," slideInRight animated")),c(4),z(t.title),c(),m("ngIf",!t.detailError),c(),m("ngIf",t.detailError);}}function YTe(i,r){if(i&1&&(u(0,"div",1),E(1,qTe,8,7,"li",2),p()),i&2){let t=d();c(),m("ngForOf",t.msg);}}var bu=(()=>{let r=class r{constructor(e,n){this.mainservice=e,this.dialog=n,this.msgTimeout=2e4,this.msg=[],this.subscription=this.mainservice.messageSet$.subscribe(o=>{console.log("msg in subscribe messagecomponent ",o),this.setMsg(o);});}alert(e){this.dialogRef=this.dialog.open(cS,{height:"auto",width:"60%"}),this.dialogRef.componentInstance.info={title:"Error detail",content:e.detailError},this.dialogRef.afterClosed().subscribe();}setMsg(e){let n=e.timeout||this.msgTimeout,o=!1,a="";if(!e.title&&e.status&&(e.title=e.status.charAt(0).toUpperCase()+e.status.slice(1)),e.status||(e.status="info"),!e.status&&!e.title&&(e.title="Info",e.status="info"),this.msg&&this.msg.length>0&&this.msg.forEach((s,l)=>{s.text===e.text&&s.status===e.status&&(a=s.id,o=!0);}),o){let s=Te.nativeWindow.document.getElementsByClassName("msg_"+a)[0];s&&(s.classList.remove("slideInRight"),s.classList.add("pulse"),setTimeout(function(){s.classList.remove("pulse");},500));}else{let s=this.getUniqueRandomId();e.id=s,this.msg.push(e),this.msgCounter(s,n);}}removeMsgFromArray(e){this.msg.forEach((n,o)=>{n.id==e&&this.msg.splice(o,1);});}msgCounter(e,n){let o=".msg_"+e,a="msg_"+e,s=0,l=this,_=setInterval(function(){try{let f=Te.nativeWindow.document.getElementsByClassName(a)[0];f.querySelectorAll(".progress").item(0).style.width=s*1e4/n+"%",s===n/100&&(clearInterval(_),f.classList.add("fade-out"),setTimeout(()=>{l.removeMsgFromArray(e);},400)),s++;}catch{clearInterval(_);}},100);}closeBox(e){this.removeMsgFromArray(e.id);}getUniqueRandomId(){if(this.msg&&this.msg[0]){let e=15,n=!1,o=0;for(;!n&&e>0;)o=Math.floor(Math.random()*100+1),this.msg.forEach((a,s)=>{a.id===o&&(n=!0);}),e--;return e===0&&n&&n===!0?999:o;}else return Math.floor(Math.random()*100+1);}ngOnDestroy(){this.subscription.unsubscribe();}};r.ɵfac=function(n){return new(n||r)(k(le),k(ri));},r.ɵcmp=Z({type:r,selectors:[["app-messaging"]],standalone:!1,decls:1,vars:1,consts:[["class","msg_container",4,"ngIf"],[1,"msg_container"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["data-dismiss","alert","aria-label","close",1,"close"],[3,"innerHtml",4,"ngIf"],[4,"ngIf"],[1,"progress"],[3,"innerHtml"],["class","more",3,"click",4,"ngIf"],[1,"more",3,"click"]],template:function(n,o){n&1&&E(0,YTe,2,1,"div",0),n&2&&m("ngIf",o.msg&&o.msg.length>0);},dependencies:[ve,de],encapsulation:2});let i=r;return i;})();var sA=(()=>{let r=class r{constructor(e){this.dialogRef=e,this.year=I.formatDate(new Date(),"yyyy");}get archive(){return this._archive;}set archive(e){this._archive=e;}};r.ɵfac=function(n){return new(n||r)(k(wt));},r.ɵcmp=Z({type:r,selectors:[["app-product-labelling"]],standalone:!1,decls:25,vars:2,consts:()=>{let e;return e="Version",[e,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","info-dialog"],[1,"vex-content"],[1,"info-block"],[1,"head"],[1,"content"],[1,"pre_footer"],[1,"footer"],[1,"footer_left","col-sm-6"]];},template:function(n,o){n&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1"),T(5,"J4Care"),p(),u(6,"h3"),T(7,"SMooTH Archive"),p(),u(8,"h4"),U(9),P(10,0),W(),T(11),p()(),u(12,"div",5)(13,"p")(14,"b"),T(15,"J4Care GmbH"),p(),$(16,"br"),T(17,"Enzersdorfer Strasse 7"),$(18,"br"),T(19,"A-2340 M\xF6dling"),p()(),u(20,"div",6)(21,"span"),T(22),p()(),u(23,"div",7),$(24,"div",8),p()()()()),n&2&&(c(11),ue(" ",o.archive.dicomSoftwareVersion),c(11),z(o.year||"2020"));},encapsulation:2});let i=r;return i;})();var VHt=DCM4CHE.SOPClass.nameOf("all"),aU={parse:{dateInput:"YYYYMMDD"},display:{dateInput:"YYYYMMDD",monthYearLabel:"MM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MM YYYY"}},we=class{static get MODALITIES(){return{common:{CR:"Computed Radiography",CT:"Computed Tomography",DX:"Digital Radiography",KO:"Key Object Selection",MR:"Magnetic Resonance",MG:"Mammography",NM:"Nuclear Medicine",OT:"Other",PT:"Positron emission tomography (PET)",PR:"Presentation State",US:"Ultrasound",XA:"X-Ray Angiography"},more:{AR:"Autorefraction",AU:"Audio",BDUS:"Bone Densitometry (ultrasound)",BI:"Biomagnetic imaging",BMD:"Bone Densitometry (X-Ray)",DOC:"Document",DG:"Diaphanography",ECG:"Electrocardiography",EPS:"Cardiac Electrophysiology",ES:"Endoscopy",FID:"Fiducials",GM:"General Microscopy",HC:"Hard Copy",HD:"Hemodynamic Waveform",IO:"Intra-Oral Radiography",IOL:"Intraocular Lens Data",IVOCT:"Intravascular Optical Coherence Tomography",IVUS:"Intravascular Ultrasound",KER:"Keratometry",LEN:"Lensometry",LS:"Laser surface scan",OAM:"Ophthalmic Axial Measurements",OCT:"Optical Coherence Tomography (non-Ophthalmic)",OP:"Ophthalmic Photography",OPM:"Ophthalmic Mapping",OPT:"Ophthalmic Tomography",OPV:"Ophthalmic Visual Field",OSS:"Optical Surface Scan",PLAN:"Plan",PX:"Panoramic X-Ray",REG:"Registration",RESP:"Respiratory Waveform",RF:"Radio Fluoroscopy",RG:"Radiographic imaging (conventional film/screen)",RTDOSE:"Radiotherapy Dose",RTIMAGE:"Radiotherapy Image",RTPLAN:"Radiotherapy Plan",RTRECORD:"RT Treatment Record",RTSTRUCT:"Radiotherapy Structure Set",RWV:"Real World Value Map",SEG:"Segmentation",SM:"Slide Microscopy",SMR:"Stereometric Relationship",SR:"SR Document",SRF:"Subjective Refraction",STAIN:"Automated Slide Stainer",TG:"Thermography",VA:"Visual Acuity",XC:"External-camera Photograph"}};}static get STORAGE_SOP_CLASSES(){return{storageSopClasses:{"1.2.840.10008.5.1.4.1.1.1":"Computed Radiography Image Storage","1.2.840.10008.5.1.4.1.1.1.1":"Digital X-Ray Image Storage - For Presentation","1.2.840.10008.5.1.4.1.1.1.1.1":"Digital X-Ray Image Storage - For Processing","1.2.840.10008.5.1.4.1.1.1.2":"Digital Mammography X-Ray Image Storage - For Presentation","1.2.840.10008.5.1.4.1.1.1.2.1":"Digital Mammography X-Ray Image Storage - For Processing","1.2.840.10008.5.1.4.1.1.1.3":"Digital Intra-Oral X-Ray Image Storage - For Presentation","1.2.840.10008.5.1.4.1.1.1.3.1":"Digital Intra-Oral X-Ray Image Storage - For Processing","1.2.840.10008.5.1.4.1.1.2":"CT Image Storage","1.2.840.10008.5.1.4.1.1.2.1":"Enhanced CT Image Storage","1.2.840.10008.5.1.4.1.1.2.2":"Legacy Converted Enhanced CT Image Storage","1.2.840.10008.5.1.4.1.1.3":"Ultrasound Multi-frame Image Storage (Retired)","1.2.840.10008.5.1.4.1.1.3.1":"Ultrasound Multi-frame Image Storage","1.2.840.10008.5.1.4.1.1.4":"MR Image Storage","1.2.840.10008.5.1.4.1.1.4.1":"Enhanced MR Image Storage","1.2.840.10008.5.1.4.1.1.4.3":"Enhanced MR Color Image Storage","1.2.840.10008.5.1.4.1.1.4.4":"Legacy Converted Enhanced MR Image Storage","1.2.840.10008.5.1.4.1.1.5":"Nuclear Medicine Image Storage (Retired)","1.2.840.10008.5.1.4.1.1.6":"Ultrasound Image Storage (Retired)","1.2.840.10008.5.1.4.1.1.6.1":"Ultrasound Image Storage","1.2.840.10008.5.1.4.1.1.6.2":"Enhanced US Volume Storage","1.2.840.10008.5.1.4.1.1.7":"Secondary Capture Image Storage","1.2.840.10008.5.1.4.1.1.7.2":"Multi-frame Grayscale Byte Secondary Capture Image Storage","1.2.840.10008.5.1.4.1.1.7.3":"Multi-frame Grayscale Word Secondary Capture Image Storage","1.2.840.10008.5.1.4.1.1.7.4":"Multi-frame True Color Secondary Capture Image Storage","1.2.840.10008.5.1.4.1.1.12.1":"X-Ray Angiographic Image Storage","1.2.840.10008.5.1.4.1.1.12.1.1":"Enhanced XA Image Storage","1.2.840.10008.5.1.4.1.1.12.2":"X-Ray Radiofluoroscopic Image Storage","1.2.840.10008.5.1.4.1.1.12.2.1":"Enhanced XRF Image Storage","1.2.840.10008.5.1.4.1.1.12.3":"X-Ray Angiographic Bi-Plane Image Storage (Retired)","1.2.840.10008.5.1.4.1.1.13.1.1":"X-Ray 3D Angiographic Image Storage","1.2.840.10008.5.1.4.1.1.13.1.2":"X-Ray 3D Craniofacial Image Storage","1.2.840.10008.5.1.4.1.1.13.1.3":"Breast Tomosynthesis Image Storage","1.2.840.10008.5.1.4.1.1.13.1.4":"Breast Projection X-Ray Image Storage - For Presentation","1.2.840.10008.5.1.4.1.1.13.1.5":"Breast Projection X-Ray Image Storage - For Processing","1.2.840.10008.5.1.4.1.1.14.1":"Intravascular Optical Coherence Tomography Image Storage - For Presentation","1.2.840.10008.5.1.4.1.1.14.2":"Intravascular Optical Coherence Tomography Image Storage - For Processing","1.2.840.10008.5.1.4.1.1.20":"Nuclear Medicine Image Storage","1.2.840.10008.5.1.4.1.1.77.1":"VL Image Storage - Trial (Retired)","1.2.840.10008.5.1.4.1.1.77.2":"VL Multi-frame Image Storage - Trial (Retired)","1.2.840.10008.5.1.4.1.1.77.1.1":"VL Endoscopic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.2":"VL Microscopic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.3":"VL Slide-Coordinates Microscopic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.4":"VL Photographic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.1":"Ophthalmic Photography 8 Bit Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.2":"Ophthalmic Photography 16 Bit Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.4":"Ophthalmic Tomography Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.5":"Wide Field Ophthalmic Photography Stereographic Projection Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.6":"Wide Field Ophthalmic Photography 3D Coordinates Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.7":"Ophthalmic Optical Coherence Tomography En Face Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.8":"Ophthalmic Optical Coherence Tomography B-scan Volume Analysis Storage","1.2.840.10008.5.1.4.1.1.77.1.6":"VL Whole Slide Microscopy Image Storage","1.2.840.10008.5.1.4.1.1.77.1.7":"Dermoscopic Photography Image Storage","1.2.840.10008.5.1.4.1.1.81.1":"Ophthalmic Thickness Map Storage","1.2.840.10008.5.1.4.1.1.82.1":"Corneal Topography Map Storage","1.2.840.10008.5.1.4.1.1.128":"Positron Emission Tomography Image Storage","1.2.840.10008.5.1.4.1.1.128.1":"Legacy Converted Enhanced PET Image Storage","1.2.840.10008.5.1.4.1.1.130":"Enhanced PET Image Storage","1.2.840.10008.5.1.4.1.1.481.1":"RT Image Storage","1.2.840.10008.5.1.4.1.1.481.23":"Enhanced RT Image Storage","1.2.840.10008.5.1.4.1.1.481.24":"Enhanced Continuous RT Image Storage","1.2.392.200036.9125.1.1.2":"Private Fuji CR Image Storage","1.2.840.113619.4.3":"Private GE Dicom CT Image Info Object","1.2.840.113619.4.4":"Private GE Dicom Display Image Info Object","1.2.840.113619.4.2":"Private GE Dicom MR Image Info Object","1.3.46.670589.5.0.9":"Private Philips CT Synthetic Image Storage","1.3.46.670589.2.4.1.1":"Private Philips CX Image Storage","1.3.46.670589.5.0.12":"Private Philips CX Synthetic Image Storage","1.3.46.670589.11.0.0.12.3":"Private Philips MR Color Image Storage","1.3.46.670589.5.0.10":"Private Philips MR Synthetic Image Storage","1.3.46.670589.5.0.14":"Private Philips Perfusion Image Storage","1.3.6.1.4.1.5962.301.9":"Private PixelMed Floating Point Image Storage","1.3.6.1.4.1.5962.301.1":"Private PixelMed Legacy Converted Enhanced CT Image Storage","1.3.6.1.4.1.5962.301.2":"Private PixelMed Legacy Converted Enhanced MR Image Storage","1.3.6.1.4.1.5962.301.3":"Private PixelMed Legacy Converted Enhanced PET Image Storage","2.16.840.1.114033.5.1.4.1.1.130":"Private PMOD Multi-frame Image Storage","1.2.392.200036.9116.7.8.1.1.1":"Private Toshiba US Image Storage","1.2.840.10008.5.1.4.1.1.77.1.1.1":"Video Endoscopic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.2.1":"Video Microscopic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.4.1":"Video Photographic Image Storage","1.2.840.10008.5.1.4.1.1.78.6":"Spectacle Prescription Report Storage","1.2.840.10008.5.1.4.1.1.79.1":"Macular Grid Thickness and Volume Report Storage","1.2.840.10008.5.1.4.1.1.88.11":"Basic Text SR Storage","1.2.840.10008.5.1.4.1.1.88.22":"Enhanced SR Storage","1.2.840.10008.5.1.4.1.1.88.33":"Comprehensive SR Storage","1.2.840.10008.5.1.4.1.1.88.34":"Comprehensive 3D SR Storage","1.2.840.10008.5.1.4.1.1.88.35":"Extensible SR Storage","1.2.840.10008.5.1.4.1.1.88.40":"Procedure Log Storage","1.2.840.10008.5.1.4.1.1.88.50":"Mammography CAD SR Storage","1.2.840.10008.5.1.4.1.1.88.59":"Key Object Selection Document Storage","1.2.840.10008.5.1.4.1.1.88.65":"Chest CAD SR Storage","1.2.840.10008.5.1.4.1.1.88.67":"X-Ray Radiation Dose SR Storage","1.2.840.10008.5.1.4.1.1.88.68":"Radiopharmaceutical Radiation Dose SR Storage","1.2.840.10008.5.1.4.1.1.88.69":"Colon CAD SR Storage","1.2.840.10008.5.1.4.1.1.88.70":"Implantation Plan SR Storage","1.2.840.10008.5.1.4.1.1.88.71":"Acquisition Context SR Storage","1.2.840.10008.5.1.4.1.1.88.72":"Simplified Adult Echo SR Storage","1.2.840.10008.5.1.4.1.1.88.73":"Patient Radiation Dose SR Storage","1.2.840.10008.5.1.4.1.1.88.74":"Planned Imaging Agent Administration SR Storage","1.2.840.10008.5.1.4.1.1.88.75":"Performed Imaging Agent Administration SR Storage","1.2.840.10008.5.1.4.1.1.88.76":"Enhanced X-Ray Radiation Dose SR Storage","1.2.840.10008.5.1.1.27":"Stored Print Storage SOP Class (Retired)","1.2.840.10008.5.1.1.29":"Hardcopy Grayscale Image Storage SOP Class (Retired)","1.2.840.10008.5.1.1.30":"Hardcopy Color Image Storage SOP Class (Retired)","1.2.840.10008.5.1.4.1.1.4.2":"MR Spectroscopy Storage","1.2.840.10008.5.1.4.1.1.7.1":"Multi-frame Single Bit Secondary Capture Image Storage","1.2.840.10008.5.1.4.1.1.8":"Standalone Overlay Storage (Retired)","1.2.840.10008.5.1.4.1.1.9":"Standalone Curve Storage (Retired)","1.2.840.10008.5.1.4.1.1.9.1.1":"12-lead ECG Waveform Storage","1.2.840.10008.5.1.4.1.1.9.1.2":"General ECG Waveform Storage","1.2.840.10008.5.1.4.1.1.9.1.3":"Ambulatory ECG Waveform Storage","1.2.840.10008.5.1.4.1.1.9.2.1":"Hemodynamic Waveform Storage","1.2.840.10008.5.1.4.1.1.9.3.1":"Cardiac Electrophysiology Waveform Storage","1.2.840.10008.5.1.4.1.1.9.4.1":"Basic Voice Audio Waveform Storage","1.2.840.10008.5.1.4.1.1.9.4.2":"General Audio Waveform Storage","1.2.840.10008.5.1.4.1.1.9.5.1":"Arterial Pulse Waveform Storage","1.2.840.10008.5.1.4.1.1.9.6.1":"Respiratory Waveform Storage","1.2.840.10008.5.1.4.1.1.9.6.2":"Multi-channel Respiratory Waveform Storage","1.2.840.10008.5.1.4.1.1.9.7.1":"Routine Scalp Electroencephalogram Waveform Storage","1.2.840.10008.5.1.4.1.1.9.7.2":"Electromyogram Waveform Storage","1.2.840.10008.5.1.4.1.1.9.7.3":"Electrooculogram Waveform Storage","1.2.840.10008.5.1.4.1.1.9.7.4":"Sleep Electroencephalogram Waveform Storage","1.2.840.10008.5.1.4.1.1.9.8.1":"Body Position Waveform Storage","1.2.840.10008.5.1.4.1.1.10":"Standalone Modality LUT Storage (Retired)","1.2.840.10008.5.1.4.1.1.11":"Standalone VOI LUT Storage (Retired)","1.2.840.10008.5.1.4.1.1.11.1":"Grayscale Softcopy Presentation State Storage SOP Class","1.2.840.10008.5.1.4.1.1.11.2":"Color Softcopy Presentation State Storage SOP Class","1.2.840.10008.5.1.4.1.1.11.3":"Pseudo-Color Softcopy Presentation State Storage SOP Class","1.2.840.10008.5.1.4.1.1.11.4":"Blending Softcopy Presentation State Storage SOP Class","1.2.840.10008.5.1.4.1.1.11.5":"XA/XRF Grayscale Softcopy Presentation State Storage","1.2.840.10008.5.1.4.1.1.11.6":"Grayscale Planar MPR Volumetric Presentation State Storage","1.2.840.10008.5.1.4.1.1.11.7":"Compositing Planar MPR Volumetric Presentation State Storage","1.2.840.10008.5.1.4.1.1.11.8":"Advanced Blending Presentation State Storage","1.2.840.10008.5.1.4.1.1.11.9":"Volume Rendering Volumetric Presentation State Storage","1.2.840.10008.5.1.4.1.1.11.10":"Segmented Volume Rendering Volumetric Presentation State Storage","1.2.840.10008.5.1.4.1.1.11.11":"Multiple Volume Rendering Volumetric Presentation State Storage","1.2.840.10008.5.1.4.1.1.30":"Parametric Map Storage","1.2.840.10008.5.1.4.1.1.66":"Raw Data Storage","1.2.840.10008.5.1.4.1.1.66.1":"Spatial Registration Storage","1.2.840.10008.5.1.4.1.1.66.2":"Spatial Fiducials Storage","1.2.840.10008.5.1.4.1.1.66.3":"Deformable Spatial Registration Storage","1.2.840.10008.5.1.4.1.1.66.4":"Segmentation Storage","1.2.840.10008.5.1.4.1.1.66.5":"Surface Segmentation Storage","1.2.840.10008.5.1.4.1.1.66.6":"Tractography Results Storage","1.2.840.10008.5.1.4.1.1.67":"Real World Value Mapping Storage","1.2.840.10008.5.1.4.1.1.68.1":"Surface Scan Mesh Storage","1.2.840.10008.5.1.4.1.1.68.2":"Surface Scan Point Cloud Storage","1.2.840.10008.5.1.4.1.1.77.1.5.3":"Stereometric Relationship Storage","1.2.840.10008.5.1.4.1.1.78.1":"Lensometry Measurements Storage","1.2.840.10008.5.1.4.1.1.78.2":"Autorefraction Measurements Storage","1.2.840.10008.5.1.4.1.1.78.3":"Keratometry Measurements Storage","1.2.840.10008.5.1.4.1.1.78.4":"Subjective Refraction Measurements Storage","1.2.840.10008.5.1.4.1.1.78.5":"Visual Acuity Measurements Storage","1.2.840.10008.5.1.4.1.1.78.7":"Ophthalmic Axial Measurements Storage","1.2.840.10008.5.1.4.1.1.78.8":"Intraocular Lens Calculations Storage","1.2.840.10008.5.1.4.1.1.80.1":"Ophthalmic Visual Field Static Perimetry Measurements Storage","1.2.840.10008.5.1.4.1.1.131":"Basic Structured Display Storage","1.2.840.10008.5.1.4.1.1.104.1":"Encapsulated PDF Storage","1.2.840.10008.5.1.4.1.1.104.2":"Encapsulated CDA Storage","1.2.840.10008.5.1.4.1.1.104.3":"Encapsulated STL Storage","1.2.840.10008.5.1.4.1.1.104.4":"Encapsulated OBJ Storage","1.2.840.10008.5.1.4.1.1.104.5":"Encapsulated MTL Storage","1.2.840.10008.5.1.4.1.1.129":"Standalone PET Curve Storage (Retired)","1.2.840.10008.5.1.4.1.1.88.1":"Text SR Storage Trial (Retired)","1.2.840.10008.5.1.4.1.1.88.2":"Audio SR Storage Trial (Retired)","1.2.840.10008.5.1.4.1.1.88.3":"Detail SR Storage Trial (Retired)","1.2.840.10008.5.1.4.1.1.88.4":"Comprehensive SR Storage Trial (Retired)","1.2.840.10008.5.1.4.1.1.90.1":"Content Assessment Results Storage","1.2.840.10008.5.1.4.1.1.91.1":"Microscopy Bulk Simple Annotations Storage","1.2.840.10008.5.1.4.1.1.200.2":"CT Performed Procedure Protocol Storage","1.2.840.10008.5.1.4.1.1.200.8":"XA Performed Procedure Protocol Storage","1.2.840.10008.5.1.4.1.1.481.2":"RT Dose Storage","1.2.840.10008.5.1.4.1.1.481.3":"RT Structure Set Storage","1.2.840.10008.5.1.4.1.1.481.4":"RT Beams Treatment Record Storage","1.2.840.10008.5.1.4.1.1.481.5":"RT Plan Storage","1.2.840.10008.5.1.4.1.1.481.6":"RT Brachy Treatment Record Storage","1.2.840.10008.5.1.4.1.1.481.7":"RT Treatment Summary Record Storage","1.2.840.10008.5.1.4.1.1.481.8":"RT Ion Plan Storage","1.2.840.10008.5.1.4.1.1.481.9":"RT Ion Beams Treatment Record Storage","1.2.840.10008.5.1.4.1.1.481.10":"RT Physician Intent Storage","1.2.840.10008.5.1.4.1.1.481.11":"RT Segment Annotation Storage","1.2.840.10008.5.1.4.1.1.481.12":"RT Radiation Set Storage","1.2.840.10008.5.1.4.1.1.481.13":"C-Arm Photon-Electron Radiation Storage","1.2.840.10008.5.1.4.1.1.481.14":"Tomotherapeutic Radiation Storage","1.2.840.10008.5.1.4.1.1.481.15":"Robotic-Arm Radiation Storage","1.2.840.10008.5.1.4.1.1.481.16":"RT Radiation Record Set Storage","1.2.840.10008.5.1.4.1.1.481.17":"RT Radiation Salvage Record Storage","1.2.840.10008.5.1.4.1.1.481.18":"Tomotherapeutic Radiation Record Storage","1.2.840.10008.5.1.4.1.1.481.19":"C-Arm Photon-Electron Radiation Record Storage","1.2.840.10008.5.1.4.1.1.481.20":"Robotic Radiation Record Storage","1.2.840.10008.5.1.4.1.1.481.21":"RT Radiation Set Delivery Instruction Storage","1.2.840.10008.5.1.4.1.1.481.22":"RT Treatment Preparation Storage","1.2.840.10008.5.1.4.1.1.481.25":"RT Patient Position Acquisition Instruction Storage","1.2.840.10008.5.1.4.34.7":"RT Beams Delivery Instruction Storage","1.2.840.10008.5.1.4.34.10":"RT Brachy Application Setup Delivery Instruction Storage","1.2.124.113532.3500.8.1":"Private Agfa Arrival Transaction","1.2.124.113532.3500.7":"Private Agfa Basic Attribute Presentation State","1.2.124.113532.3500.8.2":"Private Agfa Dictation Transaction","1.2.124.113532.3500.8.4":"Private Agfa Report Approval Transaction","1.2.124.113532.3500.8.3":"Private Agfa Report Transcription Transaction","1.2.826.0.1.3680043.293.1.0.2":"Private ERAD Practice Builder Report Dictation Storage","1.2.826.0.1.3680043.293.1.0.1":"Private ERAD Practice Builder Report Text Storage","1.2.840.113619.4.26":"Private GE 3D Model Storage","1.2.528.1.1001.5.1.1.1":"Private GE Collage Storage","1.2.840.113619.4.27":"Private GE eNTEGRA Protocol or NM Genie Storage","1.2.840.113619.4.30":"Private GE PET Raw Data Storage","1.2.840.113619.4.5.249":"Private GE RT Plan Storage","1.3.46.670589.5.0.2.1":"Private Philips 3D Object Storage","1.3.46.670589.5.0.2":"Private Philips 3D Object Storage (Retired)","1.3.46.670589.2.5.1.1":"Private Philips 3D Presentation State Storage","1.3.46.670589.5.0.4":"Private Philips Composite Object Storage","1.2.840.113543.6.6.1.3.10001":"Private Philips HP Live 3D 01 Storage","1.2.840.113543.6.6.1.3.10002":"Private Philips HP Live 3D 02 Storage","1.3.46.670589.7.8.1618510092":"Private Philips Live Run Storage","1.3.46.670589.5.0.11.1":"Private Philips MR Cardio Analysis Storage","1.3.46.670589.5.0.11":"Private Philips MR Cardio Analysis Storage (Retired)","1.3.46.670589.5.0.7":"Private Philips MR Cardio Profile Storage","1.3.46.670589.5.0.8.1":"Private Philips MR Cardio Storage","1.3.46.670589.5.0.8":"Private Philips MR Cardio Storage (Retired)","1.3.46.670589.11.0.0.12.4":"Private Philips MR Examcard Storage","1.3.46.670589.11.0.0.12.2":"Private Philips MR Series Data Storage","1.3.46.670589.11.0.0.12.1":"Private Philips MR Spectrum Storage","1.3.46.670589.5.0.13":"Private Philips Perfusion Storage","1.3.46.670589.7.8.16185100130":"Private Philips Reconstruction Storage","1.3.46.670589.7.8.16185100129":"Private Philips Run Storage","1.3.46.670589.2.3.1.1":"Private Philips Specialised XA Storage","1.3.46.670589.5.0.3.1":"Private Philips Surface Storage","1.3.46.670589.5.0.3":"Private Philips Surface Storage (Retired)","1.3.46.670589.2.11.1.1":"Private Philips Volume Set Storage","1.3.46.670589.5.0.1.1":"Private Philips Volume Storage","1.3.46.670589.5.0.1":"Private Philips Volume Storage (Retired)","1.3.46.670589.2.8.1.1":"Private Philips VRML Storage","1.3.46.670589.7.8.1618510091":"Private Philips X-Ray MF Storage","1.3.12.2.1107.5.99.3.11":"Private Siemens AX Frame Sets Storage","1.3.12.2.1107.5.9.1":"Private Siemens CSA Non Image Storage","1.3.12.2.1107.5.99.3.10":"Private Siemens CT MR Volume Storage","1.2.276.0.48.5.1.4.1.1.7":"Private TomTec Annotation Storage"}};}static get BODY_PARTS(){return{common:{ABDOMEN:"Abdomen",BRAIN:"Brain",BREAST:"Breast",CHEST:"Chest",ELBOW:"Elbow joint",EYE:"Eye",HAND:"Hand",HEAD:"Head",HEART:"Heart",KIDNEY:"Kidney",KNEE:"Knee",LEG:"Lower leg",LSPINE:"Lumbar spine",LUNG:"Lung",NECK:"Neck",SKULL:"Skull",SPINE:"Spine",STOMACH:"Stomach",TSPINE:"Thoracic spine",THORAX:"Thorax",WRIST:"Wrist joint"},more:{ABDOMENPELVIS:"Abdomen and Pelvis",ABDOMINALAORTA:"Abdomen aorta",ACJOINT:"Acromioclavicular joint",ADRENAL:"Adrenal gland",AMNIOTICFLUID:"Amniotic fluid",ANKLE:"Ankle joint",ANTECUBITALV:"Antecubital vein",ANTCARDIACV:"Anterior cardiac vein",ACA:"Anterior cerebral artery",ANTCOMMA:"Anterior communicating artery",ANTSPINALA:"Anterior spinal artery",ANTTIBIALA:"Anterior tibial artery",ANUSRECTUMSIGMD:"Anus, rectum and sigmoid colon",AORTA:"Aorta",AORTICARCH:"Aortic arch",APPENDIX:"Appendix",ARTERY:"Artery",ASCAORTA:"Ascending aorta",ASCENDINGCOLON:"Ascending colon",AXILLA:"Axilla",AXILLARYA:"Axillary Artery",AXILLARYV:"Axillary vein",AZYGOSVEIN:"Azygos vein",BACK:"Back",BASILARA:"Basilar artery",BILEDUCT:"Bile Duct",BILIARYTRACT:"Biliary tract",BLADDER:"Bladder",BLADDERURETHRA:"Bladder and urethra",BRACHIALA:"Brachial artery",BRACHIALV:"Brachial vein",BRONCHUS:"Bronchus",BUTTOCK:"Buttock",CALCANEUS:"Calcaneus",CALF:"Calf of leg",CAROTID:"Carotid Artery",BULB:"Carotid Bulb",CELIACA:"Celiac artery",CEPHALICV:"Cephalic vein",CEREBELLUM:"Cerebellum",CEREBRALA:"Cerebral artery",CEREBHEMISPHERE:"Cerebral hemisphere",CSPINE:"Cervical spine",CTSPINE:"Cervico-thoracic spine",CERVIX:"Cervix",CHEEK:"Cheek",CHESTABDOMEN:"Chest and Abdomen",CHESTABDPELVIS:"Chest, Abdomen and Pelvis",CHOROIDPLEXUS:"Choroid plexus",CIRCLEOFWILLIS:"Circle of Willis",CLAVICLE:"Clavicle",COCCYX:"Coccyx",COLON:"Colon",COMMONBILEDUCT:"Common bile duct",CCA:"Common carotid artery",CFA:"Common femoral artery",CFV:"Common femoral vein",COMILIACA:"Common iliac artery",COMILIACV:"Common iliac vein",CORNEA:"Cornea",CORONARYARTERY:"Coronary artery",CORONARYSINUS:"Coronary sinus",DESCAORTA:"Descending aorta",DESCENDINGCOLON:"Descending colon",DUODENUM:"Duodenum",EAR:"Ear",ENDOARTERIAL:"Endo-arterial",ENDOCARDIAC:"Endo-cardiac",ENDOESOPHAGEAL:"Endo-esophageal",ENDOMETRIUM:"Endometrium",ENDONASAL:"Endo-nasal",ENDONASOPHARYNYX:"Endo-nasopharyngeal",ENDORECTAL:"Endo-rectal",ENDORENAL:"Endo-renal",ENDOURETERIC:"Endo-ureteric",ENDOURETHRAL:"Endo-urethral",ENDOVAGINAL:"Endo-vaginal",ENDOVASCULAR:"Endo-vascular",ENDOVENOUS:"Endo-venous",ENDOVESICAL:"Endo-vesical",WHOLEBODY:"Entire body",EPIDIDYMIS:"Epididymis",EPIGASTRIC:"Epigastric region",ESOPHAGUS:"Esophagus",EAC:"External auditory canal",ECA:"External carotid artery",EXTILIACA:"External iliac artery",EXTILIACV:"External iliac vein",EXTJUGV:"External jugular vein",EXTREMITY:"Extremity",EYELID:"Eyelid",FACE:"Face",FACIALA:"Facial artery",FEMORALA:"Femoral artery",FEMORALV:"Femoral vein",FEMUR:"Femur",FIBULA:"Fibula",FINGER:"Finger",FLANK:"Flank",FONTANEL:"Fontanel of skull",FOOT:"Foot",FOREARM:"Forearm","4THVENTRICLE":"Fourth Ventricle",GALLBLADDER:"Gallbladder",GASTRICV:"Gastric vein",GENICULARA:"Genicular artery",GESTSAC:"Gestational sac",GLUTEAL:"Gluteal region",GSV:"Great saphenous vein",HEADNECK:"Head and Neck",HEPATICA:"Hepatic artery",HEPATICV:"Hepatic vein",HIP:"Hip joint",HUMERUS:"Humerus",HYPOGASTRIC:"Hypogastric region",HYPOPHARYNX:"Hypopharynx",ILEUM:"Ileum",ILIACA:"Iliac artery",ILIACV:"Iliac vein",ILIUM:"Ilium",INFMESA:"Inferior mesenteric artery",INFVENACAVA:"Inferior vena cava",INGUINAL:"Inguinal region",INNOMINATEA:"Innominate artery",INNOMINATEV:"Innominate vein",IAC:"Internal Auditory Canal",ICA:"Internal carotid artery",INTILIACA:"Internal iliac artery",INTJUGULARV:"Internal jugular vein",INTMAMMARYA:"Internal mammary artery",INTRACRANIAL:"Intracranial",JAW:"Jaw region",JEJUNUM:"Jejunum",JOINT:"Joint",LACRIMALA:"Lacrimal artery",LARGEINTESTINE:"Large intestine",LARYNX:"Larynx",LATVENTRICLE:"Lateral Ventricle",LATRIUM:"Left atrium",LFEMORALA:"Left femoral artery",LHEPATICV:"Left hepatic vein",LHYPOCHONDRIAC:"Left hypochondriac region",LINGUINAL:"Left inguinal region",LLQ:"Left lower quadrant of abdomen",LLUMBAR:"Left lumbar region",LPORTALV:"Left portal vein",LPULMONARYA:"Left pulmonary artery",LUQ:"Left upper quadrant of abdomen",LVENTRICLE:"Left ventricle",LINGUALA:"Lingual artery",LIVER:"Liver",LOWERLIMB:"Lower limb",LUMBARA:"Lumbar artery",LUMBAR:"Lumbar region",LSSPINE:"Lumbo-sacral spine",LUMEN:"Lumen of blood vessel",MANDIBLE:"Mandible",MASTOID:"Mastoid Bone",MAXILLA:"Maxilla",MEDIASTINUM:"Mediastinum",MESENTRICA:"Mesenteric artery",MESENTRICV:"Mesenteric vein",MCA:"Middle cerebral artery",MIDHEPATICV:"Middle hepatic vein",MORISONSPOUCH:"Morisons Pouch",MOUTH:"Mouth",NASOPHARYNX:"Nasopharynx",NECKCHEST:"Neck and Chest",NECKCHESTABDOMEN:"Neck, Chest and Abdomen",NECKCHESTABDPELV:"Neck, Chest, Abdomen and Pelvis",NOSE:"Nose",OCCPITALA:"Occipital artery",OCCPITALV:"Occipital vein",OPHTHALMICA:"Ophthalmic artery",OPTICCANAL:"Optic canal",ORBIT:"Orbital structure",OVARY:"Ovary",PANCREAS:"Pancreas",PANCREATICDUCT:"Pancreatic duct",PANCBILEDUCT:"Pancreatic duct and bile duct systems",PARASTERNAL:"Parasternal",PARATHYROID:"Parathyroid",PAROTID:"Parotid gland",PATELLA:"Patella",PELVIS:"Pelvis",PELVISLOWEXTREMT:"Pelvis and lower extremities",PENILEA:"Penile artery",PENIS:"Penis",PERINEUM:"Perineum",PERONEALA:"Peroneal artery",PHANTOM:"Phantom",PHARYNX:"Pharynx",PHARYNXLARYNX:"Pharynx and Larynx",PLACENTA:"Placenta",POPLITEALA:"Popliteal artery",POPLITEALFOSSA:"Popliteal fossa",POPLITEALV:"Popliteal vein",PORTALV:"Portal vein",PCA:"Posterior cerebral artery",POSCOMMA:"Posterior communicating artery",POSTIBIALA:"Posterior tibial artery",PROFFEMA:"Profunda femoris artery",PROFFEMV:"Profunda femoris vein",PROSTATE:"Prostate",PULMONARYA:"Pulmonary artery",PULMONARYV:"Pulmonary vein",RADIALA:"Radial artery",RADIUS:"Radius",RADIUSULNA:"Radius and ulna",CULDESAC:"Rectouterine pouch",RECTUM:"Rectum",RENALA:"Renal artery",RENALV:"Renal vein",RETROPERITONEUM:"Retroperitoneum",RATRIUM:"Right atrium",RFEMORALA:"Right femoral artery",RHEPATICV:"Right hepatic vein",RHYPOCHONDRIAC:"Right hypochondriac region",RIB:"Rib",RINGUINAL:"Right inguinal region",RLQ:"Right lower quadrant of abdomen",RLUMBAR:"Right lumbar region",RPORTALV:"Right portal vein",RPULMONARYA:"Right pulmonary artery",RUQ:"Right upper quadrant of abdomen",RVENTRICLE:"Right ventricle",SIJOINT:"Sacroiliac joint",SSPINE:"Sacrum",SFJ:"Saphenofemoral junction",SAPHENOUSV:"Saphenous vein",SCALP:"Scalp",SCAPULA:"Scapula",SCLERA:"Sclera",SCROTUM:"Scrotum",SELLA:"Sella turcica",SEMVESICLE:"Seminal vesicle",SESAMOID:"Sesamoid bones of foot",SHOULDER:"Shoulder",SIGMOID:"Sigmoid Colon",SMALLINTESTINE:"Small intestine",SPINALCORD:"Spinal Cord",SPLEEN:"Spleen",SPLENICA:"Splenic artery",SPLENICV:"Splenic vein",SCJOINT:"Sternoclavicular joint",STERNUM:"Sternum",SUBCLAVIANA:"Subclavian artery",SUBCLAVIANV:"Subclavian vein",SUBCOSTAL:"Subcostal",SUBMANDIBULAR:"Submandibular gland",SFA:"Superficial femoral artery",SFV:"Superficial femoral vein",LSUPPULMONARYV:"Superior left pulmonary vein",SMA:"Superior mesenteric artery",RSUPPULMONARYV:"Superior right pulmonary vein",SUPTHYROIDA:"Superior thyroid artery",SVC:"Superior vena cava",SUPRACLAVICULAR:"Supraclavicular region of neck",SUPRAPUBIC:"Suprapubic region",TMJ:"Temporomandibular joint",TESTIS:"Testis",THALAMUS:"Thalamus",THIGH:"Thigh","3RDVENTRICLE":"Third ventricle",THORACICAORTA:"Thoracic aorta",TLSPINE:"Thoraco-lumbar spine",THUMB:"Thumb",THYMUS:"Thymus",THYROID:"Thyroid",TIBIA:"Tibia",TIBIAFIBULA:"Tibia and fibula",TOE:"Toe",TONGUE:"Tongue",TRACHEA:"Trachea",TRACHEABRONCHUS:"Trachea and bronchus",TRANSVERSECOLON:"Transverse colon",ULNA:"Ulna",ULNARA:"Ulnar artery",UMBILICALA:"Umbilical artery",UMBILICAL:"Umbilical region",UMBILICALV:"Umbilical vein",UPPERARM:"Upper arm",UPPERLIMB:"Upper limb",UPRURINARYTRACT:"Upper urinary tract",URETER:"Ureter",URETHRA:"Urethra",UTERUS:"Uterus",VAGINA:"Vagina",VEIN:"Vein",VERTEBRALA:"Vertebral Artery",VULVA:"Vulva",ZYGOMA:"Zygoma"}};}static get OPTIONS(){return{genders:[{obj:{vr:"CS",Value:["F"]},title:"Female"},{obj:{vr:"CS",Value:["M"]},title:"Male"},{obj:{vr:"CS",Value:["O"]},title:"Other"}]};}static get ORDERBY_EXTERNAL(){return[{value:"",label:"<label>Patient</label>",mode:"patient",title:"Query Patients to external archive"},{value:"",label:"<label>Study </label>",mode:"study",title:"Query Studies to external archive"}];}static get ORDERBY(){return[{value:"PatientName",label:"<label class=\"order_label\">Patient</label>"+'<span class="glyphicon glyphicon-sort-by-alphabet"></span>',mode:"patient",title:"Query Patients"},{value:"-PatientName",label:"<label class=\"order_label\">Patient</label>"+'<span class="orderbynamedesc"></span>',mode:"patient",title:"Query Patients"},{value:"-StudyDate,-StudyTime",label:"<label class=\"order_label\">Study</label><span class=\"orderbydateasc\"></span>",mode:"study",title:"Query Studies"},{value:"StudyDate,StudyTime",label:"<label class=\"order_label\">Study</label><span class=\"orderbydatedesc\"></span>",mode:"study",title:"Query Studies"},{value:"PatientName,-StudyDate,-StudyTime",label:"<label class=\"order_label\">Study</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydateasc\"></span>",mode:"study",title:"Query Studies"},{value:"-PatientName,-StudyDate,-StudyTime",label:"<label class=\"order_label\">Study</label><span class=\"orderbynamedesc\"></span><span class=\"orderbydateasc\"></span>",mode:"study",title:"Query Studies"},{value:"PatientName,StudyDate,StudyTime",label:"<label class=\"order_label\">Study</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydatedesc\"></span>",mode:"study",title:"Query Studies"},{value:"-PatientName,StudyDate,StudyTime",label:"<label class=\"order_label\">Study</label><span class=\"orderbynamedesc\"></span><span class=\"orderbydatedesc\"></span>",mode:"study",title:"Query Studies"},{value:"-ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,-ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">MWL</label></span><span class=\"orderbydateasc\"></span>",mode:"mwl",title:"Query MWL"},{value:"ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">MWL</label><span class=\"orderbydatedesc\"></span>",mode:"mwl",title:"Query MWL"},{value:"PatientName,-ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,-ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">MWL</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydateasc\"></span>",mode:"mwl",title:"Query MWL"},{value:"-PatientName,-ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,-ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">MWL</label><span class=\"orderbynamedesc\"></span><span class=\"orderbydateasc\"></span>",mode:"mwl",title:"Query MWL"},{value:"PatientName,ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">MWL</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydatedesc\"></span>",mode:"mwl",title:"Query MWL"},{value:"-PatientName,ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">MWL</label><span class=\"orderbynamedesc\"></span><span class=\"orderbydatedesc\"></span>",mode:"mwl",title:"Query MWL"},{value:"",label:"<label class=\"order_label\">Diff </label><i class=\"material-icons\">compare_arrows</i>",mode:"diff",title:"Make diff between two archives"},{value:"-PerformedProcedureStepStartDate,-PerformedProcedureStepStartTime",label:"<label class=\"order_label\">MPPS</label></span><span class=\"orderbydateasc\"></span>",mode:"mpps",title:"Query MPPS"},{value:"PerformedProcedureStepStartDate,PerformedProcedureStepStartTime",label:"<label class=\"order_label\">MPPS</label><span class=\"orderbydatedesc\"></span>",mode:"mpps",title:"Query MPPS"},{value:"PatientName,-PerformedProcedureStepStartDate,-PerformedProcedureStepStartTime",label:"<label class=\"order_label\">MPPS</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydateasc\"></span>",mode:"mpps",title:"Query MPPS"},{value:"-PatientName,-PerformedProcedureStepStartDate,-PerformedProcedureStepStartTime",label:"<label class=\"order_label\">MPPS</label><span class=\"orderbynamedesc\"></span><span class=\"orderbydateasc\"></span>",mode:"mpps",title:"Query MPPS"},{value:"PatientName,PerformedProcedureStepStartDate,PerformedProcedureStepStartTime",label:"<label class=\"order_label\">MPPS</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydatedesc\"></span>",mode:"mpps",title:"Query MPPS"},{value:"-PatientName,PerformedProcedureStepStartDate,PerformedProcedureStepStartTime",label:"<label class=\"order_label\">MPPS</label><span class=\"orderbynamedesc\"></span><span class=\"orderbydatedesc\"></span>",mode:"mpps",title:"Query MPPS"}];}static get ORDERBY_NEW(){return[{value:"PatientName",label:"<label class=\"order_label\">A-Z</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span>",mode:"patient",title:"Patient Name ascending alphabetically"},{value:"-PatientName",label:"<label class=\"order_label\">Z-A</label><span class=\"glyphicon glyphicon-sort-by-alphabet-alt\"></span>",mode:"patient",title:"Patient Name descending alphabetically"},{value:"-StudyDate,-StudyTime",label:"<label class=\"order_label\">Newest first</label>"+'<span class="orderbydatedesc"></span>',mode:"study",title:"Newest StudyDateTime first"},{value:"StudyDate,StudyTime",label:"<label class=\"order_label\">Oldest first</label><span class=\"orderbydateasc\"></span>",mode:"study",title:"Oldest StudyDateTime first"},{value:"PatientName,-StudyDate,-StudyTime",label:"<label class=\"order_label\">A-Z, New to Old</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydatedesc\"></span>",mode:"study",title:"Patient Name ascending, New to Old - StudyDateTime"},{value:"-PatientName,-StudyDate,-StudyTime",label:"<label class=\"order_label\">Z-A, New to Old</label><span class=\"glyphicon glyphicon-sort-by-alphabet-alt\"></span><span class=\"orderbydatedesc\"></span>",mode:"study",title:"Patient Name descending, New to Old - StudyDateTime"},{value:"PatientName,StudyDate,StudyTime",label:"<label class=\"order_label\">A-Z, Old to New</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydateasc\"></span>",mode:"study",title:"Patient Name ascending, Old to New - StudyDateTime"},{value:"-PatientName,StudyDate,StudyTime",label:"<label class=\"order_label\">Z-A, Old to New</label><span class=\"glyphicon glyphicon-sort-by-alphabet-alt\"></span><span class=\"orderbydateasc\"></span>",mode:"study",title:"Patient Name descending, Old to New - StudyDateTime"},{value:"-PerformedProcedureStepStartDate,-PerformedProcedureStepStartTime",label:"<label class=\"order_label\">Newest first</label>"+'<span class="orderbydatedesc"></span>',mode:"series",title:"Newest PerformedProcedureStepStartDateTime first"},{value:"PerformedProcedureStepStartDate,PerformedProcedureStepStartTime",label:"<label class=\"order_label\">Oldest first</label><span class=\"orderbydateasc\"></span>",mode:"series",title:"Oldest PerformedProcedureStepStartDateTime first"},{value:"PatientName,-PerformedProcedureStepStartDate,-PerformedProcedureStepStartTime",label:"<label class=\"order_label\">A-Z, New to Old</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydatedesc\"></span>",mode:"series",title:"Patient Name ascending, New to Old - PerformedProcedureStepStartDateTime"},{value:"-PatientName,-PerformedProcedureStepStartDate,-PerformedProcedureStepStartTime",label:"<label class=\"order_label\">Z-A, New to Old</label><span class=\"glyphicon glyphicon-sort-by-alphabet-alt\"></span><span class=\"orderbydatedesc\"></span>",mode:"series",title:"Patient Name descending, New to Old - PerformedProcedureStepStartDateTime"},{value:"PatientName,PerformedProcedureStepStartDate,PerformedProcedureStepStartTime",label:"<label class=\"order_label\">A-Z, Old to New</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydateasc\"></span>",mode:"series",title:"Patient Name ascending, Old to New - PerformedProcedureStepStartDateTime"},{value:"-PatientName,PerformedProcedureStepStartDate,PerformedProcedureStepStartTime",label:"<label class=\"order_label\">Z-A, Old to New</label><span class=\"glyphicon glyphicon-sort-by-alphabet-alt\"></span><span class=\"orderbydateasc\"></span>",mode:"series",title:"Patient Name descending, Old to New - PerformedProcedureStepStartDateTime"},{value:"-ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,-ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">Newest first</label>"+'<span class="orderbydatedesc"></span>',mode:"mwl",title:"Newest ScheduledProcedureStepStartDateTime first"},{value:"ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">Oldest first</label><span class=\"orderbydateasc\"></span>",mode:"mwl",title:"Oldest ScheduledProcedureStepStartDateTime first"},{value:"PatientName,-ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,-ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">A-Z, New to Old</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydatedesc\"></span>",mode:"mwl",title:"Patient Name ascending, New to Old - ScheduledProcedureStepStartDateTime"},{value:"-PatientName,-ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,-ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">Z-A, New to Old</label><span class=\"glyphicon glyphicon-sort-by-alphabet-alt\"></span><span class=\"orderbydatedesc\"></span>",mode:"mwl",title:"Patient Name descending, New to Old - ScheduledProcedureStepStartDateTime"},{value:"PatientName,ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">A-Z, Old to New</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydateasc\"></span>",mode:"mwl",title:"Patient Name ascending, Old to New - ScheduledProcedureStepStartDateTime"},{value:"-PatientName,ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate,ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",label:"<label class=\"order_label\">Z-A, Old to New</label><span class=\"glyphicon glyphicon-sort-by-alphabet-alt\"></span><span class=\"orderbydateasc\"></span>",mode:"mwl",title:"Patient Name descending, Old to New - ScheduledProcedureStepStartDateTime"},{value:"-PerformedProcedureStepStartDate,-PerformedProcedureStepStartTime",label:"<label class=\"order_label\">Newest first</label>"+'<span class="orderbydatedesc"></span>',mode:"mpps",title:"Newest PerformedProcedureStepStartDateTime first"},{value:"PerformedProcedureStepStartDate,PerformedProcedureStepStartTime",label:"<label class=\"order_label\">Oldest first</label><span class=\"orderbydateasc\"></span>",mode:"mpps",title:"Oldest PerformedProcedureStepStartDateTime first"},{value:"PatientName,-PerformedProcedureStepStartDate,-PerformedProcedureStepStartTime",label:"<label class=\"order_label\">A-Z, New to Old</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydatedesc\"></span>",mode:"mpps",title:"Patient Name ascending, New to Old - PerformedProcedureStepStartDateTime"},{value:"-PatientName,-PerformedProcedureStepStartDate,-PerformedProcedureStepStartTime",label:"<label class=\"order_label\">Z-A, New to Old</label><span class=\"glyphicon glyphicon-sort-by-alphabet-alt\"></span><span class=\"orderbydatedesc\"></span>",mode:"mpps",title:"Patient Name descending, New to Old - PerformedProcedureStepStartDateTime"},{value:"PatientName,PerformedProcedureStepStartDate,PerformedProcedureStepStartTime",label:"<label class=\"order_label\">A-Z, Old to New</label><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span><span class=\"orderbydateasc\"></span>",mode:"mpps",title:"Patient Name ascending, Old to New - PerformedProcedureStepStartDateTime"},{value:"-PatientName,PerformedProcedureStepStartDate,PerformedProcedureStepStartTime",label:"<label class=\"order_label\">Z-A, Old to New</label><span class=\"glyphicon glyphicon-sort-by-alphabet-alt\"></span><span class=\"orderbydateasc\"></span>",mode:"mpps",title:"Patient Name descending, Old to New - PerformedProcedureStepStartDateTime"},{value:"-ScheduledProcedureStepPriority",label:"<label class=\"order_label\">Highest SPS Priority first</label><span class=\"orderbyprioritydesc\"></span>",mode:"uwl",title:"Scheduled Procedure Step Priority - high to low"},{value:"ScheduledProcedureStepPriority",label:"<label class=\"order_label\">Lowest SPS Priority first</label><span class=\"orderbypriorityasc\"></span>",mode:"uwl",title:"Scheduled Procedure Step Priority - low to high"},{value:"-ScheduledProcedureStepStartDateTime",label:"<label class=\"order_label\">Newest SPS Start DateTime first</label><span class=\"orderbydatedesc_uwl\"></span>",mode:"uwl",title:"Scheduled Procedure Step Start Date and Time - new to old"},{value:"ScheduledProcedureStepStartDateTime",label:"<label class=\"order_label\">Oldest SPS Start DateTime first</label></span><span class=\"orderbydateasc_uwl\"></span>",mode:"uwl",title:"Scheduled Procedure Step Start Date and Time - old to new"},{value:"-ExpectedCompletionDateTime",label:"<label class=\"order_label\">Newest Expected Completion DateTime first</label><span class=\"orderbydatedesc_uwl\"></span>",mode:"uwl",title:"Expected Completion Date and Time - new to old"},{value:"ExpectedCompletionDateTime",label:"<label class=\"order_label\">Oldest Expected Completion DateTime first</label><span class=\"orderbydateasc_uwl\"></span>",mode:"uwl",title:"Expected Completion Date and Time - old to new"}];}static get LANGUAGES(){let r={en:{code:"en",name:"English",nativeName:"English",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAPCAYAAAARZmTlAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAuJAAALiQE3ycutAAAAB3RJTUUH5AIUEDUJI3G5/gAABAlJREFUOMudkn1MlWUYxn/P+77nPR/JIWx+QJG2GVkMj/QhmjrSNbQ05CMtAQGRUmG0FRM/ScsvLEydnmFOJipamc5kHFYhomszwZxpWIpurtTEqQdBD0fPOe/79Aebhtrmuv577l177vva7xLeGbNleOk8lAHRrNnaSPnmH7nlu82/ZRgmgwdF8Uv6AC5mZhO1cgVT2iLwNJxAt6g9vA6HlVnJL1HcN4C/YhPhixegNA1+xehcvAz/mg18OP4Fmj2fkJGcgE23EAwaPIqCIQNNt5CWFE99tou5Z/ZjNh+lzw81HB8Yhzaj9pw5aViCOr+XzhPzSukdPxT3kkKyUkew0u3B03gSu11/6OdSSjpv+hmT6GJBylDivtqM45oVW8FMjNghzHXXsau2GeVWp48d+39jxLZTfPdmNlYhaR+XzPDeGrsrCqhalYvDpiOlvG8B6BaV9WV57BoZTlxRPs4J4wjbXMH3fgeuiZ+ycUcj3g4fmmGaANzo7GJa6U6qX49n5fuFBCZnEZYxhZz8bMYMi6F86wGkEehmZJoMebY/H4+L4bm9W/BdaqN30yEuCDuLPqrka89R7DYdIboPEkXl+0ICcZfenUCIPv0imP3uKCL2fIsMBnHkZQPgq6qmfXouzqXLcS4q4c46N+ZT0djTJ3E9BBXbG7lwuR2b1dIjtbg+MU0KU4K4NzRNiWFKVKuODAQAiRAKxuU2gmda0QYOQH06GqGqoKoQCnX7FYGiiAfYiUsRURLj0Vr0f6UpsbEIaT7QGinBoqmgCGQwBKaJ2dGB8edfKFGRaJGRIE2kYSCsVkLBEEiJEA8m0VZnzDGEco9JIBAiItxBTtpIInup3DlwEPP309jfy6Frdw3erEzCcksIW1jS7T98hNCpP2hPTmX7z+dpu3AFXdd6LnFX1JiACuD3B0hMiOGz0kz6+2/gzf0Amya4Oi2XjWs9LI8KAgIrks+3NJA6No5B8XEYFy+hvDOV195IoazNwr7aJuw2/S5nxaKpaKqKw65TWZbDwepi4lqO0D50GNroV/HklzB8RT31zWdR1O7AmqrQ9Ot5Et4uo7L2OJb0VPrv+4aYYz+xM9TC3i+mE/G4A01VsGgqit1mISUpnpa6JeS5+tI5q4iblVu5UrWD/L+dTJntpuNmFz3qR/fT5w+Qv3A7E2e6OXbxBuG7qlFefpGx65dxLHMwUxOfxxn+GNqmVXlKsutJfKvK6Wo9y/WRiXz5TCLbltbg9XbiDLNjGOZDWyOEwNnLzqGmVsbnrSMrOYHiwnSiUyagbthEubeVt0a50JJuX1auTSjCMTmNqn4u1tad5MrV00jTxHofwP+SblEJBAy27DlMTcMJCrLGUDx/DsbZc4wuW80/B52SmC5kfUQAAAAASUVORK5CYII="},es:{code:"es",name:"Spanisch",nativeName:"Espa\xF1ol",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAKCAYAAABrGwT5AAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpSIVBytIcchQxcGCqIijVqEIFUKt0KqDyaUfQpOGJMXFUXAtOPixWHVwcdbVwVUQBD9AXF2cFF2kxP8lhRYxHhz34929x907QKiXmWZ1jAGabpvpZELM5lbE0CtCiCKMfozIzDJmJSkF3/F1jwBf7+I8y//cn6NHzVsMCIjEM8wwbeJ14qlN2+C8TxxhJVklPiceNemCxI9cVzx+41x0WeCZETOTniOOEIvFNlbamJVMjXiSOKZqOuULWY9VzluctXKVNe/JXxjO68tLXKc5iCQWsAgJIhRUsYEybMRp1UmxkKb9hI8/6volcink2gAjxzwq0CC7fvA/+N2tVZgY95LCCaDzxXE+hoDQLtCoOc73seM0ToDgM3Clt/yVOjD9SXqtpcWOgN5t4OK6pSl7wOUOMPBkyKbsSkGaQqEAvJ/RN+WAvluge9XrrbmP0wcgQ12lboCDQ2C4SNlrPu/uau/t3zPN/n4AeqRyqlvTLQ8AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfnBxoMFjKXRPdCAAAAbklEQVQoz2NcKyr5n4FMwMRAAWDRLvtGtmbGX3sZUJx95boyAxMjI4OWxh3SnP3sjQHD9WNfGB7+iGZ4/laLNM2f36swvGaQZPj8monh3RtFEjUzczKI67AwcL3cyfCVmY+wn29085MdVYwDFs8AXvghJ1z0IIIAAAAASUVORK5CYII="},ru:{code:"ru",name:"Russian",nativeName:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAARBAMAAADalBo9AAAAD1BMVEX///+qveEAOaaOMEvVKx7/j+iDAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AIVCAgR8Hz8uwAAABdJREFUCNdjYKABUEICCmTzXJCAA3V4AGMLHTkaNKlFAAAAAElFTkSuQmCC"},de:{code:"de",name:"German",nativeName:"Deutsch",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAASCAYAAACuLnWgAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AIVDRIfoSLpjAAAADVJREFUOMtjZGBg+M9AY8DEQAcwasngs4Rlx2hwDbo4YWKkgyX//tPeEsb/FyRGy65RS2gDAGpJBsZkRqwRAAAAAElFTkSuQmCC"},hi:{code:"hi",name:"Hindi",nativeName:"\u0939\u093F\u0928\u094D\u0926\u0940",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUBAMAAACKWYuOAAAAMFBMVEX///8AZjP/mTMAPGi7y9dmiqWAnrQwYYTv8/YVTHSftsbP2uNAbY7f5+yPqr1QeZcEz6ptAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AIUEQYIod+GbwAAADFJREFUGNNjUEICCgy04EGAAwMSYElH4jCzHGBG4jGfZEZWmo/MYXC4AKEFkYAALXgA9uIV01T/BOMAAAAASUVORK5CYII="},it:{code:"it",name:"Italian",nativeName:"Italiano",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAARCAYAAAAougcOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAPwAAAD8BR5eJ4AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAA3SURBVDiNY2SY5PafAQ9Y7VnDEKJii1P+w869DPeLq/EZwcCEV5ZKYNSSUUtGLRm1ZNSSYW8JAPHjCFF7xQeaAAAAAElFTkSuQmCC"},ja:{code:"ja",name:"Japanese",nativeName:"\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054\uFF0F\u306B\u3063\u307D\u3093\u3054)",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAARCAYAAAAougcOAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AobDjswnFzJlQAAATJJREFUOMvtlD1LA0EURc/MbszKSgIBCUIMNoJdfoo2aqGNIEg6sRBBELFQG0ELLYRAGhURLPwpEhAslBQh2Ciarw1m51kEsdq4bGIqbz3zztz73hslIsIfSzMEDQVihz0oIninBToPj9gz0zj5FZQd7roK05PG1h7ty1vwfVAKRMCyiC/P4+5v9x9X8+gMr3jdLax1F6I1iOAVLmgeHPfnRBoNXjM51JgbHONnh1TlHmVZ0Zy0b+7AcX55psIrXkWPy1SqKKt3okorzFM5OkSnxxFjek+dEXQ2E70n5v2Dt8kcKpkIhrQ8UtUSKhaL6CSZwNnIQ4Ab8X2c1aWegFAj7O5uMrIwi9TqPzBjkFqd+OIc7uHOYJYRwH8u0zo5x1Rf0BNpRtfXsKayg9v4/1/4W1+o7nc/qdSJmAAAAABJRU5ErkJggg=="},mr:{code:"mr",name:"Marathi",nativeName:"\u092E\u0930\u093E\u0920\u0940",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUBAMAAACKWYuOAAAAMFBMVEX///8AZjP/mTMAPGi7y9dmiqWAnrQwYYTv8/YVTHSftsbP2uNAbY7f5+yPqr1QeZcEz6ptAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AIUEQYIod+GbwAAADFJREFUGNNjUEICCgy04EGAAwMSYElH4jCzHGBG4jGfZEZWmo/MYXC4AKEFkYAALXgA9uIV01T/BOMAAAAASUVORK5CYII="},zh:{code:"zh",name:"Chinese",nativeName:"\u4E2D\u6587",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAARCAIAAACn2JBZAAAJEHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZhZkiS5DUT/eQodgRtI8DgEFzPdQMfXQ2RWqbu629SaGf1NpWWQGQsIwh0ORIXzr3/e8A/+sqYWqnRto7XIXx115MlE4+tvPscU63N8/Rjva+n78yG9JzFzqjCW109t7/s/zqdPA69hMpNvDOl6X7DvL4z6tq9fDOXXUNwjn++3ofE2VPLrQnobmK9txTa0f7sFO6/x/fwrDHyDH6p+7/YPvzvR28I6JedTUokcc8kvB4p/UyjTL3DMRbkxFXnOpOdMexsjID+LU/zGq/AVlc/ZF1Tm+TkoLPbcETjxfTDb5/jT80m+nH8bDE+Iv1m5rPcsf3/edhxft/PxvXdruPe8djdrI6TtvamPLT4zbjRCXp7HGp/OV5j35zP4aIC9C8h3XNH4rDRSJvo31bTTTDedZ1xp4WLNJ3fGnBdA+TktPY+8SgzgU/2Tbu5llF0UtBbwFs7mT1/Ss+54lltJWXgn7swJY8mpEPzwV3x+aehepzyZqA/06cEnZSchbjhyfuQuAEn3g0fyBPjj8/XPcS0gKE+YlQ3OaC8TJunNLedReYAu3CiMr1xLfb8NECLWFpyB7zXFBvlTS7Hn3FMijgo+E0OaS80GBEkkb7zMtZQGOGQMa/NMT8+9WfLrNJoFEFJa6UAzygSrirDBn14VDk0pUkWkSReVIbOVVpu01npz8Zu99Nqlt9679tGnFq0q2rSrBh06Rx4FcZTRRh86xpiTRSeWJ09PbpjTshWrJtasm9qwuaDPqktWW31pWGPNnXfZ6MRuu2/dY8+TDlQ69chppx8948wL1W659cptt1+9485P1FJ4wfrD5/dRSx+o5Qcpv7F/osajvX+YSC4n4piBWK4JxLsjAKGzYxY11ZqDQ+eYxZHJCsl4KQ7OTo4YCNaTstz0id1/kPsOt1Drn8ItfyAXHLq/Arng0P0CuR9x+wlq26vNiiU8CHkaelBjIf14UGfWeccoV3L0uThCEBCZ5MGKs6ePRM72fmVOPSRtb9SQSJhnHcMPOqokIkViSRZCcnTc6+q4D6aZlcOJxw7ONBsgqGGqROsl9znWVl21Nt2+/XG67svpTEBEdpnsGg+He5j3VKNI71Uv5NrNAk6eXNVa85AhkqeZzC4ThRzzzMdCGlMa8/YYMXB/Npxdq95j+Hrifxn7XEKhXXO1EyrQIv6TGjzxRe86thR1PwU8p43V68IhPcv9W3f0tks5ZZ7tcIssi7u0wAVJBucgibcBC2JSEHpaettcp0uGYbvqWOeZbDDXCloQwjzc+Ql6uHIszbZzb+vmDDnGggm3l32PycYFzF6ugdi5o4iSLeRGa6exyG7UJ/ym0UoDKtxs8UJfawfa4U0+2nJr22zZzWV0kOzXSlXstgOLD9k3lXAYylrCvHWze2JyIgZYVUYBdN/XHXh6vKjuIhhMcxRdNmFvubq5q55J/gpcCQN4YW4SQokQH0xt277rehjUZ/6VaetOm+VaXU9Uyj4PPe0s6SWAFhV/ohtb8HbBGylHDLyQgLarrb3raZ3Np7ENpO9FLeBoWX2zXc/Mq+F0zJ45q+2KUJzNOkKACEATWtiuCcMD7va4D0HTLBT2CVYdpmZl3sbcIa9GcrVUPQywtgLDEUTqrgWXrOVJbiy5YvWmPYjypTectHU0D1ojUbJ0LLiYgSOgTPLoltpOepK2oUOvmXeo/3UMP78geCGXnobEJ95lQm4SwnJWtAzV6C4YpegtT+iqhl6mJVRMHyTy9SE5Fc1Sv/NUNEelJznJM6XcNtaaj4AUCknfByStjNBqQQVO5LnYqpBmfo1lm8R+dq7HH9okIYQWBGHiIet21JQEsNVZtPcGIS96ftAxav/mtCS0NmNK17q0Dbr0xSvBhY3vzRaO3Ry5gOvmnWGUMCEwatTHTJs6JJCTwiR0IUX5HSkYRXpGpHsqJHomXOQJ2tB6XK5rRW4tGtIqVIY8yU65sdM50vXZqHkYkZezx9kUvlY89J3oEZm122VzeLW9l8VRFFJNxuQRyliiM95ayKiUL4KYXXx6Kbl1xIfOde2e4FQhqXgGgdBDl4BEI6bhnN7GeWnKAPflPV9/ci3zC/W/FFqih96qp87YO15qqLem/UZq5LzRakjenar1jmSVuKvwu2drL0rxNrPjb9Ey/AZvm/tH5jlRpiE0y4sZNTMlkukmh1WCKOp9kZojNHCGuC30AtzRAgRFqaSunW6KkPrYvCQS8VaGRaoOwkNxC5SAujPVi3K5rJbXb2r4NMvIwuoi1GXAv9uJk/Go0GW0c+g94uJlAKrdGigfXEqgTbzHIRl81e5ZoFvAJtFWLLSPlOgyqOyXduTxcCKso8m5Ew0I3MdrJ10NZhMUv5Q/lMqoSCgq6QBVUQY7lZeHPBB4eM4LRHualCVGjQIc+iPvmfjznoxen1Kbu7lorWl7CLnqzeHtZr6lMxuNWdbaSmooBBK36K5hbkgKg1/100wv696GhKS1I3qBtsVBBHIh0hVp25Gr53oaZvqNtol5G2nfUM6WSncEuka3liMx7Bdp3U1pWhLdDaTed5Vt5DlvRor8SCKKLDKvsxyNb0GQg4IfYhSnKaZ6WMlo+iJUBuKMiHXb7Fm2HnqYOjJr0ArFPYr1R5tsBQr1mXC6O+TUQIrM4V2fNvDQDp++19M1zGPI5Gvq/1X4YQy/uvDTkWrxAG/k2JB7EBMAJDR5wGwqjxFneTICWV4bAnsqyKSLvC6Oc3trNOljxYZL7stPMsP3mjqWAyADx/baWHlh3SrPz0uzgJE6HwFyNWVKCSeHPNFgFgm3lBcmiItGngDxLHZ5ii809ZpR56DCU1R52uiTaSBIiUdkm+8NkR32CBrP0AhwodFDZhAaXh3YIYlK5cOjseiS40ejJ7/Rv4U/3vg94/GuAj1I4dmSb2gRtLsywSMC99GgO9srPa80aia5RJC4SlXglaB7z1MHGqV7r8ALQy70PqPR+tDv05M/ncagsGRe6QYZTBt5vA0aZcFyO5T9s6u/LfBqRD9qvM0GJY8SWfTyFlX7g9sMfyI+fxv629D/0RCiAP9j+DeaDqDKMoIcwgAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAHMVfU6WltDjYQaRDhupkQVTEUatQhAqhVmjVweTSL2jSkqS4OAquBQc/FqsOLs66OrgKguAHiJubk6KLlPi/pNAixoPjfry797h7BwitKtPMvnFA0y0jk0qKufyqGHhFCDFEEIQgM7M+J0lpeI6ve/j4epfgWd7n/hwRtWAywCcSz7K6YRFvEE9vWnXO+8RRVpZV4nPiMYMuSPzIdcXlN84lhwWeGTWymXniKLFY6mGlh1nZ0IiniOOqplO+kHNZ5bzFWas2WOee/IXhgr6yzHWaMaSwiCVIEKGggQqqsJCgVSfFRIb2kx7+YccvkUshVwWMHAuoQYPs+MH/4He3ZnFywk0KJ4H+F9v+GAECu0C7advfx7bdPgH8z8CV3vXXWsDMJ+nNrhY/Aga2gYvrrqbsAZc7wNBTXTZkR/LTFIpF4P2MvikPDN4CoTW3t84+Th+ALHWVvgEODoHREmWve7w72Nvbv2c6/f0ABatye77yK0MAAA+LaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczppcHRjRXh0PSJodHRwOi8vaXB0Yy5vcmcvc3RkL0lwdGM0eG1wRXh0LzIwMDgtMDItMjkvIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6cGx1cz0iaHR0cDovL25zLnVzZXBsdXMub3JnL2xkZi94bXAvMS4wLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6OTliZGNlNDUtNjhmMC00YzBlLWI5MGQtOTdmZTIzZTk3MDE4IgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmM2ZTI5YTMzLTZjMGYtNDFkOS1iMTMzLTkzMDk4NzYyNTJmZiIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyMDhmOTY3LTYyZjEtNDE5MC1iMjdmLTQ2YjliYWJlZmY4YSIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iTGludXgiCiAgIEdJTVA6VGltZVN0YW1wPSIxNjM1NDI2Njg3Nzk1MzA1IgogICBHSU1QOlZlcnNpb249IjIuMTAuMjIiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCI+CiAgIDxpcHRjRXh0OkxvY2F0aW9uQ3JlYXRlZD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkxvY2F0aW9uQ3JlYXRlZD4KICAgPGlwdGNFeHQ6TG9jYXRpb25TaG93bj4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkxvY2F0aW9uU2hvd24+CiAgIDxpcHRjRXh0OkFydHdvcmtPck9iamVjdD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OkFydHdvcmtPck9iamVjdD4KICAgPGlwdGNFeHQ6UmVnaXN0cnlJZD4KICAgIDxyZGY6QmFnLz4KICAgPC9pcHRjRXh0OlJlZ2lzdHJ5SWQ+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmE5NjIzMGNmLWJhZjYtNDJkNi04ZmMzLWNmY2YwNjQ0MGFjYyIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChMaW51eCkiCiAgICAgIHN0RXZ0OndoZW49IiswMjowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgIDxwbHVzOkltYWdlU3VwcGxpZXI+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZVN1cHBsaWVyPgogICA8cGx1czpJbWFnZUNyZWF0b3I+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZUNyZWF0b3I+CiAgIDxwbHVzOkNvcHlyaWdodE93bmVyPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6Q29weXJpZ2h0T3duZXI+CiAgIDxwbHVzOkxpY2Vuc29yPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6TGljZW5zb3I+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5B0N2VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QocDQsbu2tTYwAAANdJREFUOMtjvKspwIAJ2BgZfv1nIBEwIVhSCFHRjh/MGgzkm8UX85vVHOqWj5vZ/t5kYNYm3SwWA07hlh+8hj9F074KVv1mYGL5tZ+Rxfg/X9AfksxiYWBg+HPh+w8dAT7DF4ysTB+X8TH8+87AwPDnDOP7Myzk+JGJ98u7fdI/HksyCXyDWmL6X6CcdHcxMDB8Wc37/81XBgYGRglGiMi/54w/7zCT467/b75DGS8YGBgYRLu/M0n8/76WkRx3oYF3czj/3qQgTSADMgzCaRZ5YNSs4WEWALSgQT3EmxTDAAAAAElFTkSuQmCC"},pt:{code:"pt",name:"Portuguese",nativeName:"Portugu\xEAs",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAoCAIAAAAt2Q6oAAAAxXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVBbEsMgCPz3FD2CsGjgOKZJZ3qDHr8YSSe23RlXXq5A2l/PR7p1MEmSsmi1WrNDTIybG5oH2sGU5eADuEeO5nji8xF7CL1yuFqj/ozTR2Bcza1yEdL4gdY5YRL6+iXE0VnvqNtbCFkIgUeCQqCNsXI1Xa4jrHueoeOkTqJz2z/+4tvbiv8D5h2E7AzIaAD9IKF5gpwZ5oUEdTvDnAsoxHwh//Z0Ir0BM7dZUKeb1HgAAAGEaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX1PFr4qIHaQoZKhOFkRFHLUKRagQaoVWHUwu/YImDUmKi6PgWnDwY7Hq4OKsq4OrIAh+gLi6OCm6SIn/SwotYj047se7e4+7d4BQLTLNahsHNN02E7GomEqvih2v6MEw+tGFkMwsY06S4mg5vu7h4+tdhGe1Pvfn6FUzFgN8IvEsM0ybeIN4etM2OO8TB1leVonPicdMuiDxI9cVj98451wWeGbQTCbmiYPEYq6JlSZmeVMjniIOq5pO+ULKY5XzFmetWGb1e/IXBjL6yjLXaQ4hhkUsQYIIBWUUUISNCK06KRYStB9t4Q+5folcCrkKYORYQAkaZNcP/ge/u7WykxNeUiAKtL84zscI0LEL1CqO833sOLUTwP8MXOkNf6kKzHySXmlo4SOgbxu4uG5oyh5wuQMMPhmyKbuSn6aQzQLvZ/RNaWDgFuhe83qr7+P0AUhSV/Eb4OAQGM1R9nqLd3c29/bvmXp/P1f8cpxaNQ3xAAANeGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAtRXhpdjIiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6R0lNUD0iaHR0cDovL3d3dy5naW1wLm9yZy94bXAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDo5YjkyZjM5OS04YmJlLTRiYmMtYTc0Yy02Y2Q1NTI3ZjQ3YTEiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjA0NGNlYjAtNjQ1MC00YTVhLWIwZWMtMGEwOTJkMjdmYjM1IgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZjdhNDllZjYtN2I5Yi00MDY2LWJlMTMtYjE1NzI0YTdkM2FlIgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iTGludXgiCiAgIEdJTVA6VGltZVN0YW1wPSIxNzAxMjc3Nzk1ODIwMzg1IgogICBHSU1QOlZlcnNpb249IjIuMTAuMzQiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIgogICB4bXA6TWV0YWRhdGFEYXRlPSIyMDIzOjExOjI5VDE4OjA5OjUxKzAxOjAwIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAyMzoxMToyOVQxODowOTo1MSswMTowMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmMzYzkzMjFlLTUzMTktNGQ0ZC1iNDhmLWU1NWI2Y2Q4NDQ2ZSIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChMaW51eCkiCiAgICAgIHN0RXZ0OndoZW49IjIwMjMtMTEtMjlUMTg6MDk6NTUrMDE6MDAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+n/oKwAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cLHREJN2at6MgAAAQxSURBVFjD7ZhbbFRFGMd/c5Y92711ezndbSnbGkoDLRIKRKAtEEJYq3I1GjBiYowgMVFBXySGaHzBRGsMKAZvUVAflEjQpSZATSBSkBBKISgVCNBl26Zblrbb7v3sGR80Rn0DgQPJ/l9nJvnNzDfz/b9P8Bz/XzWS87tQ0twZKdyDykPnofPQeeg89A1KSLLj7hy0uOmMaIMnxxNooKocDOwGhRJriIIDaF9j0W8jtIVZN7PsmfFsW838aYQHaO/E46Q6gms/upfko4ysQc/iPHO7oG/4Uq3w9lxaGvn+MO91EpEADTXYEvg+AMh66X2Z2CaS06h6DaGbHR4C3prJQ42WZPumaDZdFcMiAWLF2AzKB2Uulcoa2X53zlZSbG1pdbZRs9nsk948lQXTSaUsuWhXQmvzduA7DND2OhJmvAvQH6DvYSrHnlJjDAXoiVC9zTzocli9mLopJJOEfpAlWUTdinjLHKCqHgNiW1DA0nesPh1UDMQgw0VEllP+KbaESdAr/ehZwmFSKcpCaF8y9vES57p1gPFbv54zCldUAuzYUf98cHAto4LJZxjZzNAqyr8w6Z9e1MCFELEEfj8g/zl09ETPTx1X/hX9KSrfwPsd406TDJgVHpIKjaOnSerk0hS46d5IrRUXAEsDkw3jr22MqnRtpMzK4AGcVxjuwzHPJGi3xALzZtB1ke1Bni4jOpHxTrbv/MXldkhdj6eNEk9f/0BsWSnR6dgH0HbDbBwLGc2RUVEzdzw8VIGUZNKUeSh14TtP8ycUjmBBOlRhswq7FYdNjBOyOErzZ2iX0N1gJ5kgo2MoZpx0FBQrHZ243TTdn3GdsmlHGHsis3b9HKGIUO9wzpAT/cU5Q6Y/POk6QrbRnVqEegnCeOdTkDLlIQrCA1R62dDB8t1cNrKACAbRMxZFtLV3f7PvV0URQs+IYBDIVl23a3j24inH0mOe9yhNsqyZa5d44QG8U2vpvXZ8/lk15i+sne50WCdVFZUV23v2fX5Cfb9Ar4ituq+m8ezwAoacFH2L65RJ0OdHeLyOJXNJpjl4YVhVm601v2s/77Pv6SnSXCWDV2Vr61hoy/UaIetW1i5tD4fjFX5Go/g3otxSB3Jj3mN9JS8+Rl+EjMHV3vrZ3bUNW9uVRPzvCUah5/SGJYlJ3dqczngcRaFiL743zTZMW5sIzOXQCbyluB1+49zs6lPSExlBioRWfG2WtXTKMVv8cmQQVxNiP5NeQcmZXQSo0NrEg43sPcTWTvoNNEV5J1C9cFhO2BQSQ4buo/8ljJUoP1L9KiJ7d1QuAp6dwLpHKLDReY6TF2meyswxnMfJzESfgSWB8yN8O/+T7O+CcssJa/wsbmCCD2Fgk7gNrFexHaTsKyy3sxkpbknXdLKkaw8F0XuqGtdBHcv3PfLQeeg8dB46D/2n/gAQbotF2BmxFwAAAABJRU5ErkJggg=="},fr:{code:"fr",name:"French",nativeName:"Fran\xE7ais",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAoBAMAAABQlYTMAAAAwnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVDbEQMhCPy3ipQgDxXL8XKXmXSQ8oPAZc4kOyOugOtKOl7PR7pNIHDi0qT2WrOCO3ccSiQ7hkXIbNFA96jBmk94XkJN0ez0o9ToP/PwEfBtKCsXIYkXYFsLnUNfvoQwnE1Hk+8h1EOI0AsQAsO/lWuXdv3CduQV4ivNwLLa/jk3nd5e9B1CPAgoaySqboDmKomGkWFlNUzNOFseQkwH8m9OJ9IbMOdZQDb+bKwAAAGDaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX1NFKZUOdhARyVCd7KIijrUKRagQaoVWHUwu/YImDUmKi6PgWnDwY7Hq4OKsq4OrIAh+gLgLToouUuL/kkKLGA+O+/Hu3uPuHSA0q0yzehKApttmJpUUc/lVse8VAkKIII5RmVnGnCSl4Tu+7hHg612cZ/mf+3MMqAWLAQGROMEM0ybeIJ7ZtA3O+8RRVpZV4nPiCZMuSPzIdcXjN84llwWeGTWzmXniKLFY6mKli1nZ1IiniWOqplO+kPNY5bzFWavWWfue/IXhgr6yzHWaI0hhEUuQIEJBHRVUYVNfFeikWMjQftLHP+z6JXIp5KqAkWMBNWiQXT/4H/zu1ipOTXpJ4STQ++I4H2NA3y7QajjO97HjtE6A4DNwpXf8tSYw+0l6o6PFjoDINnBx3dGUPeByBxh6MmRTdqUgTaFYBN7P6JvywOAtEFrzemvv4/QByFJX6Rvg4BAYL1H2us+7+7t7+/dMu78fnuJyuBlsV1IAAA14aVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjZiYTc3NjlmLThlYjItNDBjYy04MzdkLTQzM2FhOThiMGU0ZSIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDplNjQ2NTZiZC02NWY5LTQ1NDctODBlYy02MTA4ZDYzYmRkZGMiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjA1Zjg0OS1kZjA5LTQzYmItYTVlNS02NTk3Yzg0YjE3N2QiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE3MzkyMDQwNDE4NDUzODMiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zNiIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjU6MDI6MTBUMTc6MTQ6MDErMDE6MDAiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDI1OjAyOjEwVDE3OjE0OjAxKzAxOjAwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NDQxZjY0YjQtMTQ0ZS00NjA4LWE5NTItZjA0ZTIwNGIzNzk0IgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKExpbnV4KSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyNS0wMi0xMFQxNzoxNDowMSswMTowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7xmIP2AAAAIVBMVEUAM3z////jABrm5ubhABjjABjdAAOfs88+aJz3xcnyc4D2zqM4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH6QIKEA4BHUDthgAAAB1JREFUOMtjYIADQTgQUoIBhlHpUelR6VHpoSYNAPpgTTEBNQTsAAAAAElFTkSuQmCC"}};return{getNativeNameFromCode:t=>A(r,t)?r[t].nativeName:r.en.nativeName,getAllLanguages:r,getLanguageObjectFromCode:t=>A(r,t)?r[t]:r.en};}static get IODPLACEHOLDERS(){return{"00100020":{create:{placeholder:"Leave it blank to generate it automatically!",action:"replace"}},"0020000D":{create:{placeholder:"Leave it blank to generate it automatically!",action:"replace"},edit:{action:"disable"}},"0020000E":{edit:{action:"disable"}},"00400009":{create:{placeholder:"Leave it blank to generate it automatically!",action:"replace"},edit:{action:"disable"}},"00741000":{create:{action:"disable"}}};}static get HISTOGRAMCOLORS(){return[{backgroundColor:"rgba(62, 83, 98, 0.84)"},{backgroundColor:"rgba(0, 32, 57, 0.84)"},{backgroundColor:"rgba(97, 142, 181, 0.84)"},{backgroundColor:"rgba(38, 45, 51, 0.84)"},{backgroundColor:"rgba(0, 123, 90, 0.84)"},{backgroundColor:"rgba(56, 38, 109, 0.84)"},{backgroundColor:"rgba(109, 41, 41, 0.84)"},{backgroundColor:"rgba(20, 55, 16, 0.84)"},{backgroundColor:"rgba(54, 111, 121, 0.84)"},{backgroundColor:"rgba(249,168,37 ,0.84)"},{backgroundColor:"rgba(3,169,244 ,0.84)"},{backgroundColor:"rgba(40,53,147 ,0.84)"},{backgroundColor:"rgba(142,36,170 ,0.84)"},{backgroundColor:"rgba(183,28,28 ,0.84)"},{backgroundColor:"rgba(240,98,146 ,0.84)"},{backgroundColor:"rgba(121,85,72 ,0.84)"},{backgroundColor:"rgba(33,33,33 ,0.84)"},{backgroundColor:"rgba(144,164,174 ,0.84)"},{backgroundColor:"rgba(38,166,154 ,0.84)"},{backgroundColor:"rgba(159,168,218 ,0.84)"},{backgroundColor:"rgba(213,0,0 ,0.84)"},{backgroundColor:"rgba(24,255,255 ,0.84)"},{backgroundColor:"rgba(0,188,212,0.84)"},{backgroundColor:"rgba(63,81,181,0.84)"},{backgroundColor:"rgba(213,0,249 ,0.84)"},{backgroundColor:"rgba(156,204,101 ,0.84)"},{backgroundColor:"rgba(255,111,0 ,0.84)"},{backgroundColor:"rgba(109,135,100 ,0.84)"},{backgroundColor:"rgba(255,82,82 ,0.84)"},{backgroundColor:"rgba(229,115,140 ,0.84)"},{backgroundColor:"rgba(21,45,115 ,0.84)"}];}static get ELASTICSEARCHDOMAIN(){return"http://localhost:9200";}static get STUDIESSTOREDCOUNTS_PARAMETERS(){return{size:0,aggs:{1:{cardinality:{field:"Study.ParticipantObjectID"}}},highlight:{fields:{"*":{}},require_field_match:!1,fragment_size:2147483647},query:{bool:{must:[{query_string:{query:"EventID.csd-code:110104 AND Event.EventActionCode:C",analyze_wildcard:!0}},{query_string:{analyze_wildcard:!0,query:"*"}}],must_not:[]}},_source:{excludes:[]}};}static get QUERIESUSERID_PARAMETERS(){return r=>({size:0,aggs:{2:{date_histogram:{field:"Event.EventDateTime",interval:"3h",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"Source.UserID",size:15,order:{_count:"desc"}}}}}},query:{bool:{must:[{query_string:{query:`EventID.csd-code:110112 AND (${r})`,analyze_wildcard:!0}}],must_not:[]}},_source:{excludes:[]}});}static get WILDFLYERRORCOUNTS_PARAMETERS(){return{size:0,query:{bool:{must:[{query_string:{query:"Severity:ERROR",analyze_wildcard:!0}},{query_string:{analyze_wildcard:!0,query:"*"}}]}}};}static get WILDFLYWARNINGCOUNTS_PARAMETERS(){return{size:0,query:{bool:{must:[{query_string:{query:"Severity:WARN",analyze_wildcard:!0}},{query_string:{analyze_wildcard:!0,query:"*"}}]}}};}static get ERRORSCOUNTS_PARAMETERS(){return{aggs:{},highlight:{fields:{"*":{}},require_field_match:!1,fragment_size:2147483647},query:{bool:{must:[{query_string:{query:"NOT Event.EventOutcomeIndicator:0",analyze_wildcard:!0}},{query_string:{analyze_wildcard:!0,query:"*"}}],must_not:[]}},_source:{excludes:[]}};}static get QUERIESCOUNTS_PARAMETERS(){return{track_total_hits:!0,size:0,query:{bool:{must:[{query_string:{query:"EventID.csd-code:110112",analyze_wildcard:!0}}],must_not:[{wildcard:{"Destination.UserID":"*/*"}}]}},aggs:{2:{date_histogram:{field:"Event.EventDateTime",interval:"1D",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"Destination.UserID"}}}}}};}static get STUDIESSTOREDRECIVINGAET_PARAMETERS(){return{track_total_hits:!0,size:0,aggs:{2:{date_histogram:{field:"Event.EventDateTime",interval:"30m",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"Destination.UserID",size:5,order:{1:"desc"}},aggs:{1:{cardinality:{field:"Study.ParticipantObjectID"}}}}}}},query:{bool:{must:[{query_string:{query:"EventID.csd-code:110104 AND Event.EventActionCode:C",analyze_wildcard:!0}}],must_not:[{wildcard:{"Destination.UserID":"*/*"}}]}}};}static get STUDIESSTOREDUSERID_PARAMETERS(){return{size:0,aggs:{2:{date_histogram:{field:"Event.EventDateTime",interval:"12h",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"Source.UserID",size:15,order:{1:"desc"}},aggs:{1:{cardinality:{field:"Study.ParticipantObjectID"}}}}}}},query:{bool:{must:[{query_string:{query:"EventID.csd-code:110104 AND Event.EventActionCode:C",analyze_wildcard:!0}}]}}};}static CPU_PARAMETERS(r){switch(r){case"5":return{query:{bool:{must:[{query_string:{query:"*",analyze_wildcard:!0}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"containerName",size:30,order:{1:"desc"}},aggs:{1:{max:{field:"cpu.totalUsage"}}}}}}}};case"7":return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"event.module:docker AND metricset.name:cpu"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",fixed_interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"container.name",size:30,order:{1:"desc"}},aggs:{1:{max:{field:"docker.cpu.total.pct"}}}}}}}};default:return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"metricset.module:docker AND metricset.name:cpu",default_field:"*"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"docker.container.name",size:30,order:{1:"desc"}},aggs:{1:{max:{field:"docker.cpu.total.pct"}}}}}}}};}}static MEMORY_RSS_PARAMETERS(r){switch(r){case"5":return{query:{bool:{must:[{query_string:{query:"*",analyze_wildcard:!0}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"containerName",size:20,order:{1:"desc"}},aggs:{1:{max:{field:"memory.totalRss"}}}}}}}};case"7":return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"event.module:docker"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",fixed_interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"container.name",size:30,order:{1:"desc"}},aggs:{1:{max:{field:"docker.memory.rss.total"}}}}}}}};default:return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"metricset.module:docker",default_field:"*"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"docker.container.name",size:30,order:{1:"desc"}},aggs:{1:{max:{field:"docker.memory.rss.total"}}}}}}}};}}static MEMORY_USAGE_PARAMETERS(r){switch(r){case"5":return{query:{bool:{must:[{query_string:{query:"*",analyze_wildcard:!0}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"containerName",size:20,order:{1:"desc"}},aggs:{1:{max:{field:"memory.usage"}}}}}}}};case"7":return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"event.module:docker"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",fixed_interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"container.name",size:30,order:{1:"desc"}},aggs:{1:{max:{field:"docker.memory.usage.pct"}}}}}}}};default:return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"metricset.module:docker",default_field:"*"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"docker.container.name",size:30,order:{1:"desc"}},aggs:{1:{max:{field:"docker.memory.usage.pct"}}}}}}}};}}static WRITE_PER_SECOND_PARAMETERS(r){switch(r){case"5":return{query:{bool:{must:[{query_string:{query:"*",analyze_wildcard:!0}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"containerName",size:20,order:{1:"desc"}},aggs:{1:{max:{field:"blkio.write_ps"}}}}}}}};case"7":return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"event.module:docker"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",fixed_interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"container.name",size:20,order:{1:"desc"}},aggs:{1:{max:{field:"docker.diskio.write.ops"}}}}}}}};default:return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"metricset.module:docker",default_field:"*"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"docker.container.name",size:20,order:{1:"desc"}},aggs:{1:{max:{field:"docker.diskio.write.ops"}}}}}}}};}}static READ_PER_SECOND_PARAMETERS(r){switch(r){case"5":return{query:{bool:{must:[{query_string:{query:"*",analyze_wildcard:!0}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"containerName",size:20,order:{1:"desc"}},aggs:{1:{max:{field:"blkio.read_ps"}}}}}}}};case"7":return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"event.module:docker"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",fixed_interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"container.name",size:20,order:{1:"desc"}},aggs:{1:{max:{field:"docker.diskio.read.ops"}}}}}}}};default:return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"metricset.module:docker",default_field:"*"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"docker.container.name",size:20,order:{1:"desc"}},aggs:{1:{max:{field:"docker.diskio.read.ops"}}}}}}}};}}static NETWORK_TRANSMITTED_PACKETS_PARAMETERS(r){switch(r){case"5":return{query:{bool:{must:[{query_string:{query:"*",analyze_wildcard:!0}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"containerName",size:30,order:{1:"desc"}},aggs:{1:{max:{field:"net.txPackets_ps"}}}}}}}};case"7":return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"event.module:docker"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",fixed_interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"container.name",size:30,order:{1:"desc"}},aggs:{1:{max:{field:"docker.network.in.packets"}}}}}}}};default:return{query:{bool:{must:[{query_string:{analyze_wildcard:!0,query:"metricset.module:docker",default_field:"*"}}]}},size:0,_source:{excludes:[]},aggs:{2:{date_histogram:{field:"@timestamp",interval:"20s",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"docker.container.name",size:30,order:{1:"desc"}},aggs:{1:{max:{field:"docker.network.in.packets"}}}}}}}};}}static get AUTHENTIFICATION_QUEURY(){return{size:300,sort:[{"Event.EventDateTime":{order:"desc",unmapped_type:"boolean"}}],query:{bool:{must:[{query_string:{query:"EventID.csd-code:110114 AND EventID.codeSystemName:DCM AND EventTypeCode.codeSystemName:DCM",analyze_wildcard:!0}},{bool:{should:[{query_string:{query:"EventTypeCode.csd-code:110122",analyze_wildcard:!0}},{query_string:{query:"EventTypeCode.csd-code:110123",analyze_wildcard:!0}}]}},{query_string:{analyze_wildcard:!0,query:"*"}}]}}};}static get STUDIESSTOREDSOPCLASS_PARAMETERS(){return{size:0,aggregations:{2:{date_histogram:{field:"Event.EventDateTime",interval:"3h",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"Study.ParticipantObjectDescription.SOPClass.UID",size:5,order:{1:"desc"}},aggs:{1:{cardinality:{field:"Study.ParticipantObjectID"}}}}}}},query:{bool:{must:[{query_string:{query:"EventID.csd-code:110104 AND Event.EventActionCode:C",analyze_wildcard:!0}}]}}};}static get RETRIEVESUSERID_PARAMETERS(){return{size:0,aggs:{2:{date_histogram:{field:"Event.EventDateTime",interval:"1w",time_zone:"Europe/Berlin",min_doc_count:1},aggs:{3:{terms:{field:"Destination.UserID",size:5,order:{1:"desc"}},aggs:{1:{cardinality:{field:"Study.ParticipantObjectID"}}}}}}},query:{bool:{must:[{query_string:{query:"EventID.csd-code:110104 AND Event.EventActionCode:R",analyze_wildcard:!0}},{query_string:{analyze_wildcard:!0,query:"*"}}],must_not:[]}},_source:{excludes:[]}};}static get RETRIEVE_TASK_ELASTICSEARCH_PARAMETERS(){return{query:{bool:{must:[{match:{"EventID.csd-code":"110104"}}]}}};}static get RETRIEVCOUNTS_PARAMETERS(){return{track_total_hits:!0,size:0,aggs:{},query:{bool:{must:[{query_string:{query:"EventID.csd-code:110104 AND Event.EventActionCode:R",analyze_wildcard:!0}},{query_string:{analyze_wildcard:!0,query:"*"}}],must_not:[]}},_source:{excludes:[]}};}static get AUDITEVENTS_PARAMETERS(){return{query:{bool:{must:[{query_string:{query:"*",analyze_wildcard:!0}},{match:{type:{query:"audit",fuzziness:"AUTO",operator:"and"}}}],must_not:[]}},size:300,sort:[{"Event.EventDateTime":{order:"desc",unmapped_type:"boolean"}}],_source:{excludes:[]},stored_fields:["*"],script_fields:{}};}static get AUDIT_RECORD_REPOSITORY_DROPDOWNS(){return{size:"0",aggs:{eventTypeCode:{terms:{field:"EventTypeCode.originalText"}},auditEnterpriseSiteID:{terms:{field:"AuditSource.AuditEnterpriseSiteID"}},participantObjectID:{terms:{field:"Device.ParticipantObjectID"}},eventID:{terms:{field:"EventID.originalText"}},eventOutcomeDescription:{terms:{field:"Event.EventOutcomeDescription"}}}};}static get EVENT_IDS(){return{size:"0",aggs:{eventIDs:{terms:{field:"EventID.originalText"}}}};}static get EVENT_TYPE_CODES(){return{size:"0",aggs:{eventIDs:{terms:{field:"EventTypeCode.originalText"}}}};}static get ENTERPRISE_SITE_IDS(){return{size:"0",aggs:{siteIDs:{terms:{field:"AuditSource.AuditEnterpriseSiteID"}}}};}static HL7MESSAGE_FOR_A_TASK(r){return{query:{wildcard:{HL7v2Message:`*${r}*`}}};}static ATS_TRAFF(){return{sort:{"@timestamp":"desc"}};}static get EXPORT_STUDY_EXTERNAL_URL(){return(r,t,e,n)=>`../aets/${r}/dimse/${t}/studies/${e}/export/dicom:${n}`;}static get HL7_SPECIFIC_CHAR(){return[{groupName:"Single-Byte Character Sets",groupValues:[{title:"ASCII",value:"ASCII"},{title:"GB 18030-2000",value:"GB 18030-2000"},{title:"Latin alphabet No. 1",value:"8859/1"},{title:"Latin alphabet No. 2",value:"8859/2"},{title:"Thai",value:"CNS 11643-1992"},{title:"Latin alphabet No. 3",value:"8859/3"},{title:"Latin alphabet No. 4",value:"8859/4"},{title:"Japanese",value:"ISO IR14"},{title:"Cyrillic",value:"8859/5"},{title:"Arabic",value:"8859/6"},{title:"Greek",value:"8859/7"},{title:"Hebrew",value:"8859/8"},{title:"Latin alphabet No. 5",value:"8859/9"}]},{groupName:"Multi-Byte Character Sets",groupValues:[{title:"Japanese (Kanji)",value:"ISO IR87"},{title:"Japanese (Supplementary Kanji set)",value:"ISO IR159"},{title:"Korean",value:"KS X 1001"},{title:"Unicode",value:"UNICODE"},{title:"Unicode in UTF-8",value:"UNICODE UTF-8"}]}];}static get DICOM_SPECIFIC_CHAR(){return[{groupName:"Single-Byte Character Sets",groupValues:[{title:"Latin alphabet No. 1",value:"ISO_IR 100"},{title:"Latin alphabet No. 2",value:"ISO_IR 101"},{title:"Latin alphabet No. 3",value:"ISO_IR 109"},{title:"Latin alphabet No. 4",value:"ISO_IR 110"},{title:"Cyrillic",value:"ISO_IR 144"},{title:"Arabic",value:"ISO_IR 127"},{title:"Greek",value:"ISO_IR 126"},{title:"Hebrew",value:"ISO_IR 138"},{title:"Latin alphabet No. 5",value:"ISO_IR 148"},{title:"Japanese",value:"ISO_IR 13"},{title:"Thai",value:"ISO_IR 166"}]},{groupName:"Multi-Byte Character Sets Without Code Extensions",groupValues:[{title:"Unicode in UTF-8",value:"ISO_IR 192"},{title:"GB18030",value:"GB18030"},{title:"GBK",value:"GBK"}]},{groupName:"Single-Byte Character Sets with Code Extensions",groupValues:[{title:"Default repertoire",value:"ISO 2022 IR 6"},{title:"Latin alphabet No. 1",value:"ISO 2022 IR 100"},{title:"Latin alphabet No. 2",value:"ISO 2022 IR 101"},{title:"Latin alphabet No. 3",value:"ISO 2022 IR 109"},{title:"Latin alphabet No. 4",value:"ISO 2022 IR 110"},{title:"Cyrillic",value:"ISO 2022 IR 144"},{title:"Arabic",value:"ISO 2022 IR 127"},{title:"Greek",value:"ISO 2022 IR 126"},{title:"Hebrew",value:"ISO 2022 IR 138"},{title:"Latin alphabet No. 5",value:"ISO 2022 IR 148"},{title:"Japanese",value:"ISO 2022 IR 13"},{title:"Thai",value:"ISO 2022 IR 166"}]},{groupName:"Multi-Byte Character Sets",groupValues:[{title:"Japanese (Kanji)",value:"ISO 2022 IR 87"},{title:"Japanese (Supplementary Kanji set)",value:"ISO 2022 IR 159"},{title:"Korean",value:"ISO 2022 IR 149"},{title:"Simplified Chinese",value:"ISO 2022 IR 58"}]}];}static getActionText(r){switch(r){case"cancel":return"cancel";case"reschedule":return"reschedule";case"delete":return"delete";}return"";}static get SUPER_ROOT(){return"root";}static get TASK_NAMES(){return["to-schedule","completed","warning","failed","in-process","scheduled","scheduled-for-retry","canceled"];}static get DYNAMIC_FORMATER(){return{dcmArchiveAETitle:{key:"dicomAETitle",labelKey:"{dicomAETitle}",msg:"Create first an AE Title!",pathInDevice:"dicomNetworkAE"},dcmQueueName:{key:"dcmQueueName",labelKey:"{dicomDescription} ({dcmQueueName})",msg:"Configure first an Queue",pathInDevice:"dcmDevice.dcmArchiveDevice.dcmQueue"},dcmExporterID:{key:"dcmExporterID",labelKey:"{dcmExporterID}",msg:"Create first an Exporter!",pathInDevice:"dcmDevice.dcmArchiveDevice.dcmExporter"},dcmStorageID:{key:"dcmStorageID",labelKey:"{dcmStorageID}",msg:"Create first an Storage!",pathInDevice:"dcmDevice.dcmArchiveDevice.dcmStorage"},dcmQueryRetrieveViewID:{key:"dcmQueryRetrieveViewID",labelKey:"{dcmQueryRetrieveViewID}",msg:"Create first an Query Retrieve View!",pathInDevice:"dcmDevice.dcmArchiveDevice.dcmQueryRetrieveView"},dcmRejectionNoteCode:{key:"dcmRejectionNoteCode",labelKey:"{dcmRejectionNoteLabel}",msg:"Create first an Rejection Note!",pathInDevice:"dcmDevice.dcmArchiveDevice.dcmRejectionNote"},dcmuiDeviceURLObject:{key:"dcmuiDeviceURLName",labelKey:"{dcmuiDeviceURLName}",msg:"Create first an UI Device URL!",pathInDevice:"dcmDevice.dcmuiConfig[0].dcmuiDeviceURLObject"},dcmuiDeviceClusterObject:{key:"dcmuiDeviceClusterName",labelKey:"{dcmuiDeviceClusterName}",msg:"Create first an UI Device Cluster!",pathInDevice:'dcmDevice.dcmuiConfig["0"].dcmuiDeviceClusterObject'},dcmuiElasticsearchConfig:{key:"dcmuiElasticsearchURLName",labelKey:"{dcmuiElasticsearchURLName}",msg:"Create first an UI Elasticsearch URL!",pathInDevice:"dcmDevice.dcmuiConfig[0].dcmuiElasticsearchConfig[0].dcmuiElasticsearchURLObjects"},dcmKeycloakClient:{key:"dcmKeycloakClientID",labelKey:"{dcmKeycloakClientID}",msg:"Create first a Keycloak Client!",pathInDevice:"dcmDevice.dcmKeycloakClient"},dcmIDGenerator:{key:"dcmIDGeneratorName",labelKey:"{dcmIDGeneratorName}",msg:"Create first an ID Generator!",pathInDevice:"dcmDevice.dcmArchiveDevice.dcmIDGenerator"},dcmPDQServiceID:{key:"dcmPDQServiceID",labelKey:"{dcmPDQServiceID}",msg:"Create a PDQ Service Descriptor first!",pathInDevice:"dcmDevice.dcmArchiveDevice.dcmPDQService"},dcmWebApp:{key:"dcmWebAppName",labelKey:"{dcmWebAppName}",msg:"Create first a Web Application!",pathInDevice:"dcmDevice.dcmWebApp"},dcmBulkDataDescriptorID:{key:"dcmBulkDataDescriptorID",labelKey:"{dcmBulkDataDescriptorID}",msg:"Create first a Bulkdata Descriptor!",pathInDevice:"dcmDevice.dcmArchiveDevice.dcmBulkDataDescriptor"},dcmMWLWorklistLabel:{msg:"Create first a UI MWL Worklist Label!",pathInDevice:"dcmDevice.dcmuiConfig[0].dcmuiMWLWorklistLabel"}};}static get HL7_LIST_LINK(){return"hl7apps";}static get QUEU_CONFIG_PATH(){return"dcmDevice.dcmArchiveDevice.dcmQueue";}static get EXPORTER_CONFIG_PATH(){return"dcmDevice.dcmArchiveDevice.dcmExporter";}static LINK_PERMISSION(r){let t=/^(\/[\S\/]*)\*$/m,e=/([\/\w_-]*)#.*/,n,o,a={"/monitoring/dashboard/*":{permissionsAction:"menu-dashboard"},"/monitoring/dashboard/home":{permissionsAction:"tab-dashboard_home",nextCheck:"/monitoring/dashboard/hardware"},"/monitoring/dashboard/hardware":{permissionsAction:"tab-dashboard_hardware",nextCheck:"/monitoring/dashboard/queue"},"/monitoring/dashboard/queue":{permissionsAction:"tab-dashboard_queue",nextCheck:"/monitoring/dashboard/ats"},"/monitoring/dashboard/ats":{permissionsAction:"tab-dashboard_ats",nextCheck:"/monitoring/dashboard/compare"},"/monitoring/dashboard/compare":{permissionsAction:"tab-dashboard_compare",nextCheck:"/monitoring/associations"},"/monitoring/associations":{permissionsAction:"tab-monitoring->associations",nextCheck:"/monitoring/queues"},"/monitoring/queues":{permissionsAction:"tab-monitoring->queues",nextCheck:"/monitoring/export"},"/monitoring/export":{permissionsAction:"tab-monitoring->export",nextCheck:"/monitoring/external"},"/monitoring/external":{permissionsAction:"tab-monitoring->external_retrieve",nextCheck:"/monitoring/diff"},"/monitoring/diff":{permissionsAction:"tab-monitoring->diff",nextCheck:"/monitoring/storage-commitment"},"/monitoring/storage-commitment":{permissionsAction:"tab-monitoring->storage_commitments",nextCheck:"/monitoring/storage-systems"},"/monitoring/storage-systems":{permissionsAction:"tab-monitoring->storage_systems",nextCheck:"/monitoring/metrics"},"/monitoring/metrics":{permissionsAction:"tab-monitoring->metrics",nextCheck:"/study/patient"},"/study/*":{permissionsAction:"menu-study"},"/study/patient":{permissionsAction:"tab-study-patient",nextCheck:"/study/study"},"/study/study":{permissionsAction:"tab-study-study",nextCheck:"/study/series"},"/study/series":{permissionsAction:"tab-study-series",nextCheck:"/study/mwl"},"/study/mwl":{permissionsAction:"tab-study-mwl",nextCheck:"/study/mpps"},"/study/mpps":{permissionsAction:"tab-study-mpps",nextCheck:"/study/uwl"},"/study/uwl":{permissionsAction:"tab-study-uwl",nextCheck:"/study/diff"},"/study/diff":{permissionsAction:"tab-study-diff",nextCheck:"/correct-data/patient-data"},"/correct-data/patient-data":{permissionsAction:"tab-correct_data->patient_data",nextCheck:"/correct-data/diff"},"/correct-data/diff":{permissionsAction:"tab-correct_data->diff",nextCheck:"/correct-data/storage-verification"},"/correct-data/storage-verification":{permissionsAction:"tab-monitoring->storage_verification",nextCheck:"/correct-data/worklist-entries"},"/correct-data/worklist-entries":{permissionsAction:"tab-correct_data->worklist_entries",nextCheck:"/correct-data/corrupted-studies"},"/correct-data/corrupted-studies":{permissionsAction:"tab-correct_data->corrupted_studies",nextCheck:"/lifecycle-management"},"/lifecycle-management":{permissionsAction:"menu-lifecycle_management",nextCheck:"/migration/export"},"/migration/export":{permissionsAction:"tab-move_data->export",nextCheck:"/migration/retrieve"},"/migration/retrieve":{permissionsAction:"tab-move_data->retrieve",nextCheck:"/migration/cd_import"},"/migration/cd_import":{permissionsAction:"tab-move_data->cd_import",nextCheck:"/agfa-migration"},"/agfa-migration":{permissionsAction:"tab-move_data->agfa-migration",nextCheck:"/statistics/studies-stored/simple"},"/statistics/studies-stored/simple":{permissionsAction:"tab-statistics->studies-stored-simple",nextCheck:"/statistics/studies-stored/detailed"},"/statistics/studies-stored/detailed":{permissionsAction:"tab-statistics->studies-stored-detailed",nextCheck:"/xds"},"/xds":{permissionsAction:"menu-xds",nextCheck:"/dicom-route"},"/dicom-route":{permissionsAction:"dicom-route",nextCheck:"/workflow-management"},"/workflow-management":{permissionsAction:"workflow-management",nextCheck:"/audit-record-repository/all"},"/audit-record-repository/*":{permissionsAction:"menu-audit_record_repository"},"/audit-record-repository/all":{permissionsAction:"tab-audit-record-repository->all",nextCheck:"/audit-record-repository/authentication"},"/audit-record-repository/authentication":{permissionsAction:"tab-audit-record-repository->authentication",nextCheck:"/audit-record-repository/audit-error"},"/audit-record-repository/audit-error":{permissionsAction:"tab-audit-record-repository->audit_errors",nextCheck:"/audit-record-repository/application-error"},"/audit-record-repository/application-error":{permissionsAction:"tab-audit-record-repository->app_errors",nextCheck:"/audit-record-repository/software-configuration"},"/audit-record-repository/software-configuration":{permissionsAction:"tab-audit-record-repository->software_configuration",nextCheck:"/audit-record-repository/patients"},"/audit-record-repository/patients":{permissionsAction:"tab-audit-record-repository->patients",nextCheck:"/audit-record-repository/rejections"},"/audit-record-repository/rejections":{permissionsAction:"tab-audit-record-repository->rejections",nextCheck:"/audit-record-repository/hl7"},"/audit-record-repository/hl7":{permissionsAction:"tab-audit-record-repository->hl7",nextCheck:"/device/devicelist"},"/device/devicelist":{permissionsAction:"tab-configuration->devices",nextCheck:"/device/aelist"},"/device/aelist":{permissionsAction:"tab-configuration->ae_list",nextCheck:"/device/webappslist"},"/device/webappslist":{permissionsAction:"tab-configuration->web_apps_list",nextCheck:"/device/hl7applications"},"/device/hl7applications":{permissionsAction:"tab-configuration->hl7_applications",nextCheck:"/configuration/permission"},"/configuration/permission":{permissionsAction:"tab-configuration->permission",nextCheck:"/monitoring/control"},"/monitoring/control":{permissionsAction:"tab-monitoring->control",nextCheck:"/monitoring/dashboard/home"},"/device/edit/*":{permissionsAction:"action-devicelist-device_configuration"}};if(r==="*")return a;if(a[r])return a[r];{let s;return Object.keys(a).forEach(l=>{((n=t.exec(l))!==null&&r.indexOf(n[1])>-1||(o=e.exec(r))!==null&&o[1]===l)&&(s=a[l]);}),s;}}static get PERMISSION_ACTION_PARAM(){return{"menu-dashboard":{type:"menu",hasUrl:!1,title:"Menu - dashboard",params:{visible:void 0,accessible:void 0}},"menu-monitoring":{type:"menu",hasUrl:!1,title:"Menu - Monitoring",params:{visible:void 0}},"menu-study":{type:"menu",hasUrl:!1,title:"Menu - Navigation",params:{visible:void 0,accessible:void 0}},"menu-correct_data":{type:"menu",title:"Menu - Correct Data",hasUrl:!1,params:{visible:void 0}},"menu-lifecycle_management":{type:"menu",title:"Menu - Lifecycle Management",hasUrl:!0,params:{visible:void 0,accessible:void 0}},"menu-move_data":{type:"menu",title:"Menu - Data Exchange",hasUrl:!1,params:{visible:void 0}},"menu-statistics":{type:"menu",title:"Menu - Statistics",hasUrl:!1,params:{visible:void 0}},"menu-xds":{type:"menu",title:"Menu - XDS",hasUrl:!0,params:{visible:void 0,accessible:void 0}},"dicom-route":{type:"menu",title:"Menu - DICOM Router",hasUrl:!0,params:{visible:void 0,accessible:void 0}},"workflow-management":{type:"menu",title:"Menu - Workflow Management",hasUrl:!0,params:{visible:void 0,accessible:void 0}},"menu-audit_record_repository":{type:"menu",title:"Menu - Audit Record Repository",hasUrl:!1,params:{visible:void 0,accessible:void 0}},"menu-configuration":{type:"menu",title:"Menu - Configuration",hasUrl:!1,params:{visible:void 0}},"tab-dashboard_home":{type:"tab",title:"Tab - Dashboard - Home",hasUrl:!0,params:{visible:void 0,accessible:void 0}},"tab-dashboard_hardware":{type:"tab",title:"Tab - Dashboard - Hardware",params:{visible:void 0,accessible:void 0}},"tab-dashboard_ats":{type:"tab",title:"Tab - Dashboard - Ats",params:{visible:void 0,accessible:void 0}},"tab-dashboard_queue":{type:"tab",title:"Tab - Dashboard - Queue",params:{visible:void 0,accessible:void 0}},"tab-monitoring->export":{type:"tab",title:"Tab - Monitoring - Export",params:{visible:void 0,accessible:void 0}},"tab-monitoring->external_retrieve":{type:"tab",title:"Tab - Monitoring - Retrieve",params:{visible:void 0,accessible:void 0}},"tab-dashboard_compare":{type:"tab",title:"Tab - Dashboard - Compare",params:{visible:void 0,accessible:void 0}},"tab-study-study":{type:"tab",title:"Tab - Study - Study",params:{visible:void 0,accessible:void 0}},"tab-study-patient":{type:"tab",title:"Tab - Study - Patient",params:{visible:void 0,accessible:void 0}},"tab-study-series":{type:"tab",title:"Tab - Study - Series",params:{visible:void 0,accessible:void 0}},"tab-study-mwl":{type:"tab",title:"Tab - Study - Mwl",params:{visible:void 0,accessible:void 0}},"tab-study-uwl":{type:"tab",title:"Tab - Study - Uwl",params:{visible:void 0,accessible:void 0}},"tab-study-mpps":{type:"tab",title:"Tab - Study - Mpps",params:{visible:void 0,accessible:void 0}},"tab-study-diff":{type:"tab",title:"Tab - Study - Diff",params:{visible:void 0,accessible:void 0}},"tab-monitoring->associations":{type:"tab",title:"Tab - Monitoring Associations",params:{visible:void 0,accessible:void 0}},"tab-monitoring->queues":{type:"tab",title:"Tab - Monitoring Queues",params:{visible:void 0,accessible:void 0}},"tab-monitoring->storage_commitments":{type:"tab",title:"Tab - Monitoring Storage Commitments",params:{visible:void 0,accessible:void 0}},"tab-monitoring->storage_systems":{type:"tab",title:"Tab - Monitoring Storage Systems",params:{visible:void 0,accessible:void 0}},"tab-correct_data->patient_data":{type:"tab",title:"Tab - Correct Data - Patient Data",params:{visible:void 0,accessible:void 0}},"tab-correct_data->diff":{type:"tab",title:"Tab - Correct Data Diff",params:{visible:void 0,accessible:void 0}},"tab-monitoring->storage_verification":{type:"tab",title:"Tab - Correct Data Storage Verification",params:{visible:void 0,accessible:void 0}},"tab-correct_data->corrupted_studies":{type:"tab",title:"Tab - Corrupted Studies",params:{visible:void 0,accessible:void 0}},"tab-correct_data->worklist_entries":{type:"tab",title:"Tab - Correct Data - Worklist Entries",params:{visible:void 0,accessible:void 0}},"tab-move_data->export":{type:"tab",title:"Tab - Exchange Data Export",params:{visible:void 0,accessible:void 0}},"tab-move_data->retrieve":{type:"tab",title:"Tab - Exchange Data Retrieve",params:{visible:void 0,accessible:void 0}},"tab-move_data->cd_import":{type:"tab",title:"Tab - CD Import",params:{visible:void 0,accessible:void 0}},"tab-move_data->agfa-migration":{type:"tab",title:"Tab - Agfa Migration",params:{visible:void 0,accessible:void 0}},"tab-statistics->studies-stored-simple":{type:"tab",title:"Tab - Statistics Studies Stored Simple",params:{visible:void 0,accessible:void 0}},"tab-statistics->studies-stored-detailed":{type:"tab",title:"Tab - Statistics Studies Stored Detailed",params:{visible:void 0,accessible:void 0}},"tab-monitoring->metrics":{type:"tab",title:"Tab - Monitoring Metrics",params:{visible:void 0,accessible:void 0}},"tab-audit-record-repository->all":{type:"tab",title:"Tab - Audit Record Repository All",params:{visible:void 0,accessible:void 0}},"tab-audit-record-repository->authentication":{type:"tab",title:"Tab - Audit Record Repository Authentication",params:{visible:void 0,accessible:void 0}},"tab-audit-record-repository->audit_errors":{type:"tab",title:"Tab - Audit Record Repository Audit Errors",params:{visible:void 0,accessible:void 0}},"tab-audit-record-repository->app_errors":{type:"tab",title:"Tab - Audit Record Repository App Errors",params:{visible:void 0,accessible:void 0}},"tab-audit-record-repository->software_configuration":{type:"tab",title:"Tab - Audit Record Repository Software Configuration",params:{visible:void 0,accessible:void 0}},"tab-audit-record-repository->patients":{type:"tab",title:"Tab - Audit Record Repository Patients",params:{visible:void 0,accessible:void 0}},"tab-audit-record-repository->hl7":{type:"tab",title:"Tab - Audit Record Repository HL7",params:{visible:void 0,accessible:void 0}},"tab-audit-record-repository->rejections":{type:"tab",title:"Tab - Audit Record Repository Rejections",params:{visible:void 0,accessible:void 0}},"tab-configuration->devices":{type:"tab",title:"Tab - Configuration Devices",params:{visible:void 0,accessible:void 0}},"tab-configuration->ae_list":{type:"tab",title:"Tab - Configuration Ae List",params:{visible:void 0,accessible:void 0}},"tab-configuration->hl7_applications":{type:"tab",title:"Tab - Configuration Hl7 Applications",params:{visible:void 0,accessible:void 0}},"tab-configuration->permission":{type:"tab",title:"Tab - Configuration Permission",params:{visible:void 0,accessible:void 0}},"tab-configuration->web_apps_list":{type:"tab",title:"Tab - Configuration - Web App List",params:{visible:void 0,accessible:void 0}},"tab-monitoring->control":{type:"tab",title:"Tab - Config Control",params:{visible:void 0,accessible:void 0}},"tab-monitoring->diff":{type:"tab",title:"Tab - Monitoring diff",params:{visible:void 0,accessible:void 0}},"action-monitoring->queues-all_action":{type:"action",title:"Action - Monitoring Queues All Actions",params:{visible:void 0}},"action-monitoring->export-all_action":{type:"action",title:"Action - Data Exchange Monitoring Export All Actions",params:{visible:void 0}},"action-monitoring->external_retrieve-all_action":{type:"action",title:"Action - Monitoring - External Retrieve All Actions",params:{visible:void 0}},"action-monitoring->queues-single_action":{type:"action",title:"Action - Monitoring Queues Single Actions",params:{visible:void 0}},"action-monitoring->export-single_action":{type:"action",title:"Action - Monitoring Export Single Action",params:{visible:void 0}},"action-monitoring->diff_monitor-all_action":{type:"action",title:"Action - Monitoring - Diff Monitor All Action",params:{visible:void 0}},"action-monitoring->external_retrieve-single_action":{type:"action",title:"Action - Retrieve - Single Action",params:{visible:void 0}},"action-studies-patient":{type:"action",title:"Action - Studies - Patient",params:{edit:void 0,delete:void 0}},"action-studies-mwl":{type:"action",title:"Action - Studies - MWL",params:{create:void 0,edit:void 0,delete:void 0,upload:void 0}},"action-studies-uwl":{type:"action",title:"Action - Studies - UWL",params:{edit:void 0}},"action-studies-study":{type:"action",title:"Action - Studies - Studies",params:{edit:void 0,export:void 0,upload:void 0,reject:void 0,delete:void 0,restore:void 0,recreate:void 0}},"action-studies-serie":{type:"action",title:"Action - Studies - Series",params:{visible:void 0,export:void 0,reject:void 0,restore:void 0,edit:void 0}},"action-studies-instance":{type:"action",title:"Action - Studies - Instance",params:{export:void 0,reject:void 0,restore:void 0}},"action-studies-copy_merge_move":{type:"action",title:"Action - Studies - Copy Merge Move",params:{visible:void 0}},"action-studies-more_function":{type:"action",title:"Action - Studies - More Function",params:{visible:void 0}},"action-studies-show-attributes":{type:"action",title:"Action - Studies - Show Attributes",params:{visible:void 0}},"action-studies-count":{type:"action",title:"Action - Studies - Count",params:{visible:void 0}},"action-studies-size":{type:"action",title:"Action - Studies - Size",params:{visible:void 0}},"action-studies-viewer":{type:"action",title:"Action - Studies - Open Viewer",params:{visible:void 0}},"action-studies-verify_storage_commitment":{type:"action",title:"Action - Studies - Verify Storage Commitment",params:{visible:void 0}},"action-studies-download":{type:"action",title:"Action - Studies - Download study",params:{visible:void 0}},"action-devicelist-device_configuration":{type:"action",title:"Action - Device Configuration",params:{visible:void 0,accessible:void 0}}};}static get DEFAULT_ELASTICSEARCH_VERSION(){return"6";}static MWL_FILTER_SCHEMA(r,t,e){let n=[];return t?n=[{tag:"p-calendar",filterKey:"PatientBirthDate",description:"Patient's Birth Date"},{tag:"select",options:[new G("F","Female"),new G("M","Male"),new G("O","Other")],showStar:!0,filterKey:"PatientSex",description:"Patient's Sex",placeholder:"Patient's Sex"},{tag:"select",options:[new G("UNVERIFIED","UNVERIFIED","Patient not verified against any Patient Demographics Query Provider"),new G("VERIFIED","VERIFIED","Patient verified against a Patient Demographics Query Provider"),new G("NOT_FOUND","NOT_FOUND","Patient verification against a Patient Demographics Query Provider resulted in no patient found"),new G("VERIFICATION_FAILED","VERIFICATION_FAILED","Patient verification against a Patient Demographics Query Provider failed")],showStar:!0,filterKey:"patientVerificationStatus",description:"Verification Status",placeholder:"Verification Status"},{tag:"person-name-picker",filterKey:"ResponsiblePerson",placeholder:"Responsible Person",description:"Name of person with medical or welfare decision making authority for the Patient, typically if the Patient is a non-human organism."},{tag:"select",filterKey:"includedefaults",showStar:!0,options:[new G("true","YES"),new G("false","NO")],placeholder:"Include Defaults",description:"Enable to return only the attributes specified by Query Parameter 'includefield' without including the default set of attributes specified by DICOM Part 18"}]:(n=[{tag:"person-name-picker",filterKey:"PatientName",placeholder:"Patient family name",description:"Order of name components in the search field differs from the rendered person names in the list"},{tag:"checkbox",filterKey:"fuzzymatching",text:"Fuzzy Matching",description:"Fuzzy semantic matching of person names"},{tag:"issuer-selector",issuers:[{key:"PatientID",label:"Patient ID"},{key:"IssuerOfPatientID",label:"Issuer of Patient ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityID",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityIDType",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID Type"}],id:"PatientID",description:"Patient Identifier",placeholder:"Patient Identifier"},{tag:"issuer-selector",issuers:[{key:"AccessionNumber",label:"Accession Number"},{key:"IssuerOfAccessionNumberSequence.LocalNamespaceEntityID",label:"Local Namespace Entity ID"},{key:"IssuerOfAccessionNumberSequence.UniversalEntityID",label:"Universal Entity ID"},{key:"IssuerOfAccessionNumberSequence.UniversalEntityIDType",label:"Universal Entity ID Type"}],description:"Accession Number & Issuer of Accession Number Sequence",placeholder:"Accession Number & Issuer of Accession Number Sequence"},{tag:"issuer-selector",issuers:[{key:"AdmissionID",label:"Admission ID"},{key:"IssuerOfAdmissionIDSequence.LocalNamespaceEntityID",label:"Local Namespace Entity ID"},{key:"IssuerOfAdmissionIDSequence.UniversalEntityID",label:"Universal Entity ID"},{key:"IssuerOfAdmissionIDSequence.UniversalEntityIDType",label:"Universal Entity ID Type"}],description:"Admission ID & Issuer of Admission ID Sequence",placeholder:"Admission ID & Issuer of Admission ID Sequence"},this.getInstitutionFilterSchemaElement(r),{tag:"input",type:"text",filterKey:"StudyInstanceUID",description:"Study Instance UID",placeholder:"Study Instance UID"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:Object.keys(this.MODALITIES.common).map(o=>new G(o,`${o} - ${this.MODALITIES.common[o]}`))},{options:Object.keys(this.MODALITIES.more).map(o=>new G(o,`${o} - ${this.MODALITIES.more[o]}`))}],filterKey:"ScheduledProcedureStepSequence.Modality",placeholder:"Modality"},{tag:"input",type:"text",filterKey:"ScheduledProcedureStepSequence.ScheduledStationAETitle",description:"Scheduled Station AE Title",placeholder:"Scheduled Station AE Title"},{tag:"select",type:"text",filterKey:"ScheduledProcedureStepSequence.ScheduledProcedureStepStatus",options:[new G("STARTED","STARTED"),new G("ARRIVED","ARRIVED"),new G("READY","READY"),new G("DEPARTED","DEPARTED"),new G("SCHEDULED","SCHEDULED"),new G("COMPLETED","COMPLETED"),new G("CANCELED","CANCELED"),new G("DISCONTINUED","DISCONTINUED")],showStar:!0,description:"SPS Status",placeholder:"SPS Status"},{tag:"person-name-picker",filterKey:"ScheduledProcedureStepSequence.ScheduledPerformingPhysicianName",description:"Order of name components in the search field differs from the rendered person names in the list",placeholder:"SP Physician's family name"},{tag:"range-picker",type:"text",filterKey:"ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate",description:"SPS Start Date",placeholder:"Scheduled Procedure Step Start Date",onlyDate:!0},{tag:"range-picker-time",type:"text",filterKey:"ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime",description:"SPS Start Time",placeholder:"Scheduled Procedure Step Start Time"},{tag:"select",filterKey:"includefield",showSelectedEmptyValue:!0,options:[new G("","dicom","Search Response Payload according DICOM PS 3.18"),new G("all","All","all available attributes")],description:"Include field",placeholder:"Include field"},{tag:"input",type:"number",filterKey:"limit",description:"Limit",placeholder:"Limit of MWL"},{tag:"select",type:"text",filterKey:"StudyStatusID",options:[new G("NONE","NONE"),new G("CREATED","CREATED"),new G("SCHEDULED","SCHEDULED"),new G("ARRIVED","ARRIVED"),new G("STARTED","STARTED"),new G("COMPLETED","COMPLETED"),new G("VERIFIED","VERIFIED"),new G("READ","READ"),new G("CANCELLED","CANCELLED")],showStar:!0,description:"Study Status ID - AGFA",placeholder:"Study Status ID - AGFA"}],e?n.push({tag:"select",type:"text",filterKey:"WorklistLabel",options:e.map(o=>new G(o,o)),showStar:!0,description:"Worklist Label",placeholder:"Worklist Label"}):n.push({tag:"input",type:"text",filterKey:"WorklistLabel",description:"Worklist Label",placeholder:"Worklist Label"})),n;}static MPPS_FILTER_SCHEMA(r){return r?[{tag:"p-calendar",filterKey:"PatientBirthDate",description:"Patient's Birth Date"},{tag:"select",options:[new G("F","Female"),new G("M","Male"),new G("O","Other")],showStar:!0,filterKey:"PatientSex",description:"Patient's Sex",placeholder:"Patient's Sex"},{tag:"select",options:[new G("UNVERIFIED","UNVERIFIED","Patient not verified against any Patient Demographics Query Provider"),new G("VERIFIED","VERIFIED","Patient verified against a Patient Demographics Query Provider"),new G("NOT_FOUND","NOT_FOUND","Patient verification against a Patient Demographics Query Provider resulted in no patient found"),new G("VERIFICATION_FAILED","VERIFICATION_FAILED","Patient verification against a Patient Demographics Query Provider failed")],showStar:!0,filterKey:"patientVerificationStatus",description:"Verification Status",placeholder:"Verification Status"},{tag:"person-name-picker",filterKey:"ResponsiblePerson",placeholder:"Responsible Person",description:"Name of person with medical or welfare decision making authority for the Patient, typically if the Patient is a non-human organism."}]:[{tag:"person-name-picker",filterKey:"PatientName",placeholder:"Patient family name",description:"Order of name components in the search field differs from the rendered person names in the list"},{tag:"checkbox",filterKey:"fuzzymatching",text:"Fuzzy Matching",description:"Fuzzy semantic matching of person names"},{tag:"issuer-selector",issuers:[{key:"PatientID",label:"Patient ID"},{key:"IssuerOfPatientID",label:"Issuer of Patient ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityID",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityIDType",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID Type"}],id:"PatientID",description:"Patient Identifier",placeholder:"Patient Identifier"},{tag:"issuer-selector",issuers:[{key:"ScheduledStepAttributesSequence.AccessionNumber",label:"Accession Number"},{key:"ScheduledStepAttributesSequence.IssuerOfAccessionNumberSequence.LocalNamespaceEntityID",label:"Local Namespace Entity ID"},{key:"ScheduledStepAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityID",label:"Universal Entity ID"},{key:"ScheduledStepAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityIDType",label:"Universal Entity ID Type"}],description:"Accession Number & Issuer of Accession Number Sequence",placeholder:"Accession Number & Issuer of Accession Number Sequence"},{tag:"input",type:"text",filterKey:"ScheduledStepAttributesSequence.StudyInstanceUID",description:"Study Instance UID",placeholder:"Study Instance UID"},{tag:"select",type:"text",filterKey:"ScheduledProcedureStepSequence.ScheduledProcedureStepStatus",options:[new G("IN PROGRESS","IN PROGRESS"),new G("COMPLETED","COMPLETED"),new G("DISCONTINUED","DISCONTINUED")],showStar:!0,description:"Performed Procedure Step Status",placeholder:"Performed Procedure Step Status"},{tag:"range-picker",type:"text",filterKey:"PerformedProcedureStepStartDate",description:"Performed Procedure Step Start Date",placeholder:"PPS Start Date",onlyDate:!0},{tag:"range-picker-time",type:"text",filterKey:"PerformedProcedureStepStartTime",description:"Performed Procedure Step Start Time",placeholder:"PPS Start Time"},{tag:"select",filterKey:"includefield",showSelectedEmptyValue:!0,options:[new G("","dicom","Search Response Payload according DICOM PS 3.18"),new G("all","All","all available attributes")],description:"Include field",placeholder:"Include field"},{tag:"select",filterKey:"includedefaults",showStar:!0,options:[new G("true","YES"),new G("false","NO")],placeholder:"Include Defaults",description:"Enable to return only the attributes specified by Query Parameter 'includefield' without including the default set of attributes specified by DICOM Part 18"},{tag:"input",type:"number",filterKey:"limit",description:"Limit",placeholder:"Limit of MPPS"}];}static UWL_FILTER_SCHEMA(r){return r?[{tag:"p-calendar",filterKey:"PatientBirthDate",description:"Patient's Birth Date"},{tag:"select",options:[new G("F","Female"),new G("M","Male"),new G("O","Other")],showStar:!0,filterKey:"PatientSex",description:"Patient's Sex",placeholder:"Patient's Sex"},{tag:"select",options:[new G("UNVERIFIED","UNVERIFIED","Patient not verified against any Patient Demographics Query Provider"),new G("VERIFIED","VERIFIED","Patient verified against a Patient Demographics Query Provider"),new G("NOT_FOUND","NOT_FOUND","Patient verification against a Patient Demographics Query Provider resulted in no patient found"),new G("VERIFICATION_FAILED","VERIFICATION_FAILED","Patient verification against a Patient Demographics Query Provider failed")],showStar:!0,filterKey:"patientVerificationStatus",description:"Verification Status",placeholder:"Verification Status"},{tag:"person-name-picker",filterKey:"ResponsiblePerson",placeholder:"Responsible Person",description:"Name of person with medical or welfare decision making authority for the Patient, typically if the Patient is a non-human organism."},{tag:"code-selector",codes:[{key:"00404025.00080100",label:"Code Value (0008,0100)"},{key:"00404025.00080102",label:"Coding scheme designator (0008,0102)"}],description:"Scheduled Station Name Code Sequence (0040,4025)",placeholder:"Station Name Code"},{tag:"code-selector",codes:[{key:"00404026.00080100",label:"Code Value (0008,0100)"},{key:"00404026.00080102",label:"Coding scheme designator (0008,0102)"}],description:"Scheduled Station Class Code Sequence (0040,4026)",placeholder:"Station Class Code"},{tag:"code-selector",codes:[{key:"00404027.00080100",label:"Code Value (0008,0100)"},{key:"00404027.00080102",label:"Coding scheme designator (0008,0102)"}],description:"Scheduled Station Geographic Location Code Sequence (0040,4027)",placeholder:"Geographic Location Code"},{tag:"code-selector",codes:[{key:"00404034.00404009.00080100",label:"Code Value (0008,0100)"},{key:"00404034.00404009.00080102",label:"Coding scheme designator (0008,0102)"}],description:"Scheduled Human Performers Sequence (0040,4034) \n\n- Human Performer Code Sequence (0040,4009)",placeholder:"Human Performers"},{tag:"range-picker",type:"text",filterKey:"00404010",description:"Scheduled Procedure Step Modification Date and Time",placeholder:"Step Modification Time"}]:[{tag:"person-name-picker",filterKey:"PatientName",description:"Patient family name",placeholder:"Patient family name"},{tag:"checkbox",filterKey:"fuzzymatching",text:"Fuzzy Matching",description:"Fuzzy semantic matching of person names"},{tag:"issuer-selector",issuers:[{key:"PatientID",label:"Patient ID"},{key:"IssuerOfPatientID",label:"Issuer of Patient ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityID",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityIDType",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID Type"}],id:"PatientID",description:"Patient Identifier",placeholder:"Patient Identifier"},{tag:"issuer-selector",issuers:[{key:"AdmissionID",label:"Admission ID"},{key:"IssuerOfAdmissionIDSequence.LocalNamespaceEntityID",label:"Local Namespace Entity ID"},{key:"IssuerOfAdmissionIDSequence.UniversalEntityID",label:"Universal Entity ID"},{key:"IssuerOfAdmissionIDSequence.UniversalEntityIDType",label:"Universal Entity ID Type"}],description:"Admission ID & Issuer of Admission ID Sequence",placeholder:"Admission ID & Issuer of Admission ID Sequence"},{tag:"input",type:"text",filterKey:"WorklistLabel",description:"Worklist Label",placeholder:"Worklist Label"},{tag:"select",options:[new G("INCOMPLETE","INCOMPLETE"),new G("UNAVAILABLE","UNAVAILABLE"),new G("READY","READY")],showStar:!0,filterKey:"InputReadinessState",description:"Input Readiness State",placeholder:"Input Readiness State"},{tag:"select",options:[new G("SCHEDULED","SCHEDULED"),new G("IN PROGRESS","IN PROGRESS"),new G("CANCELED","CANCELED"),new G("COMPLETED","COMPLETED")],showStar:!0,filterKey:"ProcedureStepState",description:"Procedure Step State",placeholder:"Procedure Step State"},{tag:"select",options:[new G("LOW","LOW"),new G("MEDIUM","MEDIUM"),new G("HIGH","HIGH")],showStar:!0,filterKey:"ScheduledProcedureStepPriority",description:"Scheduled Procedure Step Priority",placeholder:"S. P. Step Priority"},{tag:"range-picker",type:"text",filterKey:"ScheduledProcedureStepStartDateTime",description:"Scheduled Procedure Step Start Date and Time",placeholder:"S. Procedure Step Date"},{tag:"range-picker",type:"text",filterKey:"ExpectedCompletionDateTime",description:"Expected Completion Date and Time",placeholder:"E. Completion Date"},{tag:"input",type:"text",filterKey:"ProcedureStepLabel",description:"Procedure Step Label",placeholder:"Procedure Step Label"},{tag:"checkbox",filterKey:"template",text:"Template",description:"Template"},{tag:"code-selector",codes:[{key:"ScheduledWorkitemCodeSequence.CodeValue",label:"Code Value (0008,0100)"},{key:"ScheduledWorkitemCodeSequence.CodingSchemeDesignator",label:"Coding scheme designator (0008,0102)"}],description:"Scheduled Workitem Code Sequence (0040,4018)",placeholder:"Scheduled Workitem"},{tag:"code-selector",codes:[{key:"ReferencedRequestSequence.StudyInstanceUID",label:"Study Instance UID (0020,000D)"},{key:"ReferencedRequestSequence.AccessionNumber",label:"Accession Number (0008,0050)"},{key:"ReferencedRequestSequence.IssuerOfAccessionNumberSequence.00400031",label:"Issuer of Accession Number Sequence (0008,0051)"},{key:"ReferencedRequestSequence.RequestedProcedureID",label:"Requested Procedure ID (0040,1001)"},{key:"ReferencedRequestSequence.RequestingPhysician",label:"Requesting Physician (0032,1032)"},{key:"ReferencedRequestSequence.RequestingService",label:"Requesting Service  (0032,1033)"}],description:"Referenced Request Sequence (0040,A370)",placeholder:"Request Sequence"},{tag:"select",filterKey:"includefield",showSelectedEmptyValue:!0,options:[new G("","dicom","Search Response Payload according DICOM PS 3.18"),new G("all","all","all available attributes")],description:"Include field",placeholder:"Include field"},{tag:"select",filterKey:"includedefaults",showStar:!0,options:[new G("true","YES"),new G("false","NO")],placeholder:"Include Defaults",description:"Enable to return only the attributes specified by Query Parameter 'includefield' without including the default set of attributes specified by DICOM Part 18"},{tag:"input",type:"number",filterKey:"limit",description:"Limit",placeholder:"Limit of UWL"}];}static STUDY_FILTER_SCHEMA(r,t,e,n){return n?[{tag:"p-calendar",filterKey:"PatientBirthDate",description:"Patient's Birth Date"},{tag:"select",options:[new G("F","Female"),new G("M","Male"),new G("O","Other")],showStar:!0,filterKey:"PatientSex",description:"Patient's Sex",placeholder:"Patient's Sex"},{tag:"select",options:[new G("UNVERIFIED","UNVERIFIED","Patient not verified against any Patient Demographics Query Provider"),new G("VERIFIED","VERIFIED","Patient verified against a Patient Demographics Query Provider"),new G("NOT_FOUND","NOT_FOUND","Patient verification against a Patient Demographics Query Provider resulted in no patient found"),new G("VERIFICATION_FAILED","VERIFICATION_FAILED","Patient verification against a Patient Demographics Query Provider failed")],showStar:!0,filterKey:"patientVerificationStatus",description:"Verification Status",placeholder:"Verification Status"},{tag:"person-name-picker",filterKey:"ResponsiblePerson",placeholder:"Responsible Person",description:"Name of person with medical or welfare decision making authority for the Patient, typically if the Patient is a non-human organism."},{tag:"issuer-selector",issuers:[{key:"AdmissionID",label:"Admission ID"},{key:"IssuerOfAdmissionIDSequence.LocalNamespaceEntityID",label:"Local Namespace Entity ID"},{key:"IssuerOfAdmissionIDSequence.UniversalEntityID",label:"Universal Entity ID"},{key:"IssuerOfAdmissionIDSequence.UniversalEntityIDType",label:"Universal Entity ID Type"}],description:"Admission ID & Issuer of Admission ID Sequence",placeholder:"Admission ID & Issuer of Admission ID Sequence"},{tag:"input",type:"text",filterKey:"StudyID",description:"Study ID",placeholder:"Study ID"},{tag:"size_range_picker",filterKey:"StudySizeInKB"},{tag:"select",filterKey:"ExpirationState",showStar:!0,options:[new G("UPDATABLE","UPDATABLE","No expiration date set to study"),new G("FROZEN","FROZEN","Study protected from being expired"),new G("REJECTED","REJECTED","Rejected expired studies"),new G("EXPORT_SCHEDULED","EXPORT_SCHEDULED","Export scheduled for expired studies before rejecting them"),new G("FAILED_TO_EXPORT","FAILED_TO_EXPORT","Export failed for expired studies"),new G("FAILED_TO_REJECT","FAILED_TO_REJECT","Rejection failed for expired studies")],description:"Expiration State",placeholder:"Expiration State"},{tag:"range-picker",type:"text",filterKey:"ExpirationDate",description:"Expiration Date"},{tag:"editable-select",options:r,showStar:!0,filterKey:"ExternalRetrieveAET",description:"Retrievable from external retrieve AET",placeholder:"External retrieve AET"},{tag:"editable-select",options:r,showStar:!0,filterKey:"ExternalRetrieveAET!",description:"Not retrievable from external retrieve AET",placeholder:"Not retrievable from AET"},{tag:"checkbox",filterKey:"incomplete",text:"Only incomplete",description:"Only incomplete studies"},{tag:"checkbox",filterKey:"retrievefailed",text:"Only failed retrieving",description:"Only failed to be retrieved"},{tag:"person-name-picker",filterKey:"ReferringPhysicianName",placeholder:"Referring physician family name",description:"Order of name components in the search field differs from the rendered person names in the list"},{tag:"select",options:t,showStar:!0,filterKey:"storageID",placeholder:"Storage ID",description:"Only query studies whose objects are on a particular storage system"},{tag:"select",filterKey:"storageClustered",showStar:!0,options:[new G("true","YES","Query studies whose objects are also on other storage systems of the 'Storage Cluster' to which selected 'Storage ID' belongs"),new G("false","NO","Do not query studies whose objects are on other storage systems of the 'Storage Cluster' to which selected 'Storage ID' belongs")],placeholder:"Storage Clustered",description:"Query studies whose objects are also on other storage systems of the 'Storage Cluster' to which selected 'Storage ID' belongs; applicable only in combination with 'Storage ID' filter"},{tag:"select",filterKey:"storageExported",showStar:!0,options:[new G("true","YES","Query studies whose objects are also on configured 'Export Storage ID' storage systems of selected 'Storage ID'"),new G("false","NO","Do not query studies whose objects are on configured 'Export Storage ID' storage systems of selected 'Storage ID'")],placeholder:"Storage Exported",description:"Query studies whose objects are also on configured 'Export Storage ID' storage systems of selected 'Storage ID'; applicable only in combination with 'Storage ID' filter"},{tag:"select",filterKey:"requested",showStar:!0,options:[new G("false","Unscheduled","Studies with no Series having Request Attributes Sequence (0040,0275) in it"),new G("true","Requested","Studies with at least one Series having Request Attributes Sequence (0040,0275) in it")],placeholder:"(Un-)Scheduled Studies",description:"Query Studies with(-out) Series having Request Attributes Sequence (0040,0275) in it"},{tag:"input",type:"text",filterKey:"StationName",description:"Station Name",placeholder:"Station Name"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:Object.keys(this.BODY_PARTS.common).map(o=>new G(o,`${o} - ${this.BODY_PARTS.common[o]}`))},{options:Object.keys(this.BODY_PARTS.more).map(o=>new G(o,`${o} - ${this.BODY_PARTS.more[o]}`))}],filterKey:"BodyPartExamined",description:"Body Part Examined",placeholder:"Body Part Examined"},{tag:"input",type:"text",filterKey:"SeriesDescription",description:"Series Description",placeholder:"Series Description"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:r}],filterKey:"ReceivingApplicationEntityTitleOfSeries",description:"Receiving Application Entity Title of Series",placeholder:"Receiving AET of Series"},{tag:"input",type:"text",filterKey:"SendingPresentationAddressOfSeries",description:"Sending Presentation Address of Series",placeholder:"Sending Presentation Address of Series"},{tag:"input",type:"text",filterKey:"ReceivingPresentationAddressOfSeries",description:"Receiving Presentation Address of Series",placeholder:"Receiving Presentation Address of Series"},{tag:"input",type:"text",filterKey:"SendingHL7ApplicationOfSeries",description:"Sending HL7 Application Of Series",placeholder:"Sending HL7 Application Of Series"},{tag:"input",type:"text",filterKey:"SendingHL7FacilityOfSeries",description:"Sending HL7 Facility Of Series",placeholder:"Sending HL7 Facility Of Series"},{tag:"input",type:"text",filterKey:"ReceivingHL7ApplicationOfSeries",description:"Receiving HL7 Application Of Series",placeholder:"Receiving HL7 Application Of Series"},{tag:"input",type:"text",filterKey:"ReceivingHL7FacilityOfSeries",description:"Receiving HL7 Facility Of Series",placeholder:"Receiving HL7 Facility Of Series"},{tag:"multi-select",filterKey:"SOPClassesInStudy",options:Object.keys(this.STORAGE_SOP_CLASSES.storageSopClasses).map(o=>new G(o,`${this.STORAGE_SOP_CLASSES.storageSopClasses[o]}`)),showSearchField:!0,description:"Storage SOP classes in study",placeholder:"Storage SOP classes in study"},{tag:"modified-widget",iodFileNames:["patient","study"],description:"Modified",placeholder:"Modified"},{tag:"checkbox",filterKey:"compressionfailed",text:"Compression Failed"},{tag:"checkbox",filterKey:"storageVerificationFailed",text:"Verification Failed",description:"Storage Verification Failed"},{tag:"checkbox",filterKey:"metadataUpdateFailed",text:"Metadata Update Failed",description:"Series Metadata Update Failed"},{tag:"select",filterKey:"includedefaults",showStar:!0,options:[new G("true","YES"),new G("false","NO")],placeholder:"Include Defaults",description:"Enable to return only the attributes specified by Query Parameter 'includefield' without including the default set of attributes specified by DICOM Part 18"}]:[{tag:"editable-select",options:r,showStar:!0,filterKey:"aet",description:"AET",placeholder:"AET"},{tag:"person-name-picker",filterKey:"PatientName",placeholder:"Patient family name",description:"Order of name components in the search field differs from the rendered person names in the list"},{tag:"checkbox",filterKey:"fuzzymatching",text:"Fuzzy Matching",description:"Fuzzy semantic matching of person names"},{tag:"issuer-selector",issuers:[{key:"PatientID",label:"Patient ID"},{key:"IssuerOfPatientID",label:"Issuer of Patient ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityID",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityIDType",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID Type"}],id:"PatientID",description:"Patient Identifier",placeholder:"Patient Identifier"},{tag:"issuer-selector",issuers:[{key:"AccessionNumber",label:"Accession Number"},{key:"IssuerOfAccessionNumberSequence.LocalNamespaceEntityID",label:"Local Namespace Entity ID"},{key:"IssuerOfAccessionNumberSequence.UniversalEntityID",label:"Universal Entity ID"},{key:"IssuerOfAccessionNumberSequence.UniversalEntityIDType",label:"Universal Entity ID Type"}],description:"Accession Number & Issuer of Accession Number Sequence",placeholder:"Accession Number & Issuer of Accession Number Sequence"},{tag:"input",type:"text",filterKey:"StudyDescription",description:"Study Description",placeholder:"Study Description"},{tag:"input",type:"text",filterKey:"StudyInstanceUID",description:"Study Instance UID",placeholder:"Study Instance UID"},{tag:"range-picker-limit",type:"text",filterKey:"StudyDate",description:"Study Date",onlyDate:!0},{tag:"range-picker-time",type:"text",filterKey:"StudyTime",description:"Study time"},{tag:"range-picker",type:"text",filterKey:"StudyReceiveDateTime",description:"Study Received"},{tag:"range-picker",type:"text",filterKey:"StudyAccessDateTime",description:"Study Access"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:Object.keys(this.MODALITIES.common).map(o=>new G(o,`${o} - ${this.MODALITIES.common[o]}`))},{options:Object.keys(this.MODALITIES.more).map(o=>new G(o,`${o} - ${this.MODALITIES.more[o]}`))}],filterKey:"ModalitiesInStudy",placeholder:"Modality",description:"Return studies which have series with ANY of the selected modalities. If 'All of Modalities in Study' filter is checked, returns studies which have series with ALL selected modalities"},{tag:"select",options:[new G("false","Any of specified Modalities","Filter for Studies containing Series of ANY of the specified Modalities"),new G("true","All of specified Modalities","Filter for Studies containing Series of ALL of the specified Modalities")],showStar:!0,filterKey:"allOfModalitiesInStudy",description:"Filter for Studies containing Series of ANY or ALL of the specified Modalities",placeholder:"ANY or ALL of specified Modalities"},this.getInstitutionFilterSchemaElement(e),{tag:"input",type:"text",filterKey:"InstitutionalDepartmentName",description:"Institutional Department Name",placeholder:"Institutional Department Name"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:r}],filterKey:"SendingApplicationEntityTitleOfSeries",description:"Sending Application Entity Title of Series",placeholder:"Sending AET of Series"},{tag:"select",filterKey:"includefield",showSelectedEmptyValue:!0,options:[new G("","dicom","Search Response Payload according DICOM PS 3.18"),new G("all","All","all available attributes")],description:"Include field",placeholder:"Include field"},{tag:"input",type:"number",filterKey:"limit",description:"Limit",placeholder:"Limit of studies"}];}static getInstitutionFilterSchemaElement(r){return I.isSet(r)?{tag:"editable-multi-select",type:"text",optionsTree:[{options:r}],filterKey:"InstitutionName",placeholder:"Institution Name"}:{tag:"input",type:"text",filterKey:"InstitutionName",placeholder:"Institution Name"};}static DIFF_FILTER_SCHEMA(r,t,e,n){return n?[{tag:"p-calendar",filterKey:"PatientBirthDate",description:"Patient's Birth Date"},{tag:"select",options:[new G("F","Female"),new G("M","Male"),new G("O","Other")],showStar:!0,filterKey:"PatientSex",description:"Patient's Sex",placeholder:"Patient's Sex"},{tag:"select",options:[new G("UNVERIFIED","UNVERIFIED","Patient not verified against any Patient Demographics Query Provider"),new G("VERIFIED","VERIFIED","Patient verified against a Patient Demographics Query Provider"),new G("NOT_FOUND","NOT_FOUND","Patient verification against a Patient Demographics Query Provider resulted in no patient found"),new G("VERIFICATION_FAILED","VERIFICATION_FAILED","Patient verification against a Patient Demographics Query Provider failed")],showStar:!0,filterKey:"patientVerificationStatus",description:"Verification Status",placeholder:"Verification Status"},{tag:"person-name-picker",filterKey:"ResponsiblePerson",placeholder:"Responsible Person",description:"Name of person with medical or welfare decision making authority for the Patient, typically if the Patient is a non-human organism."},{tag:"person-name-picker",filterKey:"ReferringPhysicianName",placeholder:"Referring physician family name",description:"Order of name components in the search field differs from the rendered person names in the list"},{tag:"input",type:"text",filterKey:"StudyDescription",description:"Study Description",placeholder:"Study Description"},{tag:"range-picker",type:"text",filterKey:"StudyReceiveDateTime",description:"Study Received"},{tag:"range-picker",type:"text",filterKey:"StudyAccessDateTime",description:"Study Access"},{tag:"input",type:"text",filterKey:"StudyInstanceUID",description:"Study Instance UID",placeholder:"Study Instance UID"},{tag:"input",type:"text",filterKey:"StudyID",description:"Study ID",placeholder:"Study ID"},{tag:"editable-select",options:r,showStar:!0,filterKey:"ExternalRetrieveAET",description:"Retrievable from external retrieve AET",placeholder:"External retrieve AET"},{tag:"editable-select",options:r,showStar:!0,filterKey:"ExternalRetrieveAET!",description:"Not retrievable from external retrieve AET",placeholder:"Not retrievable from AET"},{tag:"checkbox",filterKey:"incomplete",text:"Only incomplete",description:"Only incomplete studies"},{tag:"checkbox",filterKey:"retrievefailed",text:"Only failed retrieving",description:"Only failed to be retrieved"},{tag:"input",type:"text",filterKey:"StationName",description:"Station Name",placeholder:"Station Name"},{tag:"multi-select",filterKey:"SOPClassesInStudy",options:Object.keys(this.STORAGE_SOP_CLASSES.storageSopClasses).map(o=>new G(o,`${this.STORAGE_SOP_CLASSES.storageSopClasses[o]}`)),showSearchField:!0,description:"Storage SOP classes in study",placeholder:"Storage SOP classes in study"},{tag:"input",type:"text",filterKey:"SeriesDescription",description:"Series Description",placeholder:"Series Description"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:Object.keys(this.BODY_PARTS.common).map(o=>new G(o,`${o} - ${this.BODY_PARTS.common[o]}`))},{options:Object.keys(this.BODY_PARTS.more).map(o=>new G(o,`${o} - ${this.BODY_PARTS.more[o]}`))}],filterKey:"BodyPartExamined",description:"Body Part Examined",placeholder:"Body Part Examined"},{tag:"checkbox",filterKey:"storageVerificationFailed",text:"Verification Failed",description:"Storage Verification Failed"},{tag:"select",filterKey:"includedefaults",showStar:!0,options:[new G("true","YES"),new G("false","NO")],placeholder:"Include Defaults",description:"Enable to return only the attributes specified by Query Parameter 'includefield' without including the default set of attributes specified by DICOM Part 18"}]:[{tag:"person-name-picker",filterKey:"PatientName",description:"Patient family name",placeholder:"Patient family name"},{tag:"checkbox",filterKey:"fuzzymatching",text:"Fuzzy Matching",description:"Fuzzy semantic matching of person names"},{tag:"issuer-selector",issuers:[{key:"PatientID",label:"Patient ID"},{key:"IssuerOfPatientID",label:"Issuer of Patient ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityID",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityIDType",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID Type"}],id:"PatientID",description:"Patient Identifier",placeholder:"Patient Identifier"},{tag:"issuer-selector",issuers:[{key:"AccessionNumber",label:"Accession Number"},{key:"IssuerOfAccessionNumberSequence.LocalNamespaceEntityID",label:"Local Namespace Entity ID"},{key:"IssuerOfAccessionNumberSequence.UniversalEntityID",label:"Universal Entity ID"},{key:"IssuerOfAccessionNumberSequence.UniversalEntityIDType",label:"Universal Entity ID Type"}],description:"Accession Number & Issuer of Accession Number Sequence",placeholder:"Accession Number & Issuer of Accession Number Sequence"},{tag:"range-picker-limit",type:"text",filterKey:"StudyDate",description:"Study Date"},{tag:"range-picker-time",type:"text",filterKey:"StudyTime",description:"Study time"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:Object.keys(this.MODALITIES.common).map(o=>new G(o,`${o} - ${this.MODALITIES.common[o]}`))},{options:Object.keys(this.MODALITIES.more).map(o=>new G(o,`${o} - ${this.MODALITIES.more[o]}`))}],filterKey:"ModalitiesInStudy",placeholder:"Modality"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:r}],filterKey:"SendingApplicationEntityTitleOfSeries",description:"Sending Application Entity Title of Series",placeholder:"Sending AET of Series"},this.getInstitutionFilterSchemaElement(e),{tag:"input",type:"text",filterKey:"InstitutionalDepartmentName",description:"Institutional Department Name",placeholder:"Institutional Department Name"},{tag:"input",type:"number",filterKey:"limit",description:"Limit",placeholder:"Limit of studies"},{tag:"select",filterKey:"includefield",showSelectedEmptyValue:!0,options:[new G("","dicom","Search Response Payload according DICOM PS 3.18"),new G("all","All","all available attributes")],description:"Include field",placeholder:"Include field"},{tag:"checkbox",filterKey:"queue",text:"Queued"},{tag:"checkbox",filterKey:"missing",text:"Missing Studies"},{tag:"checkbox",filterKey:"different",text:"Different Studies"},{tag:"select",filterKey:"comparefield",options:t,description:"Attribute Set",placeholder:"Attribute Set"},{tag:"input",type:"text",filterKey:"taskID",description:"Task ID",placeholder:"Task ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}];}static SERIES_FILTER_SCHEMA(r,t,e,n){return n?[{tag:"p-calendar",filterKey:"PatientBirthDate",description:"Patient's Birth Date"},{tag:"select",options:[new G("F","Female"),new G("M","Male"),new G("O","Other")],showStar:!0,filterKey:"PatientSex",description:"Patient's Sex",placeholder:"Patient's Sex"},{tag:"select",options:[new G("UNVERIFIED","UNVERIFIED","Patient not verified against any Patient Demographics Query Provider"),new G("VERIFIED","VERIFIED","Patient verified against a Patient Demographics Query Provider"),new G("NOT_FOUND","NOT_FOUND","Patient verification against a Patient Demographics Query Provider resulted in no patient found"),new G("VERIFICATION_FAILED","VERIFICATION_FAILED","Patient verification against a Patient Demographics Query Provider failed")],showStar:!0,filterKey:"patientVerificationStatus",description:"Verification Status",placeholder:"Verification Status"},{tag:"person-name-picker",filterKey:"ResponsiblePerson",placeholder:"Responsible Person",description:"Name of person with medical or welfare decision making authority for the Patient, typically if the Patient is a non-human organism."},{tag:"issuer-selector",issuers:[{key:"AdmissionID",label:"Admission ID"},{key:"IssuerOfAdmissionIDSequence.LocalNamespaceEntityID",label:"Local Namespace Entity ID"},{key:"IssuerOfAdmissionIDSequence.UniversalEntityID",label:"Universal Entity ID"},{key:"IssuerOfAdmissionIDSequence.UniversalEntityIDType",label:"Universal Entity ID Type"}],description:"Admission ID & Issuer of Admission ID Sequence",placeholder:"Admission ID & Issuer of Admission ID Sequence"},{tag:"input",type:"text",filterKey:"StudyID",description:"Study ID",placeholder:"Study ID"},{tag:"size_range_picker",filterKey:"StudySizeInKB"},{tag:"select",filterKey:"ExpirationState",showStar:!0,options:[new G("UPDATABLE","UPDATABLE","No expiration date set to study"),new G("FROZEN","FROZEN","Study protected from being expired"),new G("REJECTED","REJECTED","Rejected expired studies"),new G("EXPORT_SCHEDULED","EXPORT_SCHEDULED","Export scheduled for expired studies before rejecting them"),new G("FAILED_TO_EXPORT","FAILED_TO_EXPORT","Export failed for expired studies"),new G("FAILED_TO_REJECT","FAILED_TO_REJECT","Rejection failed for expired studies")],description:"Expiration State",placeholder:"Expiration State"},{tag:"range-picker",type:"text",filterKey:"ExpirationDate",description:"Expiration Date"},{tag:"select",options:r,showStar:!0,filterKey:"ExternalRetrieveAET",description:"Retrievable from external retrieve AET",placeholder:"External retrieve AET"},{tag:"select",options:r,showStar:!0,filterKey:"ExternalRetrieveAET!",description:"Not retrievable from external retrieve AET",placeholder:"Not retrievable from AET"},{tag:"input",type:"text",filterKey:"StudyDescription",description:"Study Description",placeholder:"Study Description"},{tag:"select",options:t,showStar:!0,filterKey:"storageID",placeholder:"Storage ID",description:"Only query studies whose objects are on a particular storage system"},{tag:"select",filterKey:"storageClustered",showStar:!0,options:[new G("true","YES","Query studies whose objects are also on other storage systems of the 'Storage Cluster' to which selected 'Storage ID' belongs"),new G("false","NO","Do not query studies whose objects are on other storage systems of the 'Storage Cluster' to which selected 'Storage ID' belongs")],placeholder:"Storage Clustered",description:"Query studies whose objects are also on other storage systems of the 'Storage Cluster' to which selected 'Storage ID' belongs; applicable only in combination with 'Storage ID' filter"},{tag:"select",filterKey:"storageExported",showStar:!0,options:[new G("true","YES","Query studies whose objects are also on configured 'Export Storage ID' storage systems of selected 'Storage ID'"),new G("false","NO","Do not query studies whose objects are on configured 'Export Storage ID' storage systems of selected 'Storage ID'")],placeholder:"Storage Exported",description:"Query studies whose objects are also on configured 'Export Storage ID' storage systems of selected 'Storage ID'; applicable only in combination with 'Storage ID' filter"},{tag:"range-picker-limit",type:"text",filterKey:"StudyDate",description:"Study Date",onlyDate:!0},{tag:"range-picker-time",type:"text",filterKey:"StudyTime",description:"Study time"},{tag:"range-picker",type:"text",filterKey:"StudyReceiveDateTime",description:"Study Received"},{tag:"range-picker",type:"text",filterKey:"StudyAccessDateTime",description:"Study Access"},{tag:"range-picker-limit",type:"text",filterKey:"PerformedProcedureStepStartDate",description:"Performed Procedure Step Start Date",onlyDate:!0},{tag:"range-picker-time",type:"text",filterKey:"PerformedProcedureStepStartTime",description:"Performed Procedure Step Start Time"},{tag:"multi-select",filterKey:"SOPClassesInStudy",options:Object.keys(this.STORAGE_SOP_CLASSES.storageSopClasses).map(o=>new G(o,`${this.STORAGE_SOP_CLASSES.storageSopClasses[o]}`)),showSearchField:!0,description:"Storage SOP classes in study",placeholder:"Storage SOP classes in study"},{tag:"select",filterKey:"requested",showStar:!0,options:[new G("false","Unscheduled","Series not having Request Attributes Sequence (0040,0275) in it"),new G("true","Requested","Series having Request Attributes Sequence (0040,0275) in it")],placeholder:"(Un-)Scheduled Series",description:"Query Series with(-out) Request Attributes Sequence (0040,0275) in it"},{tag:"checkbox",filterKey:"incomplete",text:"Only incomplete",description:"Only incomplete studies"},{tag:"checkbox",filterKey:"retrievefailed",text:"Only failed retrieving",description:"Only failed to be retrieved"},{tag:"checkbox",filterKey:"compressionfailed",text:"Compression Failed"},{tag:"checkbox",filterKey:"storageVerificationFailed",text:"Verification Failed",description:"Storage Verification Failed"},{tag:"checkbox",filterKey:"metadataUpdateFailed",text:"Metadata Update Failed",description:"Series Metadata Update Failed"},{tag:"modified-widget",iodFileNames:["patient","study","series"],description:"Modified",placeholder:"Modified"},{tag:"input",type:"text",filterKey:"SendingHL7ApplicationOfSeries",description:"Sending HL7 Application Of Series",placeholder:"Sending HL7 Application Of Series"},{tag:"input",type:"text",filterKey:"SendingHL7FacilityOfSeries",description:"Sending HL7 Facility Of Series",placeholder:"Sending HL7 Facility Of Series"},{tag:"input",type:"text",filterKey:"ReceivingHL7ApplicationOfSeries",description:"Receiving HL7 Application Of Series",placeholder:"Receiving HL7 Application Of Series"},{tag:"input",type:"text",filterKey:"ReceivingHL7FacilityOfSeries",description:"Receiving HL7 Facility Of Series",placeholder:"Receiving HL7 Facility Of Series"},{tag:"input",type:"text",filterKey:"SendingPresentationAddressOfSeries",description:"Sending Presentation Address of Series",placeholder:"Sending Presentation Address of Series"},{tag:"input",type:"text",filterKey:"ReceivingPresentationAddressOfSeries",description:"Receiving Presentation Address of Series",placeholder:"Receiving Presentation Address of Series"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:r}],filterKey:"ReceivingApplicationEntityTitleOfSeries",description:"Receiving Application Entity Title of Series",placeholder:"Receiving AET of Series"},{tag:"input",type:"text",filterKey:"RequestAttributesSequence.RequestedProcedureID",description:"Requested Procedure ID",placeholder:"Requested Procedure ID"},{tag:"input",type:"text",filterKey:"RequestAttributesSequence.ScheduledProcedureStepID",description:"Scheduled Procedure Step ID",placeholder:"Scheduled Procedure Step ID"},{tag:"select",filterKey:"includedefaults",showStar:!0,options:[new G("true","YES"),new G("false","NO")],placeholder:"Include Defaults",description:"Enable to return only the attributes specified by Query Parameter 'includefield' without including the default set of attributes specified by DICOM Part 18"}]:[{tag:"select",options:r,showStar:!0,filterKey:"aet",description:"AET",placeholder:"AET"},{tag:"person-name-picker",filterKey:"PatientName",placeholder:"Patient family name",description:"Order of name components in the search field differs from the rendered person names in the list"},{tag:"checkbox",filterKey:"fuzzymatching",text:"Fuzzy Matching",description:"Fuzzy semantic matching of person names"},{tag:"issuer-selector",issuers:[{key:"PatientID",label:"Patient ID"},{key:"IssuerOfPatientID",label:"Issuer of Patient ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityID",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityIDType",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID Type"}],id:"PatientID",description:"Patient Identifier",placeholder:"Patient Identifier"},{tag:"issuer-selector",issuers:[{key:"AccessionNumber",label:"Accession Number"},{key:"IssuerOfAccessionNumberSequence.LocalNamespaceEntityID",label:"Local Namespace Entity ID"},{key:"IssuerOfAccessionNumberSequence.UniversalEntityID",label:"Universal Entity ID"},{key:"IssuerOfAccessionNumberSequence.UniversalEntityIDType",label:"Universal Entity ID Type"}],description:"Accession Number & Issuer of Accession Number Sequence",placeholder:"Accession Number & Issuer of Accession Number Sequence"},{tag:"input",type:"text",filterKey:"StudyInstanceUID",description:"Study Instance UID",placeholder:"Study Instance UID"},{tag:"person-name-picker",filterKey:"ReferringPhysicianName",placeholder:"Referring physician family name",description:"Order of name components in the search field differs from the rendered person names in the list"},{tag:"input",type:"text",filterKey:"SeriesDescription",description:"Series Description",placeholder:"Series Description"},{tag:"input",type:"text",filterKey:"SeriesInstanceUID",description:"Series Instance UID",placeholder:"Series Instance UID"},{tag:"input",type:"text",filterKey:"StationName",description:"Station Name",placeholder:"Station Name"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:Object.keys(this.BODY_PARTS.common).map(o=>new G(o,`${o} - ${this.BODY_PARTS.common[o]}`))},{options:Object.keys(this.BODY_PARTS.more).map(o=>new G(o,`${o} - ${this.BODY_PARTS.more[o]}`))}],filterKey:"BodyPartExamined",description:"Body Part Examined",placeholder:"Body Part Examined"},{tag:"person-name-picker",filterKey:"PerformingPhysicianName",placeholder:"Performing physician family name",description:"Order of name components in the search field differs from the rendered person names in the list"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:r}],filterKey:"SendingApplicationEntityTitleOfSeries",description:"Sending Application Entity Title of Series",placeholder:"Sending AET of Series"},this.getInstitutionFilterSchemaElement(e),{tag:"input",type:"text",filterKey:"InstitutionalDepartmentName",description:"Institutional Department Name",placeholder:"Institutional Department Name"},{tag:"editable-multi-select",type:"text",optionsTree:[{options:Object.keys(this.MODALITIES.common).map(o=>new G(o,`${o} - ${this.MODALITIES.common[o]}`))},{options:Object.keys(this.MODALITIES.more).map(o=>new G(o,`${o} - ${this.MODALITIES.more[o]}`))}],filterKey:"Modality",placeholder:"Modality"},{tag:"input",type:"number",filterKey:"limit",description:"Limit",placeholder:"Limit of studies"},{tag:"select",filterKey:"includefield",showSelectedEmptyValue:!0,options:[new G("","dicom","Search Response Payload according DICOM PS 3.18"),new G("all","All","all available attributes")],description:"Include field",placeholder:"Include field"}];}static STUDY_FILTER_ENTRY_SCHEMA(r,t){return[{tag:"html-select",options:r,filterKey:"device",description:"Select Device",placeholder:"Select Device"},{tag:"html-select",options:t,filterKey:"webService",description:"Web Application Service",placeholder:"Web App Service"}];}static PATIENT_FILTER_SCHEMA(r,t){return t?[]:[{tag:"editable-select",options:r,showStar:!0,filterKey:"aet",description:"AET",placeholder:"AET"},{tag:"person-name-picker",filterKey:"PatientName",placeholder:"Patient family name",description:"Order of name components in the search field differs from the rendered person names in the list"},{tag:"checkbox",filterKey:"fuzzymatching",text:"Fuzzy Matching",description:"Fuzzy semantic matching of person names"},{tag:"issuer-selector",issuers:[{key:"PatientID",label:"Patient ID"},{key:"IssuerOfPatientID",label:"Issuer of Patient ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityID",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityIDType",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID Type"}],id:"PatientID",description:"Patient Identifier",placeholder:"Patient Identifier"},{tag:"p-calendar",filterKey:"PatientBirthDate",description:"Birth Date"},{tag:"select",options:[new G("F","Female"),new G("M","Male"),new G("O","Other")],showStar:!0,filterKey:"PatientSex",description:"Patient's Sex",placeholder:"Patient's Sex"},{tag:"select",options:[new G("UNVERIFIED","UNVERIFIED","Patient not verified against any Patient Demographics Query Provider"),new G("VERIFIED","VERIFIED","Patient verified against a Patient Demographics Query Provider"),new G("NOT_FOUND","NOT_FOUND","Patient verification against a Patient Demographics Query Provider resulted in no patient found"),new G("VERIFICATION_FAILED","VERIFICATION_FAILED","Patient verification against a Patient Demographics Query Provider failed")],showStar:!0,filterKey:"patientVerificationStatus",description:"Verification Status",placeholder:"Verification Status"},{tag:"person-name-picker",filterKey:"ResponsiblePerson",placeholder:"Responsible Person",description:"Name of person with medical or welfare decision making authority for the Patient, typically if the Patient is a non-human organism."},{tag:"checkbox",filterKey:"onlyWithStudies",text:"only with studies"},{tag:"checkbox",filterKey:"merged",text:"Merged Patients",description:"Indicates to return merged patients"},{tag:"select",filterKey:"includefield",showSelectedEmptyValue:!0,options:[new G("","dicom","Search Response Payload according DICOM PS 3.18"),new G("all","All","all available attributes")],description:"Include field",placeholder:"Include field"},{tag:"select",filterKey:"includedefaults",showStar:!0,options:[new G("true","YES"),new G("false","NO")],placeholder:"Include Defaults",description:"Enable to return only the attributes specified by Query Parameter 'includefield' without including the default set of attributes specified by DICOM Part 18"},{tag:"input",type:"number",filterKey:"limit",description:"Limit",placeholder:"Limit of patients"},{tag:"range-picker",type:"text",filterKey:"PatientCreateDateTime",description:"Patient Created DateTime"}];}static FOR_GROUP_STUDY_FILTER_SCHEMA(r,t,e){return[{tag:"multi-select",type:"text",options:t,maxSelectedLabels:4,filterKey:"ModalitiesInStudy",placeholder:"Modality"},{tag:"multi-select",options:r,filterKey:"SendingApplicationEntityTitleOfSeries",description:"Sending Application Entity Title of Series",placeholder:"Sending Series AET"},{tag:"input",type:"text",filterKey:"InstitutionName",description:"Institution name",placeholder:"Institution name"},{tag:"input",type:"text",filterKey:"InstitutionalDepartmentName",description:"Institutional Department Name",placeholder:"Institutional Department Name"},{tag:"input",type:"text",filterKey:"AccessionNumber",description:"Accession number",placeholder:"Accession number"},{tag:"person-name-picker",filterKey:"PatientName",description:"Patient name",placeholder:"Patient name"},{tag:"multi-select",filterKey:"SOPClassesInStudy",options:Object.keys(this.STORAGE_SOP_CLASSES.storageSopClasses).map(n=>new G(n,`${this.STORAGE_SOP_CLASSES.storageSopClasses[n]}`)),showSearchField:!0,description:"Storage SOP classes in study",placeholder:"Storage SOP classes in study"},{tag:"multi-select",type:"text",options:e,maxSelectedLabels:1,showSearchField:!0,showStar:!0,filterKey:"applicationClusters",placeholder:"Application Cluster"},{tag:"issuer-selector",issuers:[{key:"PatientID",label:"Patient ID"},{key:"IssuerOfPatientID",label:"Issuer of Patient ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityID",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID"},{key:"IssuerOfPatientIDQualifiersSequence.UniversalEntityIDType",label:"Issuer of Patient ID Qualifiers Sequence - Universal Entity ID Type"}],id:"PatientID",description:"Patient Identifier",placeholder:"Patient Identifier"},{tag:"person-name-picker",filterKey:"ReferringPhysicianName",description:"Referring physician name",placeholder:"Referring physician name"},{tag:"checkbox",filterKey:"expired",text:"Only expired studies"}];}static KEYCLOAK_OPTIONS(){return{flow:"standard",responseMode:"fragment",checkLoginIframe:!1,onLoad:"login-required"};}};var Pe=(()=>{let r=class r{constructor(e){this.mainservice=e,this.setTokenSource=new xe(),this.setUserSource=new xe(),this.keycloakConfigName=`keycloak_config_${location.host}`;try{r.keycloakConfig=JSON.parse(localStorage.getItem(this.keycloakConfigName));}catch(n){I.log("keycloakConfig probably not set",n);}}init(e){return r.keycloakConfig?(r.keycloakAuth=new Keycloak(r.keycloakConfig),I.promiseToObservable(new Promise((n,o)=>{r.keycloakAuth.init(we.KEYCLOAK_OPTIONS()).then(a=>{a?(this.setTokenSource.next(r.keycloakAuth),console.log("User is authenticated"),r.keycloakAuth.loadUserProfile().then(s=>{this.checkLanguageBasedOnKeycloak(s),this.setUserInfo({userProfile:s,tokenParsed:r.keycloakAuth.tokenParsed,authServerUrl:r.keycloakAuth.authServerUrl,realm:r.keycloakAuth.realm}),this.mainservice.setSecured(!0),this.mainservice.updateGlobal("notSecure",!1),n(null);}).catch(s=>{this.mainservice.setSecured(!1),this.mainservice.updateGlobal("notSecure",!0),console.error("err on loadingUserProfile",s),this.checkLanguageBasedOnKeycloak(void 0),o(s);})):console.warn("User is not authenticated");}).catch(a=>{console.error("Failed to initialize Keycloak",a);});}))):this.mainservice.getKeycloakJson().pipe(Bu(n=>Eo(n)?(this.setUserInfo(void 0),this.setTokenSource.next(""),this.mainservice.updateGlobal("notSecure",!0),ge([])):(localStorage.setItem(this.keycloakConfigName,JSON.stringify(n)),r.keycloakAuth=new Keycloak(n),I.promiseToObservable(new Promise((o,a)=>{r.keycloakAuth.init(we.KEYCLOAK_OPTIONS()).then(()=>{this.setTokenSource.next(r.keycloakAuth.token),o(null);}).catch(s=>{a(s);});})))));}setUserInfo(e){this.userInfo=e,this.setUserSource.next(e);}getUserInfo(){return this.userInfo?ge(this.userInfo):this.setUserSource.asObservable();}getTokenObs(){return this.setTokenSource.asObservable();}authenticated(){return r.keycloakAuth.authenticated;}isTokenExpired(e){return r.keycloakAuth.isTokenExpired(e);}login(){r.keycloakAuth.login();}logout(){r.keycloakAuth.logout();}account(){r.keycloakAuth.accountManagement();}getToken(){return A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?ge({}):r.keycloakAuth&&r.keycloakAuth.authenticated?(console.log("KeycloakService.keycloakAuth",r.keycloakAuth),r.keycloakAuth.isTokenExpired(5)?I.promiseToObservable(new Promise((e,n)=>{r.keycloakAuth.token?r.keycloakAuth.updateToken(5).then(()=>{e(r.keycloakAuth);}).catch(()=>{n("Failed to refresh token");}):n("Not logged in");})):ge(r.keycloakAuth)):this.getTokenObs();}checkLanguageBasedOnKeycloak(e){if(console.log("user",e),e&&A(e,r.languageProfilePath)){let n=B(e,r.languageProfilePath),o=/dcm4chee-arc\/ui2\/(\w{2})\//gm,a;(a=o.exec(location.href))!==null&&(a[1]!=n?(this.setCurrentLanguageBasedOnCode(n),window.location.href=`/dcm4chee-arc/ui2/${n}/`):this.setCurrentLanguageBasedOnCode(n));}else{let n=localStorage.getItem("current_language");if(!n)this.setCurrentLanguageBasedOnCode("en"),window.location.href="/dcm4chee-arc/ui2/en/";else if(this.mainservice.global&&!this.mainservice.global.notSecure){let o=/dcm4chee-arc\/ui2\/(\w{2})\//gm,a;(a=o.exec(location.href))!==null&&a[1]!=n&&(window.location.href=`/dcm4chee-arc/ui2/${n}/`);}}}setCurrentLanguageBasedOnCode(e){try{localStorage.setItem("current_language",e||"en");}catch{}}};r.languageProfilePath="attributes.locale[0]",r.ɵfac=function(n){return new(n||r)(K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var Cv=class{constructor(r){this._open=!1;try{this._languageList=r.dcmLanguages.map(e=>I.extractLanguageDataFromString(e));let t=localStorage.getItem("current_language");t?this._currentSelectedLanguage=this.languageList.filter(e=>e.code===t)[0]:this._currentSelectedLanguage=this.languageList[0];}catch(t){I.log("Error on language-switcher construct",t);}}get currentSelectedLanguage(){return this._currentSelectedLanguage;}set currentSelectedLanguage(r){this._currentSelectedLanguage=r;}get languageList(){return this._languageList;}set languageList(r){this._languageList=r;}get open(){return this._open;}set open(r){this._open=r;}};var Pt=(()=>{let r=class r{constructor(e){this.mainservice=e;}handleError(e){if(e._body&&e._body!=""||A(e,"message")||A(e,"error")||A(e,"[00000902].Value[0]"))try{let n=I.extractMessageFromWarningHeader(e.headers);if(n&&n!="")this.mainservice.showError(n);else if(A(e,"message")||A(e,"error.errorMessage")||A(e,"error.error")){if(A(e,"error.errorMessage"))this.mainservice.setMessage({title:"Error "+(e.status||"")+"",text:B(e,"error.errorMessage"),status:"error"});else if(A(e,"error.error")){let o=B(e,"error.error");this.mainservice.setMessage({title:"Error "+(e.status||"")+"",text:o,status:"error"});}else this.mainservice.setMessage({title:"Error "+(e.status||"")+"",text:e.message,status:"error"});}else if(A(e,"[00000902].Value[0]"))this.mainservice.setMessage({title:"Error "+(e.status||"")+"",text:`${B(e,"[00000902].Value[0]")}<br>${A(e,'["00081198"].Value["0"]["00081197"].Value["0"]')?"Failure Reason:"+B(e,'["00081198"].Value["0"]["00081197"].Value["0"]'):""}`,status:"error"});else if(A(e,"error"))this.mainservice.showError(e.error);else{let o="Error",a=JSON.parse(e._body);A(a,"msa-3")&&(o=a["msa-3"]),A(a,"err-8")&&(o=a["erSr-8"]),A(a,"errorMessage")&&(o=a.errorMessage),this.mainservice.setMessage({title:"Error "+(e.status||"")+"",text:o,status:"error"});}}catch{e.status===0&&e.statusText===""||this.mainservice.setMessage({title:"Error "+(e.status||"")+"",text:e.statusText+"!",status:"error",detailError:e._body});}else this.mainservice.setMessage({title:"Error "+(e.status||"")+"",text:e.statusText,status:"error"});}};r.ɵfac=function(n){return new(n||r)(K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var Fe=(()=>{let r=class r{constructor(e,n,o,a){this.$httpClient=e,this.mainservice=n,this.httpErrorHandler=o,this._keycloakService=a,this.token={},console.log("in j4care-http-service constructor");}get(e,n,o,a,s){let l;return a&&A(a,"dcmKeycloakClientID")?(e=e||I.getUrlFromDcmWebApplication(a,this.mainservice.baseUrl),l={url:o?e:encodeURI(e),doNotEncode:o,header:n,dcmWebApp:a,params:s},A(n,"responseType")&&(l.responseType=n.responseType,delete n.responseType,Object.keys(n).length===0&&(l.header=void 0)),this.dcmWebAppRequest.apply(this,["get",l])):(a&&(e=e||this.getUrlFromDcmWebAppAndParams(a,s)),l={url:o?e:encodeURI(e),header:n},A(n,"responseType")&&(l.responseType=n.responseType,delete n.responseType,Object.keys(n).length===0&&(l.header=void 0)),this.request.apply(this,["get",l]));}head(e,n,o,a,s){return a&&A(a,"dcmKeycloakClientID")?(e=e||I.getUrlFromDcmWebApplication(a,this.mainservice.baseUrl),this.dcmWebAppRequest.apply(this,["head",{url:o?e:encodeURI(e),doNotEncode:o,header:n,dcmWebApp:a,params:s}])):(a&&(e=e||this.getUrlFromDcmWebAppAndParams(a,s)),this.request.apply(this,["head",{url:o?e:encodeURI(e),header:n}]));}post(e,n,o,a,s,l){return s&&A(s,"dcmKeycloakClientID")?(e=e||I.getUrlFromDcmWebApplication(s,this.mainservice.baseUrl),this.dcmWebAppRequest.apply(this,["post",{url:a?e:encodeURI(e),doNotEncode:a,header:o,dcmWebApp:s,params:l}])):(s&&(e=e||this.getUrlFromDcmWebAppAndParams(s,l)),this.request.apply(this,["post",{url:a?e:encodeURI(e),data:n,header:o}]));}put(e,n,o,a,s,l){return s&&A(s,"dcmKeycloakClientID")?(e=e||I.getUrlFromDcmWebApplication(s,this.mainservice.baseUrl),this.dcmWebAppRequest.apply(this,["put",{url:a?e:encodeURI(e),doNotEncode:a,header:o,dcmWebApp:s,params:l,data:n}])):(s&&(e=e||this.getUrlFromDcmWebAppAndParams(s,l)),this.request.apply(this,["put",{url:a?e:encodeURI(e),data:n,header:o}]));}delete(e,n,o,a,s){return a&&A(a,"dcmKeycloakClientID")?(e=e||I.getUrlFromDcmWebApplication(a,this.mainservice.baseUrl),this.dcmWebAppRequest.apply(this,["delete",{url:o?e:encodeURI(e),doNotEncode:o,header:n,dcmWebApp:a,params:s}])):(a&&(e=e||this.getUrlFromDcmWebAppAndParams(a,s)),this.request.apply(this,["delete",{url:o?e:encodeURI(e),header:n}]));}getUrlFromDcmWebAppAndParams(e,n){let o=I.getUrlFromDcmWebApplication(e,this.mainservice.baseUrl);return n?`${o}?${I.objToUrlParams(n)}`:o;}dcmWebAppRequest(e,n){return this.getRealm(n.dcmWebApp).pipe(Bu(o=>(n.header={headers:new At({"Content-Type":"application/json",Authorization:`Bearer ${o.token}`})},this.$httpClient[e].apply(this.$httpClient,this.getParamAsArray(n,e)))));}request(e,n,o){let a=this;return a.refreshToken().pipe(Bu(s=>(a.setHeader(n.header,o),n.header={headers:this.header},a.$httpClient[e].apply(a.$httpClient,this.getParamAsArray(n,e)))),Jn(s=>(I.log("In catch",s),s.statusText==="Unauthorized"?a.refreshToken().pipe(Bu(l=>a.$httpClient[e].apply(a.$httpClient,this.getParamAsArray(n,e)))):li(s))),me(s=>{if(A(s,"body")){if(A(s,"headers"))try{let l=s.headers.get("Warning")||"";l&&this.mainservice.showWarning(l);}catch{}return s.body;}return s;}));}getParamAsArray(e,n){let o=[];return["url","data","header","params","responseType"].forEach(a=>{if(A(e,a)){if(a==="responseType"){let s=o[1]||{};s.responseType=e[a],o[1]=s;}else a==="header"?o.push(rt(re({},e[a]),{observe:"response"})):o.push(e[a]);}else a==="data"&&(n==="post"||n==="put")&&o.push({});}),o;}resetAuthenticationInfo(e){let n=Math.floor(Date.now()/1e3);if(e.systemCurrentTime!=n){let o=n-e.systemCurrentTime;e.expiration=e.expiration+o;}this.setValueInGlobal("authentication",e);}setGlobalToken(e,n){e&&e.length!=0&&(e.token===null?this.setValueInGlobal("notSecure",!0):(this.setValueInGlobal("notSecure",!1),this.resetAuthenticationInfo(e),this.token.UI=e.token,this.mainservice.global.getRealmStateActive=!0)),this.mainservice.global.notSecure||(this.setHeader(n.header),n.header={headers:this.header}),this.setValueInGlobal("getRealmStateActive",!1);}getRealm(e){let n=this._keycloakService.getToken();return e&&e.dcmWebAppName&&A(e,"dcmKeycloakClientID")&&e.dcmKeycloakClientID&&(n=this.request("get",{url:`../token2/${e.dcmWebAppName}`})),n.pipe(me(o=>{let a;try{a=o.json(),console.log("getRealm Response:",o);}catch(s){A(s,"message")&&s.message.indexOf(".json")>-1?a=o:a=[];}return e&&e.dcmWebAppName?this.token[e.dcmWebAppName]=a.token:this.token.UI=Pe.keycloakAuth.token,a;}));}refreshToken(e){if(!e){if((!A(Pe,"keycloakAuth.authenticated")||!this.tokenValid())&&(!this.mainservice.global||!this.mainservice.global.notSecure)&&(!this.mainservice.global||!this.mainservice.global.getRealmStateActive))return this.setValueInGlobal("getRealmStateActive",!0),this.getRealm();if(!this.mainservice.global||!this.mainservice.global.notSecure)if(Pe.keycloakAuth&&Pe.keycloakAuth.authenticated&&!Pe.keycloakAuth.isTokenExpired(5))this.token.UI=Pe.keycloakAuth.token;else return this.setValueInGlobal("getRealmStateActive",!0),this.getRealm();return ge([]);}return ge([]);}tokenValid(){return this._keycloakService.authenticated()&&!Pe.keycloakAuth.isTokenExpired(5);}setValueInGlobal(e,n){if(this.mainservice.global&&!this.mainservice.global[e]){let o=Oe(this.mainservice.global);o[e]=n,this.mainservice.setGlobal(o);}else if(this.mainservice.global&&this.mainservice.global[e])this.mainservice.global[e]=n;else{let o={};o[e]=n,this.mainservice.setGlobal(o);}}setHeader(e,n){let o;if(n&&n.dcmKeycloakClientID?o=this.token[n.dcmWebAppName]:o=this.token.UI,e){if(o)try{if(e instanceof At)this.header=e.set("Authorization",`Bearer ${o}`);else if(A(e,"headers")){let a=e.headers;this.header=a.set("Authorization",`Bearer ${o}`);}}catch(a){this.header=new At().append("Authorization",`Bearer ${o}`),I.log("Error on setting bearer on header, j4care-http.service.ts",a);}}else this.header=new At(),o&&(this.header=new At().append("Authorization",`Bearer ${o}`));}};r.ɵfac=function(n){return new(n||r)(K(uo),K(le),K(Pt),K(Pe));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var lh=(()=>{let r=class r{get dcm4cheeArcConfig(){return this._dcm4cheeArcConfig;}set dcm4cheeArcConfig(e){this._dcm4cheeArcConfig=e;}constructor(e,n,o){this.$http=e,this.appService=n,this.$httpClient=o,this.sharedObservables$={};}getServerTime(e){return this.$http.get(`${e?I.addLastSlash(e):I.addLastSlash(this.appService.baseUrl)}monitor/serverTime`);}getPDQServices(e){return this.$http.get(`${e?I.addLastSlash(e):I.addLastSlash(this.appService.baseUrl)}pdq`);}getDeviceName(){return this.getDcm4cheeArc();}getDeviceInfo(e,n){return this.$http.get(`${n?I.addLastSlash(n):I.addLastSlash(this.appService.baseUrl)}devices?dicomDeviceName=${e}`);}deviceNameRequest$(e){return this.sharedObservables$.devicename&&this.sharedObservables$.devicename[e]||(this.sharedObservables$.devicename=this.sharedObservables$.devicename||{},this.sharedObservables$.devicename[e]=this.$http.get(`${e}/devicename`).pipe(er(1))),this.sharedObservables$.devicename[e];}getDeviceNameFromURL(e){return this.deviceNameRequest$(e).pipe(er(1),Jn(n=>ge({dicomDeviceName:"NOT_FOUND"})));}dcm4cheeArcRequest$(){return this.sharedObservables$["rs_dcm4chee-arc"]||(this.sharedObservables$["rs_dcm4chee-arc"]=this.$httpClient.get(`${I.addLastSlash(this.appService.baseUrl)}ui2/rs/dcm4chee-arc`).pipe(er(1))),this.sharedObservables$["rs_dcm4chee-arc"];}devicesRequest$(e){return this.sharedObservables$.devices&&this.sharedObservables$.devices[e]||(this.sharedObservables$.devices=this.sharedObservables$.devices||{},this.sharedObservables$.devices[e]=this.$httpClient.get(`${I.addLastSlash(this.appService.baseUrl)}devices/${e}`).pipe(er(1))),this.sharedObservables$.devices[e];}getDcm4cheeArc(){let e;return this._dcm4cheeArcConfig?ge(this._dcm4cheeArcConfig):this.dcm4cheeArcRequest$().pipe(me(n=>(e=n,A(n,"dcm4chee-arc-urls[0]")&&(this.baseUrl=B(n,"dcm4chee-arc-urls[0]"),this.appService.baseUrl=this.baseUrl),n)),ot(n=>{let o=B(n,"dcm4chee-arc-urls").map(a=>this.getDeviceNameFromURL(a).pipe(er(1),Jn(s=>ge(s))));return Mi(o);}),me(n=>{try{let o={};e["dcm4chee-arc-urls"].forEach((a,s)=>{o[a]=B(n,`${s}.dicomDeviceName`),po.production||s===1&&(o[a]="stowrsd"),s>0&&(e.hasMoreThanOneBaseUrl=!0);}),e.deviceNameUrlMap=o;}catch{}return this._dcm4cheeArcConfig=e,this.appService.dcm4cheeArcConfig=e,e;}),Jn(n=>n));}getMyDevice(){if(A(this.appService.global,"myDevice"))return ge(this.appService.global.myDevice);{let e,n;return this.getDcm4cheeArc().pipe(ot(o=>(e=B(o,"UIConfigurationDeviceName")||B(o,"dicomDeviceName"),n=B(o,"dicomDeviceName"),this.devicesRequest$(e))),me(o=>{try{let a=Oe(this.appService.global)||{};a.uiConfig=B(o,"dcmDevice.dcmuiConfig[0]"),a.myDevice=o,this.appService.deviceName=e,this.appService.archiveDeviceName=n,this.appService.setGlobal(a);}catch(a){console.warn("Permission not found!",a),this.appService.showError("Permission not found!");}return o;}));}}getUiConfig(){return A(this.appService.global,"uiConfig")?ge(this.appService.global.uiConfig):this.getMyDevice().pipe(me(e=>B(e,"dcmDevice.dcmuiConfig[0]")));}getMyWebApps(){return A(this.appService.global,"myDevice")?ge(B(this.appService.global.myDevice,"dcmDevice.dcmWebApp").map(e=>(e.dcmKeycloakClientID=B(this.appService.global.myDevice,"dcmDevice.dcmKeycloakClient").filter(n=>n.dcmKeycloakClientID===e.dcmKeycloakClientID)[0],e))):this.getMyDevice().pipe(me(e=>B(e,"dcmDevice.dcmWebApp").map(n=>(n.dcmKeycloakClientID=B(this.appService.global.myDevice,"dcmDevice.dcmKeycloakClient").filter(o=>o.dcmKeycloakClientID===n.dcmKeycloakClientID)[0],n))));}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le),K(uo));},r.ɵprov=Q({token:r,factory:r.ɵfac,providedIn:"root"});let i=r;return i;})();var lA=class{constructor(r={}){this._user=r.user,this._roles=r.roles,this._realm=r.realm,this._authServerUrl=r.authServerUrl,this._su=r.su,this._tokenParsed=r.tokenParsed;}get su(){return this._su;}set su(r){this._su=r;}get user(){return this._user;}set user(r){this._user=r;}get roles(){return this._roles;}set roles(r){this._roles=r;}get realm(){return this._realm;}set realm(r){this._realm=r;}get authServerUrl(){return this._authServerUrl;}set authServerUrl(r){this._authServerUrl=r;}get tokenParsed(){return this._tokenParsed;}set tokenParsed(r){this._tokenParsed=r;}};var In=(()=>{let r=class r{constructor(e,n,o,a,s){this.$http=e,this.mainservice=n,this.router=o,this._keycloakService=a,this.appRequest=s,this.configChecked=!1;}getPermission(e){return this.mainservice.user&&this.mainservice.user.roles?this.checkSuperAdmin(e):this.getConfigWithUser(()=>this.mainservice.user&&!this.mainservice.user.user&&this.mainservice.user.roles&&this.mainservice.user.roles.length===0?(this.mainservice.global.notSecure=!0,!0):this.mainservice.user&&this.mainservice.user.su?!0:this.checkMenuTabAccess(e));}checkSuperAdmin(e){return this.mainservice.user&&this.mainservice.user.su||!this.mainservice.user.user&&this.mainservice.user.roles.length===0?!0:this.getConfig(()=>this.checkMenuTabAccess(e));}getConfig(e){let n,o;return!this.uiConfig&&!this.configChecked?this.appRequest.getDcm4cheeArc().pipe(ot(a=>(n=a.UIConfigurationDeviceName||a.dicomDeviceName,o=a.dicomDeviceName,this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${n}`))),me(a=>{try{this.configChecked=!0,this.uiConfig=a.dcmDevice.dcmuiConfig[0];let s=Oe(this.mainservice.global);console.log("permission uiconfig"),s.uiConfig=a.dcmDevice.dcmuiConfig[0],s.myDevice=a,this.mainservice.deviceName=n,this.mainservice.archiveDeviceName=o,this.mainservice.setGlobal(s);}catch(s){return console.warn("Permission not found!",s),this.mainservice.showError("Permission not found!"),e.call(this);}return e.call(this);})):e.call(this);}getConfigWithUser(e){let n,o,a;return!this.uiConfig&&!this.configChecked?this._keycloakService.getUserInfo().pipe(me(s=>{a=s;}),ot(s=>this.appRequest.getDcm4cheeArc()),me(s=>{if(a){let l=B(a,"tokenParsed.realm_access.roles"),_=new lA({authServerUrl:a.authServerUrl,realm:a.realm,user:B(a,"userProfile.username"),roles:l,su:A(s,"super-user-role")&&l.indexOf(B(s,"super-user-role"))>-1,tokenParsed:a.tokenParsed});this.mainservice.setUser(_),this.user=_;}return s;}),ot(s=>(n=s.UIConfigurationDeviceName||s.dicomDeviceName,o=s.dicomDeviceName,this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${n}`))),me(s=>{try{this.configChecked=!0,this.uiConfig=s.dcmDevice.dcmuiConfig[0];let l=Oe(this.mainservice.global)||{};l.uiConfig=s.dcmDevice.dcmuiConfig[0],l.myDevice=s,this.mainservice.archiveDeviceName=o,this.mainservice.deviceName=n,this.mainservice.setGlobal(l);}catch(l){return console.warn("Permission not found!",l),this.mainservice.global.notSecure||this.mainservice.user&&!this.mainservice.user.user&&this.mainservice.user.roles&&this.mainservice.user.roles.length===0?this.mainservice.global.notSecure=!0:this.mainservice.showError("Permission not found!"),e.apply(this,[]);}return e.apply(this,[]);})):e.apply(this,[]);}checkMenuTabAccess(e){if(A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure)return!0;try{let n=we.LINK_PERMISSION(e),o=this.uiConfig.dcmuiPermission.filter(a=>n&&a.dcmuiAction===n.permissionsAction&&a.dcmuiActionParam.indexOf("accessible")>-1);return o&&o[0]&&this.comparePermissionObjectWithRoles(o)&&o[0].dcmuiActionParam.indexOf("accessible")>-1?!0:n.nextCheck?(this.router.navigate([n.nextCheck]),{redirect:n.nextCheck}):!1;}catch(n){console.warn("Are you sure you configured the permissions? ",n),this.mainservice.showError("Are you sure you configured the permissions?");}}checkVisibility(e){return this.mainservice.user&&this.mainservice.user.roles&&this.mainservice.user.roles.length>0&&this.mainservice.user.su||this.mainservice.user&&!this.mainservice.user.user&&this.mainservice.user.roles&&this.mainservice.user.roles.length===0||this.mainservice.global&&this.mainservice.global.notSecure?!0:e?this.getConfig(()=>{try{let n=this.uiConfig.dcmuiPermission.filter(o=>o.dcmuiAction===e.id&&o.dcmuiActionParam.indexOf(e.param)>-1);return this.comparePermissionObjectWithRoles(n);}catch(n){return console.warn("Error on permission check",n),!1;}}):!0;}comparePermissionObjectWithRoles(e){if(this.mainservice.global&&this.mainservice.global.notSecure)return!0;try{let n=!1;return e[0]&&e[0].dcmAcceptedUserRole.forEach(o=>{this.mainservice.user.roles&&this.mainservice.user.roles.indexOf(o)>-1&&(n=!0);}),n;}catch(n){return console.warn("Error comparing permissions object with the roles",n),!1;}}filterAetDependingOnUiConfig(e,n){if(this.uiConfig&&this.uiConfig.dcmuiAetConfig)try{let o=this.uiConfig.dcmuiAetConfig.filter(a=>{let s=!1;return A(a,"dcmAcceptedUserRole")&&a.dcmAcceptedUserRole&&A(this.mainservice,"user.roles")&&this.mainservice.user.roles.length>0&&a.dcmAcceptedUserRole.forEach(l=>{this.mainservice.user.roles.indexOf(l)>-1&&(s=!0);}),s;});return n&&(o=o.filter(a=>!a.dcmuiMode||a.dcmuiMode===n)),o.length>0?e.filter(a=>o[0].dcmuiAets.indexOf(a.dicomAETitle)>-1):[];}catch(o){return console.warn(o),[];}else return e;}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le),K(Hi),K(Pe),K(lh));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var cA=(()=>{let r=class r extends uo{constructor(e,n){super(new yk(e,n,Yy)),this.injector=n;}};r.ɵfac=function(n){return new(n||r)(K(vp),K(tt));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})(),Ck=class{constructor(r,t){this.next=r,this.interceptor=t;}handle(r){return console.log("req1",r),this.interceptor.intercept(r,this.next);}},yk=class{constructor(r,t,e){this.backend=r,this.injector=t,this.interceptors=e,this.chain=null;}handle(r){if(console.log("req",r),this.chain===null){let t=this.injector.get(this.interceptors,[]);this.chain=t.reduceRight((e,n)=>new Ck(e,n),this.backend);}return this.chain.handle(r);}};var sU=(()=>{let r=class r{constructor(e,n){this.keycloakService=e,this.$http=n;}changeLanguageToUserProfile(e){let n;return this.keycloakService.getUserInfo().pipe(me(o=>(n=o,o)),ot(o=>this.$http.get(`${Pe.keycloakConfig.url}/admin/realms/dcm4che/users/${n.userProfile.id}?userProfileMetadata=true`)),me(o=>(Ue(o,Pe.languageProfilePath,e),o)),ot(o=>this.$http.put(`${Pe.keycloakConfig.url}/admin/realms/dcm4che/users/${n.userProfile.id}`,o)));}};r.ɵfac=function(n){return new(n||r)(K(Pe),K(Fe));},r.ɵprov=Q({token:r,factory:r.ɵfac,providedIn:"root"});let i=r;return i;})();var dA;function QTe(){if(dA===void 0&&(dA=null,typeof window<"u")){let i=window;i.trustedTypes!==void 0&&(dA=i.trustedTypes.createPolicy("angular#components",{createHTML:r=>r}));}return dA;}function yv(i){return QTe()?.createHTML(i)||i;}function lU(i){return Error(`Unable to find icon with the name "${i}"`);}function ZTe(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.");}function cU(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`);}function dU(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`);}var Gc=class{url;svgText;options;svgElement;constructor(r,t,e){this.url=r,this.svgText=t,this.options=e;}},pU=(()=>{class i{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map();_iconSetConfigs=new Map();_cachedIconsByUrl=new Map();_inProgressUrlFetches=new Map();_fontCssClassesByAlias=new Map();_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,e,n,o){this._httpClient=t,this._sanitizer=e,this._errorHandler=o,this._document=n;}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n);}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n);}addSvgIconInNamespace(t,e,n,o){return this._addSvgIconConfig(t,e,new Gc(n,null,o));}addSvgIconResolver(t){return this._resolvers.push(t),this;}addSvgIconLiteralInNamespace(t,e,n,o){let a=this._sanitizer.sanitize(Tr.HTML,n);if(!a)throw dU(n);let s=yv(a);return this._addSvgIconConfig(t,e,new Gc("",s,o));}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e);}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e);}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new Gc(e,null,n));}addSvgIconSetLiteralInNamespace(t,e,n){let o=this._sanitizer.sanitize(Tr.HTML,e);if(!o)throw dU(e);let a=yv(o);return this._addSvgIconSetConfig(t,new Gc("",a,n));}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this;}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t;}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this;}getDefaultFontSetClass(){return this._defaultFontSetClass;}getSvgIconFromUrl(t){let e=this._sanitizer.sanitize(Tr.RESOURCE_URL,t);if(!e)throw cU(t);let n=this._cachedIconsByUrl.get(e);return n?ge(uA(n)):this._loadSvgIconFromConfig(new Gc(t,null)).pipe(rn(o=>this._cachedIconsByUrl.set(e,o)),me(o=>uA(o)));}getNamedSvgIcon(t,e=""){let n=uU(e,t),o=this._svgIconConfigs.get(n);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(e,t),o)return this._svgIconConfigs.set(n,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(e);return a?this._getSvgFromIconSetConfigs(t,a):li(lU(n));}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear();}_getSvgFromConfig(t){return t.svgText?ge(uA(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(me(e=>uA(e)));}_getSvgFromIconSetConfigs(t,e){let n=this._extractIconWithNameFromAnySet(t,e);if(n)return ge(n);let o=e.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Jn(s=>{let _=`Loading icon set URL: ${this._sanitizer.sanitize(Tr.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(_)),ge(null);})));return Mi(o).pipe(me(()=>{let a=this._extractIconWithNameFromAnySet(t,e);if(!a)throw lU(t);return a;}));}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){let o=e[n];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,t,o.options);if(s)return s;}}return null;}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(rn(e=>t.svgText=e),me(()=>this._svgElementFromConfig(t)));}_loadSvgIconSetFromConfig(t){return t.svgText?ge(null):this._fetchIcon(t).pipe(rn(e=>t.svgText=e));}_extractSvgIconFromSet(t,e,n){let o=t.querySelector(`[id="${e}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,n);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),n);let s=this._svgElementFromString(yv("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,n);}_svgElementFromString(t){let e=this._document.createElement("DIV");e.innerHTML=t;let n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n;}_toSvgElement(t){let e=this._svgElementFromString(yv("<svg></svg>")),n=t.attributes;for(let o=0;o<n.length;o++){let{name:a,value:s}=n[o];a!=="id"&&e.setAttribute(a,s);}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[o].cloneNode(!0));return e;}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t;}_fetchIcon(t){let{url:e,options:n}=t,o=n?.withCredentials??!1;if(!this._httpClient)throw ZTe();if(e==null)throw Error(`Cannot fetch icon from URL "${e}".`);let a=this._sanitizer.sanitize(Tr.RESOURCE_URL,e);if(!a)throw cU(e);let s=this._inProgressUrlFetches.get(a);if(s)return s;let l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(me(_=>yv(_)),il(()=>this._inProgressUrlFetches.delete(a)),gg());return this._inProgressUrlFetches.set(a,l),l;}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(uU(t,e),n),this;}_addSvgIconSetConfig(t,e){let n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this;}_svgElementFromConfig(t){if(!t.svgElement){let e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e;}return t.svgElement;}_getIconConfigFromResolvers(t,e){for(let n=0;n<this._resolvers.length;n++){let o=this._resolvers[n](e,t);if(o)return JTe(o)?new Gc(o.url,null,o.options):new Gc(o,null);}}static ɵfac=function(e){return new(e||i)(K(uo,8),K(yp),K(bt,8),K(Yr));};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function uA(i){return i.cloneNode(!0);}function uU(i,r){return i+":"+r;}function JTe(i){return!!(i.url&&i.options);}var eIe=["*"],tIe=new se("MAT_ICON_DEFAULT_OPTIONS"),iIe=new se("mat-icon-location",{providedIn:"root",factory:nIe});function nIe(){let i=N(bt),r=i?i.location:null;return{getPathname:()=>r?r.pathname+r.search:""};}var mU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],rIe=mU.map(i=>`[${i}]`).join(", "),oIe=/^url\(['"]?#(.*?)['"]?\)$/,_U=(()=>{class i{_elementRef=N(ze);_iconRegistry=N(pU);_location=N(iIe);_errorHandler=N(Yr);_defaultColor;get color(){return this._color||this._defaultColor;}set color(t){this._color=t;}_color;inline=!1;get svgIcon(){return this._svgIcon;}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t);}_svgIcon;get fontSet(){return this._fontSet;}set fontSet(t){let e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses());}_fontSet;get fontIcon(){return this._fontIcon;}set fontIcon(t){let e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses());}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=ht.EMPTY;constructor(){let t=N(new na("aria-hidden"),{optional:!0}),e=N(tIe,{optional:!0});e&&(e.color&&(this.color=this._defaultColor=e.color),e.fontSet&&(this.fontSet=e.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true");}_splitIconName(t){if(!t)return["",""];let e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`);}}ngOnInit(){this._updateFontIconClasses();}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e));}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();}_usingFontIcon(){return!this.svgIcon;}_setSvgElement(t){this._clearSvgElement();let e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e),this._elementRef.nativeElement.appendChild(t);}_clearSvgElement(){let t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){let n=t.childNodes[e];(n.nodeType!==1||n.nodeName.toLowerCase()==="svg")&&n.remove();}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,e=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(n=>n.length>0);this._previousFontSetClass.forEach(n=>t.classList.remove(n)),e.forEach(n=>t.classList.add(n)),this._previousFontSetClass=e,this.fontIcon!==this._previousFontIconClass&&!e.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon);}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t;}_prependPathToReferences(t){let e=this._elementsWithExternalReferences;e&&e.forEach((n,o)=>{n.forEach(a=>{o.setAttribute(a.name,`url('${t}#${a.value}')`);});});}_cacheChildrenWithExternalReferences(t){let e=t.querySelectorAll(rIe),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map();for(let o=0;o<e.length;o++)mU.forEach(a=>{let s=e[o],l=s.getAttribute(a),_=l?l.match(oIe):null;if(_){let f=n.get(s);f||(f=[],n.set(s,f)),f.push({name:a,value:_[1]});}});}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(vn(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${e}:${n}! ${o.message}`;this._errorHandler.handleError(new Error(a));});}}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(e,n){e&2&&(lt("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),be(n.color?"mat-"+n.color:""),vt("mat-icon-inline",n.inline)("mat-icon-no-color",n.color!=="primary"&&n.color!=="accent"&&n.color!=="warn"));},inputs:{color:"color",inline:[2,"inline","inline",gt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:eIe,decls:1,vars:0,template:function(e,n){e&1&&(xi(),Vt(0));},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0});}return i;})(),fU=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[qt,qt]});}return i;})();function sIe(i,r){if(i&1&&(u(0,"div",3),$(1,"div",4),p()),i&2){let t=d(2);c(),Ar("width",t.diameter)("height",t.diameter);}}function lIe(i,r){if(i&1&&$(0,"div",5),i&2){let t=d().ngIf,e=d();Ar("background",e.color)("height",e.height)("width",t+"%");}}function cIe(i,r){if(i&1&&(U(0),E(1,sIe,2,4,"div",1)(2,lIe,1,6,"div",2),W()),i&2){let t=d();c(),m("ngIf",t.includeSpinner),c(),m("ngIf",t.includeBar);}}var bk=class{constructor(r={}){this.config=r,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new xe(),this._value$=null,this.timer$=t=>{let e=ge(t);switch(t.action){case"start":case"increment":case"set":{t.action==="start"&&this.config.latencyThreshold===0&&t.value===0&&(t.value=t.initialValue),this.requests>0&&(e=wm(this.config.latencyThreshold,250).pipe(me(n=>rt(re({},t),{value:n===0?this.state.value||t.initialValue:this._increment()}))));break;}case"complete":case"stop":{e=t.value===0?ge(re({},t)):wm(0,500).pipe(vn(2),me(n=>({value:n===0?100:0})));break;}}return e.pipe(me(n=>rt(re({},n),{action:"set"})),rn(n=>this.next(n,!1)));},this.config=re({latencyThreshold:0},r);}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(nn(this.state),ot(r=>this.timer$(r)),er(),me(r=>r.value));}start(r=2){this.disabled||this.next({action:"start",initialValue:r});}stop(){this.next({action:"stop"});}complete(){this.next({action:"complete"});}disable(){this.disabled=!0;}set(r){this.next({action:"set",value:r});}increment(r=0){this.next({action:"increment",value:r});}next(r,t=!0){switch(r.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":r.value=this._increment(r.value);break;}this.state=re(rt(re({},this.state),{action:null}),r),t&&this.stream$.next(this.state);}_increment(r=0){let t=this.state.value;return t>=99&&(r=0),r===0&&(t>=0&&t<25?r=Math.random()*3+3:t>=25&&t<65?r=Math.random()*3:t>=65&&t<90?r=Math.random()*2:t>=90&&t<99?r=.5:r=0),r+t;}},dIe=new se("LOADING_BAR_CONFIG"),ti=(()=>{class i{constructor(t,e={},n){this.platformId=t,this.config=e,this.zone=n,this.refs={},this.streams$=new xe(),this.value$=this.streams$.pipe(nn(null),ot(()=>_s(Object.keys(this.refs).map(o=>this.refs[o].value$))),uIe(this.zone),me(o=>Math.max(0,...o)));}get progress$(){return this.value$;}start(t=2){this.useRef().start(t);}set(t){this.useRef().set(t);}increment(t){this.useRef().increment(t);}complete(){this.useRef().complete();}stop(){this.useRef().stop();}useRef(t="default"){return this.refs[t]||(this.refs[t]=new bk(this.config),this.streams$.next(),Ly(this.platformId)||this.refs[t].disable()),this.refs[t];}}return i.ɵfac=function(t){return new(t||i)(K(ol),K(dIe,8),K(We,8));},i.ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"}),i;})();function uIe(i){return i?r=>new ct(t=>r.subscribe(e=>i.run(()=>t.next(e)),e=>i.run(()=>t.error(e)),()=>i.run(()=>t.complete()))):r=>r;}var hU=(()=>{class i{constructor(t){this.loader=t,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d";}get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$;}}return i.ɵfac=function(t){return new(t||i)(k(ti));},i.ɵcmp=Z({type:i,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(t,e){t&2&&(lt("fixed",e.fixed),Ar("color",e.color));},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},standalone:!1,decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(t,e){t&1&&(E(0,cIe,3,2,"ng-container",0),$e(1,"async")),t&2&&m("ngIf",e.value!=null?e.value:ta(1,1,e.value$));},dependencies:[de,sR],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0px}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@-webkit-keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0}),i;})(),gU=(()=>{class i{}return i.ɵfac=function(t){return new(t||i)();},i.ɵmod=He({type:i}),i.ɵinj=Be({imports:[[Cc]]}),i;})();var ma=(()=>{let r=class r{constructor(e){this._elementRef=e,this.clickOutside=new ae();}onClick(e){let n,o=this._elementRef.nativeElement.contains(e);this.clickOutsideExceptionClass&&e.classList&&e.classList.length>0&&(Array.isArray(this.clickOutsideExceptionClass)?this.clickOutsideExceptionClass.forEach(a=>{n=n||e.classList.contains(a);}):n=e.classList.contains(this.clickOutsideExceptionClass)),!o&&!n&&this.clickOutside.emit(null);}};r.ɵfac=function(n){return new(n||r)(k(ze));},r.ɵdir=Le({type:r,selectors:[["","clickOutside",""]],hostBindings:function(n,o){n&1&&b("click",function(s){return o.onClick(s.target);},e_);},inputs:{clickOutsideExceptionClass:"clickOutsideExceptionClass"},outputs:{clickOutside:"clickOutside"},standalone:!1});let i=r;return i;})();var xn=(()=>{let r=class r{constructor(e,n){this.el=e,this.permisssionService=n;}ngOnInit(){let e=this.permisssionService.checkVisibility(this.permission);typeof e=="object"&&e.source?e.subscribe(n=>{n||this.el.nativeElement.parentNode.removeChild(this.el.nativeElement);},n=>{console.log("Error on checking directives",n);}):e||this.el.nativeElement.parentNode.removeChild(this.el.nativeElement);}};r.ɵfac=function(n){return new(n||r)(k(ze),k(In));},r.ɵdir=Le({type:r,selectors:[["","permission",""]],inputs:{permission:"permission"},standalone:!1});let i=r;return i;})();var pIe=i=>({extend:i}),mIe=i=>({selected:i}),_Ie=()=>({id:"menu-monitoring",param:"visible"}),fIe=()=>({id:"menu-study",param:"visible"}),hIe=()=>({id:"menu-configuration",param:"visible"}),gIe=(i,r)=>({fadeIn:i,fadeOut:r});function vIe(i,r){if(i&1){let t=O();u(0,"li",27),b("click",function(){let n=C(t).$implicit,o=d(3);return y(o.switchLanguage(n));}),$(1,"img",23),u(2,"span"),T(3),p()();}if(i&2){let t=r.$implicit;c(),m("src",X(t.flag),Ko),c(2),z(t.nativeName);}}function CIe(i,r){if(i&1&&(u(0,"ul",25),E(1,vIe,4,3,"li",26),p()),i&2){let t=d(2);c(),m("ngForOf",t.languageSwitcher.languageList);}}function yIe(i,r){if(i&1){let t=O();u(0,"div",21)(1,"div",22),b("click",function(){C(t);let n=d();return y(n.languageSwitcher.open=!n.languageSwitcher.open);}),$(2,"img",23),u(3,"span"),T(4),p()(),E(5,CIe,2,1,"ul",24),p();}if(i&2){let t=d();c(2),m("src",X(t.languageSwitcher.currentSelectedLanguage.flag),Ko),c(2),z(t.languageSwitcher.currentSelectedLanguage.nativeName),c(),m("ngIf",t.languageSwitcher.open);}}function bIe(i,r){if(i&1&&(u(0,"div",33),$(1,"i",34),T(2),p()),i&2){let t=d(2);c(2),ue(" ",t.user.user);}}function SIe(i,r){if(i&1&&(u(0,"li")(1,"a",36),P(2,1),p()()),i&2){let t=d(3);c(),m("href",ea("",t.authServerUrl,"/realms/",t.realm,"/account"),Ko);}}function EIe(i,r){if(i&1&&(u(0,"li")(1,"a",36),P(2,2),p()()),i&2){let t=d(3);c(),m("href",ea("",t.authServerUrl,"/admin/",t.realm,"/console"),Ko);}}function TIe(i,r){if(i&1){let t=O();u(0,"li",37)(1,"a",38),b("click",function(n){C(t);let o=d(3);return y(o.gotToWildflyConsole(n));}),P(2,3),p()();}}function IIe(i,r){if(i&1){let t=O();u(0,"li")(1,"a",39),b("click",function(n){C(t);let o=d(3);return n.preventDefault(),y(o.logout());}),P(2,4),p()();}}function xIe(i,r){if(i&1){let t=O();u(0,"ul"),E(1,SIe,3,3,"li",32)(2,EIe,3,3,"li",32)(3,TIe,3,0,"li",35)(4,IIe,3,0,"li",32),u(5,"li")(6,"a",27),b("click",function(n){C(t);let o=d(2);return n.preventDefault(),y(o.productLabelling());}),P(7,0),p()()();}if(i&2){let t=d(2);c(),m("ngIf",t.user&&t.user.user&&t.user.user!="anonymous"),c(),m("ngIf",t.hasViewRealm),c(),m("ngIf",t.hasAdministrator),c(),m("ngIf",t.user&&t.user.user&&t.user.user!="anonymous");}}function AIe(i,r){if(i&1){let t=O();u(0,"div",28),b("clickOutside",function(){C(t);let n=d();return y(n.showUserMenu=!1);}),u(1,"span",29),b("click",function(){C(t);let n=d();return y(n.showUserMenu=!n.showUserMenu);}),E(2,bIe,3,1,"div",30),$(3,"i",31),p(),E(4,xIe,8,4,"ul",32),p();}if(i&2){let t=d();c(2),m("ngIf",t.user&&t.user.user&&t.user.user!="anonymous"),c(2),m("ngIf",t.showUserMenu);}}function wIe(i,r){if(i&1){let t=O();u(0,"div",40),b("click",function(){C(t);let n=d();return y(n.mainservice.dcm4cheeArcConfig.open=!1);}),p();}}function DIe(i,r){if(i&1){let t=O();u(0,"li",49),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.switchBaseUrl(n));}),T(1),p();}if(i&2){let t=r.$implicit,e=d(4);m("title",X(t))("ngClass",ne(4,mIe,e.mainservice.dcm4cheeArcConfig.deviceNameUrlMap[t]===e.myDeviceName)),c(),ue(" ",e.mainservice.dcm4cheeArcConfig.deviceNameUrlMap[t]," ");}}function MIe(i,r){if(i&1&&(u(0,"ul",46)(1,"li",47),T(2),p(),E(3,DIe,2,6,"li",48),p()),i&2){let t=d(3);c(),m("title",X(t.changeDeviceText.title)),c(),ue("",t.changeDeviceText.label,":"),c(),m("ngForOf",t._.get(t.mainservice,"dcm4cheeArcConfig.dcm4chee-arc-urls"));}}function OIe(i,r){if(i&1){let t=O();u(0,"div",43)(1,"i",44),b("click",function(){C(t);let n=d(2);return y(n.mainservice.dcm4cheeArcConfig.open=!n.mainservice.dcm4cheeArcConfig.open);}),p(),E(2,MIe,4,4,"ul",45),p();}if(i&2){let t=d(2);c(2),m("ngIf",t.j4care.is(t.mainservice,"dcm4cheeArcConfig.open"));}}function PIe(i,r){if(i&1&&(U(0),u(1,"div",50),Jo(2,8),T(3),p(),u(4,"div",51),T(5),p(),W()),i&2){let t=d(2);c(),Kr(t.j4care.fullDateToString(t.currentServerTime)),lo(2),c(2),hc("",t.currentServerTime.getHours()<10?"0"+t.currentServerTime.getHours():t.currentServerTime.getHours(),":",t.currentServerTime.getMinutes()<10?"0"+t.currentServerTime.getMinutes():t.currentServerTime.getMinutes(),":",t.currentServerTime.getSeconds()<10?"0"+t.currentServerTime.getSeconds():t.currentServerTime.getSeconds()),c(2),z(t.mainservice.archiveDeviceName||t.myDeviceName);}}function RIe(i,r){if(i&1&&(U(0),u(1,"div",51),T(2),p(),W()),i&2){let t=d(2);c(2),z(t.mainservice.archiveDeviceName||t.myDeviceName);}}function NIe(i,r){if(i&1){let t=O();u(0,"div",41),b("mouseenter",function(){C(t);let n=d();return y(n.clockUnExtended=!0);})("mouseleave",function(){C(t);let n=d();return y(n.hideExtendedClock());}),E(1,OIe,3,1,"div",42)(2,PIe,6,5,"ng-container",32)(3,RIe,3,1,"ng-container",32),p();}if(i&2){let t=d();m("ngClass",ne(4,pIe,!t.clockUnExtended&&!t.dcmuiHideClock)),c(),m("ngIf",t.j4care.is(t.mainservice,"dcm4cheeArcConfig.hasMoreThanOneBaseUrl")),c(),m("ngIf",t.currentServerTime&&!t.dcmuiHideClock),c(),m("ngIf",t.dcmuiHideClock);}}function kIe(i,r){if(i&1){let t=O();u(0,"div",52),b("click",function(){C(t);let n=d();return y(n.showMenu=!0);}),u(1,"mat-icon",53),T(2,"reorder"),p()();}}function $Ie(i,r){if(i&1){let t=O();u(0,"ul",54),b("clickOutside",function(){C(t);let n=d();return y(n.closeFromOutside());}),u(1,"div",55),b("click",function(){C(t);let n=d();return y(n.showMenu=!1);}),p(),u(2,"li",56),b("click",function(){C(t);let n=d();return y(n.showMenu=!1);}),u(3,"a",57),P(4,5),p()(),u(5,"li",56),b("click",function(){C(t);let n=d();return y(n.showMenu=!1);}),u(6,"a",58),P(7,6),p()(),u(8,"li",56),b("click",function(){C(t);let n=d();return y(n.showMenu=!1);}),u(9,"a",59),P(10,7),p()()();}i&2&&(m("clickOutsideExceptionClass","menu_button"),c(2),m("permission",Ke(4,_Ie)),c(3),m("permission",Ke(5,fIe)),c(3),m("permission",Ke(6,hIe)));}function LIe(i,r){if(i&1){let t=O();u(0,"div",60),b("click",function(){C(t);let n=d();return y(n.scrollUp());}),p();}if(i&2){let t=d();m("ngClass",yn(1,gIe,t.showScrollButton,!t.showScrollButton));}}var bv=new Worker(new URL("worker-G4HVMSUA.js",import.meta.url),{type:"module",name:"server-time"}),pA=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f,g,S){this.viewContainerRef=e,this.dialog=n,this.mainservice=o,this.appRequests=a,this.permissionService=s,this.keycloakHttpClient=l,this._keycloakService=_,this.keycloakHelperService=f,this.httpErrorHandler=g,this.title=S,this.progressValue=30,this.user={},this.showUserMenu=!1,this.url="/auth",this.logoutUrl="",this.hasAdministrator=!1,this.hasViewRealm=!1,this.showMenu=!1,this.showScrollButton=!1,this.j4care=I,this.clockUnExtended=!0,this.myDeviceName="",this.sidenavopen=!1,this.superUser=!1,this._=ye,this.changeDeviceText={label:"Available devices",title:"Here you can change the archive device to which the calls are made"},this.dcmuiHideClock=!1,this.dcmuiHideOtherPatientIDs=!1,this.testurl="",console.log("in app.component construct",window);}ngOnInit(){console.warn("oniinit in app.component"),I.hasSet(Pe,"keycloakAuth.token")?(this.mainservice.updateGlobal("notSecure",!1),this.init()):this._keycloakService.init(we.KEYCLOAK_OPTIONS()).subscribe(e=>{this.init();},e=>{this.init();});}switchBaseUrl(e){try{e&&(A(this.mainservice,"dcm4cheeArcConfig.deviceNameUrlMap")&&this.mainservice.dcm4cheeArcConfig.deviceNameUrlMap[e]&&this.mainservice.dcm4cheeArcConfig.deviceNameUrlMap[e]!=="NOT_FOUND"&&(this.mainservice.baseUrl=e,this.mainservice.archiveDeviceName=this.mainservice.dcm4cheeArcConfig.deviceNameUrlMap[e]),this.mainservice.dcm4cheeArcConfig.open=!1);}catch(n){console.error(n);}}initLanguage(){let e=localStorage.getItem("languageConfig");e&&(this.languageSwitcher=new Cv(JSON.parse(e))),this.mainservice.globalSet$.subscribe(n=>{A(n,"uiConfig")&&(console.warn("initlanguage in app.component after uiConfig"),A(n,"uiConfig.dcmuiInstitutionNameFilterType")&&!this.dcmuiInstitutionNameFilterType&&(this.dcmuiInstitutionNameFilterType=B(n,"uiConfig.dcmuiInstitutionNameFilterType"),n.dcmuiInstitutionNameFilterType=this.dcmuiInstitutionNameFilterType,this.mainservice.setGlobal(n)),A(n,"uiConfig.dcmuiInstitutionName")&&!this.dcmuiInstitutionName&&(this.dcmuiInstitutionName=B(n,"uiConfig.dcmuiInstitutionName"),n.dcmuiInstitutionName=this.dcmuiInstitutionName,this.mainservice.setGlobal(n)),A(n,"uiConfig.dcmuiLanguageConfig[0]")&&(Bo(e,B(n,"uiConfig.dcmuiLanguageConfig[0]"))||(e=B(n,"uiConfig.dcmuiLanguageConfig[0]"),localStorage.setItem("languageConfig",JSON.stringify(e)),e&&(this.languageSwitcher=new Cv(e)))),A(n,"uiConfig.dcmuiDateTimeFormat")&&!this.dateTimeFormat&&(this.dateTimeFormat=I.extractDateTimeFormat(B(n,"uiConfig.dcmuiDateTimeFormat")),n.dateTimeFormat=this.dateTimeFormat,console.log("Global Date Time Format:",this.dateTimeFormat),this.mainservice.setGlobal(n)),A(n,"uiConfig.dcmuiPersonNameFormat")&&!this.personNameFormat&&(this.personNameFormat=B(n,"uiConfig.dcmuiPersonNameFormat"),n.personNameFormat=this.personNameFormat,console.log("Global Patient Name Format:",this.personNameFormat),this.mainservice.setGlobal(n)),A(n,"uiConfig.dcmuiHideClock")&&!this.dcmuiHideClock&&(this.dcmuiHideClock=B(n,"uiConfig.dcmuiHideClock"),n.dcmuiHideClock=this.dcmuiHideClock,this.mainservice.setGlobal(n)),A(n,"uiConfig.dcmuiHideOtherPatientIDs")&&!this.dcmuiHideOtherPatientIDs&&(this.dcmuiHideOtherPatientIDs=B(n,"uiConfig.dcmuiHideOtherPatientIDs"),n.dcmuiHideOtherPatientIDs=this.dcmuiHideOtherPatientIDs,this.mainservice.setGlobal(n)),A(n,"uiConfig.dcmuiPageTitle")&&!this.dcmuiPageTitle&&(this.dcmuiPageTitle=B(n,"uiConfig.dcmuiPageTitle"),n.dcmuiPageTitle=this.dcmuiPageTitle,this.dcmuiPageTitle&&this.dcmuiPageTitle!==""&&this.title.setTitle(this.dcmuiPageTitle),this.mainservice.setGlobal(n)));});}getActiveLanguageCodeFromURL(){try{let e=location.pathname,o=/dcm4chee-arc\/ui2\/(\w*)\//.exec(e);if(o!==null)return o[1];}catch{return"en";}}init(){this.setUserInformation(()=>{this.initLanguage();}),Date.prototype.toDateString=function(){return`${this.getFullYear()}${I.getSingleDateTimeValueFromInt(this.getMonth()+1)}${I.getSingleDateTimeValueFromInt(this.getDate())}${I.getSingleDateTimeValueFromInt(this.getHours())}${I.getSingleDateTimeValueFromInt(this.getMinutes())}${I.getSingleDateTimeValueFromInt(this.getSeconds())}`;},this.initGetDevicename(2),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?this.startTime():bv&&bv.postMessage({serverTime:this.currentServerTime,idle:document.hidden});});}startTime(){typeof Worker<"u"?(bv.onmessage=({data:e})=>{try{this.currentServerTime=new Date(e.serverTime),this.mainservice.serverTime=this.currentServerTime,e.refresh&&this.refreshTime(bv);}catch(n){I.log("Error on setting time coming  from worker",n);}},this.refreshTime(bv)):console.log("worker not available");}refreshTime(e){let n=new Date().getTime();this.appRequests.getServerTime().subscribe(o=>{if(A(o,"serverTimeWithTimezone")&&o.serverTimeWithTimezone){let a=I.splitTimeAndTimezone(o.serverTimeWithTimezone);this.timeZone=a.timeZone,this.mainservice.timeZone=this.timeZone,e.postMessage({serverTime:new Date(a.time).getTime()+(new Date().getTime()-n)/2,idle:document.hidden}),this.hideExtendedClock();}});}switchLanguage(e){let n=function(){localStorage.setItem("current_language",e.code),window.location.replace(window.location.origin+window.location.pathname.replace(/\/ui2\/\w{2}/,`/ui2/${e.code}`));};this.mainservice.global.notSecure?n():this.keycloakHelperService.changeLanguageToUserProfile(e.code).subscribe(o=>{n();},o=>{n(),console.error("Error on switching language",o);});}testUser(){Pe.keycloakAuth.loadUserInfo().success(e=>{console.log("in test success",e),this._keycloakService.setUserInfo({userProfile:e,tokenParsed:Pe.keycloakAuth.tokenParsed,authServerUrl:Pe.keycloakAuth.authServerUrl,realm:Pe.keycloakAuth.realm});});}setServerTime(e){let n=new Date().getTime();this.appRequests.getServerTime().subscribe(o=>{if(A(o,"serverTimeWithTimezone")&&o.serverTimeWithTimezone){console.log("server clock res",o);let a=I.splitTimeAndTimezone(o.serverTimeWithTimezone);this.timeZone=a.timeZone,this.mainservice.timeZone=a.timeZone,this.mainservice.serverTimeWithTimezone=o.serverTimeWithTimezone,this.startClock(new Date(a.time).getTime()+(new Date().getTime()-n)/2);}e&&e.apply(this);});}setUserInformation(e){if(this.mainservice.global&&this.mainservice.global.notSecure)this.user=null,this.realm=null,this.superUser=!0,this.authServerUrl=null,e.apply(this);else try{this.mainservice.getUser().subscribe(n=>{this.user=n,this.realm=n.realm,this.superUser=n.su,this.authServerUrl=n.authServerUrl,this.hasAdministrator=A(n,"tokenParsed.realm_access.roles")&&n.tokenParsed.realm_access.roles.indexOf("ADMINISTRATOR")>-1,this.hasViewRealm=A(n,"tokenParsed.resource_access[realm-management].roles")&&n.tokenParsed.resource_access["realm-management"].roles.indexOf("view-realm")>-1,e.apply(this);},n=>{e.apply(this);});}catch(n){I.log("User information couldn't be set",n),e.apply(this);}}logout(){Pe.keycloakAuth.logout();}gotToWildflyConsole(e){try{let n,o;this.mainservice["management-url"]?n=this.mainservice["management-url"]:(this.mainservice["management-https-port"]&&this.mainservice["management-http-port"]?window.location.protocol.toLowerCase()==="https:"?o=this.mainservice["management-https-port"]:o=this.mainservice["management-http-port"]:o=this.mainservice["management-https-port"]||this.mainservice["management-http-port"]||"9990",n=`//${this.mainservice["management-host"]||window.location.hostname}:${o}/console`),e.preventDefault(),window.open(n,"_blank");}catch{window.open(`//${window.location.hostname}:9990/console`,"_blank");}}closeFromOutside(){this.showMenu&&(this.showMenu=!1);}startClock(e){this.currentServerTime=new Date(e),this.mainservice.serverTime=this.currentServerTime,clearInterval(this.clockInterval),this.clockInterval=setInterval(()=>{this.currentServerTime.setMilliseconds(this.currentServerTime.getMilliseconds()+1e3),this.mainservice.serverTime=this.currentServerTime;},1e3),this.hideExtendedClock();}hideExtendedClock(){setTimeout(()=>{this.clockUnExtended=!1;},2e3);}synchronizeClock(e){clearInterval(this.clockInterval),this.startClock(e);}progress(){let e=function(n){this.progressValue=n;};return{getValue:this.progressValue,setValue:n=>{this.progressValue=n;}};}onScroll(e){window.pageYOffset>150&&!this.showScrollButton&&(this.showScrollButton=!0),window.pageYOffset<149&&this.showScrollButton&&(this.showScrollButton=!1);}scrollUp(){window.scrollTo({top:0,left:0,behavior:"smooth"});}createPatient(){this.mainservice.createPatient({});}onClick(){this.mainservice.testUrl(this.testurl);}productLabelling(){this.dialogRef=this.dialog.open(sA,{height:"auto",width:"auto"}),this.dialogRef.componentInstance.archive=this.archive,this.dialogRef.afterClosed().subscribe(e=>{e&&console.log("in res");});}initGetDevicename(e){let n=this;this.appRequests.getDeviceName().subscribe(o=>{this.initGetPDQServices(),this.startTime(),this.dcm4cheeArch=o,n.mainservice.xRoad=o.xRoad||!1,o["management-url"]?n.mainservice["management-url"]=o["management-url"]:(n.mainservice["management-https-port"]=o["management-https-port"]||9990,n.mainservice["management-http-port"]=o["management-http-port"]||9990,n.mainservice["management-host"]=o["management-host"]||window.location.hostname),this.appRequests.getDeviceInfo(o.dicomDeviceName).subscribe(a=>{n.mainservice.archiveDevice=a[0],n.archive=a[0];try{this.myDeviceName=a[0].dicomDeviceName;}catch{}},a=>{e&&n.initGetDevicename(e-1);});},o=>{console.log("---------err",o),e&&n.initGetDevicename(e-1);});}initGetPDQServices(){this.appRequests.getPDQServices().subscribe(e=>{this.mainservice.updateGlobal("PDQs",e);});}};r.ɵfac=function(n){return new(n||r)(k(Mt),k(ri),k(le),k(lh),k(In),k(cA),k(Pe),k(sU),k(Pt),k(d_));},r.ɵcmp=Z({type:r,selectors:[["app-root"]],viewQuery:function(n,o){if(n&1&&Et(bu,7),n&2){let a;qe(a=Ye())&&(o.msg=a.first);}},hostBindings:function(n,o){n&1&&b("scroll",function(s){return o.onScroll(s);},Qo);},standalone:!1,decls:14,vars:8,consts:()=>{let e;e="About";let n;n="Go to Wildfly Administration Console";let o;o="About";let a;a="Edit Account";let s;s="Admin Realm";let l;l="Wildfly Console";let _;_="Logout";let f;f="Server time: "+"\uFFFD0\uFFFD"+"";let g;g="Monitoring";let S;S="Navigation";let x;return x="Configuration",[o,a,s,l,_,g,S,x,["title",f],[3,"color"],["class","language_switcher",4,"ngIf"],[1,"config_menu"],["class","user",3,"clickOutside",4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],["class","clock",3,"ngClass","mouseenter","mouseleave",4,"ngIf"],[1,"background"],["class","toggle-button out",3,"click",4,"ngIf"],["id","mainmenu","class","nav slideInLeft animated",3,"clickOutsideExceptionClass","clickOutside",4,"ngIf"],["title",e,1,"logo",3,"click"],["class","scroll_up glyphicon glyphicon-menu-up animated",3,"ngClass","click",4,"ngIf"],["rel","stylesheet","href",XO`/resources/css/style.css`],[1,"language_switcher"],[1,"default_block",3,"click"],["alt","",3,"src"],["class","languages",4,"ngIf"],[1,"languages"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"user",3,"clickOutside"],["id","usermenu",3,"click"],["class","username",4,"ngIf"],[1,"config","glyphicon","glyphicon-cog"],[4,"ngIf"],[1,"username"],[1,"glyphicon","glyphicon-user"],["title",n,4,"ngIf"],["target","_blank",3,"href"],["title",n],["target","_blank",3,"click"],["href","",3,"click"],[1,"overlay",3,"click"],[1,"clock",3,"mouseenter","mouseleave","ngClass"],["class","base_url_switcher",4,"ngIf"],[1,"base_url_switcher"],[1,"config","glyphicon","glyphicon-cog",3,"click"],["class","base_url_dropdown",4,"ngIf"],[1,"base_url_dropdown"],[1,"header",3,"title"],[3,"title","ngClass","click",4,"ngFor","ngForOf"],[3,"click","title","ngClass"],[1,"time",6,"title"],[1,"text"],[1,"toggle-button","out",3,"click"],[1,"menu_button"],["id","mainmenu",1,"nav","slideInLeft","animated",3,"clickOutside","clickOutsideExceptionClass"],[1,"glyphicon","glyphicon-align-justify","toggle-button",3,"click"],[3,"click","permission"],["routerLink","monitoring/associations","routerLinkActive","active"],["routerLink","study/study","routerLinkActive","active"],["routerLink","device/devicelist","routerLinkActive","active"],[1,"scroll_up","glyphicon","glyphicon-menu-up","animated",3,"click","ngClass"]];},template:function(n,o){n&1&&($(0,"ngx-loading-bar",9)(1,"app-messaging"),E(2,yIe,6,4,"div",10),u(3,"div",11),E(4,AIe,5,2,"div",12),p(),E(5,wIe,1,0,"div",13)(6,NIe,4,6,"div",14),$(7,"div",15),E(8,kIe,3,0,"div",16)(9,$Ie,11,7,"ul",17),u(10,"div",18),b("click",function(){return o.productLabelling();}),p(),$(11,"router-outlet"),E(12,LIe,1,4,"div",19),$(13,"link",20)),n&2&&(m("color","#2d404f"),c(2),m("ngIf",o.languageSwitcher&&o.languageSwitcher.currentSelectedLanguage),c(2),m("ngIf",o.user&&o.user.user&&o.user.user!="anonymous"),c(),m("ngIf",o.dcm4cheeArch&&o.dcm4cheeArch.open),c(),m("ngIf",o.currentServerTime||o.j4care.is(o.mainservice,"dcm4cheeArcConfig.hasMoreThanOneBaseUrl")),c(2),m("ngIf",!o.showMenu),c(),m("ngIf",o.showMenu),c(3),m("ngIf",o.showScrollButton));},dependencies:[Je,ve,de,_U,hU,z0,Mr,Tc,bu,ma,xn],encapsulation:2});let i=r;return i;})();var VIe=["mat-internal-form-field",""],zIe=["*"],mA=(()=>{class i{labelPosition;static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(e,n){e&2&&vt("mdc-form-field--align-end",n.labelPosition==="before");},inputs:{labelPosition:"labelPosition"},attrs:VIe,ngContentSelectors:zIe,decls:1,vars:0,template:function(e,n){e&1&&(xi(),Vt(0));},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0});}return i;})();var _A=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(r,t,e,n,o){this._defaultMatcher=r,this.ngControl=t,this._parentFormGroup=e,this._parentForm=n,this._stateChanges=o;}updateErrorState(){let r=this.errorState,t=this._parentFormGroup||this._parentForm,e=this.matcher||this._defaultMatcher,n=this.ngControl?this.ngControl.control:null,o=e?.isErrorState(n,t)??!1;o!==r&&(this.errorState=o,this._stateChanges.next());}};var Up=new se("MAT_DATE_LOCALE",{providedIn:"root",factory:GIe});function GIe(){return N(sl);}var ch="Method not implemented",Gr=class{locale;_localeChanges=new xe();localeChanges=this._localeChanges;setTime(r,t,e,n){throw new Error(ch);}getHours(r){throw new Error(ch);}getMinutes(r){throw new Error(ch);}getSeconds(r){throw new Error(ch);}parseTime(r,t){throw new Error(ch);}addSeconds(r,t){throw new Error(ch);}getValidDateOrNull(r){return this.isDateInstance(r)&&this.isValid(r)?r:null;}deserialize(r){return r==null||this.isDateInstance(r)&&this.isValid(r)?r:this.invalid();}setLocale(r){this.locale=r,this._localeChanges.next();}compareDate(r,t){return this.getYear(r)-this.getYear(t)||this.getMonth(r)-this.getMonth(t)||this.getDate(r)-this.getDate(t);}compareTime(r,t){return this.getHours(r)-this.getHours(t)||this.getMinutes(r)-this.getMinutes(t)||this.getSeconds(r)-this.getSeconds(t);}sameDate(r,t){if(r&&t){let e=this.isValid(r),n=this.isValid(t);return e&&n?!this.compareDate(r,t):e==n;}return r==t;}sameTime(r,t){if(r&&t){let e=this.isValid(r),n=this.isValid(t);return e&&n?!this.compareTime(r,t):e==n;}return r==t;}clampDate(r,t,e){return t&&this.compareDate(r,t)<0?t:e&&this.compareDate(r,e)>0?e:r;}},wl=new se("mat-date-formats");var vU=(()=>{class i{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted));}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var es=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["structural-styles"]],decls:0,vars:0,template:function(e,n){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0});}return i;})();var ts=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i;}(ts||{}),Sk=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=ts.HIDDEN;constructor(r,t,e,n=!1){this._renderer=r,this.element=t,this.config=e,this._animationForciblyDisabledThroughCss=n;}fadeOut(){this._renderer.fadeOutRipple(this);}},CU=O_({passive:!0,capture:!0}),Ek=class{_events=new Map();addHandler(r,t,e,n){let o=this._events.get(t);if(o){let a=o.get(e);a?a.add(n):o.set(e,new Set([n]));}else this._events.set(t,new Map([[e,new Set([n])]])),r.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,CU);});}removeHandler(r,t,e){let n=this._events.get(r);if(!n)return;let o=n.get(t);o&&(o.delete(e),o.size===0&&n.delete(t),n.size===0&&(this._events.delete(r),document.removeEventListener(r,this._delegateEventHandler,CU)));}_delegateEventHandler=r=>{let t=zo(r);t&&this._events.get(r.type)?.forEach((e,n)=>{(n===t||n.contains(t))&&e.forEach(o=>o.handleEvent(r));});};},Sv={enterDuration:225,exitDuration:150},jIe=800,yU=O_({passive:!0,capture:!0}),bU=["mousedown","touchstart"],SU=["mouseup","mouseleave","touchend","touchcancel"],UIe=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(e,n){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0});}return i;})(),Ev=class i{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map();_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Ek();constructor(r,t,e,n,o){this._target=r,this._ngZone=t,this._platform=n,n.isBrowser&&(this._containerElement=fl(e)),o&&o.get(Mn).load(UIe);}fadeInRipple(r,t,e={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=re(re({},Sv),e.animation);e.centered&&(r=n.left+n.width/2,t=n.top+n.height/2);let a=e.radius||WIe(r,t,n),s=r-n.left,l=t-n.top,_=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${s-a}px`,f.style.top=`${l-a}px`,f.style.height=`${a*2}px`,f.style.width=`${a*2}px`,e.color!=null&&(f.style.backgroundColor=e.color),f.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(f);let g=window.getComputedStyle(f),S=g.transitionProperty,x=g.transitionDuration,D=S==="none"||x==="0s"||x==="0s, 0s"||n.width===0&&n.height===0,R=new Sk(this,f,e,D);f.style.transform="scale3d(1, 1, 1)",R.state=ts.FADING_IN,e.persistent||(this._mostRecentTransientRipple=R);let j=null;return!D&&(_||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let V=()=>{j&&(j.fallbackTimer=null),clearTimeout(_e),this._finishRippleTransition(R);},ie=()=>this._destroyRipple(R),_e=setTimeout(ie,_+100);f.addEventListener("transitionend",V),f.addEventListener("transitioncancel",ie),j={onTransitionEnd:V,onTransitionCancel:ie,fallbackTimer:_e};}),this._activeRipples.set(R,j),(D||!_)&&this._finishRippleTransition(R),R;}fadeOutRipple(r){if(r.state===ts.FADING_OUT||r.state===ts.HIDDEN)return;let t=r.element,e=re(re({},Sv),r.config.animation);t.style.transitionDuration=`${e.exitDuration}ms`,t.style.opacity="0",r.state=ts.FADING_OUT,(r._animationForciblyDisabledThroughCss||!e.exitDuration)&&this._finishRippleTransition(r);}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut());}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut();});}setupTriggerEvents(r){let t=fl(r);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,bU.forEach(e=>{i._eventManager.addHandler(this._ngZone,e,t,this);}));}handleEvent(r){r.type==="mousedown"?this._onMousedown(r):r.type==="touchstart"?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{SU.forEach(t=>{this._triggerElement.addEventListener(t,this,yU);});}),this._pointerUpEventsRegistered=!0);}_finishRippleTransition(r){r.state===ts.FADING_IN?this._startFadeOutTransition(r):r.state===ts.FADING_OUT&&this._destroyRipple(r);}_startFadeOutTransition(r){let t=r===this._mostRecentTransientRipple,{persistent:e}=r.config;r.state=ts.VISIBLE,!e&&(!t||!this._isPointerDown)&&r.fadeOut();}_destroyRipple(r){let t=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=ts.HIDDEN,t!==null&&(r.element.removeEventListener("transitionend",t.onTransitionEnd),r.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),r.element.remove();}_onMousedown(r){let t=wp(r),e=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+jIe;!this._target.rippleDisabled&&!t&&!e&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig));}_onTouchStart(r){if(!this._target.rippleDisabled&&!Dp(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=r.changedTouches;if(t)for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig);}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{let t=r.state===ts.VISIBLE||r.config.terminateOnPointerUp&&r.state===ts.FADING_IN;!r.config.persistent&&t&&r.fadeOut();}));}_getActiveRipples(){return Array.from(this._activeRipples.keys());}_removeTriggerEvents(){let r=this._triggerElement;r&&(bU.forEach(t=>i._eventManager.removeHandler(t,r,this)),this._pointerUpEventsRegistered&&(SU.forEach(t=>r.removeEventListener(t,this,yU)),this._pointerUpEventsRegistered=!1));}};function WIe(i,r,t){let e=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),n=Math.max(Math.abs(r-t.top),Math.abs(r-t.bottom));return Math.sqrt(e*e+n*n);}var Tk=new se("mat-ripple-global-options"),Su=(()=>{class i{_elementRef=N(ze);_animationsDisabled=qi();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled;}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled();}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement;}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled();}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=N(We),e=N(Zi),n=N(Tk,{optional:!0}),o=N(tt);this._globalOptions=n||{},this._rippleRenderer=new Ev(this,t,this._elementRef,e,o);}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled();}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents();}fadeOutAll(){this._rippleRenderer.fadeOutAll();}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent();}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:re(re(re({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp};}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled;}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger);}launch(t,e=0,n){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,e,re(re({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,re(re({},this.rippleConfig),t));}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,n){e&2&&vt("mat-ripple-unbounded",n.unbounded);},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]});}return i;})();var EU=(()=>{class i{_animationsDisabled=qi();state="unchecked";disabled=!1;appearance="full";constructor(){}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,n){e&2&&vt("mat-pseudo-checkbox-indeterminate",n.state==="indeterminate")("mat-pseudo-checkbox-checked",n.state==="checked")("mat-pseudo-checkbox-disabled",n.disabled)("mat-pseudo-checkbox-minimal",n.appearance==="minimal")("mat-pseudo-checkbox-full",n.appearance==="full")("_mat-animation-noopable",n._animationsDisabled);},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,n){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0});}return i;})();var BIe=["text"],HIe=[[["mat-icon"]],"*"],qIe=["mat-icon","*"];function YIe(i,r){if(i&1&&$(0,"mat-pseudo-checkbox",1),i&2){let t=d();m("disabled",t.disabled)("state",t.selected?"checked":"unchecked");}}function XIe(i,r){if(i&1&&$(0,"mat-pseudo-checkbox",3),i&2){let t=d();m("disabled",t.disabled);}}function KIe(i,r){if(i&1&&(u(0,"span",4),T(1),p()),i&2){let t=d();c(),ue("(",t.group.label,")");}}var xk=new se("MAT_OPTION_PARENT_COMPONENT"),Ak=new se("MatOptgroup");var Ik=class{source;isUserInput;constructor(r,t=!1){this.source=r,this.isUserInput=t;}},ii=(()=>{class i{_element=N(ze);_changeDetectorRef=N($t);_parent=N(xk,{optional:!0});group=N(Ak,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple;}get selected(){return this._selected;}value;id=N(bn).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled();}set disabled(t){this._disabled.set(t);}_disabled=$i(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple;}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator);}onSelectionChange=new ae();_text;_stateChanges=new xe();constructor(){let t=N(Mn);t.load(es),t.load(Od),this._signalDisableRipple=!!this._parent&&dd(this._parent.disableRipple);}get active(){return this._active;}get viewValue(){return(this._text?.nativeElement.textContent||"").trim();}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent());}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent());}focus(t,e){let n=this._getHostElement();typeof n.focus=="function"&&n.focus(e);}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck());}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck());}getLabel(){return this.viewValue;}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!Or(t)&&(this._selectViaInteraction(),t.preventDefault());}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0));}_getTabIndex(){return this.disabled?"-1":"0";}_getHostElement(){return this._element.nativeElement;}ngAfterViewChecked(){if(this._selected){let t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t);}}ngOnDestroy(){this._stateChanges.complete();}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Ik(this,t));}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-option"]],viewQuery:function(e,n){if(e&1&&Et(BIe,7),e&2){let o;qe(o=Ye())&&(n._text=o.first);}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,n){e&1&&b("click",function(){return n._selectViaInteraction();})("keydown",function(a){return n._handleKeydown(a);}),e&2&&(ja("id",n.id),lt("aria-selected",n.selected)("aria-disabled",n.disabled.toString()),vt("mdc-list-item--selected",n.selected)("mat-mdc-option-multiple",n.multiple)("mat-mdc-option-active",n.active)("mdc-list-item--disabled",n.disabled));},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",gt]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:qIe,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,n){e&1&&(xi(HIe),Ti(0,YIe,1,2,"mat-pseudo-checkbox",1),Vt(1),u(2,"span",2,0),Vt(4,1),p(),Ti(5,XIe,1,1,"mat-pseudo-checkbox",3),Ti(6,KIe,2,1,"span",4),$(7,"div",5)),e&2&&(Ii(n.multiple?0:-1),c(5),Ii(!n.multiple&&n.selected&&!n.hideSingleSelectionIndicator?5:-1),c(),Ii(n.group&&n.group._inert?6:-1),c(),m("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple));},dependencies:[EU,Su],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0});}return i;})();function TU(i,r,t){if(t.length){let e=r.toArray(),n=t.toArray(),o=0;for(let a=0;a<i+1;a++)e[a].group&&e[a].group===n[o]&&o++;return o;}return 0;}function IU(i,r,t,e){return i<t?i:i+r>t+e?Math.max(0,i-e+r):t;}var Eu=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[qt,qt]});}return i;})();var xU=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[qt]});}return i;})();var wk=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[Eu,qt,xU,ii]});}return i;})();var QIe={capture:!0},ZIe=["focus","mousedown","mouseenter","touchstart"],Dk="mat-ripple-loader-uninitialized",Mk="mat-ripple-loader-class-name",AU="mat-ripple-loader-centered",fA="mat-ripple-loader-disabled",wU=(()=>{class i{_document=N(bt);_animationsDisabled=qi();_globalRippleOptions=N(Tk,{optional:!0});_platform=N(Zi);_ngZone=N(We);_injector=N(tt);_eventCleanups;_hosts=new Map();constructor(){let t=N(tr).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>ZIe.map(e=>t.listen(this._document,e,this._onInteraction,QIe)));}ngOnDestroy(){let t=this._hosts.keys();for(let e of t)this.destroyRipple(e);this._eventCleanups.forEach(e=>e());}configureRipple(t,e){t.setAttribute(Dk,this._globalRippleOptions?.namespace??""),(e.className||!t.hasAttribute(Mk))&&t.setAttribute(Mk,e.className||""),e.centered&&t.setAttribute(AU,""),e.disabled&&t.setAttribute(fA,"");}setDisabled(t,e){let n=this._hosts.get(t);n?(n.target.rippleDisabled=e,!e&&!n.hasSetUpEvents&&(n.hasSetUpEvents=!0,n.renderer.setupTriggerEvents(t))):e?t.setAttribute(fA,""):t.removeAttribute(fA);}_onInteraction=t=>{let e=zo(t);if(e instanceof HTMLElement){let n=e.closest(`[${Dk}="${this._globalRippleOptions?.namespace??""}"]`);n&&this._createRipple(n);}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let e=this._document.createElement("span");e.classList.add("mat-ripple",t.getAttribute(Mk)),t.append(e);let n=this._globalRippleOptions,o=this._animationsDisabled?0:n?.animation?.enterDuration??Sv.enterDuration,a=this._animationsDisabled?0:n?.animation?.exitDuration??Sv.exitDuration,s={rippleDisabled:this._animationsDisabled||n?.disabled||t.hasAttribute(fA),rippleConfig:{centered:t.hasAttribute(AU),terminateOnPointerUp:n?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:a}}},l=new Ev(s,this._ngZone,e,this._platform,this._injector),_=!s.rippleDisabled;_&&l.setupTriggerEvents(t),this._hosts.set(t,{target:s,renderer:l,hasSetUpEvents:_}),t.removeAttribute(Dk);}destroyRipple(t){let e=this._hosts.get(t);e&&(e.renderer._removeTriggerEvents(),this._hosts.delete(t));}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var JIe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,exe=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function Ok(i,r){let t=Array(i);for(let e=0;e<i;e++)t[e]=r(e);return t;}var txe=(()=>{class i extends Gr{useUtcForDisplay=!1;_matDateLocale=N(Up,{optional:!0});constructor(){super();let t=N(Up,{optional:!0});t!==void 0&&(this._matDateLocale=t),super.setLocale(this._matDateLocale);}getYear(t){return t.getFullYear();}getMonth(t){return t.getMonth();}getDate(t){return t.getDate();}getDayOfWeek(t){return t.getDay();}getMonthNames(t){let e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return Ok(12,n=>this._format(e,new Date(2017,n,1)));}getDateNames(){let t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ok(31,e=>this._format(t,new Date(2017,0,e+1)));}getDayOfWeekNames(t){let e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return Ok(7,n=>this._format(e,new Date(2017,0,n+1)));}getYearName(t){let e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(e,t);}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let t=new Intl.Locale(this.locale),e=(t.getWeekInfo?.()||t.weekInfo)?.firstDay??0;return e===7?0:e;}return 0;}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0));}clone(t){return new Date(t.getTime());}createDate(t,e,n){let o=this._createDateWithOverflow(t,e,n);return o.getMonth()!=e,o;}today(){return new Date();}parse(t,e){return typeof t=="number"?new Date(t):t?new Date(Date.parse(t)):null;}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");let n=new Intl.DateTimeFormat(this.locale,rt(re({},e),{timeZone:"utc"}));return this._format(n,t);}addCalendarYears(t,e){return this.addCalendarMonths(t,e*12);}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n;}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e);}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-");}deserialize(t){if(typeof t=="string"){if(!t)return null;if(JIe.test(t)){let e=new Date(t);if(this.isValid(e))return e;}}return super.deserialize(t);}isDateInstance(t){return t instanceof Date;}isValid(t){return!isNaN(t.getTime());}invalid(){return new Date(NaN);}setTime(t,e,n,o){let a=this.clone(t);return a.setHours(e,n,o,0),a;}getHours(t){return t.getHours();}getMinutes(t){return t.getMinutes();}getSeconds(t){return t.getSeconds();}parseTime(t,e){if(typeof t!="string")return t instanceof Date?new Date(t.getTime()):null;let n=t.trim();if(n.length===0)return null;let o=this._parseTimeString(n);if(o===null){let a=n.replace(/[^0-9:(AM|PM)]/gi,"").trim();a.length>0&&(o=this._parseTimeString(a));}return o||this.invalid();}addSeconds(t,e){return new Date(t.getTime()+e*1e3);}_createDateWithOverflow(t,e,n){let o=new Date();return o.setFullYear(t,e,n),o.setHours(0,0,0,0),o;}_2digit(t){return("00"+t).slice(-2);}_format(t,e){let n=new Date();return n.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t.format(n);}_parseTimeString(t){let e=t.toUpperCase().match(exe);if(e){let n=parseInt(e[1]),o=parseInt(e[2]),a=e[3]==null?void 0:parseInt(e[3]),s=e[4];if(n===12?n=s==="AM"?0:n:s==="PM"&&(n+=12),Pk(n,0,23)&&Pk(o,0,59)&&(a==null||Pk(a,0,59)))return this.setTime(this.today(),n,o,a||0);}return null;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})();function Pk(i,r,t){return!isNaN(i)&&i>=r&&i<=t;}var ixe={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var DU=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({providers:[nxe()]});}return i;})();function nxe(i=ixe){return[{provide:Gr,useClass:txe},{provide:wl,useValue:i}];}var rxe=["mat-icon-button",""],oxe=["*"],axe=new se("MAT_BUTTON_CONFIG");function MU(i){return i==null?void 0:wr(i);}var Rk=(()=>{class i{_elementRef=N(ze);_ngZone=N(We);_animationsDisabled=qi();_config=N(axe,{optional:!0});_focusMonitor=N(ks);_cleanupClick;_renderer=N(Jt);_rippleLoader=N(wU);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple;}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled();}_disableRipple=!1;get disabled(){return this._disabled;}set disabled(t){this._disabled=t,this._updateRippleDisabled();}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t;}constructor(){N(Mn).load(es);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"});}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor();}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement);}focus(t="program",e){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,e):this._elementRef.nativeElement.focus(e);}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null;}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0;}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled);}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex;}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation());}));}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(e,n){e&2&&(lt("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled())("tabindex",n._getTabIndex()),be(n.color?"mat-"+n.color:""),vt("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("mat-unthemed",!n.color)("_mat-animation-noopable",n._animationsDisabled));},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",gt],disabled:[2,"disabled","disabled",gt],ariaDisabled:[2,"aria-disabled","ariaDisabled",gt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",gt],tabIndex:[2,"tabIndex","tabIndex",MU],_tabindex:[2,"tabindex","_tabindex",MU]}});}return i;})(),hA=(()=>{class i extends Rk{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0});}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[ci],attrs:rxe,ngContentSelectors:oxe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,n){e&1&&(xi(),$(0,"span",0),Vt(1),$(2,"span",1)(3,"span",2));},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-icon-button-touch-target-display, block);left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0});}return i;})();var sxe=["matButton",""],lxe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],cxe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var OU=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),Tv=(()=>{class i extends Rk{get appearance(){return this._appearance;}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text");}_appearance=null;constructor(){super();let t=dxe(this._elementRef.nativeElement);t&&this.setAppearance(t);}setAppearance(t){if(t===this._appearance)return;let e=this._elementRef.nativeElement.classList,n=this._appearance?OU.get(this._appearance):null,o=OU.get(t);n&&e.remove(...n),e.add(...o),this._appearance=t;}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[ci],attrs:sxe,ngContentSelectors:cxe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,n){e&1&&(xi(lxe),$(0,"span",0),Vt(1),u(2,"span",1),Vt(3,1),p(),Vt(4,2),$(5,"span",2)(6,"span",3)),e&2&&vt("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab);},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0});}return i;})();function dxe(i){return i.hasAttribute("mat-raised-button")?"elevated":i.hasAttribute("mat-stroked-button")?"outlined":i.hasAttribute("mat-flat-button")?"filled":i.hasAttribute("mat-button")?"text":null;}var gA=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[qt,Eu,qt]});}return i;})();var Nk=class{_box;_destroyed=new xe();_resizeSubject=new xe();_resizeObserver;_elementObservables=new Map();constructor(r){this._box=r,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)));}observe(r){return this._elementObservables.has(r)||this._elementObservables.set(r,new ct(t=>{let e=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(r,{box:this._box}),()=>{this._resizeObserver?.unobserve(r),e.unsubscribe(),this._elementObservables.delete(r);};}).pipe(Zt(t=>t.some(e=>e.target===r)),er({bufferSize:1,refCount:!0}),Bn(this._destroyed))),this._elementObservables.get(r);}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear();}},PU=(()=>{class i{_cleanupErrorListener;_observers=new Map();_ngZone=N(We);constructor(){typeof ResizeObserver<"u";}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.();}observe(t,e){let n=e?.box||"content-box";return this._observers.has(n)||this._observers.set(n,new Nk(n)),this._observers.get(n).observe(t);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var pxe=["notch"],mxe=["matFormFieldNotchedOutline",""],_xe=["*"],RU=["iconPrefixContainer"],NU=["textPrefixContainer"],kU=["iconSuffixContainer"],$U=["textSuffixContainer"],fxe=["textField"],hxe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],gxe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function vxe(i,r){i&1&&$(0,"span",20);}function Cxe(i,r){if(i&1&&(u(0,"label",19),Vt(1,1),Ti(2,vxe,1,0,"span",20),p()),i&2){let t=d(2);m("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),lt("for",t._control.disableAutomaticLabeling?null:t._control.id),c(2),Ii(!t.hideRequiredMarker&&t._control.required?2:-1);}}function yxe(i,r){if(i&1&&Ti(0,Cxe,3,5,"label",19),i&2){let t=d();Ii(t._hasFloatingLabel()?0:-1);}}function bxe(i,r){i&1&&$(0,"div",7);}function Sxe(i,r){}function Exe(i,r){if(i&1&&E(0,Sxe,0,0,"ng-template",13),i&2){d(2);let t=Pi(1);m("ngTemplateOutlet",t);}}function Txe(i,r){if(i&1&&(u(0,"div",9),Ti(1,Exe,1,1,null,13),p()),i&2){let t=d();m("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),c(),Ii(t._forceDisplayInfixLabel()?-1:1);}}function Ixe(i,r){i&1&&(u(0,"div",10,2),Vt(2,2),p());}function xxe(i,r){i&1&&(u(0,"div",11,3),Vt(2,3),p());}function Axe(i,r){}function wxe(i,r){if(i&1&&E(0,Axe,0,0,"ng-template",13),i&2){d();let t=Pi(1);m("ngTemplateOutlet",t);}}function Dxe(i,r){i&1&&(u(0,"div",14,4),Vt(2,4),p());}function Mxe(i,r){i&1&&(u(0,"div",15,5),Vt(2,5),p());}function Oxe(i,r){i&1&&$(0,"div",16);}function Pxe(i,r){i&1&&Vt(0,6);}function Rxe(i,r){if(i&1&&(u(0,"mat-hint",21),T(1),p()),i&2){let t=d(2);m("id",t._hintLabelId),c(),z(t.hintLabel);}}function Nxe(i,r){if(i&1&&(Ti(0,Rxe,2,2,"mat-hint",21),Vt(1,7),$(2,"div",22),Vt(3,8)),i&2){let t=d();Ii(t.hintLabel?0:-1);}}var LU=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["mat-label"]]});}return i;})(),kxe=new se("MatError");var FU=(()=>{class i{align="start";id=N(bn).getId("mat-mdc-hint-");static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,n){e&2&&(ja("id",n.id),lt("align",null),vt("mat-mdc-form-field-hint-end",n.align==="end"));},inputs:{align:"align",id:"id"}});}return i;})(),$xe=new se("MatPrefix");var Lxe=new se("MatSuffix");var BU=new se("FloatingLabelParent"),VU=(()=>{class i{_elementRef=N(ze);get floating(){return this._floating;}set floating(t){this._floating=t,this.monitorResize&&this._handleResize();}_floating=!1;get monitorResize(){return this._monitorResize;}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe();}_monitorResize=!1;_resizeObserver=N(PU);_ngZone=N(We);_parent=N(BU);_resizeSubscription=new ht();constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe();}getWidth(){return Fxe(this._elementRef.nativeElement);}get element(){return this._elementRef.nativeElement;}_handleResize(){setTimeout(()=>this._parent._handleLabelResized());}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize());});}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,n){e&2&&vt("mdc-floating-label--float-above",n.floating);},inputs:{floating:"floating",monitorResize:"monitorResize"}});}return i;})();function Fxe(i){let r=i;if(r.offsetParent!==null)return r.scrollWidth;let t=r.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let e=t.scrollWidth;return t.remove(),e;}var zU="mdc-line-ripple--active",vA="mdc-line-ripple--deactivating",GU=(()=>{class i{_elementRef=N(ze);_cleanupTransitionEnd;constructor(){let t=N(We),e=N(Jt);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=e.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd);});}activate(){let t=this._elementRef.nativeElement.classList;t.remove(vA),t.add(zU);}deactivate(){this._elementRef.nativeElement.classList.add(vA);}_handleTransitionEnd=t=>{let e=this._elementRef.nativeElement.classList,n=e.contains(vA);t.propertyName==="opacity"&&n&&e.remove(zU,vA);};ngOnDestroy(){this._cleanupTransitionEnd();}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]});}return i;})(),jU=(()=>{class i{_elementRef=N(ze);_ngZone=N(We);open=!1;_notch;ngAfterViewInit(){let t=this._elementRef.nativeElement,e=t.querySelector(".mdc-floating-label");e?(t.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="");}))):t.classList.add("mdc-notched-outline--no-label");}_setNotchWidth(t){let e=this._notch.nativeElement;!this.open||!t?e.style.width="":e.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`;}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`);}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(e,n){if(e&1&&Et(pxe,5),e&2){let o;qe(o=Ye())&&(n._notch=o.first);}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,n){e&2&&vt("mdc-notched-outline--notched",n.open);},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:mxe,ngContentSelectors:_xe,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(e,n){e&1&&(xi(),$(0,"div",1),u(1,"div",2,0),Vt(3),p(),$(4,"div",3));},encapsulation:2,changeDetection:0});}return i;})(),kk=(()=>{class i{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i});}return i;})();var $k=new se("MatFormField"),Vxe=new se("MAT_FORM_FIELD_DEFAULT_OPTIONS"),UU="fill",zxe="auto",WU="fixed",Gxe="translateY(-50%)",HU=(()=>{class i{_elementRef=N(ze);_changeDetectorRef=N($t);_dir=N(gr);_platform=N(Zi);_idGenerator=N(bn);_ngZone=N(We);_defaults=N(Vxe,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=e0("iconPrefixContainer");_textPrefixContainerSignal=e0("textPrefixContainer");_iconSuffixContainerSignal=e0("iconSuffixContainer");_textSuffixContainerSignal=e0("textSuffixContainer");_prefixSuffixContainers=Ds(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>t!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=TF(LU);get hideRequiredMarker(){return this._hideRequiredMarker;}set hideRequiredMarker(t){this._hideRequiredMarker=F9(t);}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||zxe;}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck());}_floatLabel;get appearance(){return this._appearanceSignal();}set appearance(t){let e=t||this._defaults?.appearance||UU;this._appearanceSignal.set(e);}_appearanceSignal=$i(UU);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||WU;}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||WU;}_subscriptSizing=null;get hintLabel(){return this._hintLabel;}set hintLabel(t){this._hintLabel=t,this._processHints();}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl;}set _control(t){this._explicitFormFieldControl=t;}_destroyed=new xe();_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled=qi();constructor(){let t=this._defaults;t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),this._syncOutlineLabelOffset();}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled");},300);}),this._changeDetectorRef.detectChanges();}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix();}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck();}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete();}getLabelId=Ds(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef;}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always");}_initializeControl(t){let e=this._control,n="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(n+t.controlType),e.controlType&&this._elementRef.nativeElement.classList.add(n+e.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=e.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck();}),this._describedByChanges?.unsubscribe(),this._describedByChanges=e.stateChanges.pipe(nn([void 0,void 0]),me(()=>[e.errorState,e.userAriaDescribedBy]),vC(),Zt(([[o,a],[s,l]])=>o!==s||a!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),e.ngControl&&e.ngControl.valueChanges&&(this._valueChanges=e.ngControl.valueChanges.pipe(Bn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()));}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText);}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),no(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck();});}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck();}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck();}),this._validateHints(),this._syncDescribedByIds();}_assertFormFieldControl(){this._control;}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused);}_outlineLabelOffsetResizeObserver=null;_syncOutlineLabelOffset(){PF({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset());});for(let t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"});}return this._getOutlinedLabelOffset();},write:t=>this._writeOutlinedLabelStyles(t())});}_shouldAlwaysFloat(){return this.floatLabel==="always";}_hasOutline(){return this.appearance==="outline";}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat();}_hasFloatingLabel=Ds(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1;}_shouldForward(t){let e=this._control?this._control.ngControl:null;return e&&e[t];}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint";}_handleLabelResized(){this._refreshOutlineNotchWidth();}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth());}_processHints(){this._validateHints(),this._syncDescribedByIds();}_validateHints(){this._hintChildren;}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,a=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),a&&t.push(a.id);}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));let e=this._control.describedByIds,n;if(e){let o=this._describedByIds||t;n=t.concat(e.filter(a=>a&&!o.includes(a)));}else n=t;this._control.setDescribedByIds(n),this._describedByIds=t;}}_getOutlinedLabelOffset(){let t=this._dir.valueSignal();if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let e=this._iconPrefixContainer?.nativeElement,n=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,s=e?.getBoundingClientRect().width??0,l=n?.getBoundingClientRect().width??0,_=o?.getBoundingClientRect().width??0,f=a?.getBoundingClientRect().width??0,g=t==="rtl"?"-1":"1",S=`${s+l}px`,D=`calc(${g} * (${S} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,R=`var(--mat-mdc-form-field-label-transform, ${Gxe} translateX(${D}))`,j=s+l+_+f;return[R,j];}_writeOutlinedLabelStyles(t){if(t!==null){let[e,n]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=e),n!==null&&this._notchedOutline?._setMaxWidth(n);}}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let e=t.getRootNode();return e&&e!==t;}return document.documentElement.contains(t);}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,n,o){if(e&1&&(NP(o,n._labelChild,LU,5),on(o,kk,5),on(o,$xe,5),on(o,Lxe,5),on(o,kxe,5),on(o,FU,5)),e&2){gy();let a;qe(a=Ye())&&(n._formFieldControl=a.first),qe(a=Ye())&&(n._prefixChildren=a),qe(a=Ye())&&(n._suffixChildren=a),qe(a=Ye())&&(n._errorChildren=a),qe(a=Ye())&&(n._hintChildren=a);}},viewQuery:function(e,n){if(e&1&&(o_(n._iconPrefixContainerSignal,RU,5),o_(n._textPrefixContainerSignal,NU,5),o_(n._iconSuffixContainerSignal,kU,5),o_(n._textSuffixContainerSignal,$U,5),Et(fxe,5),Et(RU,5),Et(NU,5),Et(kU,5),Et($U,5),Et(VU,5),Et(jU,5),Et(GU,5)),e&2){gy(4);let o;qe(o=Ye())&&(n._textField=o.first),qe(o=Ye())&&(n._iconPrefixContainer=o.first),qe(o=Ye())&&(n._textPrefixContainer=o.first),qe(o=Ye())&&(n._iconSuffixContainer=o.first),qe(o=Ye())&&(n._textSuffixContainer=o.first),qe(o=Ye())&&(n._floatingLabel=o.first),qe(o=Ye())&&(n._notchedOutline=o.first),qe(o=Ye())&&(n._lineRipple=o.first);}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(e,n){e&2&&vt("mat-mdc-form-field-label-always-float",n._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",n._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",n._hasIconSuffix)("mat-form-field-invalid",n._control.errorState)("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-form-field-appearance-fill",n.appearance=="fill")("mat-form-field-appearance-outline",n.appearance=="outline")("mat-form-field-hide-placeholder",n._hasFloatingLabel()&&!n._shouldLabelFloat())("mat-focused",n._control.focused)("mat-primary",n.color!=="accent"&&n.color!=="warn")("mat-accent",n.color==="accent")("mat-warn",n.color==="warn")("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"));},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Qt([{provide:$k,useExisting:i},{provide:BU,useExisting:i}])],ngContentSelectors:gxe,decls:19,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(e,n){if(e&1){let o=O();xi(hxe),E(0,yxe,1,1,"ng-template",null,0,ia),u(2,"div",6,1),b("click",function(s){return C(o),y(n._control.onContainerClick(s));}),Ti(4,bxe,1,0,"div",7),u(5,"div",8),Ti(6,Txe,2,2,"div",9),Ti(7,Ixe,3,0,"div",10),Ti(8,xxe,3,0,"div",11),u(9,"div",12),Ti(10,wxe,1,1,null,13),Vt(11),p(),Ti(12,Dxe,3,0,"div",14),Ti(13,Mxe,3,0,"div",15),p(),Ti(14,Oxe,1,0,"div",16),p(),u(15,"div",17)(16,"div",18),Ti(17,Pxe,1,0)(18,Nxe,4,1),p()();}if(e&2){let o;c(2),vt("mdc-text-field--filled",!n._hasOutline())("mdc-text-field--outlined",n._hasOutline())("mdc-text-field--no-label",!n._hasFloatingLabel())("mdc-text-field--disabled",n._control.disabled)("mdc-text-field--invalid",n._control.errorState),c(2),Ii(!n._hasOutline()&&!n._control.disabled?4:-1),c(2),Ii(n._hasOutline()?6:-1),c(),Ii(n._hasIconPrefix?7:-1),c(),Ii(n._hasTextPrefix?8:-1),c(2),Ii(!n._hasOutline()||n._forceDisplayInfixLabel()?10:-1),c(2),Ii(n._hasTextSuffix?12:-1),c(),Ii(n._hasIconSuffix?13:-1),c(),Ii(n._hasOutline()?-1:14),c(),vt("mat-mdc-form-field-subscript-dynamic-size",n.subscriptSizing==="dynamic");let a=n._getSubscriptMessageType();c(),vt("mat-mdc-form-field-error-wrapper",a==="error")("mat-mdc-form-field-hint-wrapper",a==="hint"),c(),Ii((o=a)==="error"?17:o==="hint"?18:-1);}},dependencies:[VU,jU,_p,GU,FU],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0});}return i;})();var jxe=["mat-calendar-body",""];function Uxe(i,r){return this._trackRow(r);}var ZU=(i,r)=>r.id;function Wxe(i,r){if(i&1&&(u(0,"tr",0)(1,"td",3),T(2),p()()),i&2){let t=d();c(),Ar("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),lt("colspan",t.numCols),c(),ue(" ",t.label," ");}}function Bxe(i,r){if(i&1&&(u(0,"td",3),T(1),p()),i&2){let t=d(2);Ar("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),lt("colspan",t._firstRowOffset),c(),ue(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ");}}function Hxe(i,r){if(i&1){let t=O();u(0,"td",6)(1,"button",7),b("click",function(n){let o=C(t).$implicit,a=d(2);return y(a._cellClicked(o,n));})("focus",function(n){let o=C(t).$implicit,a=d(2);return y(a._emitActiveDateChange(o,n));}),u(2,"span",8),T(3),p(),$(4,"span",9),p()();}if(i&2){let t=r.$implicit,e=r.$index,n=d().$index,o=d();Ar("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),lt("data-mat-row",n)("data-mat-col",e),c(),vt("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",o._isActiveCell(n,e))("mat-calendar-body-range-start",o._isRangeStart(t.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",o._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(t.compareValue,n,e))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(t.compareValue,n,e))("mat-calendar-body-comparison-start",o._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",o._isInPreview(t.compareValue)),m("ngClass",t.cssClasses)("tabindex",o._isActiveCell(n,e)?0:-1),lt("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-pressed",o._isSelected(t.compareValue))("aria-current",o.todayValue===t.compareValue?"date":null)("aria-describedby",o._getDescribedby(t.compareValue)),c(),vt("mat-calendar-body-selected",o._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",o.todayValue===t.compareValue),c(),ue(" ",t.displayValue," ");}}function qxe(i,r){if(i&1&&(u(0,"tr",1),Ti(1,Bxe,2,6,"td",4),Hg(2,Hxe,5,48,"td",5,ZU),p()),i&2){let t=r.$implicit,e=r.$index,n=d();c(),Ii(e===0&&n._firstRowOffset?1:-1),c(),qg(t);}}function Yxe(i,r){if(i&1&&(u(0,"th",2)(1,"span",6),T(2),p(),u(3,"span",3),T(4),p()()),i&2){let t=r.$implicit;c(2),z(t.long),c(2),z(t.narrow);}}var Xxe=["*"];function Kxe(i,r){}function Qxe(i,r){if(i&1){let t=O();u(0,"mat-month-view",4),q("activeDateChange",function(n){C(t);let o=d();return Y(o.activeDate,n)||(o.activeDate=n),y(n);}),b("_userSelection",function(n){C(t);let o=d();return y(o._dateSelected(n));})("dragStarted",function(n){C(t);let o=d();return y(o._dragStarted(n));})("dragEnded",function(n){C(t);let o=d();return y(o._dragEnded(n));}),p();}if(i&2){let t=d();H("activeDate",t.activeDate),m("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName)("activeDrag",t._activeDrag);}}function Zxe(i,r){if(i&1){let t=O();u(0,"mat-year-view",5),q("activeDateChange",function(n){C(t);let o=d();return Y(o.activeDate,n)||(o.activeDate=n),y(n);}),b("monthSelected",function(n){C(t);let o=d();return y(o._monthSelectedInYearView(n));})("selectedChange",function(n){C(t);let o=d();return y(o._goToDateInView(n,"month"));}),p();}if(i&2){let t=d();H("activeDate",t.activeDate),m("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass);}}function Jxe(i,r){if(i&1){let t=O();u(0,"mat-multi-year-view",6),q("activeDateChange",function(n){C(t);let o=d();return Y(o.activeDate,n)||(o.activeDate=n),y(n);}),b("yearSelected",function(n){C(t);let o=d();return y(o._yearSelectedInMultiYearView(n));})("selectedChange",function(n){C(t);let o=d();return y(o._goToDateInView(n,"year"));}),p();}if(i&2){let t=d();H("activeDate",t.activeDate),m("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass);}}function eAe(i,r){}var tAe=["button"],iAe=[[["","matDatepickerToggleIcon",""]]],nAe=["[matDatepickerToggleIcon]"];function rAe(i,r){i&1&&(so(),u(0,"svg",2),$(1,"path",3),p());}var uh=(()=>{class i{changes=new xe();calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(t,e){return`${t} \u2013 ${e}`;}formatYearRangeLabel(t,e){return`${t} to ${e}`;}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})(),oAe=0,xv=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=oAe++;constructor(r,t,e,n,o={},a=r,s){this.value=r,this.displayValue=t,this.ariaLabel=e,this.enabled=n,this.cssClasses=o,this.compareValue=a,this.rawValue=s;}},aAe={passive:!1,capture:!0},CA={passive:!0,capture:!0},qU={passive:!0},dh=(()=>{class i{_elementRef=N(ze);_ngZone=N(We);_platform=N(Zi);_intl=N(uh);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1);}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new ae();previewChange=new ae();activeDateChange=new ae();dragStarted=new ae();dragEnded=new ae();_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=N(tt);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=t=>t;constructor(){let t=N(Jt),e=N(bn);this._startDateLabelId=e.getId("mat-calendar-body-start-"),this._endDateLabelId=e.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=e.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=e.getId("mat-calendar-body-comparison-end-"),N(Mn).load(es),this._ngZone.runOutsideAngular(()=>{let n=this._elementRef.nativeElement,o=[t.listen(n,"touchmove",this._touchmoveHandler,aAe),t.listen(n,"mouseenter",this._enterHandler,CA),t.listen(n,"focus",this._enterHandler,CA),t.listen(n,"mouseleave",this._leaveHandler,CA),t.listen(n,"blur",this._leaveHandler,CA),t.listen(n,"mousedown",this._mousedownHandler,qU),t.listen(n,"touchstart",this._mousedownHandler,qU)];this._platform.isBrowser&&o.push(t.listen("window","mouseup",this._mouseupHandler),t.listen("window","touchend",this._touchendHandler)),this._eventCleanups=o;});}_cellClicked(t,e){this._didDragSinceMouseDown||t.enabled&&this.selectedValueChange.emit({value:t.value,event:e});}_emitActiveDateChange(t,e){t.enabled&&this.activeDateChange.emit({value:t.value,event:e});}_isSelected(t){return this.startValue===t||this.endValue===t;}ngOnChanges(t){let e=t.numCols,{rows:n,numCols:o}=this;(t.rows||e)&&(this._firstRowOffset=n&&n.length&&n[0].length?o-n[0].length:0),(t.cellAspectRatio||e||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(e||!this._cellWidth)&&(this._cellWidth=`${100/o}%`);}ngOnDestroy(){this._eventCleanups.forEach(t=>t());}_isActiveCell(t,e){let n=t*this.numCols+e;return t&&(n-=this._firstRowOffset),n==this.activeCell;}_focusActiveCell(t=!0){xr(()=>{setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");e&&(t||(this._skipNextFocus=!0),e.focus());});},{injector:this._injector});}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0;}_isRangeStart(t){return Vk(t,this.startValue,this.endValue);}_isRangeEnd(t){return zk(t,this.startValue,this.endValue);}_isInRange(t){return Gk(t,this.startValue,this.endValue,this.isRange);}_isComparisonStart(t){return Vk(t,this.comparisonStart,this.comparisonEnd);}_isComparisonBridgeStart(t,e,n){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let o=this.rows[e][n-1];if(!o){let a=this.rows[e-1];o=a&&a[a.length-1];}return o&&!this._isRangeEnd(o.compareValue);}_isComparisonBridgeEnd(t,e,n){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let o=this.rows[e][n+1];if(!o){let a=this.rows[e+1];o=a&&a[0];}return o&&!this._isRangeStart(o.compareValue);}_isComparisonEnd(t){return zk(t,this.comparisonStart,this.comparisonEnd);}_isInComparisonRange(t){return Gk(t,this.comparisonStart,this.comparisonEnd,this.isRange);}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart;}_isPreviewStart(t){return Vk(t,this.previewStart,this.previewEnd);}_isPreviewEnd(t){return zk(t,this.previewStart,this.previewEnd);}_isInPreview(t){return Gk(t,this.previewStart,this.previewEnd,this.isRange);}_getDescribedby(t){if(!this.isRange)return null;if(this.startValue===t&&this.endValue===t)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===t)return this._startDateLabelId;if(this.endValue===t)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(t===this.comparisonStart&&t===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(t===this.comparisonStart)return this._comparisonStartDateLabelId;if(t===this.comparisonEnd)return this._comparisonEndDateLabelId;}return null;}_enterHandler=t=>{if(this._skipNextFocus&&t.type==="focus"){this._skipNextFocus=!1;return;}if(t.target&&this.isRange){let e=this._getCellFromElement(t.target);e&&this._ngZone.run(()=>this.previewChange.emit({value:e.enabled?e:null,event:t}));}};_touchmoveHandler=t=>{if(!this.isRange)return;let e=YU(t),n=e?this._getCellFromElement(e):null;e!==t.target&&(this._didDragSinceMouseDown=!0),Fk(t.target)&&t.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:n?.enabled?n:null,event:t}));};_leaveHandler=t=>{this.previewEnd!==null&&this.isRange&&(t.type!=="blur"&&(this._didDragSinceMouseDown=!0),t.target&&this._getCellFromElement(t.target)&&!(t.relatedTarget&&this._getCellFromElement(t.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:t})));};_mousedownHandler=t=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let e=t.target&&this._getCellFromElement(t.target);!e||!this._isInRange(e.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:e.rawValue,event:t});});};_mouseupHandler=t=>{if(!this.isRange)return;let e=Fk(t.target);if(!e){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:t});});return;}e.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let n=this._getCellFromElement(e);this.dragEnded.emit({value:n?.rawValue??null,event:t});});};_touchendHandler=t=>{let e=YU(t);e&&this._mouseupHandler({target:e});};_getCellFromElement(t){let e=Fk(t);if(e){let n=e.getAttribute("data-mat-row"),o=e.getAttribute("data-mat-col");if(n&&o)return this.rows[parseInt(n)][parseInt(o)];}return null;}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[Oi],attrs:jxe,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,n){e&1&&(Ti(0,Wxe,3,6,"tr",0),Hg(1,qxe,4,1,"tr",1,Uxe,!0),u(3,"span",2),T(4),p(),u(5,"span",2),T(6),p(),u(7,"span",2),T(8),p(),u(9,"span",2),T(10),p()),e&2&&(Ii(n._firstRowOffset<n.labelMinRequiredCells?0:-1),c(),qg(n.rows),c(2),m("id",n._startDateLabelId),c(),ue(" ",n.startDateAccessibleName,`
`),c(),m("id",n._endDateLabelId),c(),ue(" ",n.endDateAccessibleName,`
`),c(),m("id",n._comparisonStartDateLabelId),c(),Yn(" ",n.comparisonDateAccessibleName," ",n.startDateAccessibleName,`
`),c(),m("id",n._comparisonEndDateLabelId),c(),Yn(" ",n.comparisonDateAccessibleName," ",n.endDateAccessibleName,`
`));},dependencies:[Je],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0});}return i;})();function Lk(i){return i?.nodeName==="TD";}function Fk(i){let r;return Lk(i)?r=i:Lk(i.parentNode)?r=i.parentNode:Lk(i.parentNode?.parentNode)&&(r=i.parentNode.parentNode),r?.getAttribute("data-mat-row")!=null?r:null;}function Vk(i,r,t){return t!==null&&r!==t&&i<t&&i===r;}function zk(i,r,t){return r!==null&&r!==t&&i>=r&&i===t;}function Gk(i,r,t,e){return e&&r!==null&&t!==null&&r!==t&&i>=r&&i<=t;}function YU(i){let r=i.changedTouches[0];return document.elementFromPoint(r.clientX,r.clientY);}var is=class{start;end;_disableStructuralEquivalency;constructor(r,t){this.start=r,this.end=t;}},yA=(()=>{class i{selection;_adapter;_selectionChanged=new xe();selectionChanged=this._selectionChanged;constructor(t,e){this.selection=t,this._adapter=e,this.selection=t;}updateSelection(t,e){let n=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:e,oldValue:n});}ngOnDestroy(){this._selectionChanged.complete();}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t);}static ɵfac=function(e){Ug();};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})(),sAe=(()=>{class i extends yA{constructor(t){super(null,t);}add(t){super.updateSelection(t,this);}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection);}isComplete(){return this.selection!=null;}clone(){let t=new i(this._adapter);return t.updateSelection(this.selection,this),t;}static ɵfac=function(e){return new(e||i)(K(Gr));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})();function lAe(i,r){return i||new sAe(r);}var cAe={provide:yA,deps:[[new fd(),new Xm(),yA],Gr],useFactory:lAe};var JU=new se("MAT_DATE_RANGE_SELECTION_STRATEGY");var jk=7,dAe=0,XU=(()=>{class i{_changeDetectorRef=N($t);_dateFormats=N(wl,{optional:!0});_dateAdapter=N(Gr,{optional:!0});_dir=N(gr,{optional:!0});_rangeStrategy=N(JU,{optional:!0});_rerenderSubscription=ht.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate;}set activeDate(t){let e=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(e,this._activeDate)||this._init();}_activeDate;get selected(){return this._selected;}set selected(t){t instanceof is?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected);}_selected;get minDate(){return this._minDate;}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));}_minDate;get maxDate(){return this._maxDate;}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new ae();_userSelection=new ae();dragStarted=new ae();dragEnded=new ae();activeDateChange=new ae();_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){N(Mn).load(Od),this._activeDate=this._dateAdapter.today();}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(nn(null)).subscribe(()=>this._init());}ngOnChanges(t){let e=t.comparisonStart||t.comparisonEnd;e&&!e.firstChange&&this._setRanges(this.selected),t.activeDrag&&!this.activeDrag&&this._clearPreview();}ngOnDestroy(){this._rerenderSubscription.unsubscribe();}_dateSelected(t){let e=t.value,n=this._getDateFromDayOfMonth(e),o,a;this._selected instanceof is?(o=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):o=a=this._getDateInCurrentMonth(this._selected),(o!==e||a!==e)&&this.selectedChange.emit(n),this._userSelection.emit({value:n,event:t.event}),this._clearPreview(),this._changeDetectorRef.markForCheck();}_updateActiveDate(t){let e=t.value,n=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this._activeDate);}_handleCalendarBodyKeydown(t){let e=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&t.preventDefault();return;case 27:this._previewEnd!=null&&!Or(t)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:t}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t})),t.preventDefault(),t.stopPropagation());return;default:return;}this._dateAdapter.compareDate(e,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault();}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1);}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(jk+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%jk,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck();}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t);}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked();}_previewChanged({event:t,value:e}){if(this._rangeStrategy){let n=e?e.rawValue:null,o=this._rangeStrategy.createPreview(n,this.selected,t);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&n){let a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,n,t);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end));}this._changeDetectorRef.detectChanges();}}_dragEnded(t){if(this.activeDrag)if(t.value){let e=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,t.value,t.event);this.dragEnded.emit({value:e??null,event:t.event});}else this.dragEnded.emit({value:null,event:t.event});}_getDateFromDayOfMonth(t){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t);}_initWeekdays(){let t=this._dateAdapter.getFirstDayOfWeek(),e=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((a,s)=>({long:a,narrow:e[s],id:dAe++}));this._weekdays=o.slice(t).concat(o.slice(0,t));}_createWeekCells(){let t=this._dateAdapter.getNumDaysInMonth(this.activeDate),e=this._dateAdapter.getDateNames();this._weeks=[[]];for(let n=0,o=this._firstWeekOffset;n<t;n++,o++){o==jk&&(this._weeks.push([]),o=0);let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),s=this._shouldEnableDate(a),l=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new xv(n+1,e[n],l,s,_,this._getCellCompareValue(a),a));}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t));}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null;}_hasSameMonthAndYear(t,e){return!!(t&&e&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(e)&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e));}_getCellCompareValue(t){if(t){let e=this._dateAdapter.getYear(t),n=this._dateAdapter.getMonth(t),o=this._dateAdapter.getDate(t);return new Date(e,n,o).getTime();}return null;}_isRtl(){return this._dir&&this._dir.value==="rtl";}_setRanges(t){t instanceof is?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd);}_canSelect(t){return!this.dateFilter||this.dateFilter(t);}_clearPreview(){this._previewStart=this._previewEnd=null;}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-month-view"]],viewQuery:function(e,n){if(e&1&&Et(dh,5),e&2){let o;qe(o=Ye())&&(n._matCalendarBody=o.first);}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Oi],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(e,n){e&1&&(u(0,"table",0)(1,"thead",1)(2,"tr"),Hg(3,Yxe,5,2,"th",2,ZU),p(),u(5,"tr",3),$(6,"th",4),p()(),u(7,"tbody",5),b("selectedValueChange",function(a){return n._dateSelected(a);})("activeDateChange",function(a){return n._updateActiveDate(a);})("previewChange",function(a){return n._previewChanged(a);})("dragStarted",function(a){return n.dragStarted.emit(a);})("dragEnded",function(a){return n._dragEnded(a);})("keyup",function(a){return n._handleCalendarBodyKeyup(a);})("keydown",function(a){return n._handleCalendarBodyKeydown(a);}),p()()),e&2&&(c(3),qg(n._weekdays),c(4),m("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName));},dependencies:[dh],encapsulation:2,changeDetection:0});}return i;})(),Oa=24,Uk=4,KU=(()=>{class i{_changeDetectorRef=N($t);_dateAdapter=N(Gr,{optional:!0});_dir=N(gr,{optional:!0});_rerenderSubscription=ht.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate;}set activeDate(t){let e=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),eW(this._dateAdapter,e,this._activeDate,this.minDate,this.maxDate)||this._init();}_activeDate;get selected(){return this._selected;}set selected(t){t instanceof is?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t);}_selected;get minDate(){return this._minDate;}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));}_minDate;get maxDate(){return this._maxDate;}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));}_maxDate;dateFilter;dateClass;selectedChange=new ae();yearSelected=new ae();activeDateChange=new ae();_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today();}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(nn(null)).subscribe(()=>this._init());}ngOnDestroy(){this._rerenderSubscription.unsubscribe();}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let e=this._dateAdapter.getYear(this._activeDate)-Iv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let n=0,o=[];n<Oa;n++)o.push(e+n),o.length==Uk&&(this._years.push(o.map(a=>this._createCellForYear(a))),o=[]);this._changeDetectorRef.markForCheck();}_yearSelected(t){let e=t.value,n=this._dateAdapter.createDate(e,0,1),o=this._getDateFromYear(e);this.yearSelected.emit(n),this.selectedChange.emit(o);}_updateActiveDate(t){let e=t.value,n=this._activeDate;this.activeDate=this._getDateFromYear(e),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate);}_handleCalendarBodyKeydown(t){let e=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Uk);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Uk);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Iv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Oa-Iv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-Oa*10:-Oa);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?Oa*10:Oa);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return;}this._dateAdapter.compareDate(e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),t.preventDefault();}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1);}_getActiveCell(){return Iv(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);}_focusActiveCell(){this._matCalendarBody._focusActiveCell();}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked();}_getDateFromYear(t){let e=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,e,1));return this._dateAdapter.createDate(t,e,Math.min(this._dateAdapter.getDate(this.activeDate),n));}_createCellForYear(t){let e=this._dateAdapter.createDate(t,0,1),n=this._dateAdapter.getYearName(e),o=this.dateClass?this.dateClass(e,"multi-year"):void 0;return new xv(t,n,n,this._shouldEnableYear(t),o);}_shouldEnableYear(t){if(t==null||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let e=this._dateAdapter.createDate(t,0,1);for(let n=e;this._dateAdapter.getYear(n)==t;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1;}_isRtl(){return this._dir&&this._dir.value==="rtl";}_setSelectedYear(t){if(this._selectedYear=null,t instanceof is){let e=t.start||t.end;e&&(this._selectedYear=this._dateAdapter.getYear(e));}else t&&(this._selectedYear=this._dateAdapter.getYear(t));}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-multi-year-view"]],viewQuery:function(e,n){if(e&1&&Et(dh,5),e&2){let o;qe(o=Ye())&&(n._matCalendarBody=o.first);}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(e,n){e&1&&(u(0,"table",0)(1,"thead",1)(2,"tr"),$(3,"th",2),p()(),u(4,"tbody",3),b("selectedValueChange",function(a){return n._yearSelected(a);})("activeDateChange",function(a){return n._updateActiveDate(a);})("keyup",function(a){return n._handleCalendarBodyKeyup(a);})("keydown",function(a){return n._handleCalendarBodyKeydown(a);}),p()()),e&2&&(c(4),m("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()));},dependencies:[dh],encapsulation:2,changeDetection:0});}return i;})();function eW(i,r,t,e,n){let o=i.getYear(r),a=i.getYear(t),s=tW(i,e,n);return Math.floor((o-s)/Oa)===Math.floor((a-s)/Oa);}function Iv(i,r,t,e){let n=i.getYear(r);return uAe(n-tW(i,t,e),Oa);}function tW(i,r,t){let e=0;return t?e=i.getYear(t)-Oa+1:r&&(e=i.getYear(r)),e;}function uAe(i,r){return(i%r+r)%r;}var QU=(()=>{class i{_changeDetectorRef=N($t);_dateFormats=N(wl,{optional:!0});_dateAdapter=N(Gr,{optional:!0});_dir=N(gr,{optional:!0});_rerenderSubscription=ht.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate;}set activeDate(t){let e=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(e)!==this._dateAdapter.getYear(this._activeDate)&&this._init();}_activeDate;get selected(){return this._selected;}set selected(t){t instanceof is?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t);}_selected;get minDate(){return this._minDate;}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));}_minDate;get maxDate(){return this._maxDate;}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));}_maxDate;dateFilter;dateClass;selectedChange=new ae();monthSelected=new ae();activeDateChange=new ae();_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today();}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(nn(null)).subscribe(()=>this._init());}ngOnDestroy(){this._rerenderSubscription.unsubscribe();}_monthSelected(t){let e=t.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1);this.monthSelected.emit(n);let o=this._getDateFromMonth(e);this.selectedChange.emit(o);}_updateActiveDate(t){let e=t.value,n=this._activeDate;this.activeDate=this._getDateFromMonth(e),this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate);}_handleCalendarBodyKeydown(t){let e=this._activeDate,n=this._isRtl();switch(t.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return;}this._dateAdapter.compareDate(e,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),t.preventDefault();}_handleCalendarBodyKeyup(t){(t.keyCode===32||t.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1);}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(e=>e.map(n=>this._createCellForMonth(n,t[n]))),this._changeDetectorRef.markForCheck();}_focusActiveCell(){this._matCalendarBody._focusActiveCell();}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked();}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null;}_getDateFromMonth(t){let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),n=this._dateAdapter.getNumDaysInMonth(e);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n));}_createCellForMonth(t,e){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),o=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(n,"year"):void 0;return new xv(t,e.toLocaleUpperCase(),o,this._shouldEnableMonth(t),a);}_shouldEnableMonth(t){let e=this._dateAdapter.getYear(this.activeDate);if(t==null||this._isYearAndMonthAfterMaxDate(e,t)||this._isYearAndMonthBeforeMinDate(e,t))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(e,t,1);for(let o=n;this._dateAdapter.getMonth(o)==t;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1;}_isYearAndMonthAfterMaxDate(t,e){if(this.maxDate){let n=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return t>n||t===n&&e>o;}return!1;}_isYearAndMonthBeforeMinDate(t,e){if(this.minDate){let n=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return t<n||t===n&&e<o;}return!1;}_isRtl(){return this._dir&&this._dir.value==="rtl";}_setSelectedMonth(t){t instanceof is?this._selectedMonth=this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._selectedMonth=this._getMonthInCurrentYear(t);}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-year-view"]],viewQuery:function(e,n){if(e&1&&Et(dh,5),e&2){let o;qe(o=Ye())&&(n._matCalendarBody=o.first);}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(e,n){e&1&&(u(0,"table",0)(1,"thead",1)(2,"tr"),$(3,"th",2),p()(),u(4,"tbody",3),b("selectedValueChange",function(a){return n._monthSelected(a);})("activeDateChange",function(a){return n._updateActiveDate(a);})("keyup",function(a){return n._handleCalendarBodyKeyup(a);})("keydown",function(a){return n._handleCalendarBodyKeydown(a);}),p()()),e&2&&(c(4),m("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)));},dependencies:[dh],encapsulation:2,changeDetection:0});}return i;})(),iW=(()=>{class i{_intl=N(uh);calendar=N(Wk);_dateAdapter=N(Gr,{optional:!0});_dateFormats=N(wl,{optional:!0});_periodButtonText;_periodButtonDescription;_periodButtonLabel;_prevButtonLabel;_nextButtonLabel;constructor(){N(Mn).load(Od);let t=N($t);this._updateLabels(),this.calendar.stateChanges.subscribe(()=>{this._updateLabels(),t.markForCheck();});}get periodButtonText(){return this._periodButtonText;}get periodButtonDescription(){return this._periodButtonDescription;}get periodButtonLabel(){return this._periodButtonLabel;}get prevButtonLabel(){return this._prevButtonLabel;}get nextButtonLabel(){return this._nextButtonLabel;}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month";}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Oa);}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Oa);}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0;}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate);}_updateLabels(){let t=this.calendar,e=this._intl,n=this._dateAdapter;t.currentView==="month"?(this._periodButtonText=n.format(t.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonDescription=n.format(t.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonLabel=e.switchToMultiYearViewLabel,this._prevButtonLabel=e.prevMonthLabel,this._nextButtonLabel=e.nextMonthLabel):t.currentView==="year"?(this._periodButtonText=n.getYearName(t.activeDate),this._periodButtonDescription=n.getYearName(t.activeDate),this._periodButtonLabel=e.switchToMonthViewLabel,this._prevButtonLabel=e.prevYearLabel,this._nextButtonLabel=e.nextYearLabel):(this._periodButtonText=e.formatYearRange(...this._formatMinAndMaxYearLabels()),this._periodButtonDescription=e.formatYearRangeLabel(...this._formatMinAndMaxYearLabels()),this._periodButtonLabel=e.switchToMonthViewLabel,this._prevButtonLabel=e.prevMultiYearLabel,this._nextButtonLabel=e.nextMultiYearLabel);}_isSameView(t,e){return this.calendar.currentView=="month"?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(e):this.calendar.currentView=="year"?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(e):eW(this._dateAdapter,t,e,this.calendar.minDate,this.calendar.maxDate);}_formatMinAndMaxYearLabels(){let e=this._dateAdapter.getYear(this.calendar.activeDate)-Iv(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),n=e+Oa-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1));return[o,a];}_periodButtonLabelId=N(bn).getId("mat-calendar-period-label-");static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Xxe,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["matButton","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["matIconButton","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(e,n){e&1&&(xi(),u(0,"div",0)(1,"div",1)(2,"span",2),T(3),p(),u(4,"button",3),b("click",function(){return n.currentPeriodClicked();}),u(5,"span",4),T(6),p(),so(),u(7,"svg",5),$(8,"polygon",6),p()(),lc(),$(9,"div",7),Vt(10),u(11,"button",8),b("click",function(){return n.previousClicked();}),so(),u(12,"svg",9),$(13,"path",10),p()(),lc(),u(14,"button",11),b("click",function(){return n.nextClicked();}),so(),u(15,"svg",9),$(16,"path",12),p()()()()),e&2&&(c(2),m("id",n._periodButtonLabelId),c(),z(n.periodButtonDescription),c(),lt("aria-label",n.periodButtonLabel)("aria-describedby",n._periodButtonLabelId),c(2),z(n.periodButtonText),c(),vt("mat-calendar-invert",n.calendar.currentView!=="month"),c(4),m("disabled",!n.previousEnabled()),lt("aria-label",n.prevButtonLabel),c(3),m("disabled",!n.nextEnabled()),lt("aria-label",n.nextButtonLabel));},dependencies:[Tv,hA],encapsulation:2,changeDetection:0});}return i;})(),Wk=(()=>{class i{_dateAdapter=N(Gr,{optional:!0});_dateFormats=N(wl,{optional:!0});_changeDetectorRef=N($t);_elementRef=N(ze);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt;}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));}_startAt;startView="month";get selected(){return this._selected;}set selected(t){t instanceof is?this._selected=t:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));}_selected;get minDate(){return this._minDate;}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));}_minDate;get maxDate(){return this._maxDate;}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new ae();yearSelected=new ae();monthSelected=new ae();viewChanged=new ae(!0);_userSelection=new ae();_userDragDrop=new ae();monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate;}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck();}_clampedActiveDate;get currentView(){return this._currentView;}set currentView(t){let e=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),e&&(this.stateChanges.next(),this.viewChanged.emit(e));}_currentView;_activeDrag=null;stateChanges=new xe();constructor(){this._intlChanges=N(uh).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next();});}ngAfterContentInit(){this._calendarHeaderPortal=new Dd(this.headerComponent||iW),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView;}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell());}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete();}ngOnChanges(t){let e=t.minDate&&!this._dateAdapter.sameDate(t.minDate.previousValue,t.minDate.currentValue)?t.minDate:void 0,n=t.maxDate&&!this._dateAdapter.sameDate(t.maxDate.previousValue,t.maxDate.currentValue)?t.maxDate:void 0,o=e||n||t.dateFilter;if(o&&!o.firstChange){let a=this._getCurrentViewComponent();a&&(this._elementRef.nativeElement.contains(xc())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),a._init());}this.stateChanges.next();}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1);}updateTodaysDate(){this._getCurrentViewComponent()._init();}_dateSelected(t){let e=t.value;(this.selected instanceof is||e&&!this._dateAdapter.sameDate(e,this.selected))&&this.selectedChange.emit(e),this._userSelection.emit(t);}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t);}_monthSelectedInYearView(t){this.monthSelected.emit(t);}_goToDateInView(t,e){this.activeDate=t,this.currentView=e;}_dragStarted(t){this._activeDrag=t;}_dragEnded(t){this._activeDrag&&(t.value&&this._userDragDrop.emit(t),this._activeDrag=null);}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView;}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-calendar"]],viewQuery:function(e,n){if(e&1&&(Et(XU,5),Et(QU,5),Et(KU,5)),e&2){let o;qe(o=Ye())&&(n.monthView=o.first),qe(o=Ye())&&(n.yearView=o.first),qe(o=Ye())&&(n.multiYearView=o.first);}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Qt([cAe]),Oi],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(e,n){if(e&1&&(E(0,Kxe,0,0,"ng-template",0),u(1,"div",1),Ti(2,Qxe,1,11,"mat-month-view",2)(3,Zxe,1,6,"mat-year-view",3)(4,Jxe,1,6,"mat-multi-year-view",3),p()),e&2){let o;m("cdkPortalOutlet",n._calendarHeaderPortal),c(2),Ii((o=n.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1);}},dependencies:[Md,bN,XU,QU,KU],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mat-button-text-label-text-color: var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0});}return i;})(),pAe=new se("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let i=N(tt);return()=>wa(i);}});function mAe(i){let r=N(tt);return()=>wa(r);}var _Ae={provide:pAe,deps:[],useFactory:mAe},fAe=(()=>{class i{_elementRef=N(ze);_animationsDisabled=qi();_changeDetectorRef=N($t);_globalModel=N(yA);_dateAdapter=N(Gr);_ngZone=N(We);_rangeSelectionStrategy=N(JU,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new xe();_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(N(Mn).load(Od),this._closeButtonText=N(uh).closeCalendarLabel,!this._animationsDisabled){let t=this._elementRef.nativeElement,e=N(Jt);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[e.listen(t,"animationstart",this._handleAnimationEvent),e.listen(t,"animationend",this._handleAnimationEvent),e.listen(t,"animationcancel",this._handleAnimationEvent)]);}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck();}),this._calendar.focusActiveCell();}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(t=>t()),this._stateChanges?.unsubscribe(),this._animationDone.complete();}_handleUserSelection(t){let e=this._model.selection,n=t.value,o=e instanceof is;if(o&&this._rangeSelectionStrategy){let a=this._rangeSelectionStrategy.selectionFinished(n,e,t.event);this._model.updateSelection(a,this);}else n&&(o||!this._dateAdapter.sameDate(n,e))&&this._model.add(n);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close();}_handleUserDragDrop(t){this._model.updateSelection(t.value,this);}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next();},200));}_handleAnimationEvent=t=>{let e=this._elementRef.nativeElement;t.target!==e||!t.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=t.type==="animationstart",e.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next());};_getSelected(){return this._model.selection;}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this);}_assignActions(t,e){this._model=t?this._globalModel.clone():this._globalModel,this._actionsPortal=t,e&&this._changeDetectorRef.detectChanges();}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-datepicker-content"]],viewQuery:function(e,n){if(e&1&&Et(Wk,5),e&2){let o;qe(o=Ye())&&(n._calendar=o.first);}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(e,n){e&2&&(be(n.color?"mat-"+n.color:""),vt("mat-datepicker-content-touch",n.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!n._animationsDisabled));},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","matButton","elevated",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"mat-calendar",1),b("yearSelected",function(a){return n.datepicker._selectYear(a);})("monthSelected",function(a){return n.datepicker._selectMonth(a);})("viewChanged",function(a){return n.datepicker._viewChanged(a);})("_userSelection",function(a){return n._handleUserSelection(a);})("_userDragDrop",function(a){return n._handleUserDragDrop(a);}),p(),E(2,eAe,0,0,"ng-template",2),u(3,"button",3),b("focus",function(){return n._closeButtonFocused=!0;})("blur",function(){return n._closeButtonFocused=!1;})("click",function(){return n.datepicker.close();}),T(4),p()()),e&2&&(vt("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal),lt("aria-modal",!0)("aria-labelledby",n._dialogLabelId??void 0),c(),be(n.datepicker.panelClass),m("id",n.datepicker.id)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("startDateAccessibleName",n.startDateAccessibleName)("endDateAccessibleName",n.endDateAccessibleName),c(),m("cdkPortalOutlet",n._actionsPortal),c(),vt("cdk-visually-hidden",!n._closeButtonFocused),m("color",n.color||"primary"),c(),z(n._closeButtonText));},dependencies:[xN,Wk,Md,Tv],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0});}return i;})();var hAe=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["","matDatepickerToggleIcon",""]]});}return i;})(),gAe=(()=>{class i{_intl=N(uh);_changeDetectorRef=N($t);_stateChanges=ht.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled;}set disabled(t){this._disabled=t;}_disabled;disableRipple;_customIcon;_button;constructor(){let t=N(new na("tabindex"),{optional:!0}),e=Number(t);this.tabIndex=e||e===0?e:null;}ngOnChanges(t){t.datepicker&&this._watchStateChanges();}ngOnDestroy(){this._stateChanges.unsubscribe();}ngAfterContentInit(){this._watchStateChanges();}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation());}_watchStateChanges(){let t=this.datepicker?this.datepicker.stateChanges:ge(),e=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ge(),n=this.datepicker?no(this.datepicker.openedStream,this.datepicker.closedStream):ge();this._stateChanges.unsubscribe(),this._stateChanges=no(this._intl.changes,t,e,n).subscribe(()=>this._changeDetectorRef.markForCheck());}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,n,o){if(e&1&&on(o,hAe,5),e&2){let a;qe(a=Ye())&&(n._customIcon=a.first);}},viewQuery:function(e,n){if(e&1&&Et(tAe,5),e&2){let o;qe(o=Ye())&&(n._button=o.first);}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,n){e&1&&b("click",function(a){return n._open(a);}),e&2&&(lt("tabindex",null)("data-mat-calendar",n.datepicker?n.datepicker.id:null),vt("mat-datepicker-toggle-active",n.datepicker&&n.datepicker.opened)("mat-accent",n.datepicker&&n.datepicker.color==="accent")("mat-warn",n.datepicker&&n.datepicker.color==="warn"));},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",gt],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Oi],ngContentSelectors:nAe,decls:4,vars:7,consts:[["button",""],["matIconButton","","type","button",3,"tabIndex","disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,n){e&1&&(xi(iAe),u(0,"button",1,0),Ti(2,rAe,2,0,":svg:svg",2),Vt(3),p()),e&2&&(m("tabIndex",n.disabled?-1:n.tabIndex)("disabled",n.disabled)("disableRipple",n.disableRipple),lt("aria-haspopup",n.datepicker?"dialog":null)("aria-label",n.ariaLabel||n._intl.openCalendarLabel)("aria-expanded",n.datepicker?n.datepicker.opened:null),c(2),Ii(n._customIcon?-1:2));},dependencies:[hA],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0});}return i;})();var Bk=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({providers:[uh,_Ae],imports:[gA,Ls,K0,Ic,qt,fAe,gAe,iW,Nd]});}return i;})();var nW=(()=>{let r=class r{constructor(){}ngOnInit(){}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["app-page-not-found"]],standalone:!1,decls:2,vars:0,consts:()=>{let e;return e=" Page not found!\n",[e];},template:function(n,o){n&1&&(u(0,"h3"),P(1,0),p());},encapsulation:2});let i=r;return i;})();var Dl=(()=>{let r=class r{constructor(e,n){this.$http=e,this.appService=n,this.fetchStatus=o=>this.$http.get(this.getUrl(o,"status")),this.startArchive=o=>this.$http.post(this.getUrl(o,"start"),{}),this.stopArchive=o=>this.$http.post(this.getUrl(o,"stop"),{}),this.reloadArchive=o=>this.$http.post(this.getUrl(o,"reload"),{});}removeSlashOnTheEndOfUrl(e){return e&&e!=""&&e.slice(-1)==="/"?e.slice(0,-1):e;}getUrl(e,n){return e?`${this.removeSlashOnTheEndOfUrl(e)}/dcm4chee-arc/ctrl/${n}`.replace("/dcm4chee-arc/dcm4chee-arc","/dcm4chee-arc"):`${I.addLastSlash(this.appService.baseUrl)}ctrl/${n}`;}getTableSchema(){return[{title:"&nbsp;",code:"actions",pxWidth:123,calculatedWidth:"20%"},{title:"Device Name",code:"dcmuiDeviceURLName",description:"Archive device name",widthWeight:1,calculatedWidth:"20%"},{title:"Device Description",code:"dicomDescription",description:"Archive device description",widthWeight:3,calculatedWidth:"20%"},{title:"Manufacturer",code:"dicomManufacturer",description:"Manufacturer",widthWeight:1,calculatedWidth:"20%"},{title:"Model Name",code:"dicomManufacturerModelName",description:"Manufacturer model name",widthWeight:1,calculatedWidth:"20%"},{title:"Primary Device Type",code:"dicomPrimaryDeviceType",widthWeight:1,calculatedWidth:"20%"},{title:"Software version",code:"dicomSoftwareVersion",widthWeight:1,calculatedWidth:"20%"}];}getMyArchivesFromConfig(e,n,o){let a={};try{this.appService.global.uiConfig.dcmuiDeviceClusterObject.filter(l=>{let _=!1;return l.dcmuiDeviceClusterDevices.forEach(f=>{(f===this.appService.archiveDeviceName||f.dcmuiDeviceURLName===this.appService.archiveDeviceName)&&(_=!0);}),_;})[0].dcmuiDeviceClusterDevices.forEach((l,_)=>{this.appService.global.uiConfig.dcmuiDeviceURLObject.forEach(f=>{(f.dcmuiDeviceURLName===l||f.dcmuiDeviceURLName===l.dcmuiDeviceURLName)&&(a[f.dcmuiDeviceURLName]=f);});});}catch{a=this.getArchiveDevices(a);}n.forEach(s=>{A(a,s.dicomDeviceName)&&(a[s.dicomDeviceName]=a[s.dicomDeviceName]||{},Object.assign(a[s.dicomDeviceName],s));}),o.call(e,a);}getArchiveDevices(e){try{if(I.is(this.appService,"dcm4cheeArcConfig.hasMoreThanOneBaseUrl",!0)){let n=B(this.appService,"dcm4cheeArcConfig");B(n,"dcm4chee-arc-urls").forEach(o=>{let a=n.deviceNameUrlMap[o];e[a]={dcmuiDeviceURLName:a,dcmuiDeviceURL:o};});}else if(this.appService&&(this.appService.archiveDeviceName||A(this.appService,"archiveDevice.dicomDeviceName"))){let n=this.appService.archiveDeviceName||B(this.appService,"archiveDevice.dicomDeviceName");e[n]={dcmuiDeviceURLName:n};}}catch(n){console.error(n);}return e;}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var Xt=(()=>{let r=class r{constructor(e,n,o){this.$http=e,this.dialog=n,this.appService=o,this.headers=new At({"Content-Type":"application/json"});}removeEmptyFieldsFromExporter(e){return he(e,(n,o)=>{(n===""||n===void 0)&&delete e[o];}),e;}changeAetOnClone(e,n){A(e,"dicomNetworkAE")&&dn(e.dicomNetworkAE)>0&&he(e.dicomNetworkAE,(o,a)=>{A(o,"dicomAETitle")&&(o.dicomAETitle=this.generateNewAETitle(o.dicomAETitle,1,0,n,"dicomAETitle"));});}changeWebAppOnClone(e,n){A(e,"dcmDevice.dcmWebApp")&&dn(e.dcmDevice.dcmWebApp)>0&&he(e.dcmDevice.dcmWebApp,(o,a)=>{A(o,"dcmWebAppName")&&(o.dcmWebAppName=this.generateNewTitle(o.dcmWebAppName,n,"dcmWebAppName"));});}changeHl7ApplicationNameOnClone(e,n){A(e,"dcmDevice.hl7Application")&&dn(e.dcmDevice.hl7Application)>0&&he(e.dcmDevice.hl7Application,(o,a)=>{A(o,"hl7ApplicationName")&&(o.hl7ApplicationName=this.generateNewTitle(o.hl7ApplicationName,n,"hl7ApplicationName"));});}createDevice(e,n){return this.$http.post(`${I.addLastSlash(this.appService.baseUrl)}devices/${e}`,n,this.headers);}saveDeviceChanges(e,n){return this.$http.put(`${I.addLastSlash(this.appService.baseUrl)}devices/${e}`,n,this.headers);}getDevices(){return this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}devices`);}getDevice(e){return this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}devices/${e}`);}cloneVendorData(e,n){return this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}devices/${e.trim()}/vendordata`,{responseType:"blob"}).pipe(ot(o=>this.$http.put(`${I.addLastSlash(this.appService.baseUrl)}devices/${n.trim()}/vendordata`,o,new At({"Content-Type":"application/zip"}))));}getAes(){return this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}aes`);}generateNewTitle(e,n,o){let a;if($c(e,"_CLONE"))a=e+"(1)";else if($c(e,")")){let s=Cu(e,"("),l=mi(s);s.pop(),l=Pn(l,")","");let _=To(l);a=s+"("+V_(_,1)+")";}else a=e+"_CLONE";return this.nodeExists(a,n,o)?this.generateNewTitle(a,n,o):a;}generateNewAETitle(e,n,o,a,s){let l;if(e.length>16)l=this.newAETitleFrom(e,15);else{let f=To(e.slice(-1)),g=Vc(f);l=e.length<16?g?e+1:e.slice(0,-1)+(f+1):g?e.slice(0,-1)+1:f<9?e.slice(0,-1)+(f+1):this.newAETitleFrom(e,15);}let _=this.nodeExists(l,a,s);return _&&l.length==16&&o==9&&(n=n+1,l=this.newAETitleFrom(e,16-n)),_?this.generateNewAETitle(l,n,o,a,s):l;}newAETitleFrom(e,n){let o=e.substring(0,n),a=To(o.slice(-1));return Vc(a)?o+1:o.slice(0,-1)+(a+1);}nodeExists(e,n,o){return n&&da(n,function(a){return A(a,o)&&a[o]==e;})>-1;}selectParameters(e,n,o,a,s,l){let _=function(f){let g={content:"Reschedule task",doNotSave:!0,form_schema:[[[{tag:"label",text:"Device"},{tag:"select",options:f,showStar:!0,filterKey:"newDeviceName",description:"Device",placeholder:"Device"}],[{tag:"label",text:"Schedule at (if not set, schedule immediately)"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{}},saveButton:"SUBMIT"};if(a){let S=s||Array.from(Array(13).keys()).map(x=>{let D=`Retrieve${x+1}`;return new G(D,D);});g.form_schema[0].push([{tag:"label",text:"Queue Name"},{tag:"select",options:S,filterKey:"newQueueName",description:"Queue Name",placeholder:"Queue Name"}]);}return g;};this.openDialog(_(n)).subscribe(e);}selectParametersForMatching(e,n,o,a){let s=function(l){let _={content:"Reschedule all matching tasks",doNotSave:!0,form_schema:[[[{tag:"label",text:"Device"},{tag:"multi-select",options:l,showStar:!0,filterKey:"newDeviceName",description:"Device",placeholder:"Device"}],[{tag:"label",text:"Schedule at (if not set, schedule immediately)"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{}},saveButton:"SUBMIT"};if(o){let f=a||Array.from(Array(13).keys()).map(g=>{let S=`Retrieve${g+1}`;return new G(S,S);});_.form_schema[0].push([{tag:"label",text:"Queue Name"},{tag:"select",options:f,filterKey:"newQueueName",description:"Queue Name",placeholder:"Queue Name"}]);}return _;};this.openDialog(s(n)).subscribe(e);}openDialog(e,n,o){return this.dialogRef=this.dialog.open(Ei,{height:o||"auto",width:n||"500px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}getFiltersSchema(){return I.prepareFlatFilterObject([{tag:"input",type:"text",filterKey:"dicomDeviceName",description:"Device Name",placeholder:"Device Name"},{tag:"input",type:"text",filterKey:"dicomDeviceDescription",description:"Device Description",placeholder:"Device Description"},{tag:"input",type:"text",filterKey:"dicomManufacturer",description:"Manufacturer",placeholder:"Manufacturer"},{tag:"input",type:"text",filterKey:"dicomManufacturerModelName",description:"Manufacturer model name",placeholder:"Manufacturer model name"},{tag:"input",type:"text",filterKey:"dicomSoftwareVersion",description:"Software version",placeholder:"Software version"},{tag:"input",type:"text",filterKey:"dicomStationName",description:"Station Name",placeholder:"Station Name"},{tag:"input",type:"text",filterKey:"dicomPrimaryDeviceType",description:"Primary Device Type",placeholder:"Primary Device Type"},{tag:"input",type:"text",filterKey:"dicomInstitutionName",description:"Institution Name",placeholder:"Institution Name"},{tag:"input",type:"text",filterKey:"dicomInstitutionDepartmentName",description:"Institution department name",placeholder:"Institution department name"},{tag:"select",options:[new G("true","Installed"),new G("false","Not installed")],showStar:!0,filterKey:"dicomInstalled",description:"Device installed",placeholder:"Installed"},{tag:"button",id:"submit",text:"SUBMIT",description:"Query Devices"}],2);}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(ri),K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var vAe=()=>({id:"tab-configuration->devices",param:"visible"}),CAe=()=>({id:"tab-configuration->ae_list",param:"visible"}),yAe=()=>({id:"tab-configuration->web_apps_list",param:"visible"}),bAe=()=>({id:"tab-configuration->hl7_applications",param:"visible"}),SAe=()=>({id:"tab-monitoring->control",param:"visible"}),Ml=(()=>{let r=class r{};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["config-tab"]],standalone:!1,decls:16,vars:10,consts:()=>{let e;e="Devices";let n;n="AE list";let o;o="Web Apps list";let a;a="Hl7 Applications";let s;return s="Control",[e,n,o,a,s,["role","tablist",1,"nav","nav-tabs"],["role","presentation","routerLinkActive","active",3,"permission"],["aria-controls","device_modus","routerLink","/device/devicelist","role","tab","routerLinkActive","active"],["aria-controls","aet_modus","routerLink","/device/aelist","role","tab","routerLinkActive","active"],["aria-controls","aet_modus","routerLink","/device/webappslist","role","tab","routerLinkActive","active"],["aria-controls","aet_modus","routerLink","/device/hl7applications","role","tab","routerLinkActive","active"],["role","tab","routerLink","/monitoring/control","routerLinkActive","active"]];},template:function(n,o){n&1&&(u(0,"ul",5)(1,"li",6)(2,"a",7),P(3,0),p()(),u(4,"li",6)(5,"a",8),P(6,1),p()(),u(7,"li",6)(8,"a",9),P(9,2),p()(),u(10,"li",6)(11,"a",10),P(12,3),p()(),u(13,"li",6)(14,"a",11),P(15,4),p()()()),n&2&&(c(),m("permission",Ke(5,vAe)),c(3),m("permission",Ke(6,CAe)),c(3),m("permission",Ke(7,yAe)),c(3),m("permission",Ke(8,bAe)),c(3),m("permission",Ke(9,SAe)));},dependencies:[Mr,Tc,xn],encapsulation:2});let i=r;return i;})();var rW=i=>({width:i}),EAe=(i,r)=>({running:i,"not-running":r}),TAe=i=>({active:i});function IAe(i,r){if(i&1&&$(0,"div",9),i&2){let t=r.$implicit;m("ngStyle",ne(2,rW,t.calculatedWidth))("innerHtml",t.title,Re);}}function xAe(i,r){if(i&1){let t=O();U(0),u(1,"div",13)(2,"div",14),b("click",function(){C(t);let n=d(2).$implicit,o=d();return y(o.toggleState(o.devices[n]));}),p(),u(3,"div",15),b("click",function(){C(t);let n=d(2).$implicit,o=d();return y(o.reload(o.devices[n]));}),p(),u(4,"div",16),b("click",function(){C(t);let n=d(2).$implicit,o=d();return y(o.fetchStatus(o.devices[n]));}),p(),u(5,"div",17),b("click",function(){C(t);let n=d(2).$implicit,o=d();return y(o.setAsDefaultDevice(o.devices[n]));}),p()(),W();}if(i&2){let t=d(2).$implicit,e=d();c(2),m("ngClass",yn(4,EAe,e.devices[t].status==="STARTED",e.devices[t].status==="STOPPED")),c(3),m("title",X(e.iconTexts.activations.hoverText(e.devices[t])))("ngClass",ne(7,TAe,e.appService.dcm4cheeArcConfig.deviceNameUrlMap[e.devices[t].dcmuiDeviceURL]===e.appService.archiveDeviceName));}}function AAe(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d();c(),ue(" ",n.devices[e][t.code]," ");}}function wAe(i,r){if(i&1&&(u(0,"div",11),E(1,xAe,6,9,"ng-container",12)(2,AAe,2,1,"ng-container",12),p()),i&2){let t=r.$implicit;m("ngStyle",ne(3,rW,t.calculatedWidth)),c(),m("ngIf",t.code==="actions"),c(),m("ngIf",t.code!="actions");}}function DAe(i,r){if(i&1&&(u(0,"div",5),E(1,wAe,3,5,"div",10),p()),i&2){let t=d();c(),m("ngForOf",t.tableSchema);}}var oW=(()=>{let r=class r{constructor(e,n,o,a,s,l){this.$http=e,this.appService=n,this.cfpLoadingBar=o,this.service=a,this.devicesService=s,this.httpErrorHandler=l,this.message="",this.devices={},this.Object=Object,this.iconTexts={activations:{hoverText:_=>{try{return this.appService.dcm4cheeArcConfig.deviceNameUrlMap[_.dcmuiDeviceURL]===this.appService.archiveDeviceName?"This device is currently active":"Activate this device";}catch{return"Activate this device";}}}};}ngOnInit(){this.initCheck(10);}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.appService,"global.notSecure")&&this.appService.global.notSecure?this.init():e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){this.getDevices(),this.tableSchema=I.calculateWidthOfTable(this.service.getTableSchema());}fetchStatuses(e){Object.keys(this.devices).forEach(n=>{this.fetchStatus(this.devices[n]);});}fetchStatus(e){this.service.fetchStatus(e.dcmuiDeviceURL).subscribe(n=>{e.status=n.status,this.appService.showMsg("Status of "+e.dcmuiDeviceURLName+" was successfully refetched!");},n=>{console.error("Status not fetchable",n),this.httpErrorHandler.handleError(n);});}start(e){this.cfpLoadingBar.start(),this.service.startArchive(e.dcmuiDeviceURL).subscribe(n=>{this.fetchStatuses(),this.appService.showMsg("Archive "+e.dcmuiDeviceURLName+"\n started successfully"),this.cfpLoadingBar.complete();},n=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}stop(e){this.cfpLoadingBar.start(),this.service.stopArchive(e.dcmuiDeviceURL).subscribe(n=>{this.fetchStatuses(),this.appService.showMsg("Archive "+e.dcmuiDeviceURLName+"\n stopped successfully"),this.cfpLoadingBar.complete();},n=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}reload(e){this.cfpLoadingBar.start(),this.service.reloadArchive(e.dcmuiDeviceURL).subscribe(n=>{this.appService.showMsg("Archive "+e.dcmuiDeviceURLName+"\n reloaded successfully"),this.cfpLoadingBar.complete();},n=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}toggleState(e){e.status&&e.status==="STARTED"?this.stop(e):this.start(e);}setAsDefaultDevice(e){this.appService.baseUrl=e.dcmuiDeviceURL,A(this.appService,"dcm4cheeArcConfig.deviceNameUrlMap")&&this.appService.dcm4cheeArcConfig.deviceNameUrlMap[e.dcmuiDeviceURL]&&(this.appService.archiveDeviceName=this.appService.dcm4cheeArcConfig.deviceNameUrlMap[e.dcmuiDeviceURL]);}getDevices(){this.devicesService.getDevices().subscribe(e=>{this.service.getMyArchivesFromConfig(this,e,n=>{this.devices=n,this.fetchStatuses();});},e=>{this.httpErrorHandler.handleError(e);});}};r.ɵfac=function(n){return new(n||r)(k(Fe),k(le),k(ti),k(Dl),k(Xt),k(Pt));},r.ɵcmp=Z({type:r,selectors:[["app-control"]],standalone:!1,decls:11,vars:2,consts:()=>{let e;e="Archive Control";let n;n="Reload archive";let o;return o="Fetch status",[e,[1,"main_content","ctrl","white_design"],[1,"tab-content"],[1,"dynamic_table","j4care-table"],[1,"table_header"],[1,"tr"],["class","th",3,"ngStyle","innerHtml",4,"ngFor","ngForOf"],[1,"table_body"],["class","tr",4,"ngFor","ngForOf"],[1,"th",3,"ngStyle","innerHtml"],["class","td",3,"ngStyle",4,"ngFor","ngForOf"],[1,"td",3,"ngStyle"],[4,"ngIf"],[1,"action_list"],[1,"pointer","action_button","glyphicon","glyphicon-off",3,"click","ngClass"],["title",n,1,"pointer","action_button","glyphicon","glyphicon-repeat",3,"click"],["title",o,1,"pointer","action_button","glyphicon","glyphicon-refresh",3,"click"],[1,"pointer","action_button","glyphicon","glyphicon-ok-circle",3,"click","title","ngClass"]];},template:function(n,o){n&1&&(u(0,"div",1),$(1,"config-tab"),u(2,"div",2)(3,"h2"),P(4,0),p(),u(5,"div",3)(6,"div",4)(7,"div",5),E(8,IAe,1,4,"div",6),p()(),u(9,"div",7),E(10,DAe,2,1,"div",8),p()()()()),n&2&&(c(8),m("ngForOf",o.tableSchema),c(2),m("ngForOf",o.Object.keys(o.devices)));},dependencies:[Je,ve,de,wn,Ml],styles:[".action_list[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:green}"]});let i=r;return i;})();var J=class{constructor(r={}){this._type=r.type,this._header=r.header,this._headerDescription=r.headerDescription,this._pathToValue=r.pathToValue,this.widthWeight=r.widthWeight,this.cssClass=r.cssClass,this.hook=r.hook,this.hoverHook=r.hoverHook,this.actions=r.actions,this.headerActions=r.headerActions,this.calculatedWidth=r.calculatedWidth,this.pipe=r.pipe,this.pxWidth=r.pxWidth,this.title=r.title,this.menu=r.menu,this.description=r.description,this.showIf=r.showIf,this.showBorder=r.showBorder,this.hideTooltip=r.hideTooltip,this.showBorderPath=r.showBorderPath,this.saveTheOriginalValueOnTooltip=r.saveTheOriginalValueOnTooltip,this.calculateElementID();}calculateElementID(){let r="";["_type","_header","_headerDescription","_pathToValue"].forEach(t=>{typeof this[t]=="string"&&(r+=`${this[t]?this[t].replace(/([ \[\]\"\'\.])/mg,""):""}`);}),this._elementId=r;}get elementId(){return this._elementId;}set type(r){this._type=r,this.calculateElementID();}get type(){return this._type;}set header(r){this._header=r,this.calculateElementID();}get header(){return this._header;}set headerDescription(r){this._headerDescription=r,this.calculateElementID();}get headerDescription(){return this._headerDescription;}set pathToValue(r){this._pathToValue=r,this.calculateElementID();}get pathToValue(){return this._pathToValue;}};var Di=class{constructor(r,t){this._pipeToken=r,this._pipeArgs=t;}get pipeToken(){return this._pipeToken;}set pipeToken(r){this._pipeToken=r;}get pipeArgs(){return this._pipeArgs;}set pipeArgs(r){this._pipeArgs=r;}};var Ji=(()=>{let r=class r{transform(e,n){try{if(e&&typeof e=="string"||A(e,"Value[0]")&&typeof B(e,"Value[0]")=="string"){let o;if(A(e,"Value[0]")?o=B(e,"Value[0]"):o=e,n){let a=I.extractDateTimeFromString(o);if(a.firstDateTime.FullYear&&a.firstDateTime.Hours)return I.formatDate(a.firstDateTime.dateObject,n.dateTimeFormat)||o;if(a.firstDateTime.FullYear&&!a.firstDateTime.Hours)return I.formatDate(a.firstDateTime.dateObject,n.dateFormat)||o;if(!a.firstDateTime.FullYear&&a.firstDateTime.Hours)return I.formatDate(a.firstDateTime.dateObject,n.timeFormat)||o;}else return o;}}catch(o){return console.groupCollapsed("Custom Date Pipe params:"),console.log("value",e),console.log("args",n),console.error("Formatting doesn't work",o),console.groupEnd(),e;}return e;}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"customDate",type:r,pure:!0,standalone:!1});let i=r;return i;})();var Ol=(()=>{let r=class r{constructor(e){this.appService=e;}getTableSchema(e){this.dateTimeFormat=A(this.appService.global,"dateTimeFormat")?this.appService.global.dateTimeFormat:void 0,this.personNameFormat=A(this.appService.global,"personNameFormat")?this.appService.global.personNameFormat:void 0;let n={dicomDeviceName:new J({type:"value",title:"Device Name",pathToValue:"dicomDeviceName",description:"Device Name",widthWeight:1,calculatedWidth:"20%"}),queue:new J({type:"value",title:"Queue Name",pathToValue:"queue",description:"Queue Name",widthWeight:1,calculatedWidth:"20%"}),createdTime:new J({type:"value",title:"Created time",pathToValue:"createdTime",description:"Created time",widthWeight:1.4,calculatedWidth:"20%",pipe:new Di(Ji,[this.dateTimeFormat])}),createdDate:new J({type:"value",title:"Created Date",pathToValue:"createdDate",description:"Created Date",widthWeight:1,calculatedWidth:"20%",pipe:new Di(Ji,[this.dateTimeFormat])}),updateTime:new J({type:"value",title:"Updated time",pathToValue:"updatedTime",description:"Updated time",widthWeight:1.4,calculatedWidth:"20%"}),scheduledTime:new J({type:"value",title:"Scheduled Time",pathToValue:"scheduledTime",description:"Scheduled Time",widthWeight:1.4,calculatedWidth:"20%"}),processingStartTime_scheduledTime:new J({type:"value",title:"Process Delay",description:"Process Delay",hook:o=>o?I.getDifferenceTime(o.scheduledTime,o.processingStartTime):"",widthWeight:1.4,calculatedWidth:"20%"}),processingEndTime_processingStartTime:new J({type:"value",title:"Process Time",description:"Process Time",hook:o=>o?I.getDifferenceTime(o.processingStartTime,o.processingEndTime):"",widthWeight:1.4,calculatedWidth:"20%"}),LocalAET:new J({type:"value",title:"Local AET",pathToValue:"LocalAET",description:"Local AET",widthWeight:1,calculatedWidth:"20%",cssClass:"hideOn1100px"}),RemoteAET:new J({type:"value",title:"Remote AET",pathToValue:"RemoteAET",description:"Remote AET",widthWeight:1,calculatedWidth:"20%"}),ExporterID:new J({type:"value",title:"Exporter ID",pathToValue:"ExporterID",description:"Exporter ID",widthWeight:1,calculatedWidth:"20%"}),Modality:new J({type:"value",title:"Modality",pathToValue:"Modality",description:"Modality",widthWeight:.9,calculatedWidth:"20%"}),NumberOfInstances:new J({type:"value",header:"#I",pathToValue:"NumberOfInstances",headerDescription:"Number of Study Related Instances",widthWeight:.8,calculatedWidth:"20%"}),DestinationAET:new J({type:"value",title:"Destination AET",pathToValue:"DestinationAET",description:"Destination AET",widthWeight:1,calculatedWidth:"20%",cssClass:"hideOn1000px"}),remaining:new J({type:"value",title:"#I",description:"Completed / Remaining / Warning / Failed",hook:o=>o?`${o.completed||0} / ${o.remaining||0} / ${o.warning||0} / ${o.failed||0}`:"",widthWeight:1,calculatedWidth:"20%"}),PrimaryAET:new J({type:"value",title:"Primary AET",pathToValue:"PrimaryAET",description:"Primary AET",widthWeight:1,calculatedWidth:"20%"}),SecondaryAET:new J({type:"value",title:"Secondary AET",pathToValue:"SecondaryAET",description:"Secondary AET",widthWeight:1,calculatedWidth:"20%"}),comparefield:new J({type:"value",title:"compare",pathToValue:"comparefield",description:"compare",widthWeight:1,calculatedWidth:"20%",cssClass:"hideOn800px"}),matches:new J({type:"value",title:"#S",description:"Missing / Different",hook:o=>`${o.missing||0} / ${o.different||0}`,widthWeight:.8,calculatedWidth:"20%"}),StorageID:new J({type:"value",title:"Storage ID",pathToValue:"StorageID",description:"Storage ID",widthWeight:1,calculatedWidth:"20%"}),StgCmtPolicy:new J({type:"value",title:"Stg.Ver.Policy",pathToValue:"StgCmtPolicy",description:"Stg.Ver.Policy",widthWeight:1,calculatedWidth:"20%"}),completed_failed:new J({type:"value",title:"#I",description:"Completed / Failed",hook:o=>`${o.completed||0} / ${o.failed||0}`,widthWeight:1,calculatedWidth:"20%"}),status:new J({type:"value",title:"Status",pathToValue:"status",description:"Status",hoverHook:o=>A(o,"outcomeMessage")&&o.outcomeMessage!=""?B(o,"outcomeMessage"):A(o,"errorMessage")&&o.errorMessage!=""?B(o,"errorMessage"):B(o,"status"),widthWeight:.9,calculatedWidth:"20%",cssClass:"hideOn1100px"}),failures:new J({type:"value",title:"Failures",pathToValue:"failures",description:"Failures",hoverHook:o=>A(o,"errorMessage")?o.errorMessage:B(o,"failures"),widthWeight:.8,calculatedWidth:"20%"}),batchID:new J({type:"value",title:"Batch ID",pathToValue:"batchID",description:"Batch ID",widthWeight:1,calculatedWidth:"20%",cssClass:"hideOn800px"}),id:new J({type:"value",title:"Id",header:"Id",widthWeight:1,pathToValue:"id"}),name:new J({type:"value",title:"Name",header:"Name",widthWeight:1.5,pathToValue:"name"})};if(e){let o=[];return e.forEach(a=>{if(a){if(typeof a=="string")n[a]&&o.push(n[a]);else if(a.key&&n[a.key])if(a.overwrite){let s=Wo(n[a.key]);Object.keys(a.overwrite).forEach(l=>{s[l]=a.overwrite[l];}),o.push(s);}else o.push(n[a.key]);}}),o;}return Object.keys(n).map(o=>n[o]);}stringifyRangeArray(e){try{let n=new Ji();return`${n.transform(e[0],this.dateTimeFormat)} - ${n.transform(e[1],this.dateTimeFormat)}`;}catch{return e;}}getTimeColumnBasedOnFilter(e){if(I.is(e,"orderby"))return e.orderby.indexOf("updatedTime")>-1?["updateTime"]:e.orderby.indexOf("createdTime")>-1?["createdTime"]:e.orderby.indexOf("scheduledTime")>-1?["scheduledTime"]:["updateTime","createdTime","scheduledTime"];}};r.ɵfac=function(n){return new(n||r)(K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac,providedIn:"root"});let i=r;return i;})();var SA=(()=>{let r=class r{constructor(e,n,o,a){this.$http=e,this.mainservice=n,this.deviceService=o,this.tableService=a,this.header=new At({"Content-Type":"application/json"});}search(e,n,o,a,s,l,_,f,g,S,x,D){return this.$http.get(this.url(e)+"?"+this.mainservice.param(this.queryParams(n,o,a,s,l,_,f,g,S,x,D)));}getCount(e,n,o,a,s,l,_,f,g,S,x,D){return this.$http.get(this.url(e)+"/count?"+this.mainservice.param(this.queryParams(n,o,a,s,l,_,f,g,S,x,D)));}cancel(e,n){return this.$http.post(this.url3(e,n,"cancel"),{},this.header);}cancelAll(e,n){let o=this.mainservice.param(e);return o=o?`?${o}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}queue/${n}/cancel${o}`,{},this.header);}reschedule(e,n,o){let a=this.mainservice.param(o);return a=a?`?${a}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}queue/${e}/${n}/reschedule${a}`,{},this.header);}rescheduleAll(e,n){let o=this.mainservice.param(e);return o=o?`?${o}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}queue/${n}/reschedule${o}`,{},this.header);}delete(e,n){return this.$http.delete(this.url2(e,n));}deleteAll(e,n){let o=this.mainservice.param(e);return o=o?`?${o}`:"",this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}queue/${n}${o}`,this.header);}url(e){return`${I.addLastSlash(this.mainservice.baseUrl)}queue/${e}`;}url2(e,n){return this.url(e)+"/"+n;}url3(e,n,o){return this.url2(e,n)+"/"+o;}config(e){console.log("paramsconfig",e);let n=new At({"Content-Type":"application/json"});return n.append("params",e),n;}queryParams(e,n,o,a,s,l,_,f,g,S,x){let D={offset:n,limit:o,dicomDeviceName:a,status:void 0,createdTime:s,updatedTime:l,batchID:_,localAET:f,remoteAET:g,StudyInstanceUID:x,orderby:void 0};return S!="*"&&(D.orderby=S),e!="*"&&(D.status=e),D;}getDevices(){return this.deviceService.getDevices();}sortValues(){return[{value:"createdTime",text:"Sort by creation time (ASC)"},{value:"-createdTime",text:"Sort by creation time (DESC)"},{value:"updatedTime",text:"Sort by updated time (ASC)"},{value:"-updatedTime",text:"Sort by updated time (DESC)"},{value:"scheduledTime",text:"Sort by scheduled time (ASC)"},{value:"-scheduledTime",text:"Sort by scheduled time (DESC)"}];}statuses(){return[{value:"SCHEDULED",text:"SCHEDULED"},{value:"SCHEDULED FOR RETRY",text:"S. FOR RETRY"},{value:"IN PROCESS",text:"IN PROCESS"},{value:"COMPLETED",text:"COMPLETED"},{value:"WARNING",text:"WARNING"},{value:"FAILED",text:"FAILED"},{value:"CANCELED",text:"CANCELED"}];}getFilterSchema(e,n,o,a,s){return[{tag:"html-select",options:e.map(l=>({text:l.description||l.name,value:l.name})),filterKey:"queueName",showSearchField:!0,description:"Queue Name",placeholder:"Queue"},{tag:"select",options:this.sortValues(),filterKey:"orderby",description:"Sort",placeholder:"Sort"},{tag:"select",options:this.statuses(),showStar:!0,filterKey:"status",description:"Status",placeholder:"Status"},{tag:"html-select",options:n,showStar:!0,showSearchField:!0,filterKey:"dicomDeviceName",description:"Device Name",placeholder:"Device Name"},{tag:"label",text:"Page Size"},{tag:"input",type:"number",filterKey:"limit",description:"Limit"},{tag:"range-picker",filterKey:"createdTime",description:"Created Date"},{tag:"range-picker",filterKey:"updatedTime",description:"Updated Date"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"},{tag:"html-select",options:I.mapAetToDropdown(o),showStar:!0,showSearchField:!0,filterKey:"localAET",placeholder:"Local AET",description:"Archive AE Title to filter by"},{tag:"html-select",options:I.mapAetToDropdown(a),showStar:!0,showSearchField:!0,filterKey:"remoteAET",placeholder:"Remote AET",description:"Remote AE Title to filter by"},{tag:"input",type:"text",filterKey:"StudyInstanceUID",description:"Study Instance UID",placeholder:"Study Instance UID"},{tag:"button",text:s,id:"count",description:"Query only the count"},{tag:"button",id:"submit",text:"SUBMIT",description:"Maximal number of tasks in returned list"},{tag:"dummy"},{tag:"dummy"}];}getTableColumns(e,n,o){return[new J({type:"index",title:"#",description:"Index",calculatedWidth:"4%",pxWidth:30}),new J({type:"actions",title:"",headerActions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:(a,s)=>{a.forEach(l=>{l.selected=!0;}),s.allSelected=!0;},title:"Select",showIf:(a,s)=>!s.allSelected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:(a,s)=>{a.forEach(l=>{l.selected=!1;}),s.allSelected=!1;},title:"Unselect",showIf:(a,s)=>s.allSelected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ban-circle",text:""},click:a=>{console.log("e",a),n.call(e,"cancel-selected",a);},permission:{id:"action-monitoring->queues-single_action",param:"visible"},title:"Cancel selected"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-repeat",text:""},click:a=>{console.log("e",a),n.call(e,"reschedule-selected",a);},permission:{id:"action-monitoring->queues-single_action",param:"visible"},title:"Reschedule selected"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete-selected",a);},permission:{id:"action-monitoring->queues-single_action",param:"visible"},title:"Delete selected"}],actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:a=>{a.selected=!a.selected;},title:"Select",showIf:(a,s)=>!a.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:a=>{console.log("e",a),a.selected=!a.selected;},title:"Unselect",showIf:(a,s)=>a.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ban-circle",text:""},click:a=>{console.log("e",a),n.call(e,"cancel",a);},title:"Cancel this task",permission:{id:"action-monitoring->queues-single_action",param:"visible"},showIf:a=>a.status&&(a.status==="SCHEDULED"||a.status==="SCHEDULED FOR RETRY"||a.status==="IN PROCESS")},{icon:{tag:"span",cssClass:"glyphicon glyphicon-repeat",text:""},click:a=>{console.log("e",a),n.call(e,"reschedule",a);},title:"Reschedule this task",permission:{id:"action-monitoring->queues-single_action",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete",a);},permission:{id:"action-monitoring->queues-single_action",param:"visible"},title:"Delete this task"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:a=>{console.log("e",a),a.showAttributes=!a.showAttributes;},title:"Show details"}],description:"Actions",pxWidth:105}),...this.tableService.getTableSchema(ca(["dicomDeviceName","queue"],this.tableService.getTimeColumnBasedOnFilter(o.filterObject),["processingStartTime_scheduledTime","processingEndTime_processingStartTime","LocalAET","RemoteAET","status","failures","batchID"]))];}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le),K(Xt),K(Ol));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var un=(()=>{let r=class r{constructor(e,n,o){this.$http=e,this.devicesService=n,this.appService=o;}getAes(e){return this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}aes`);}getAets(){return this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}aets`);}getDevices(){return this.devicesService.getDevices();}echoAe(e,n,o){return this.$http.post(`${I.addLastSlash(this.appService.baseUrl)}aets/${e}/dimse/${n}${I.getUrlParams(o)}`,{});}generateEchoResponseText(e){return A(e,"errorMessage")&&e.errorMessage!==""?{title:"Error",text:e.errorMessage,status:"error"}:{title:"Info",status:"info",text:"Echo successfully accomplished!<br>- Connection time: "+e.connectionTime+" ms<br/>- Echo time: "+e.echoTime+" ms<br/>- Release time: "+e.releaseTime+" ms"};}getFiltersSchema(e,n){return I.prepareFlatFilterObject([{tag:"html-select",options:e.map(o=>({text:o.dicomDescription?`${o.dicomDescription} ( ${o.dicomDeviceName} )`:o.dicomDeviceName,value:o.dicomDeviceName})),showStar:!0,showSearchField:!0,filterKey:"dicomDeviceName",description:"Device Name",placeholder:"Device Name"},{tag:"html-select",options:n.map(o=>({value:o.dicomAETitle,text:o.dicomAETitle})),showStar:!0,showSearchField:!0,filterKey:"dicomAETitle",description:"AE Title",placeholder:"AE Title"},{tag:"input",type:"text",filterKey:"dicomDescription",description:"Description",placeholder:"Description"},{tag:"select",options:[new G("true","Yes"),new G("false","No")],showStar:!0,filterKey:"dicomAssociationInitiator",description:"Association Initiator",placeholder:"Association Initiator"},{tag:"select",options:[new G("true","Yes"),new G("false","No")],showStar:!0,filterKey:"dicomAssociationAcceptor",description:"Association Acceptor",placeholder:"Association Acceptor"},{tag:"input",type:"text",filterKey:"dicomApplicationCluster",description:"Application Cluster",placeholder:"Application Cluster"},{tag:"button",id:"submit",text:"SUBMIT",description:"Query AE List"}],2);}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(Xt),K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var Hk=(()=>{class i{_listeners=[];notify(t,e){for(let n of this._listeners)n(t,e);}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e);};}ngOnDestroy(){this._listeners=[];}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var Dv=class{_multiple;_emitChanges;compareWith;_selection=new Set();_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected;}changed=new xe();constructor(r=!1,t,e=!0,n){this._multiple=r,this._emitChanges=e,this.compareWith=n,t&&t.length&&(r?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0);}select(...r){this._verifyValueAssignment(r),r.forEach(e=>this._markSelected(e));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t;}deselect(...r){this._verifyValueAssignment(r),r.forEach(e=>this._unmarkSelected(e));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t;}setSelection(...r){this._verifyValueAssignment(r);let t=this.selected,e=new Set(r.map(o=>this._getConcreteValue(o)));r.forEach(o=>this._markSelected(o)),t.filter(o=>!e.has(this._getConcreteValue(o,e))).forEach(o=>this._unmarkSelected(o));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n;}toggle(r){return this.isSelected(r)?this.deselect(r):this.select(r);}clear(r=!0){this._unmarkAll();let t=this._hasQueuedChanges();return r&&this._emitChangeEvent(),t;}isSelected(r){return this._selection.has(this._getConcreteValue(r));}isEmpty(){return this._selection.size===0;}hasValue(){return!this.isEmpty();}sort(r){this._multiple&&this.selected&&this._selected.sort(r);}isMultipleSelection(){return this._multiple;}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[]);}_markSelected(r){r=this._getConcreteValue(r),this.isSelected(r)||(this._multiple||this._unmarkAll(),this.isSelected(r)||this._selection.add(r),this._emitChanges&&this._selectedToEmit.push(r));}_unmarkSelected(r){r=this._getConcreteValue(r),this.isSelected(r)&&(this._selection.delete(r),this._emitChanges&&this._deselectedToEmit.push(r));}_unmarkAll(){this.isEmpty()||this._selection.forEach(r=>this._unmarkSelected(r));}_verifyValueAssignment(r){r.length>1&&this._multiple;}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length);}_getConcreteValue(r,t){if(this.compareWith){t=t??this._selection;for(let e of t)if(this.compareWith(r,e))return e;return r;}else return r;}};var Tu=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[qt,Wb,HU,qt]});}return i;})();var PAe=["trigger"],RAe=["panel"],NAe=[[["mat-select-trigger"]],"*"],kAe=["mat-select-trigger","*"];function $Ae(i,r){if(i&1&&(u(0,"span",4),T(1),p()),i&2){let t=d();c(),z(t.placeholder);}}function LAe(i,r){i&1&&Vt(0);}function FAe(i,r){if(i&1&&(u(0,"span",11),T(1),p()),i&2){let t=d(2);c(),z(t.triggerValue);}}function VAe(i,r){if(i&1&&(u(0,"span",5),Ti(1,LAe,1,0)(2,FAe,2,1,"span",11),p()),i&2){let t=d();c(),Ii(t.customTrigger?1:2);}}function zAe(i,r){if(i&1){let t=O();u(0,"div",12,1),b("keydown",function(n){C(t);let o=d();return y(o._handleKeydown(n));}),Vt(2,1),p();}if(i&2){let t=d();be(Ct("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme())),vt("mat-select-panel-animations-enabled",!t._animationsDisabled),m("ngClass",t.panelClass),lt("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby());}}var qk=new se("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=N(tt);return()=>wa(i);}});function aW(i){let r=N(tt);return()=>wa(r);}var sW=new se("MAT_SELECT_CONFIG"),lW={provide:qk,deps:[],useFactory:aW},cW=new se("MatSelectTrigger"),EA=class{source;value;constructor(r,t){this.source=r,this.value=t;}},fi=(()=>{class i{_viewportRuler=N(Pp);_changeDetectorRef=N($t);_elementRef=N(ze);_dir=N(gr,{optional:!0});_idGenerator=N(bn);_renderer=N(Jt);_parentFormField=N($k,{optional:!0});ngControl=N(Wa,{self:!0,optional:!0});_liveAnnouncer=N(AN);_defaultOptions=N(sW,{optional:!0});_animationsDisabled=qi();_initialized=new xe();_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(t){let e=this.options.toArray()[t];if(e){let n=this.panel.nativeElement,o=TU(t,this.options,this.optionGroups),a=e._getHostElement();t===0&&o===1?n.scrollTop=0:n.scrollTop=IU(a.offsetTop,a.offsetHeight,n.scrollTop,n.offsetHeight);}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0);}_getChangeEvent(t){return new EA(this,t);}_scrollStrategyFactory=N(qk);_panelOpen=!1;_compareWith=(t,e)=>t===e;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new xe();_errorStateTracker;stateChanges=new xe();disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen;}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple();}set disableRipple(t){this._disableRipple.set(t);}_disableRipple=$i(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator;}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties();}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder;}set placeholder(t){this._placeholder=t,this.stateChanges.next();}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Ci.required)??!1;}set required(t){this._required=t,this.stateChanges.next();}_required;get multiple(){return this._multiple;}set multiple(t){this._selectionModel,this._multiple=t;}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith;}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection();}get value(){return this._value;}set value(t){this._assignValue(t)&&this._onChange(t);}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher;}set errorStateMatcher(t){this._errorStateTracker.matcher=t;}typeaheadDebounceInterval;sortComparator;get id(){return this._id;}set id(t){this._id=t||this._uid,this.stateChanges.next();}_id;get errorState(){return this._errorStateTracker.errorState;}set errorState(t){this._errorStateTracker.errorState=t;}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=fs(()=>{let t=this.options;return t?t.changes.pipe(nn(t),ot(()=>no(...t.map(e=>e.onSelectionChange)))):this._initialized.pipe(ot(()=>this.optionSelectionChanges));});openedChange=new ae();_openedStream=this.openedChange.pipe(Zt(t=>t),me(()=>{}));_closedStream=this.openedChange.pipe(Zt(t=>!t),me(()=>{}));selectionChange=new ae();valueChange=new ae();constructor(){let t=N(vU),e=N(LR,{optional:!0}),n=N(cl,{optional:!0}),o=N(new na("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new _A(t,this.ngControl,n,e,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id;}ngOnInit(){this._selectionModel=new Dv(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Bn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges());});}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Bn(this._destroy)).subscribe(t=>{t.added.forEach(e=>e.select()),t.removed.forEach(e=>e.deselect());}),this.options.changes.pipe(nn(null),Bn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection();});}ngDoCheck(){let t=this._getTriggerAriaLabelledby(),e=this.ngControl;if(t!==this._triggerAriaLabelledBy){let n=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?n.setAttribute("aria-labelledby",t):n.removeAttribute("aria-labelledby");}e&&(this._previousControl!==e.control&&(this._previousControl!==void 0&&e.disabled!==null&&e.disabled!==this.disabled&&(this.disabled=e.disabled),this._previousControl=e.control),this.updateErrorState());}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval);}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal();}toggle(){this.panelOpen?this.close():this.open();}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(vn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled();}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)));}_trackedModal=null;_applyModalPanelOwnership(){let t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let e=`${this.id}-panel`;this._trackedModal&&$N(this._trackedModal,"aria-owns",e),G9(t,"aria-owns",e),this._trackedModal=t;}_clearFromModal(){if(!this._trackedModal)return;let t=`${this.id}-panel`;$N(this._trackedModal,"aria-owns",t),this._trackedModal=null;}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)));}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return;}this._cleanupDetach?.(),this._cleanupDetach=()=>{e(),clearTimeout(n),this._cleanupDetach=void 0;};let t=this.panel.nativeElement,e=this._renderer.listen(t,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay());}),n=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay();},200);t.classList.add("mat-select-panel-exit");}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck();}writeValue(t){this._assignValue(t);}registerOnChange(t){this._onChange=t;}registerOnTouched(t){this._onTouched=t;}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next();}get panelOpen(){return this._panelOpen;}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0];}get triggerValue(){if(this.empty)return"";if(this._multiple){let t=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&t.reverse(),t.join(", ");}return this._selectionModel.selected[0].viewValue;}updateErrorState(){this._errorStateTracker.updateErrorState();}_isRtl(){return this._dir?this._dir.value==="rtl":!1;}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t));}_handleClosedKeydown(t){let e=t.keyCode,n=e===40||e===38||e===37||e===39,o=e===13||e===32,a=this._keyManager;if(!a.isTyping()&&o&&!Or(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;a.onKeydown(t);let l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4);}}_handleOpenKeydown(t){let e=this._keyManager,n=t.keyCode,o=n===40||n===38,a=e.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(!a&&(n===13||n===32)&&e.activeItem&&!Or(t))t.preventDefault(),e.activeItem._selectViaInteraction();else if(!a&&this._multiple&&n===65&&t.ctrlKey){t.preventDefault();let s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect());});}else{let s=e.activeItemIndex;e.onKeydown(t),this._multiple&&o&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==s&&e.activeItem._selectViaInteraction();}}_handleOverlayKeydown(t){t.keyCode===27&&!Or(t)&&(t.preventDefault(),this.close());}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next());}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next());}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:"";}get empty(){return!this._selectionModel||this._selectionModel.isEmpty();}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next();});}_setSelectionByValue(t){if(this.options.forEach(e=>e.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(e=>this._selectOptionByValue(e)),this._sortValues();else{let e=this._selectOptionByValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1);}this._changeDetectorRef.markForCheck();}_selectOptionByValue(t){let e=this.options.find(n=>{if(this._selectionModel.isSelected(n))return!1;try{return(n.value!=null||this.canSelectNullableOptions)&&this._compareWith(n.value,t);}catch{return!1;}});return e&&this._selectionModel.select(e),e;}_assignValue(t){return t!==this._value||this._multiple&&Array.isArray(t)?(this.options&&this._setSelectionByValue(t),this._value=t,!0):!1;}_skipPredicate=t=>this.panelOpen?!1:t.disabled;_getOverlayWidth(t){return this.panelWidth==="auto"?(t instanceof k_?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth;}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck();}_initKeyManager(){this._keyManager=new ev(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close());}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction();});}_resetOptions(){let t=no(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Bn(t)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus());}),no(...this.options.map(e=>e._stateChanges)).pipe(Bn(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next();});}_onSelect(t,e){let n=this._selectionModel.isSelected(t);!this.canSelectNullableOptions&&t.value==null&&!this._multiple?(t.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(t.value)):(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next();}_sortValues(){if(this.multiple){let t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next();}}_propagateChanges(t){let e;this.multiple?e=this.selected.map(n=>n.value):e=this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck();}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let e=0;e<this.options.length;e++)if(!this.options.get(e).disabled){t=e;break;}this._keyManager.setActiveItem(t);}else this._keyManager.setActiveItem(this._selectionModel.selected[0]);}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir;}focus(t){this._elementRef.nativeElement.focus(t);}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId()||null,e=t?t+" ":"";return this.ariaLabelledby?e+this.ariaLabelledby:t;}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null;}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t||(t=this._valueId),t;}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[];}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby");}onContainerClick(){this.focus(),this.open();}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder;}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-select"]],contentQueries:function(e,n,o){if(e&1&&(on(o,cW,5),on(o,ii,5),on(o,Ak,5)),e&2){let a;qe(a=Ye())&&(n.customTrigger=a.first),qe(a=Ye())&&(n.options=a),qe(a=Ye())&&(n.optionGroups=a);}},viewQuery:function(e,n){if(e&1&&(Et(PAe,5),Et(RAe,5),Et(iS,5)),e&2){let o;qe(o=Ye())&&(n.trigger=o.first),qe(o=Ye())&&(n.panel=o.first),qe(o=Ye())&&(n._overlayDir=o.first);}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,n){e&1&&b("keydown",function(a){return n._handleKeydown(a);})("focus",function(){return n._onFocus();})("blur",function(){return n._onBlur();}),e&2&&(lt("id",n.id)("tabindex",n.disabled?-1:n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-activedescendant",n._getAriaActiveDescendant()),vt("mat-mdc-select-disabled",n.disabled)("mat-mdc-select-invalid",n.errorState)("mat-mdc-select-required",n.required)("mat-mdc-select-empty",n.empty)("mat-mdc-select-multiple",n.multiple));},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",gt],disableRipple:[2,"disableRipple","disableRipple",gt],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:wr(t)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",gt],placeholder:"placeholder",required:[2,"required","required",gt],multiple:[2,"multiple","multiple",gt],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",gt],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",wr],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",gt]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Qt([{provide:kk,useExisting:i},{provide:xk,useExisting:i}]),Oi],ngContentSelectors:kAe,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(e,n){if(e&1){let o=O();xi(NAe),u(0,"div",2,0),b("click",function(){return C(o),y(n.open());}),u(3,"div",3),Ti(4,$Ae,2,1,"span",4)(5,VAe,3,1,"span",5),p(),u(6,"div",6)(7,"div",7),so(),u(8,"svg",8),$(9,"path",9),p()()()(),E(10,zAe,3,10,"ng-template",10),b("detach",function(){return C(o),y(n.close());})("backdropClick",function(){return C(o),y(n.close());})("overlayKeydown",function(s){return C(o),y(n._handleOverlayKeydown(s));});}if(e&2){let o=Pi(1);c(3),lt("id",n._valueId),c(),Ii(n.empty?4:5),c(6),m("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",n._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayWidth",n._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0);}},dependencies:[k_,iS,Je],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0});}return i;})();var Yk=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({providers:[lW],imports:[Ls,wk,qt,Nd,Tu,wk,qt]});}return i;})();var GAe=["determinateSpinner"];function jAe(i,r){if(i&1&&(so(),u(0,"svg",11),$(1,"circle",12),p()),i&2){let t=d();lt("viewBox",t._viewBox()),c(),Ar("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),lt("r",t._circleRadius());}}var UAe=new se("mat-progress-spinner-default-options",{providedIn:"root",factory:WAe});function WAe(){return{diameter:dW};}var dW=100,BAe=10,Ao=(()=>{class i{_elementRef=N(ze);_noopAnimations;get color(){return this._color||this._defaultColor;}set color(t){this._color=t;}_color;_defaultColor="primary";_determinateCircle;constructor(){let t=N(UAe);this._noopAnimations=qi()&&!!t&&!t._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",t&&(t.color&&(this.color=this._defaultColor=t.color),t.diameter&&(this.diameter=t.diameter),t.strokeWidth&&(this.strokeWidth=t.strokeWidth));}mode;get value(){return this.mode==="determinate"?this._value:0;}set value(t){this._value=Math.max(0,Math.min(100,t||0));}_value=0;get diameter(){return this._diameter;}set diameter(t){this._diameter=t||0;}_diameter=dW;get strokeWidth(){return this._strokeWidth??this.diameter/10;}set strokeWidth(t){this._strokeWidth=t||0;}_strokeWidth;_circleRadius(){return(this.diameter-BAe)/2;}_viewBox(){let t=this._circleRadius()*2+this.strokeWidth;return`0 0 ${t} ${t}`;}_strokeCircumference(){return 2*Math.PI*this._circleRadius();}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null;}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100;}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(e,n){if(e&1&&Et(GAe,5),e&2){let o;qe(o=Ye())&&(n._determinateCircle=o.first);}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(e,n){e&2&&(lt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",n.mode==="determinate"?n.value:null)("mode",n.mode),be("mat-"+n.color),Ar("width",n.diameter,"px")("height",n.diameter,"px")("--mat-progress-spinner-size",n.diameter+"px")("--mat-progress-spinner-active-indicator-width",n.diameter+"px"),vt("_mat-animation-noopable",n._noopAnimations)("mdc-circular-progress--indeterminate",n.mode==="indeterminate"));},inputs:{color:"color",mode:"mode",value:[2,"value","value",wr],diameter:[2,"diameter","diameter",wr],strokeWidth:[2,"strokeWidth","strokeWidth",wr]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(e,n){if(e&1&&(E(0,jAe,2,8,"ng-template",null,0,ia),u(2,"div",2,1),so(),u(4,"svg",3),$(5,"circle",4),p()(),lc(),u(6,"div",5)(7,"div",6)(8,"div",7),vd(9,8),p(),u(10,"div",9),vd(11,8),p(),u(12,"div",10),vd(13,8),p()()()),e&2){let o=Pi(1);c(4),lt("viewBox",n._viewBox()),c(),Ar("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeDashOffset(),"px")("stroke-width",n._circleStrokeWidth(),"%"),lt("r",n._circleRadius()),c(4),m("ngTemplateOutlet",o),c(2),m("ngTemplateOutlet",o),c(2),m("ngTemplateOutlet",o);}},dependencies:[_p],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0});}return i;})();var uW=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[qt]});}return i;})();var HAe=()=>({id:"tab-monitoring->associations",param:"visible"}),qAe=()=>({id:"tab-monitoring->queues",param:"visible"}),YAe=()=>({id:"tab-monitoring->export",param:"visible"}),XAe=()=>({id:"tab-monitoring->external_retrieve",param:"visible"}),KAe=()=>({id:"tab-monitoring->diff",param:"visible"}),QAe=()=>({id:"tab-monitoring->storage_commitments",param:"visible"}),ZAe=()=>({id:"tab-monitoring->storage_systems",param:"visible"}),JAe=()=>({id:"tab-monitoring->storage_verification",param:"visible"}),e2e=()=>({id:"tab-monitoring->metrics",param:"visible"}),jr=(()=>{let r=class r{};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["monitoring-tabs"]],standalone:!1,decls:28,vars:18,consts:()=>{let e;e="Associations";let n;n="Queues";let o;o="Export";let a;a="Retrieve";let s;s="Compare";let l;l="Storage commitments";let _;_="Storage systems";let f;f="Storage Verification";let g;return g="Metrics",[e,n,o,a,s,l,_,f,g,["role","tablist",1,"nav","nav-tabs"],["role","presentation","routerLinkActive","active",3,"permission"],["role","tab","routerLink","/monitoring/associations","routerLinkActive","active"],["role","tab","routerLink","/monitoring/queues","routerLinkActive","active"],["role","tab","routerLink","/monitoring/export","routerLinkActive","active"],["role","tab","routerLink","/monitoring/external","routerLinkActive","active"],["role","tab","routerLink","/monitoring/diff","routerLinkActive","active"],["role","tab","routerLink","/monitoring/storage-commitment","routerLinkActive","active"],["role","tab","routerLink","/monitoring/storage-systems","routerLinkActive","active"],["role","tab","routerLink","/monitoring/storage-verification","routerLinkActive","active"],["role","tab","routerLink","/monitoring/metrics","routerLinkActive","active"]];},template:function(n,o){n&1&&(u(0,"ul",9)(1,"li",10)(2,"a",11),P(3,0),p()(),u(4,"li",10)(5,"a",12),P(6,1),p()(),u(7,"li",10)(8,"a",13),P(9,2),p()(),u(10,"li",10)(11,"a",14),P(12,3),p()(),u(13,"li",10)(14,"a",15),P(15,4),p()(),u(16,"li",10)(17,"a",16),P(18,5),p()(),u(19,"li",10)(20,"a",17),P(21,6),p()(),u(22,"li",10)(23,"a",18),P(24,7),p()(),u(25,"li",10)(26,"a",19),P(27,8),p()()()),n&2&&(c(),m("permission",Ke(9,HAe)),c(3),m("permission",Ke(10,qAe)),c(3),m("permission",Ke(11,YAe)),c(3),m("permission",Ke(12,XAe)),c(3),m("permission",Ke(13,KAe)),c(3),m("permission",Ke(14,QAe)),c(3),m("permission",Ke(15,ZAe)),c(3),m("permission",Ke(16,JAe)),c(3),m("permission",Ke(17,e2e)));},dependencies:[Mr,Tc,xn],encapsulation:2});let i=r;return i;})();var Fn=class{constructor(r={}){this.value=r.value,this.key=r.key||"",this.tag=r.tag||"",this.label=r.label||"",this.style=r.style||"",this.cssClass=r.cssClass||"",this.validation=r.validation,this.optionsTree=r.optionsTree,this.options=r.options,this.joinString=r.joinString,this.onChangeHook=r.onChangeHook,this.onFocusOutHook=r.onFocusOutHook,this.inputSize=r.inputSize||1,this.disabled=r.disabled||!1,this.showSelectedEmptyValue=r.showSelectedEmptyValue||!1,this.onlyDate=r.onlyDate||!1,this.showStar=r.showStar||!1,this.showSearchField=r.showSearchField||!1,this.order=r.order===void 0?1:r.order,this.description=r.description||"",this.modelPath=r.modelPath||"",this.placeholder=r.placeholder||"",this.placeholderElements=r.placeholderElements,this.controlType=r.controlType||"",this.show=r.show||!1,this.format=r.format||void 0,r.type&&(this.type=r.type);}};var Mv=class extends Fn{constructor(r={}){super(r),this.controlType="text",this.type=r.type||"";}};var TA=class extends Fn{constructor(r={}){super(r),this.controlType="radio",this.options=[],this.options=r.options||[];}};var Ov=class extends Fn{constructor(r={}){super(r),this.controlType="checkbox",this.options=[],this.search="",this.options=r.options||[];}};var IA=class extends Fn{constructor(r={}){super(r),this.controlType="arrayelement",this.type=r.type||"";}};var ph=class extends Fn{constructor(r={}){super(r),this.controlType="dropdown",this.options=[],this.options=r.options||[];}};var xA=class extends Fn{constructor(r={}){super(r),this.controlType="number",this.type=r.type||"";}};var Ur=(()=>{let r=class r{transform(e,n,o){return e&&(typeof o<"u"?o===!0?e.sort((a,s)=>{if(typeof a[n]=="object"){let l="",_="";for(let f in a[n])typeof f=="string"&&(l=f);for(let f in s[n])typeof f=="string"&&(_=f);return l<_?-1:l>_?1:0;}else return a[n]<s[n]?-1:a[n]>s[n]?1:0;}):e.sort((a,s)=>{if(typeof a[n]=="object"){let l="",_="";for(let f in a[n])typeof f=="string"&&(l=f);for(let f in s[n])typeof f=="string"&&(_=f);return l>_?-1:l<_?1:0;}else return a[n]>s[n]?-1:a[n]<s[n]?1:0;}):e.sort((a,s)=>a[n]<s[n]?-1:a[n]>s[n]?1:0)),e;}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"orderBy",type:r,pure:!0,standalone:!1});let i=r;return i;})();var rs=(()=>{let r=class r{constructor(e,n){this.$http=e,this.appService=n,this.getHl7ApplicationsList=o=>this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}${we.HL7_LIST_LINK}${I.param(o)}`);}getFiltersSchema(){return I.prepareFlatFilterObject([{tag:"input",type:"text",filterKey:"dicomDeviceName",description:"Device Name",placeholder:"Device Name"},{tag:"input",type:"text",filterKey:"hl7ApplicationName",description:"hl7 Application Name",placeholder:"hl7 Application Name"},{tag:"input",type:"text",filterKey:"dicomApplicationCluster",description:"Application Cluster",placeholder:"Application Cluster"},{tag:"button",id:"submit",text:"SUBMIT",description:"Query Devices"}],2);}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var os=(()=>{let r=class r{constructor(e,n,o,a){this.$http=e,this.devicesService=n,this.aeListService=o,this.appService=a,this.getServiceClasses=()=>this.$http.get("./assets/schema/webApplication.schema.json").pipe(me(l=>B(l,"properties.dcmWebServiceClass.items.enum").map(_=>new G(_,_)))),this.getDevices=()=>this.devicesService.getDevices().pipe(me(s=>s.map(l=>new G(l.dicomDeviceName,l.dicomDeviceName,l.dicomDeviceDescription)))),this.getAes=()=>this.aeListService.getAes().pipe(me(s=>s.map(l=>new G(l.dicomAETitle,l.dicomAETitle,l.dicomDescription)))),this.getFilterSchema=(s,l,_)=>[{tag:"select",filterKey:"dicomDeviceName",options:s,showStar:!0,description:"Device Name",placeholder:"Device Name"},{tag:"input",type:"text",filterKey:"dicomDescription",description:"Device Description",placeholder:"Device Description"},{tag:"input",type:"text",filterKey:"dcmWebAppName",description:"Web Application Name",placeholder:"Web Application Name"},{tag:"input",type:"text",filterKey:"dcmWebServicePath",description:"Web Service Path",placeholder:"Web Service Path"},{tag:"select",filterKey:"dcmWebServiceClass",options:_,showStar:!0,description:"Web Service Class",placeholder:"Web Service Class"},{tag:"select",filterKey:"dicomAETitle",options:l,showStar:!0,description:"Application Entity Title",placeholder:"Application Entity Title"},{tag:"input",type:"text",filterKey:"dcmKeycloakClientID",description:"Keycloak Client ID",placeholder:"Keycloak Client ID"},{tag:"input",type:"text",filterKey:"dicomApplicationCluster",description:"Application Cluster",placeholder:"Application Cluster"},{tag:"button",text:"SUBMIT",description:"Get Web Apps"}];}getWebApps(e){return this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}webapps/${I.param(e)}`);}getTableSchema(){return[new J({type:"index",pxWidth:40}),new J({type:"value",title:"Device",header:"Device",widthWeight:.6,pathToValue:"dicomDeviceName"}),new J({type:"value",title:"Name",header:"Name",widthWeight:1,pathToValue:"dcmWebAppName"}),new J({type:"value",title:"Description",header:"Description",widthWeight:2,pathToValue:"dicomDescription"}),new J({type:"value",title:"Services",header:"Services",widthWeight:2,pathToValue:"dcmWebServiceClass"}),new J({type:"value",title:"URLs",header:"URLs",widthWeight:2,pathToValue:"url"})];}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(Xt),K(un),K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var Vn=(()=>{let r=class r{constructor(e,n,o,a,s,l,_){this.$http=e,this.mainservice=n,this.deviceService=o,this.aeListService=a,this.hl7service=s,this.webAppListService=l,this.controlService=_,this.getFormaterValue={},this.breadcrumbs=[],this.allOptions={},this.defaultOpenBlock="ext",this.breadcrumbs=[{url:"/device/devicelist",title:"devicelist",devicereff:void 0}],he(we.DYNAMIC_FORMATER,(f,g)=>{if(f.pathInDevice)this.getFormaterValue[g]={},this.getFormaterValue[g]=S=>A(S,f.pathInDevice)&&B(S,f.pathInDevice)?g==="dcmArchiveAETitle"?ge(I.extendAetObjectWithAliasFromSameObject(B(S,f.pathInDevice))):ge(B(S,f.pathInDevice)):ge([]);else switch(g){case"dcmAETitle":this.getFormaterValue.dcmAETitle={},this.getFormaterValue.dcmAETitle=S=>A(this.mainservice.global,"aes")?ge(this.mainservice.global.aes):this.aeListService.getAes();break;case"dicomDeviceName":this.getFormaterValue.dicomDeviceName={},this.getFormaterValue.dicomDeviceName=S=>A(this.mainservice.global,"devices")?ge(this.mainservice.global.devices):this.deviceService.getDevices();break;case"hl7ApplicationName":this.getFormaterValue.hl7ApplicationName={},this.getFormaterValue.hl7ApplicationName=S=>A(this.mainservice.global,"hl7")?ge(this.mainservice.global.hl7):this.hl7service.getHl7ApplicationsList("");break;}});}replaceOldAETitleWithTheNew(e,n){let o=e.dicomAETitle;I.traverse(e,(a,s)=>(s!="dicomAETitle"&&a===o&&(a=n),a));}getBreadcrumbTitleFromModel(e,n){let o="object";return A(n,"type")&&n.type==="array"?e?o=this.replaceCharactersInTitleKey(n.titleKey,e):o="[NEW]":A(n,"title")&&(o=n.title),o;}removePartFromDevice(e){if(e)try{return B(this.device,e.path).splice(e.index,1),!0;}catch{return!1;}return!1;}isSameSiblingUrl(e,n){try{if(e===n)return!0;let o,a,s=/\/(\S*)\/((\S*)\[(\d*)\])\/(\S*)/;return(o=s.exec(e))!==null&&(a=s.exec(n))!==null&&o[1]===a[1]&&o[3]===a[3]&&o[5]===a[5];}catch{return!1;}}getObjectsFromPath(e){let n=/\/(\S*)\/(\S*)\/(\S*)/,o;return(o=n.exec(e))!==null&&o[2]&&o[3]?{model:B(this.device,o[2]),schemaObject:B(this.schema,o[3]),schema:o[3],devicereff:o[2]}:null;}getPrefixAndSuffixArray(e,n){try{if(n.length<2)return{prefix:[],suffix:[]};{let o=da(n,a=>a.url===e);return n.length===2?o===0?{prefix:[],suffix:n.slice(1,2)}:{prefix:n.slice(0,1),suffix:[]}:o>-1?{prefix:n.slice(0,o),suffix:n.slice(o+1,n.length)}:{prefix:n,suffix:[]};}}catch{return{prefix:[],suffix:[]};}}getMaterialIconNameForBreadcrumbs(e){return /\[\d*\]+$/m.exec(e)!==null?"subdirectory_arrow_right":"extension";}removeExtensionFromDevice(e){console.log("in service devicereff",e),oh(this.device,e),console.log("this.device",this.device);}getDevice(e){return this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${e}`);}getSchema(e){let n="./assets/schema/"+e;return this.$http.get(n);}getSchemaFromPath(e,n){let o=n.split("."),a=Oe(e),s,l;return A(e,n)?(he(o,_=>{if(A(a,_))s=_,l=a,a=a[_];else return a=null,null;}),a):null;}addChangesToDevice(e,n,o){if(n){if(o){if(A(o,n))this.setWith(B(o,n),e);else{let a={};this.setWith(a,e),Ue(o,n,a);}}else if(A(this.device,n))this.setWith(B(this.device,n),e);else{let a={};this.setWith(a,e),Ue(this.device,n,a);}}else o?this.setWith(o,e):this.setWith(this.device,e);}setWith(e,n){he(n,(o,a)=>{if(A(e,a)){if(!Uo(e[a])&&!(pe(e[a])&&e[a].length>0&&Uo(e[a][0]))){let s=this.getWrightValue(e[a],o);s!=null&&(e[a]=s);}}else{let s=this.getWrightValue(e[a],o);s!=null&&(e[a]=s);}}),he(e,(o,a)=>{(o===null||xl(o)&&Vc(o)||o===""||pe(o)&&o.length===0||o==="inherent")&&delete e[a];});}getWrightValue(e,n){if(!Bo(e,n)){if(e===void 0&&n!=null&&n!=""||Ln(e)&&e!=""&&n==="")return n;if(xl(e)&&e&&(n===""||!n)&&n!=0)return NaN;if(xl(n)||pe(e)&&pe(n))return n;if(e===void 0&&pe(n)&&n.length===1&&n[0]==="")return null;if(e!=null&&n!=null&&(n!=""&&n!="inherent"||n.length==1&&n[0]!=""))return n;if(e!=null&&(e===!0||e===!1)&&(n===void 0||n===""))return null;if(e!=null&&(e===!0||e===!1)&&n!=null&&(n===!0||n===!1)||e===void 0&&(n===!1||n===!0))return n;if((e===!0||e===!1)&&(n==="inherent"||n===!1||n===!0))return n==="inherent"?"inherent":n;}return null;}saveDevice(){}updateDevice(){return A(this.device,"dicomDeviceName")&&this.device.dicomDeviceName!=""?(this.saveLanguageDataToLocalStorageOnSave(),this.$http.put(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${this.device.dicomDeviceName}`,this.device)):null;}saveLanguageDataToLocalStorageOnSave(){A(this.device,"dcmDevice.dcmuiConfig[0].dcmuiLanguageConfig[0]")?localStorage.setItem("languageConfig",JSON.stringify(B(this.device,"dcmDevice.dcmuiConfig[0].dcmuiLanguageConfig[0]"))):localStorage.removeItem("languageConfig");}createDevice(){return A(this.device,"dicomDeviceName")&&this.device.dicomDeviceName!=""?this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${this.device.dicomDeviceName}`,this.device):null;}replaceCharactersInTitleKey(e,n){let o=/{(.*?)}/g,a,s=[];do a=o.exec(e),a&&a[1]&&s.push(a[1]);while(a);return he(s,l=>{A(n,l)?e=Pn(e,"{"+l+"}",n[l]):e=Pn(e,"{"+l+"}","");}),e||"";}getFormatValue(e,n){return this.getFormaterValue[e]?this.getFormaterValue[e](n):ge([]);}convertSchemaToForm(e,n,o,a){let s=a;this.defaultOpenBlock=a||this.defaultOpenBlock;let l=[];if(A(n,"type")){if(n.type==="object"&&A(n,"properties")||n.type==="array"&&A(n,"items.properties")){let _,f="properties",g;A(n,"properties")?(_=n.properties,g=n.required||[]):(_=n.items.properties,f="items.properties",g=n.items.required||[]),he(_,(S,x)=>{A(S,"format")?this.getFormatValue(S.format,this.device||e).subscribe(D=>{console.log("formatValue",D),D&&D.length>0?S.formatValue=D.map(R=>typeof R=="string"?{label:R,value:R}:{label:this.replaceCharactersInTitleKey(we.DYNAMIC_FORMATER[S.format].labelKey,R),value:R[we.DYNAMIC_FORMATER[S.format].key]}):we.DYNAMIC_FORMATER[S.format]&&(S.formatValue={state:"missing",msg:we.DYNAMIC_FORMATER[S.format].msg}),this.processSchemaEntries(S,x,g,f,o,e,l);},D=>{S.formatValue=null,this.processSchemaEntries(S,x,g,f,o,e,l);}):this.processSchemaEntries(S,x,g,f,o,e,l);}),console.log("params",o),this.showNextGroup(l,s);}else console.error("expected path object, properties, array or item.properties in schema not found: ",n);}else console.error("Schema doesn't have type parameter",n);return l;}checkIfDuplicatedChild(e,n){let o,a,s;try{return A(n,"schema")&&(a=this.getSchemaFromPath(this.schema,n.schema),a.titleKey&&(o=this.getKeysFromTitleKey(a.titleKey)),A(n,"devicereff"))?(s=this.extractArraysPathFromSpecific(n.devicereff),this.checkIfChildeExist(B(this.device,s),o,e)):!1;}catch{return!1;}}checkIfChildeExist(e,n,o){let a=!1;return e&&e.length>0?(e.forEach(s=>{let l=!0;n.forEach(_=>{s[_]===o[_]?l=l&&!0:l=!1;}),a=a||l;}),a):!1;}extractArraysPathFromSpecific(e){let n=/(^.*)\[\d*\]/g,o,a;for(;(o=n.exec(e))!==null;)o.index===n.lastIndex&&n.lastIndex++,o[1]&&(a=o[1]);return a;}getKeysFromTitleKey(e){let n=/\{(\w*)}/g,o,a=[];for(;(o=n.exec(e))!==null;)o.index===n.lastIndex&&n.lastIndex++,o[1]&&a.push(o[1]);return a;}processSchemaEntries(e,n,o,a,s,l,_){let f=this,g,S=Jr(o,n)>-1,x={required:S};console.log(`in processSchemaEntries i=${n}, m=`,e),A(e,"minimum")&&(x.minimum=e.minimum),A(e,"maximum")&&(x.maximum=e.maximum),A(e,"maxLength")&&(x.maxLength=e.maxLength),A(e,"minLength")&&(x.minLength=e.minLength),A(e,"exclusiveMinimum")&&(x.exclusiveMinimum=e.exclusiveMinimum),A(e,"exclusiveMaximum")&&(x.exclusiveMaximum=e.exclusiveMaximum),A(e,"pattern")&&(x.pattern=e.pattern),A(l,n)?g=l[n]:A(e,"default")&&(g=e.default);let D=0;e.order&&(D=parseInt(e.order)/100);let R=[];switch(e.type){case"string":if(n==="dicomDeviceName"&&A(l,"dicomDeviceName")&&l.dicomDeviceName!=""&&this.breadcrumbs.length<3)_.push({controlType:"constantField",key:n,label:e.title,description:e.description,order:5+D,value:g,show:this.defaultOpenBlock==="attr"});else if(A(e,"enum")||A(e,"formatValue")&&e.formatValue)A(e,"formatValue")&&e.formatValue&&!A(e.formatValue,"state")?he(e.formatValue,V=>{R.push({label:V.label,value:V.value,active:V.value===g});}):A(e.formatValue,"state")||he(e.enum,V=>{this.addEnumValueToOption(V,R,g);}),A(e.formatValue,"state")?e.formatValue.state==="missing"&&S?_.push({controlType:"message",key:n,label:e.title,description:e.description,msg:e.formatValue.msg,order:5+D,show:this.defaultOpenBlock==="attr"}):_.push(new Mv({key:n,label:e.title,description:e.description,type:"string",value:g,order:5+D,validation:x,format:e.format,show:this.defaultOpenBlock==="attr"})):_.push(new ph({key:n,label:e.title,description:e.description,options:new Ur().transform(R,"label"),order:5+D,validation:x,value:g,show:this.defaultOpenBlock==="attr"}));else if(A(e,"format")&&(e.format==="dcmAETitle"||e.format==="dicomDeviceName"||e.format==="hl7ApplicationName"||e.format==="webApp"))_.push({controlType:"dynamiccheckbox",key:n,label:e.title,description:e.description,type:"string",value:g||"",order:5+D,validation:x,format:e.format,show:this.defaultOpenBlock==="attr"});else if(A(e,"format")&&e.format==="dcmDefaultLanguage"){console.log("default",l),console.log("this.device",this.device);let V=[];A(this.device,"dcmDevice.dcmuiConfig[0].dcmuiLanguageConfig[0].dcmLanguages")&&B(this.device,"dcmDevice.dcmuiConfig[0].dcmuiLanguageConfig[0].dcmLanguages").forEach(ie=>{let _e=I.extractLanguageDataFromString(ie);V.push({label:`${_e.code} - ${_e.name} - ${_e.nativeName}`,value:ie,active:ie===g});}),_.push(new ph({key:n,label:e.title,description:e.description,options:V,order:5+D,validation:x,value:g,show:this.defaultOpenBlock==="attr"}));}else _.push(new Mv({key:n,label:e.title,description:e.description,type:"string",value:g,order:5+D,validation:x,format:e.format,show:this.defaultOpenBlock==="attr"}));break;case"boolean":n==="dicomVendorData"?A(l,"dicomDeviceName")&&l.dicomDeviceName!=""&&(A(l,"dicomVendorData")&&l.dicomVendorData===!0&&A(l,"dicomDeviceName")&&l.dicomDeviceName!=""?_.push({controlType:"filedownload",key:n,label:e.title,deviceName:l.dicomDeviceName,description:e.description,order:5+D,downloadUrl:`${I.addLastSlash(this.mainservice.baseUrl)}devices/${l.dicomDeviceName}/vendordata`,show:this.defaultOpenBlock==="attr"}):_.push({controlType:"fileupload",modus:"upload",key:n,label:e.title,deviceName:l.dicomDeviceName,description:e.description,order:5+D,show:this.defaultOpenBlock==="attr"})):(S?(R=[{key:"True",value:!0},{key:"False",value:!1}],(g===!0||g===!1)&&(g===!0?R[0].active=!0:R[1].active=!0)):(R=[{key:"True",value:!0},{key:"False",value:!1},{key:"Unchecked",value:"inherent"}],g===!0||g===!1?g===!0?R[0].active=!0:R[1].active=!0:R[2].active=!0),_.push(new TA({key:n,label:e.title,description:e.description,options:R,order:5+D,validation:x,value:g,show:this.defaultOpenBlock==="attr"})));break;case"array":if(n=="dicomNetworkConnectionReference"||A(e,"formatValue")&&e.formatValue&&e.formatValue.length>0)A(e,"formatValue")&&e.formatValue&&n!="dicomNetworkConnectionReference"?A(e.formatValue,"state")?he(e.enum,V=>{this.addEnumValueToOption(V,R,g,!0);}):he(e.formatValue,V=>{R.push({key:V.label,value:V.value,active:Jr(g,V.value)>-1});}):(this.device=this.device||l,he(this.device.dicomNetworkConnection,(V,ie)=>{R.push({value:"/dicomNetworkConnection/"+ie,key:V.cn+" ("+V.dicomHostname+(V.dicomPort?":"+V.dicomPort:"")+")",active:Jr(g,"/dicomNetworkConnection/"+ie)>-1});})),A(e.formatValue,"state")?_.push({controlType:"message",key:n,label:e.title,description:e.description,msg:e.formatValue.msg,order:5+D,show:this.defaultOpenBlock==="attr"}):_.push(new Ov({key:n,label:e.title,format:e.format,description:e.description,options:new Ur().transform(R,"key"),order:5+D,validation:x,search:"",show:this.defaultOpenBlock==="attr"})),console.log(`\xEC= ${n} form= `,_);else if(console.log("this.device",this.device),A(e,"items.enum"))he(e.items.enum,V=>{this.addEnumValueToOption(V,R,g,!0,!0);}),_.push(new Ov({key:n,label:e.title,description:e.description,options:new Ur().transform(R,"key"),order:5+D,validation:x,search:"",show:this.defaultOpenBlock==="attr"}));else{let V="";if(A(e,"items.$ref")){if(g&&mt(g)){if(Object.keys(g).length===0)V="/device/edit/"+s.device,V=V+(s.devicereff?"/"+s.devicereff+"."+n+"[0]":"/"+n+"[0]"),V=V+(s.schema?"/"+s.schema+"."+a+"."+n:"/properties."+n),console.log("url",V),_.push({controlType:"buttondropdown",key:n,label:e.title,description:e.description,addUrl:V,order:3+D,show:this.defaultOpenBlock==="child"});else{R=[];let ie=0;he(g,(oe,Ne)=>{let Ce;ie=parseInt(Ne),V="/device/edit/"+s.device,V=V+(s.devicereff?"/"+s.devicereff+"."+n+"["+Ne+"]":"/"+n+"["+Ne+"]"),V=V+(s.schema?"/"+s.schema+"."+a+"."+n:"/properties."+n),A(e,"titleKey")?Ce=f.replaceCharactersInTitleKey(e.titleKey,oe):Ce=e.title+"["+Ne+"]",R.push({title:Ce,description:e.description,key:n,url:V,currentElementUrl:s.devicereff?s.devicereff+"."+n+"["+Ne+"]":n+"["+Ne+"]",refString:`/dicomNetworkConnection/${Ne}`});});let _e="/device/edit/"+s.device;_e=_e+(s.devicereff?"/"+s.devicereff+"."+n+"["+(ie+1)+"]":"/"+n+"["+(ie+1)+"]"),_e=_e+(s.schema?"/"+s.schema+"."+a+"."+n:"/properties."+n),console.log("addUrl",_e),new Ur().transform(R,"title"),_.push({controlType:"buttondropdown",key:n,label:e.title,description:e.description,options:R,addUrl:_e,order:3+D,show:this.defaultOpenBlock==="child"});}}else{let ie="/device/edit/"+s.device;ie=ie+(s.devicereff?"/"+s.devicereff+"."+n+"[0]":"/"+n+"[0]"),ie=ie+(s.schema?"/"+s.schema+"."+a+"."+n:"/properties."+n),_.push({controlType:"buttondropdown",key:n,label:e.title,description:e.description,options:[],addUrl:ie,order:3+D,show:this.defaultOpenBlock==="child"});}}else if(g&&mt(g)&&Object.keys(g).length>0&&mt(g[0])){R=[];let ie=0;he(g,(oe,Ne)=>{let Ce;ie=parseInt(Ne),V="/device/edit/"+s.device,V=V+(s.devicereff?"/"+s.devicereff+"."+n+"["+Ne+"]":"/"+n+"["+Ne+"]"),V=V+(s.schema?"/"+s.schema+"."+a+"."+n:"/properties."+n),A(e,"titleKey")?Ce=f.replaceCharactersInTitleKey(e.titleKey,oe):Ce=e.title+"["+Ne+"]",R.push({title:Ce,description:e.description,key:n,url:V,currentElementUrl:s.devicereff?s.devicereff+"."+n+"["+Ne+"]":n+"["+Ne+"]",order:3+D,show:this.defaultOpenBlock==="child"});});let _e="/device/edit/"+s.device;_e=_e+(s.devicereff?"/"+s.devicereff+"."+n+"["+(ie+1)+"]":"/"+n+"["+(ie+1)+"]"),_e=_e+(s.schema?"/"+s.schema+"."+a+"."+n:"/properties."+n),console.log("*addUrl",_e),_.push({controlType:"buttondropdown",key:n,label:e.title,description:e.description,options:new Ur().transform(R,"title"),addUrl:_e,order:3+D});}else if(A(e,"items.properties")){let ie="/device/edit/"+s.device;ie=ie+(s.devicereff?"/"+s.devicereff+"."+n+"[0]":"/"+n+"[0]"),ie=ie+(s.schema?"/"+s.schema+"."+a+"."+n:"/properties."+n),_.push({controlType:"buttondropdown",key:n,label:e.title,description:e.description,options:[],addUrl:ie,order:3+D,show:this.defaultOpenBlock==="child"});}else{let ie=A(e,"items.type")?e.items.type:"text";e.format==="dicomDeviceName"||e.format==="dcmAETitle"||e.format==="hl7ApplicationName"||e.format==="webApp"?_.push({controlType:"dynamiccheckbox",key:n,label:e.title,description:e.description,type:"array",value:g||[""],order:5+D,validation:x,format:e.format,show:this.defaultOpenBlock==="attr"}):_.push(new IA({key:n,label:e.title,description:e.description,type:ie,value:g||[""],order:5+D,validation:x,format:e.format,show:this.defaultOpenBlock==="attr"}));}}break;case"integer":A(e,"enum")?(he(e.enum,V=>{this.addEnumValueToOption(V,R,g);}),_.push(new ph({key:n,label:e.title,description:e.description,options:new Ur().transform(R,"label"),order:5+D,validation:x,value:g,type:"number",show:this.defaultOpenBlock==="attr"}))):_.push(new xA({key:n,label:e.title,description:e.description,value:parseFloat(g),type:"number",order:5+D,validation:x,show:this.defaultOpenBlock==="attr"}));break;default:A(l,n)&&dn(g)<1?g=1:g=dn(g);let j="/device/edit/"+s.device;j=j+(s.devicereff?"/"+s.devicereff+"."+n:"/"+n),j=j+(s.schema?"/"+s.schema+"."+a+"."+n:"/properties."+n),_.push({controlType:"button",label:e.title,title:e.title,description:e.description,url:j,devicereff:s.devicereff?s.devicereff+"."+n:n,order:1+D,value:g,show:this.defaultOpenBlock==="ext"});}}showNextGroup(e,n){console.log("defaultExplicitSet",n);let o=(s,l)=>{switch(l){case 1:return s>=1&&s<3;case 2:return s>=3&&s<5;case 3:return s>=5;}},a=!1;if(Object.keys(e).forEach(s=>{o(e[s].order,1)&&(a=!0);}),!a){let s=!1;Object.keys(e).forEach(l=>{o(e[l].order,2)?(s=!0,(!n||n==="child"||n==="ext")&&(e[l].show=!0)):(!n||n==="child"||n==="ext")&&(e[l].show=!1);}),s||Object.keys(e).forEach(l=>{o(e[l].order,3)&&(e[l].show=!0);});}}setValueToReferences(e,n,o){console.log("oldValue",e),console.log("newValue",n),console.log("use",o);let a=/([\w.]+)(\[\*\])|([\w.]+)/g,s;try{o.forEach(l=>{let _=[];for(;(s=a.exec(l))!==null;)s.index===a.lastIndex&&a.lastIndex++,_.push(s);function f(g,S,x){if(S[x][1]&&A(g,S[x][1].slice(1))&&B(g,S[x][1].slice(1)).forEach((D,R)=>{typeof D=="string"?D===e&&Ue(g,`${S[x][1].slice(1)}[${R}]`,n):f(D,S,x+1);}),S[x][3]&&A(g,S[x][3].slice(1))){let D=B(g,S[x][3].slice(1));typeof D=="string"?D===e&&Ue(g,S[x][3].slice(1),n):f(B(g,S[x][3].slice(1)),S,x+1);}}f(this.device,_,0);}),console.log("device",this.device);}catch(l){I.log("Trying to update the new value in the device according to 'use' array, (device-cofigurator.service.ts)",l);}}getSchemaDeep(e,n){let o=n.split(".");return this.getSchemaDeepHelper(e,o,0);}getSchemaDeepHelper(e,n,o){let a=n.filter((l,_)=>_<=o).join("."),s=n.filter((l,_)=>_<o).join(".");return A(e,a)?o>=n.length-1?this.getSchemaPart(e,a,n,o):this.getSchemaDeepHelper(e,n,o+1):this.getSchemaPart(e,s,n,o);}getSchemaPart(e,n,o,a){if(A(e,`${n}.$ref`)||A(e,`${n}.items.$ref`)||A(e,`${n}.properties.$ref`)){let s=B(e,`${n}.$ref`)||B(e,`${n}.items.$ref`)||B(e,`${n}.properties.$ref`),l=A(e,`${n}.$ref`)&&`${n}.$ref`||A(e,`${n}.items.$ref`)&&`${n}.items.$ref`||`${n}.properties.$ref`;return this.getSchema(s).pipe(ot(_=>{let f=l.replace(".$ref","");return Ue(e,f,_),this.getSchemaDeepHelper(e,o,a+1);}));}else return ge(e);}getMissingBreadcrumbObjects(e,n){if(e.url!=this.breadcrumbs[this.breadcrumbs.length-1].url){n.push(e);let o=this.getPreviousBreadcrumbObject(e);return this.getMissingBreadcrumbObjects(o,n);}else return n.reverse();}getPreviousBreadcrumbObject(e){let n=/\/(.*)\/(.*)\/(.*)\/(.*)/g,o,a;if((o=n.exec(e.url))!==null){o.index===n.lastIndex&&n.lastIndex++;let s=this.getPreviousPathPart(o[4]),l=this.getPreviousPathPart(o[3]),_=B(this.device,l),f=B(this.schema,s);console.log("schema",f),console.log("device",_),console.log("title",this.getBreadcrumbTitleFromModel(_,f)),a=l&&s?`/${o[1]}/${o[2]}/${l}/${s}`:`/${o[1]}/${o[2]}`,console.log("prevUrl",a),console.log("params",e),console.log("getPrefixAndSuffixArray=",this.getPrefixAndSuffixArray(a,this.allOptions[s])),console.log("getoption",this.getBreadcrumbOptions(l,s,this.allOptions,this.device,`/${o[1]}/${o[2]}`));let g=this.getPrefixAndSuffixArray(a,this.allOptions[s]);return{url:a,prefixArray:g.prefix,suffixArray:g.suffix,allArray:[...g.prefix,...g.suffix],title:this.getBreadcrumbTitleFromModel(_,f),childObjectTitle:f&&f.title?f.title:"",devicereff:l,materialIconName:this.getMaterialIconNameForBreadcrumbs(l)};}}getBreadcrumbOptions(e,n,o,a,s){try{if(e.indexOf("[")>-1){let l=this.extractArraysPathFromSpecific(e),_=B(a,l).map((f,g)=>({title:this.getBreadcrumbTitleFromModel(f,B(this.schema,n)),currentElementUrl:`${l}[${g}]`,url:`${s}/${l}[${g}]/${n}`}));return o[n]=new Ur().transform(_,"title")||[],o[n];}}catch{return[];}}getPreviousPathPart(e){console.log("path",e);try{let n=e.split("."),o=n.length-1,a="",s=[];for(;o>-1;)a===""?(a=n[o],o--):["properties","items"].indexOf(n[o])>-1?(a=`${n[o]}.${a}`,o--):(s.push(a),a="");return a&&s.push(a),s.splice(0,1),s.reverse().join(".");}catch(n){return console.error(n),e;}}reloadArchive(){let e;try{let n=B(this.device,"dicomDeviceName");if(A(this.mainservice,"dcm4cheeArcConfig.deviceNameUrlMap")){let o=this.mainservice.dcm4cheeArcConfig.deviceNameUrlMap;Object.keys(o).forEach(a=>{o[a]===n&&(e=a);});}}catch(n){console.error(n);}return this.controlService.reloadArchive(e);}addEnumValueToOption(e,n,o,a,s){try{let l={};if(e&&typeof e=="string"&&e.indexOf("|")>-1){let[_,f,g]=e.split("|");l={description:f??"",value:_??"",active:_===o||s&&Jr(o,_)>-1},a?l.key=g||_||"":l.label=g||_||"";}else l={value:e,active:e===o||s&&Jr(o,e)>-1},a?l.key=e:l.label=e;n.push(l);}catch(l){console.error(l);}}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le),K(Xt),K(un),K(rs),K(os),K(Dl));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var mh=(()=>{let r=class r{constructor(){this.modeMap={},this.modeMapReversed={};}getRangeFromKey(e){let n,o=new Date(),a=new Date(),s,l;switch(e){case"today":o.setDate(o.getDate()),n=I.convertDateToString(o);break;case"yesterday":o.setDate(o.getDate()-1),n=I.convertDateToString(o);break;case"this_week":l=o.getDay(),l===0&&(l=7),o.setDate(o.getDate()-(l-1)),this.eqDate(o,a)?n=I.convertDateToString(o):n=`${I.convertDateToString(o)}-${I.convertDateToString(a)}`;break;case"last_week":l=o.getDay(),l===0&&(l=7),o.setDate(o.getDate()-(l-1)),o.setDate(o.getDate()-7),a.setDate(o.getDate()+6),this.eqDate(o,a)?n=I.convertDateToString(o):n=`${I.convertDateToString(o)}-${I.convertDateToString(a)}`;break;case"this_month":o.setDate(1),n=`${I.convertDateToString(o)}-${I.convertDateToString(a)}`;break;case"last_month":o.setMonth(o.getMonth()-1),o.setDate(1),a.setDate(1),a.setDate(a.getDate()-1),n=`${I.convertDateToString(o)}-${I.convertDateToString(a)}`;break;case"this_quarter":s=this.getQuarterRange(this.getQuarterIndex(o.getMonth())),n=`${I.convertDateToString(this.getStartOfMonth(s.start))}-${I.convertDateToString(this.getEndOfMonth(s.end))}`;break;case"last_quarter":s=this.getQuarterRange(this.getQuarterIndex(o.getMonth())-1),n=`${I.convertDateToString(this.getStartOfMonth(s.start))}-${I.convertDateToString(this.getEndOfMonth(s.end))}`;break;case"this_year":o.setDate(1),o.setMonth(0),n=`${I.convertDateToString(o)}-${I.convertDateToString(a)}`;break;case"last_year":o.setFullYear(o.getFullYear()-1),o.setDate(1),o.setMonth(0),a.setDate(1),a.setMonth(0),a.setDate(a.getDate()-1),n=`${I.convertDateToString(o)}-${I.convertDateToString(a)}`;break;}return n||e;}getModeFromRange(e){return Object.keys(this.modeMap).length===0&&Object.keys(this.modeMapReversed).length===0&&["today","yesterday","this_week","this_month","last_week","last_month","this_quarter","last_quarter","this_year","last_year"].forEach(n=>{this.modeMap[n]=this.getRangeFromKey(n),this.modeMapReversed[this.getRangeFromKey(n)]=n;}),this.modeMapReversed[e]?this.modeMapReversed[e]:"";}getQuarterIndex(e){return parseInt((e/3).toString());}getQuarterRange(e){let n=e*3+1,o=n+2;return{start:n,end:o};}getStartOfMonth(e){let n=new Date();return n.setMonth(e-1),n.setDate(1),n;}getEndOfMonth(e){let n=new Date();return n.setMonth(e),n.setDate(1),n.setDate(n.getDate()-1),n;}eqDate(e,n){return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate();}};r.ɵfac=function(n){return new(n||r)();},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var AA=class{constructor(r,t,e,n,o,a,s){this._studyUID=r,this._seriesUID=t,this._objectUID=e,this._contentType=n,this._frameNumber=o,this._presentationSeriesUID=a,this._presentationUID=s;}get studyUID(){return this._studyUID;}set studyUID(r){this._studyUID=r;}get seriesUID(){return this._seriesUID;}set seriesUID(r){this._seriesUID=r;}get objectUID(){return this._objectUID;}set objectUID(r){this._objectUID=r;}get contentType(){return this._contentType;}set contentType(r){this._contentType=r;}get frameNumber(){return this._frameNumber;}set frameNumber(r){this._frameNumber=r;}get presentationSeriesUID(){return this._presentationSeriesUID;}set presentationSeriesUID(r){this._presentationSeriesUID=r;}get presentationUID(){return this._presentationUID;}set presentationUID(r){this._presentationUID=r;}};var wA=(()=>{let r=class r{transform(e,n){function o(_,f){try{return _[f].Value[0];}catch{return!1;}}function a(_){return _&&_.Value&&_.Value.join();}function s(_){let f=o(_,"00280011");return f&&f+"x"+o(_,"00280010")+(o(_,"00280008")>1?"x"+o(_,"00280008")+" ":" ")+" "+o(_,"00280100")+" bit "+a(_["00080008"]);}function l(_){let f=o(_,"0040A043");return f&&[o(_,"0040A496"),o(_,"0040A491"),o(_,"0040A493"),o(f,"00080104")].filter(function(g){return g;}).join(" ");}return o(e,"00700081")||s(e)||l(e)||o(e,"00420010")||"";}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"contentDescription",type:r,pure:!0,standalone:!1});let i=r;return i;})();var xu=(()=>{let r=class r{transform(e,n){function o(l,_){try{return l[_].Value[0];}catch{return!1;}}function a(l,_,f){try{let g=l[_].Value[0];return o(g,f);}catch{return!1;}}function s(l){let _=o(l,"00100020"),f=o(l,"00100021"),g=o(l,"00100022"),S=a(l,"00100024","00400032"),x=a(l,"00100024","00400033"),D=S===!1?x==!1?!1:"&"+x:x==!1?S+"&":S+"&"+x,R=f===!1?D===!1?"":"&"+D:D===!1?f:f+"&"+D,j=_===!1?"":R==""?g===!1?`${_}`:`${_}^^^^`+g:g===!1?`${_}^^^`+R:`${_}^^^`+R+"^"+g,V=_===!1?"":R==""?g===!1?`<b>${_}</b>`:`<b>${_}</b><span>${g}</span>`:g===!1?`<b>${_}</b><span>${R}</span>`:`<b>${_}</b><span>${R}^${g}</span>`;return j!=""?{tooltip:j,html:`<span class="mixed_size">${V}</span>`}:"";}if(I.is(n,"dcmuiHideOtherPatientIDs",!0))return s(e);{let l=[s(e)];if(A(e,'["00101002"].Value')&&B(e,'["00101002"].Value').forEach(_=>{l.push(s(_));}),l&&l[0]&&typeof l[0]=="string")return l.join(", ");{let _=[],f="";return l.forEach(g=>{g&&g.tooltip&&_.push(g.tooltip),f+=g.html||"";}),{tooltip:_.join(", "),html:f};}}}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"patientIssuer",type:r,pure:!0,standalone:!1});let i=r;return i;})();var Uc=class{constructor(r,t,e,n,o,a,s,l,_,f,g,S,x){this._attrs=r,this._studies=t,this._mwls=a,this._mpps=S,this._uwls=f,this._diffs=l,this._showAttributes=e||!1,this._showStudies=n||!1,this._showMwls=s||!1,this._showMpps=x||!1,this._showDiffs=_||!1,this._offset=o||0,this._showUwls=g;}get attrs(){return this._attrs;}set attrs(r){this._attrs=r;}get studies(){return this._studies;}set studies(r){this._studies=r;}get mwls(){return this._mwls;}set mwls(r){this._mwls=r;}get mpps(){return this._mpps;}set mpps(r){this._mpps=r;}get uwls(){return this._uwls;}set uwls(r){this._uwls=r;}get diffs(){return this._diffs;}set diffs(r){this._diffs=r;}get showMwls(){return this._showMwls;}set showMwls(r){this._showMwls=r;}get showMpps(){return this._showMpps;}set showMpps(r){this._showMpps=r;}get showUwls(){return this._showUwls;}set showUwls(r){this._showUwls=r;}get showAttributes(){return this._showAttributes;}set showAttributes(r){this._showAttributes=r;}get showStudies(){return this._showStudies;}set showStudies(r){this._showStudies=r;}get showDiffs(){return this._showDiffs;}set showDiffs(r){this._showDiffs=r;}get offset(){return this._offset;}set offset(r){this._offset=r;}get selected(){return this._selected;}set selected(r){this._selected=r;}},DA=["FAMILY-NAME","GIVEN-NAME","MIDDLE-NAME","NAME-PREFIX","NAME-SUFFIX","I_FAMILY-NAME","I_GIVEN-NAME","I_MIDDLE-NAME","I_NAME-PREFIX","I_NAME-SUFFIX","P_FAMILY-NAME","P_GIVEN-NAME","P_MIDDLE-NAME","P_NAME-PREFIX","P_NAME-SUFFIX"],mW=["P_NAME-SUFFIX","I_NAME-SUFFIX","P_NAME-PREFIX","I_NAME-PREFIX","P_MIDDLE-NAME","I_MIDDLE-NAME","P_FAMILY-NAME","I_FAMILY-NAME","P_GIVEN-NAME","I_GIVEN-NAME","NAME-SUFFIX","NAME-PREFIX","MIDDLE-NAME","FAMILY-NAME","GIVEN-NAME"];var Au=(()=>{let r=class r{transform(e,n){if((!n||n==="")&&e&&e.Alphabetic)return e.Alphabetic;n=n||"{NAME-PREFIX} {GIVEN-NAME} {MIDDLE-NAME} {FAMILY-NAME}, {NAME-SUFFIX}";let o=DA;try{let s={names:/({FAMILY-NAME})|({GIVEN-NAME})|({MIDDLE-NAME})|({NAME-PREFIX})|({NAME-SUFFIX})|({I_FAMILY-NAME})|({I_GIVEN-NAME})|({I_MIDDLE-NAME})|({I_NAME-PREFIX})|({I_NAME-SUFFIX})|({P_FAMILY-NAME})|({P_GIVEN-NAME})|({P_MIDDLE-NAME})|({P_NAME-PREFIX})|({P_NAME-SUFFIX})/g,startingEndingSpaces:/^(\s*[\[,.|\s]]*\s*[\[\],.|\s]*\s*)|(\s*[\[,| ]]*\s*[\[\],.|]*\s*)$/gm,parenthesesWithSpaces:/([({\[]\s*[)}\]])/gm,multipleSpaces:/(^\s|\s$|\s{2,})/gm};if(typeof e=="string"&&(e.startsWith("==")&&n.indexOf("P_")>-1?e={Phonetic:e.replace(/=/g,"")}:e.startsWith("=")&&n.indexOf("I_")>-1?e={Ideographic:e.replace(/=/g,"")}:e={Alphabetic:e.replace(/=/g,"")}),n&&typeof n=="string"&&(A(e,"Alphabetic")||A(e,"Ideographic")||A(e,"Phonetic"))){let l=a(e),_=n.replace(s.names,(...f)=>{let g=0;for(;g<=14;){if(f[g+1])return l[o[g]]||"";g++;}return"";});return _=_.replace(s.parenthesesWithSpaces,(...f)=>""),_=_.replace(s.startingEndingSpaces,(...f)=>""),_=_.replace(s.multipleSpaces,(...f)=>" "),_;}}catch{return A(e,"Alphabetic")?B(e,"Alphabetic"):"";}function a(s){let l={};return["Alphabetic","Ideographic","Phonetic"].forEach((_,f)=>{A(s,_)&&typeof B(s,_)=="string"&&s[_].split("^").forEach((g,S)=>{l[o[S+5*f]]=g;});}),l;}}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"personName",type:r,pure:!0,standalone:!1});let i=r;return i;})();var Xk=(()=>{let r=class r{transform(e,n){if(!e||e.length<3)return e;if(e.charAt(2)===":")return e.substr(0,8);let o=e.substr(0,2)+":"+e.substr(2,2);return e.length<5?o:o+":"+e.substr(4,2);}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"formatTM",type:r,pure:!0,standalone:!1});let i=r;return i;})();var Kk=(()=>{let r=class r{transform(e,n){return e&&e.length==8?e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6):e;}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"formatDA",type:r,pure:!0,standalone:!1});let i=r;return i;})();var Nv=(()=>{let r=class r{transform(e,n){try{if(e&&e.Value&&e.Value.length)switch(e.vr){case"SQ":return e.Value.length+" Item(s)";case"PN":return e.Value&&e.Value[0]?e.Value.map(function(o){return o.Alphabetic;}).join():"";default:return e.Value.join();}return e.BulkDataURI||"";}catch{return e;}}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"formatAttributeValue",type:r,pure:!0,standalone:!1});let i=r;return i;})();var wu=(()=>{let r=class r{constructor(e,n){this.$http=e,this.mainservice=n,this.usage=[{value:"dcmObjectStorageID",text:"Object Storage"},{value:"dcmMetadataStorageID",text:"Metadata Storage"},{value:"dcmSeriesMetadataStorageID",text:"SeriesMetadata Storage"}],this.uriSchema=[{text:"file",value:"file"},{text:"jclouds",value:"jclouds"},{text:"emc-ecs-s3",value:"emc-ecs-s3"},{text:"hcp",value:"hcp"},{text:"documentum",value:"documentum"}];}search(e,n){return this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}storage?${this.mainservice.param(this.queryParams(e,n))}`);}queryParams(e,n){return e.offset=n&&n!=""?n:0,e.status&&e.status==="*"&&delete e.status,e.ExporterID&&e.ExporterID==="*"&&delete e.ExporterID,e;}flush(e,n){let o=this.mainservice.param({status:e,updatedBefore:n});return this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}stgcmt?${o}`);}delete(e){return this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}stgcmt/'${e}`);}getFiltersSchema(e){return[[[{tag:"html-select",options:e.map(n=>({text:n.dicomAETitle,value:n.dicomAETitle})),showStar:!0,showSearchField:!0,filterKey:"dicomAETitle",description:"AE Title",placeholder:"AE Title"},{tag:"select",options:this.uriSchema,showStar:!0,filterKey:"uriScheme",description:"Uri Schema",placeholder:"Uri Schema"}],[{tag:"select",options:this.usage,showStar:!0,filterKey:"usage",description:"Usage",placeholder:"Usage"},{tag:"combined",firstField:{tag:"number",type:"number",min:1,filterKey:"usableSpaceBelow",placeholder:"UsableSpace below",title:"UsableSpace below"},secondField:{tag:"select",filterKey:"usableSpaceBelowMode",showStar:!1,options:[{value:"TB",text:"TB"},{value:"GB",text:"GB"},{value:"MB",text:"MB"},{value:"BYTE",text:"Byte"}],placeholder:"Unit",title:"Unit"}}]],[[{tag:"input",type:"text",filterKey:"dcmStorageClusterID",placeholder:"Storage Cluster ID",description:"Storage Cluster ID"},{tag:"button",id:"submit",text:"SUBMIT",description:"Get Storage commitments"}],[]]];}getNextStorage(e){let n={};e.forEach(o=>{I.isSetInObject(o,"dicomAETitle")&&o.dicomAETitle.forEach(a=>{n[a]=n[a]||[],n[a].push(o);});});}changeLocationStatus(e,n){return this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}storage/${e}/changestatus${I.param(n)}`,{});}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var wo=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f,g){this.aeListService=e,this.$http=n,this.storageSystems=o,this.devicesService=a,this.webAppListService=s,this.permissionService=l,this._keycloakService=_,this.appService=f,this.appRequest=g,this.iod={},this.integerVr=["DS","FL","FD","IS","SL","SS","UL","US"],this.dicomHeader=new At({"Content-Type":"application/dicom+json"}),this.jsonHeader=new At({"Content-Type":"application/json"}),this.sharedObservables$={},this.getDiffAttributeSet=S=>this.$http.get(`${S?I.addLastSlash(S):I.addLastSlash(this.appService.baseUrl)}attribute-set/DIFF_RS`),this.verifyStorage=(S,x,D,R)=>{let j=`${this.getURL(S,x.selectedWebService,D)}/stgver${I.param(R)}`;return this.$http.post(j,{},this.dicomHeader);},this.schedulestorageVerificationStudies=(S,x)=>this.$http.post(`${this.getDicomURL("study",x.selectedWebService)}/stgver${I.param(S)}`,{}),this.schedulestorageVerificationSeries=(S,x)=>this.$http.post(`${this.getDicomURL("series",x.selectedWebService)}/stgver${I.param(S)}`,{}),this.supplementIssuer=(S,x,D,R)=>{let j=`${I.param(D)}`;return j=x?j==""?"?test="+x:j+"&test="+x:j,this.$http.post(`${this.getDicomURL("patient",R.selectedWebService)}/issuer/${S}${j}`,{});},this.updateCharset=(S,x,D,R)=>{let j=`${I.param(D)}`;return j=x?j==""?"?test="+x:j+"&test="+x:j,this.$http.post(`${this.getDicomURL("patient",R.selectedWebService)}/charset/${S}${j}`,{});},this.mergePatients=(S,x)=>S.preActionElements.getAttrs("patient").length>1?li({error:"Multi patient merge is not supported!"}):this.getModifyPatientUrl(x).pipe(ot(D=>{console.log("url",D);let R=this.getPatientId(S.preActionElements.getAttrs("patient")[0]);return R?this.$http.put(`${D}/${R}?merge=true`,S.postActionElements.getAttrs("patient"),this.jsonHeader):li({error:"Patient id not found!"});})),this.deleteStudy=(S,x,D)=>this.$http.delete(`${this.getDicomURL("study",x)}/${S}${I.param(D)}`),this.deleteRejectedInstances=(S,x)=>this.$http.delete(`${I.addLastSlash(this.appService.baseUrl)}reject/${S}${I.param(x)}`),this.export=(S,x,D,R)=>S?this.$http.post(S,{},this.jsonHeader):Mi(x.getAllAsArray().filter(j=>j.dicomLevel!="patient").map(j=>this.$http.post(this.getURL(j.object.attrs,R,j.dicomLevel)+D,{},this.jsonHeader))),this.retrieve=(S,x,D,R,j)=>{let V=Wo(x);return delete V.destination,j?Mi(j.getAllAsArray().filter(ie=>ie.dicomLevel!="patient").map(ie=>this.$http.post(`${this.getURL(ie.object.attrs,S,ie.dicomLevel)}/export/dicom:${x.destination}${I.param(V)}`,{},this.jsonHeader))):this.$http.post(`${this.getURL(D.attrs,S,R)}/export/dicom:${x.destination}${I.param(V)}`,{});},this.getInstitutions=S=>this.institutions?ge(this.institutions):this.appRequest.getUiConfig().pipe(me(x=>{if(A(x,"dcmuiInstitutionNameFilterType")){if(this.dcmuiInstitutionNameFilterType||(this.dcmuiInstitutionNameFilterType=B(x,"dcmuiInstitutionNameFilterType")),this.dcmuiInstitutionNameFilterType==="ui_config"&&(A(x,"dcmuiInstitutionName")&&(this.institutions||(this.institutions=B(x,"dcmuiInstitutionName"))),this.institutions&&this.institutions.length>0))return this.institutions;if(this.dcmuiInstitutionNameFilterType==="db")return"db";}}),ot(x=>x&&x==="db"?this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}institutions?entity=${S}`):x&&x.length&&x.length>0?ge({Institutions:x}):ge())),this.createEmptyStudy=(S,x)=>this.$http.post(this.getDicomURL("study",x),S,this.dicomHeader);}getWebApps(e){let n=[e?.dcmWebServiceClass||"",e?.dicomDeviceName||""].join("_")||"all";return this.sharedObservables$.webapps&&this.sharedObservables$.webapps[n]||(this.sharedObservables$.webapps=this.sharedObservables$.webapps||{},this.sharedObservables$.webapps[n]=this.webAppListService.getWebApps(e).pipe(me(o=>this.webAppHasPermission(o)),er(1))),this.sharedObservables$.webapps[n];}getEntrySchema(e,n){return{schema:I.prepareFlatFilterObject(we.STUDY_FILTER_ENTRY_SCHEMA(e,n),1),lineLength:1};}getTokenService(e,n){return e&&e.selectedWebService&&A(e.selectedWebService,"dcmKeycloakClientID")?this.$http.getRealm(e.selectedWebService):n?this.$http.getRealm(n):this._keycloakService.getToken();}getPatientId(e){try{console.log("patient",e);let n;A(e,"[0]")?n=e[0]:n=e;let o=[this.getPatientIdentifierOf(n)];return A(n,'["00101002"].Value')&&B(n,'["00101002"].Value').forEach(a=>{o.push(this.getPatientIdentifierOf(a));}),o.join("~");}catch{return"";}}getPatientIdentifierOf(e){let n="";if(e.PatientID||A(e,'["00100020"].Value[0]')&&e["00100020"].Value[0]!="")return e.PatientID&&(n=e.PatientID),e.IssuerOfPatientID&&e.IssuerOfPatientID!=""&&(n+="^^^"+e.IssuerOfPatientID),A(e,"IssuerOfPatientIDQualifiers.UniversalEntityID")&&B(e,"IssuerOfPatientIDQualifiers.UniversalEntityID")!=""&&(n+="&"+e.IssuerOfPatientIDQualifiers.UniversalEntityID),A(e,"IssuerOfPatientIDQualifiers.UniversalEntityIDType")&&B(e,"IssuerOfPatientIDQualifiers.UniversalEntityIDType")!=""&&(n+="&"+e.IssuerOfPatientIDQualifiers.UniversalEntityIDType),A(e,'["00100020"].Value[0]')&&B(e,'["00100020"].Value[0]')!=""&&(n+=e["00100020"].Value[0]),A(e,'["00100021"].Value[0]')&&B(e,'["00100021"].Value[0]')!=""?n+="^^^"+e["00100021"].Value[0]:(A(e,'["00100024"].Value[0]["00400032"].Value[0]')&&B(e,'["00100024"].Value[0]["00400032"].Value[0]')!=""||A(e,'["00100024"].Value[0]["00400033"].Value[0]')&&B(e,'["00100024"].Value[0]["00400033"].Value[0]')!=""||A(e,'["00100024"].Value[0]["00400035"].Value[0]')&&B(e,'["00100024"].Value[0]["00400035"].Value[0]')!="")&&(n+="^^^"),A(e,'["00100024"].Value[0]["00400032"].Value[0]')&&B(e,'["00100024"].Value[0]["00400032"].Value[0]')!=""&&(n+="&"+e["00100024"].Value[0]["00400032"].Value[0]),A(e,'["00100024"].Value[0]["00400033"].Value[0]')&&B(e,'["00100024"].Value[0]["00400033"].Value[0]')!=""&&(n+="&"+e["00100024"].Value[0]["00400033"].Value[0]),A(e,'["00100024"].Value[0]["00400035"].Value[0]')&&B(e,'["00100024"].Value[0]["00400035"].Value[0]')!=""&&(n+="^"+e["00100024"].Value[0]["00400035"].Value[0]),Pn(n,"/","%2F");}getUpsWorkitemUID(e){return B(e,"00080018.Value[0]");}removeUpsWorkitemUID(e){return A(e,"00080018"),delete e["00080018"],e;}clearPatientObject(e){let n=this;he(e,function(o,a){typeof o=="object"&&a!="vr"?n.clearPatientObject(o):typeof a=="number"||a==="vr"||a==="Value"||a==="Alphabetic"||a==="Ideographic"||a==="Phonetic"||a==="items"||delete e[a];});}convertStringToNumber(e){let n=this;he(e,function(o,a){typeof o=="object"&&a!="vr"?n.convertStringToNumber(o):a==="vr"&&n.integerVr.indexOf(e.vr)>-1&&e.Value&&e.Value.length>0&&(e.Value.length>1?he(e.Value,(s,l)=>{e.Value[l]=Number(e.Value[l]);}):e.Value[0]=Number(e.Value[0]));});}initEmptyValue(e){return he(e,(n,o)=>{console.log("m",n),n&&n.vr&&n.vr==="PN"&&n.vr!="SQ"&&(!n.Value||n.Value[0]===null)&&(console.log("in pnvalue=",n),e[o].Value=[{Alphabetic:""}]),n&&n.vr&&n.vr!="SQ"&&!n.Value&&(e[o].Value=[""]),n&&(pe(n)||n&&mt(n))&&(console.log("beforecall",n),this.initEmptyValue(n));}),e;}replaceKeyInJson(e,n,o){let a=this;return he(e,function(s,l){s[n]&&(e[l][o]=[e[l][n]],delete e[l][n]),s.vr&&s.vr!="SQ"&&!s.Value&&(s.vr==="PN"?(e[l].Value=e[l].Value||[{Alphabetic:""}],e[l].Value=[{Alphabetic:""}]):e[l].Value=[""]),(Object.prototype.toString.call(s)==="[object Array]"||e[l]!==null&&typeof e[l]=="object")&&a.replaceKeyInJson(s,n,o);}),e;}getArrayFromIod(e){let n=[];return he(e,function(o,a){a==="00400100"?he(o.items||o.Value[0],function(s,l){n.push({code:"00400100:"+l,codeComma:">"+l.slice(0,4)+","+l.slice(4),name:DCM4CHE.elementName.forTag(l)});}):n.push({code:a,codeComma:a.slice(0,4)+","+a.slice(4),name:DCM4CHE.elementName.forTag(a)});}),n;}clearFilterObject(e,n){let o=this.getFilterKeysFromTab(e);o=o||[],o.push("webApp"),Object.keys(n.filterModel).forEach(a=>{o.indexOf(a)===-1&&delete n.filterModel[a];});}getFilterKeysFromTab(e){return e?(()=>{switch(e){case"patient":return[...we.PATIENT_FILTER_SCHEMA([],!1),...we.PATIENT_FILTER_SCHEMA([],!0)].filter(n=>n.filterKey!="aet");case"series":return[...we.SERIES_FILTER_SCHEMA([],[],[],!1),...we.SERIES_FILTER_SCHEMA([],[],[],!0)].filter(n=>n.filterKey!="aet");case"mwl":return[...we.MWL_FILTER_SCHEMA([],!1),...we.MWL_FILTER_SCHEMA([],!0)];case"mpps":return[...we.MPPS_FILTER_SCHEMA(!1),...we.MPPS_FILTER_SCHEMA(!0)];case"uwl":return[...we.UWL_FILTER_SCHEMA(!1),...we.UWL_FILTER_SCHEMA(!0)];case"diff":return[...we.DIFF_FILTER_SCHEMA([],[],[],!1),...we.DIFF_FILTER_SCHEMA([],[],[],!0)].filter(n=>n.filterKey!="aet");default:return[...we.STUDY_FILTER_SCHEMA([],[],[],!1),...we.STUDY_FILTER_SCHEMA([],[],[],!0)].filter(n=>n.filterKey!="aet");}})().map(n=>n.filterKey):[];}getFilterSchema(e,n,o,a,s,l,_,f,g,S,x,D){let R,j=3;switch(e){case"patient":R=we.PATIENT_FILTER_SCHEMA(n,a==="expand").filter(V=>V.filterKey!="aet"),j=a==="expand"?1:3;break;case"series":R=we.SERIES_FILTER_SCHEMA(n,s,l,a==="expand").filter(V=>V.filterKey!="aet"),j=3;break;case"mwl":R=we.MWL_FILTER_SCHEMA(l,a==="expand",B(this.appService.global,"uiConfig.dcmuiMWLWorklistLabel")),j=a==="expand"?1:3;break;case"mpps":R=we.MPPS_FILTER_SCHEMA(a==="expand"),j=a==="expand"?1:3;break;case"uwl":R=we.UWL_FILTER_SCHEMA(a==="expand"),j=a==="expand"?2:3;break;case"diff":R=we.DIFF_FILTER_SCHEMA(n,f,l,a==="expand").filter(V=>V.filterKey!="aet");break;default:R=we.STUDY_FILTER_SCHEMA(n,s,l,a==="expand").filter(V=>V.filterKey!="aet"),j=3;}if(a==="main"){if(e!="diff"){let V=we.ORDERBY_NEW.filter(ie=>ie.mode===e).map(ie=>new G(ie.value,ie.label,ie.title,ie.title,ie.label));R.push({tag:"html-select",options:V,filterKey:"orderby",text:"Order By",title:"Order By",placeholder:"Order By",cssClass:"study_order"});}_&&R.push({tag:"html-select",options:_?.webServices.map(V=>new G(V.dcmWebAppName,V.dcmWebAppName,V.dicomDescription,void 0,void 0,V,_.selectedWebService&&_.selectedWebService.dcmWebAppName===V.dcmWebAppName)),filterKey:"webApp",text:"Web App Service",title:"Web App Service",showStar:e==="diff",placeholder:"Web App Service",cssClass:"study_order",showSearchField:!0}),I.arrayIsNotEmpty(_,"webServices")&&R.push({tag:"button",id:"submit",text:"SUBMIT",description:this.getSubmitText(e)}),e!="diff"&&e!="uwl"&&e!="study"&&e!="mwl"&&R.push({tag:"dummy"}),e!="diff"&&(g?R.push({tag:"button",id:"count",text:o.count,showRefreshIcon:!0,showDynamicLoader:!1,description:"Query only the count"}):R.push({tag:"dummy"})),e==="study"&&S&&R.push({tag:"button",id:"size",showRefreshIcon:!0,showDynamicLoader:!1,text:o.size,description:"Query only size of studies"});}return D&&(R=D.call(this,R)),{lineLength:j,schema:I.prepareFlatFilterObject(R,j)};}getNoServiceSpecificWebApps(e){let n="QIDO_RS",o="view studies";switch(e){case"patient":o="view patients";break;case"series":o="view series";break;case"mwl":n="MWL_RS",o="view MWLs";break;case"mpps":n="MPPS_RS",o="view MPPS";break;case"uwl":n="UPS_RS",o="view UPS Workitems";break;case"diff":n="DCM4CHEE_ARC_AET_DIFF",o="compare studies between two archives";break;}return"Configure at least one web application with "+n+"\n web service class to "+o+"\n";}getSubmitText(e){switch(e){case"study":return"Query Studies";case"patient":return"Query Patients";case"series":return"Query Series";case"mwl":return"Query MWL";case"mpps":return"Query MPPS";case"uwl":return"Query UWL";case"diff":return"Show DIFFs";}}getMWL(e,n,o){let a;(!o||o==="object")&&(a=this.dicomHeader);let s=I.objToUrlParams(e);return s=s&&`?${s}`,this.$http.get(`${this.getDicomURL("mwl",n,o)}${s||""}`,a,!1,n);}getMPPS(e,n,o){let a;(!o||o==="object")&&(a=this.dicomHeader);let s=I.objToUrlParams(e);return s=s&&`?${s}`,this.$http.get(`${this.getDicomURL("mpps",n,o)}${s||""}`,a,!1,n);}getUWL(e,n,o){let a;(!o||o==="object")&&(a=this.dicomHeader);let s=I.objToUrlParams(e);return s=s&&`?${s}`,this.$http.get(`${this.getDicomURL("uwl",n,o)}${s||""}`,a,!1,n);}triggerDiff(e,n,o,a,s,l){return B(n,"selectedWebService.dcmWebServiceClass")&&n.selectedWebService.dcmWebServiceClass.indexOf("DCM4CHEE_ARC_AET_DIFF")>-1?a==="csv"?this.$http.post(this.getDicomURL(o,n.selectedWebService,a,l)+I.objToUrlParams(e,!0),s):this.$http.get(this.getDicomURL(o,n.selectedWebService,a)+I.objToUrlParams(e,!0)):li({error:"Web Application Service with the web service class "+"DCM4CHEE_ARC_AET_DIFF"+" not found!"});}getDiff(e,n,o){let a;(!o||o==="object")&&(a=this.dicomHeader);let s,l,_;return(A(e,"batchID")&&B(e,"batchID")!=""||A(e,"taskID")&&B(e,"taskID")!="")&&(s=B(e,"batchID"),l=B(e,"taskID"),delete e.batchID,delete e.taskID,s&&s!=""?_=`${I.addLastSlash(this.appService.baseUrl)}monitor/diff/batch/${s}/studies${I.objToUrlParams(I.clearEmptyObject(e),!0)}`:l&&(_=`${I.addLastSlash(this.appService.baseUrl)}monitor/diff/${l}/studies${I.objToUrlParams(I.clearEmptyObject(e),!0)}`)),(s||l)&&_?this.$http.get(_,a):this.getWebAppFromWebServiceClassAndSelectedWebApp(n,"DCM4CHEE_ARC_AET_DIFF","DCM4CHEE_ARC_AET_DIFF").pipe(me(f=>`${I.getUrlFromDcmWebApplication(f,this.appService.baseUrl)}`)).pipe(ot(f=>this.$http.get(`${f}${I.param(e)||""}`,a)));}getDiffHeader(e,n){let o,a;if(A(e,[n,"Value",0])){if(e[n].vr==="PN")return A(e,["04000561","Value",0,"04000550","Value",0,n,"Value",0,"Alphabetic"])?(o=B(e,[n,"Value",0,"Alphabetic"]),a=B(e,["04000561","Value",0,"04000550","Value",0,n,"Value",0,"Alphabetic"]),o===a?{Value:[o],showBorder:!1}:{Value:[o+"/"+a],showBorder:!0}):{Value:[e[n].Value[0].Alphabetic],showBorder:!1};switch(n){case"00080061":if(o=new Nv().transform(e[n]),A(e,["04000561","Value",0,"04000550","Value",0,n,"Value",0]))return a=new Nv().transform(B(e,["04000561","Value",0,"04000550","Value",0,n])),o===a?{Value:[o],showBorder:!1}:{Value:[o+"/"+a],showBorder:!0};break;case"00080020":if(o=new Kk().transform(B(e,[n,"Value",0])),A(e,["04000561","Value",0,"04000550","Value",0,n,"Value",0]))return a=new Kk().transform(B(e,["04000561","Value",0,"04000550","Value",0,n,"Value",0])),o===a?{Value:[o],showBorder:!1}:{Value:[o+"/"+a],showBorder:!0};break;case"00080030":if(o=new Xk().transform(B(e,[n,"Value",0])),A(e,["04000561","Value",0,"04000550","Value",0,n,"Value",0]))return a=new Xk().transform(B(e,["04000561","Value",0,"04000550","Value",0,n,"Value",0])),o===a?{Value:[o],showBorder:!1}:{Value:[o+"/"+a],showBorder:!0};break;default:if(A(e,["04000561","Value",0,"04000550","Value",0,n,"Value",0]))return o=B(e,[n,"Value",0]),a=B(e,["04000561","Value",0,"04000550","Value",0,n,"Value",0]),o===a?{Value:[o],showBorder:!1}:{Value:[o+"/"+a],showBorder:!0};}return{Value:[e[n].Value[0]],showBorder:!1};}else return{Value:[""],showBorder:!1};}deletePatient(e,n){return this.$http.delete(`${this.getDicomURL("patient",e)}/${n}`,void 0,!0);}unmergePatient(e,n){return this.$http.post(`${this.getDicomURL("patient",e)}/${n}/unmerge`,void 0,!0);}deleteMWL(e,n,o,a){return this.$http.delete(`${this.getDicomURL("mwl",e,a)}/${n}/${o}`);}getPatients(e,n,o){let a;(!o||o==="object")&&(a=this.dicomHeader);let s=I.objToUrlParams(e);return s=s&&`?${s}`,this.$http.get(`${this.getDicomURL("patient",n,o)}${s||""}`,a,!1,n);}getStudies(e,n,o){let a;(!o||o==="object")&&(a=this.dicomHeader);let s=I.objToUrlParams(e);return s=s&&`?${s}`,this.$http.get(`${this.getDicomURL("study",n,o)}${s||""}`,a,!1,n);}getSeries(e,n,o){let a;(!o||o==="object")&&(a=this.dicomHeader);let s=I.objToUrlParams(e);return s=s&&`?${s}`,this.$http.get(`${this.getDicomURL("series",n,o)}${s||""}`,a,!1,n);}getSeriesOfStudy(e,n,o,a){let s;(!a||a==="object")&&(s=this.dicomHeader);let l=I.objToUrlParams(n);return l=l&&`?${l}`,this.$http.get(`${this.getDicomURL("study",o,a)}/${e}/series${l||""}`,s,!1,o);}testAet(e,n){return this.$http.get(e,this.jsonHeader,!1,n);}getInstances(e,n,o,a,s){let l;(!s||s==="object")&&(l=this.dicomHeader);let _=I.objToUrlParams(o);return _=_&&`?${_}`,this.$http.get(`${this.getDicomURL("study",a,s)}/${e}/series/${n}/instances${_||""}`,l,!1,a);}getStudyInstanceUID(e){try{return B(e,"0020000D.Value[0]");}catch{return;}}getSeriesInstanceUID(e){try{return B(e,"0020000E.Value[0]");}catch{return;}}getDicomURL(e,n,o,a){if(console.log("object",n),n)try{let s=I.getUrlFromDcmWebApplication(n,this.appService.baseUrl);if(s){switch(e){case"patient":s+="/patients";break;case"mwl":s+="/mwlitems";break;case"mpps":s+="/mpps";break;case"uwl":s+="/workitems";break;case"export":s+="/studies/export";break;case"study":s+="/studies";break;case"series":s+="/series";break;case"diff":break;default:}return e!="diff"&&o&&(o==="count"&&(s+="/count"),o==="size"&&(s+="/size")),o&&o==="csv"&&(s+=`/csv:${a}`),s;}else I.log("Url is undefined");}catch(s){I.log("Error on getting dicomURL in study.service.ts",s);}else I.log("WebApp is undefined");}wadoURL(e,...n){let o=arguments;return this.getWebAppFromWebServiceClassAndSelectedWebApp(e,"WADO_URI","WADO_URI").pipe(me(a=>{let s,l=`${I.getUrlFromDcmWebApplication(a,this.appService.baseUrl)}?requestType=WADO`;for(s=1;s<o.length;s++)he(o[s],(_,f)=>{l+="&"+f.replace(/^(_){1}(\w*)/,(g,S,x)=>x)+"="+_;});return l;}));}renderURL(e,n){return n.video?this.wadoURL(e,n.wadoQueryParams,{contentType:"video/*"}):n.numberOfFrames?this.wadoURL(e,n.wadoQueryParams,{contentType:"image/jpeg",frameNumber:n.view}):n.gspsQueryParams.length?this.wadoURL(e,n.gspsQueryParams[n.view-1]):this.wadoURL(e,n.wadoQueryParams);}recreateDBRecord(e,n,o){return this.$http.post(`${this.studyURL(o.attrs,n)}/reimport${I.param(e)}`,{},this.jsonHeader,void 0,n);}diffUrl(e,n,o,a){return`${a?I.addLastSlash(a):I.addLastSlash(this.appService.baseUrl)}aets/${e.dicomAETitle}/dimse/${n.dicomAETitle}/diff/${o.dicomAETitle}/studies`;}getAttributeFilter(e,n){return this.$http.get(`${n?I.addLastSlash(n):I.addLastSlash(this.appService.baseUrl)}attribute-filter/${e||"Patient"}`).pipe(me(o=>{if((!e||e==="Patient")&&o.dcmTag){let a=[parseInt("77770010",16),parseInt("77771010",16),parseInt("77771011",16)];o.dcmTag.push(...a);}if(e&&e==="Study"&&o.dcmTag){let a=[parseInt("77770010",16),parseInt("77771020",16),parseInt("77771021",16),parseInt("77771022",16)];o.dcmTag.push(...a);}return o;}));}getAets(){return this.sharedObservables$.aets||(this.sharedObservables$.aets=this.aeListService.getAets().pipe(er(1))),this.sharedObservables$.aets;}getAes(){return this.sharedObservables$.aes||(this.sharedObservables$.aes=this.aeListService.getAes().pipe(er(1))),this.sharedObservables$.aes;}equalsIgnoreSpecificCharacterSet(e,n){return Object.keys(e).filter(o=>o!="00080005").every(o=>Bo(e[o],n[o]))&&Object.keys(n).filter(o=>o!="00080005").every(o=>e[o]);}updatePatientDemographics(e,n,o,a){let s=`${this.getDicomURL("patient",e)}/${this.getPatientId(n.attrs)}/pdq/${o}`;return a===!0&&(s+="?adjustIssuerOfPatientID=true"),this.$http.post(s,void 0,!0);}queryPatientDemographics(e,n,o){return this.$http.get(`${o?I.addLastSlash(o):I.addLastSlash(this.appService.baseUrl)}pdq/${n}/patients/${e}`);}queryNationalPatientRegister(e){return this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}xroad/RR441/${e}`);}extractAttrs(e,n,o){for(let a in e)Jr(n,a)>-1&&(o[a]=e[a]);}createGSPSQueryParams(e){let n=I.valueOf(e["00080016"]),o=I.valuesOf(e["00081115"]),a=[];return n==="1.2.840.10008.5.1.4.1.1.11.1"&&o&&o.forEach(s=>{I.valuesOf(s["00081140"]).forEach(l=>{a.push(new AA(e["0020000D"].Value[0],s["0020000E"].Value[0],l["00081155"].Value[0],"image/jpeg",I.valueOf(l["00081160"])||1,e["0020000E"].Value[0],e["00080018"].Value[0]));});}),a;}studyURL(e,n){return`${this.getDicomURL("study",n)}/${e["0020000D"].Value[0]}`;}seriesURL(e,n){return this.studyURL(e,n)+"/series/"+e["0020000E"].Value[0];}instanceURL(e,n){return this.seriesURL(e,n)+"/instances/"+e["00080018"].Value[0];}getObjectUniqueId(e,n){let o={id:this.getPatientId(e),idParts:[this.getPatientId(e)]};return n!="patient"&&(o.id+=`_${e["0020000D"].Value[0]}`,o.idParts.push(e["0020000D"].Value[0])),(n==="series"||n==="instance")&&(o.id+=`_${e["0020000E"].Value[0]}`,o.idParts.push(e["0020000E"].Value[0])),n==="instance"&&(o.id+=`_${e["00080018"].Value[0]}`,o.idParts.push(e["00080018"].Value[0])),n==="mwl"&&A(e,"[00400100].Value[0][00400009].Value[0]")&&(o.id+=`_${B(e,"[00400100].Value[0][00400009].Value[0]")}`,o.idParts.push(B(e,"[00400100].Value[0][00400009].Value[0]"))),o;}addObjectOnSelectedElements(e,n,o,a){try{let s=this.getObjectUniqueId(o.attrs,e);n&&!a.hasIn(e,s)&&a.preActionElements.toggle(e,s,o);}catch(s){console.error(s);}}getURL(e,n,o){return o==="series"?this.seriesURL(e,n):o==="instance"?this.instanceURL(e,n):this.studyURL(e,n);}studyFileName(e){return e["0020000D"].Value[0];}seriesFileName(e){return this.studyFileName(e)+"_"+e["0020000E"].Value[0];}instanceFileName(e){return this.seriesFileName(e)+"_"+e["00080018"].Value[0];}isVideo(e){let n=I.valueOf(e["00080016"]);return["1.2.840.10008.5.1.4.1.1.77.1.1.1","1.2.840.10008.5.1.4.1.1.77.1.2.1","1.2.840.10008.5.1.4.1.1.77.1.4.1"].indexOf(n)!=-1;}isImage(e){let n=I.valueOf(e["00080016"]),o=I.valueOf(e["00280100"]);return o&&o!=""&&n!="1.2.840.10008.5.1.4.1.1.481.2";}createArray(e){let n=[];for(let o=1;o<=e;o++)n.push(o);return n;}getStorageSystems(){return this.sharedObservables$.storageSystems||(this.sharedObservables$.storageSystems=this.sharedObservables$.storageSystems||{},this.sharedObservables$.storageSystems=this.storageSystems.search({},0).pipe(er(1))),this.sharedObservables$.storageSystems;}storageVerificationForSelected(e,n,o){return Mi(e.getAllAsArray().filter(a=>a.dicomLevel==="study"||a.dicomLevel==="instance"||a.dicomLevel==="series").map(a=>this.$http.post(`${this.getURL(a.object.attrs,n.selectedWebService,a.dicomLevel)}/stgver${I.param(o)}`,{})));}sendStorageCommitmentRequestForMatchingStudies(e,n,o){return this.$http.post(`${this.getDicomURL("study",e.selectedWebService)}/stgcmt/${n}${I.param(o)}`,{});}sendStorageCommitmentRequestForMatchingSeries(e,n,o){return this.$http.post(`${this.getDicomURL("series",e.selectedWebService)}/stgcmt/${n}${I.param(o)}`,{});}sendStorageCommitmentRequestForSelected(e,n,o){return Mi(e.getAllAsArray().filter(a=>a.dicomLevel==="study"||a.dicomLevel==="instance"||a.dicomLevel==="series").map(a=>this.$http.post(`${this.getURL(a.object.attrs,n.selectedWebService,a.dicomLevel)}/stgcmt/dicom:${o}`,{})));}sendStorageCommitmentRequestForSingle(e,n,o,a){let s=`${this.getURL(e,n.selectedWebService,o)}/stgcmt/dicom:${a}`;return this.$http.post(s,{});}sendInstanceAvailabilityNotificationForMatchingStudies(e,n,o){return this.$http.post(`${this.getDicomURL("study",e.selectedWebService)}/ian/${n}${I.param(o)}`,{});}sendInstanceAvailabilityNotificationForMatchingSeries(e,n,o){return this.$http.post(`${this.getDicomURL("series",e.selectedWebService)}/ian/${n}${I.param(o)}`,{});}sendInstanceAvailabilityNotificationForSelected(e,n,o){return Mi(e.getAllAsArray().filter(a=>a.dicomLevel==="study"||a.dicomLevel==="instance"||a.dicomLevel==="series").map(a=>this.$http.post(`${this.getURL(a.object.attrs,n.selectedWebService,a.dicomLevel)}/ian/dicom:${o}`,{})));}sendInstanceAvailabilityNotificationForSingle(e,n,o,a){let s=`${this.getURL(e,n.selectedWebService,o)}/ian/dicom:${a}`;return this.$http.post(s,{});}getDevices(){return this.devicesService.getDevices();}checkSchemaPermission(e){return Object.keys(e).forEach(n=>{e[n].forEach(o=>{if(o&&o.type){if(o.type==="actions"||o.type==="actions-menu"){let a="actions";if(A(o,"menu")&&o.menu&&(a="menu.actions"),B(o,a)&&B(o,a).length>0){let s=B(o,a).filter(l=>l.permission?this.permissionService.checkVisibility(l.permission):!0);Ue(o,a,s);}}}else return!1;});}),console.log("schema",e),e;}selectedWebServiceHasClass(e,n){return e&&n&&n!=""?A(e,"dcmWebServiceClass")&&B(e,"dcmWebServiceClass").indexOf(n)>-1:!1;}PATIENT_STUDIES_TABLE_SCHEMA(e,n,o){let a={patient:[new J({type:"dummy",pxWidth:35}),new J({type:"actions-menu",header:"",menu:{toggle:s=>{console.log("e",s),s.showMenu=!s.showMenu;},actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:s=>{s.selected=!s.selected;},title:"Select",showIf:(s,l)=>!l.showCheckboxes&&!s.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:s=>{console.log("e",s),s.selected=!s.selected;},title:"Unselect",showIf:(s,l)=>!l.showCheckboxes&&s.selected},{icon:{tag:"span",cssClass:"xroad_icon",text:""},click:s=>{n.call(e,{event:"click",level:"patient",action:"pdq_patient"},s);},title:"Query Patient Demographics Service",showIf:(s,l)=>I.is(o,"appService['xRoad']")||I.is(o,"appService.global['PDQs']")&&o.appService.global.PDQs.length>0},{icon:{tag:"span",cssClass:"custom_icon person_check",text:""},click:s=>{n.call(e,{event:"click",level:"patient",action:"pdq_patient_update"},s);},title:"Update Patient Demographics",showIf:()=>I.is(o,"appService.global['PDQs']")&&o.appService.global.PDQs.length>0&&this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET")},{icon:{tag:"span",cssClass:"glyphicon glyphicon-pencil",text:""},click:s=>{n.call(e,{event:"click",level:"patient",action:"edit_patient"},s);},showIf:(s,l)=>!A(s,"attrs.77771015"),title:"Edit this Patient",permission:{id:"action-studies-patient",param:"edit"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove",text:""},click:s=>{n.call(e,{event:"click",level:"patient",action:"delete_patient"},s);},title:"Delete this Patient",permission:{id:"action-studies-patient",param:"delete"},showIf:(s,l)=>(!A(s,"attrs.77771015")&&A(s,"attrs.00201200.Value[0]")&&s.attrs["00201200"].Value[0]=="0"&&!(A(o,"selectedWebService.dicomAETitleObject.dcmAllowDeletePatient")&&B(o,"selectedWebService.dicomAETitleObject.dcmAllowDeletePatient")==="NEVER")||A(o,"selectedWebService.dicomAETitleObject.dcmAllowDeletePatient")&&B(o,"selectedWebService.dicomAETitleObject.dcmAllowDeletePatient")==="ALWAYS")&&this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET")},{icon:{tag:"span",cssClass:"glyphicon glyphicon-plus",text:""},click:s=>{n.call(e,{event:"click",level:"patient",action:"create_mwl"},s);},showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET")&&!A(s,"attrs.77771015"),title:"Add new MWL",permission:{id:"action-studies-mwl",param:"create"},id:"patient_create_mwl"},{icon:{tag:"i",cssClass:"material-icons",text:"file_upload"},click:s=>{n.call(e,{event:"click",level:"patient",action:"upload_file"},s);},showIf:(s,l)=>!A(s,"attrs.77771015"),id:"patient_upload_file",title:"Upload file",permission:{id:"action-studies-study",param:"upload"}},{icon:{tag:"span",cssClass:"custom_icon csv_icon_black",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"download_csv"},s);},showIf:(s,l)=>B(s,"attrs[00201200].Value[0]")>0&&this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),id:"study_download_csv",title:"Download as CSV",permission:{id:"action-studies-download",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-eye-open",text:""},click:s=>{n.call(e,{event:"click",level:"patient",action:"open_viewer"},s);},id:"patient_open_viewer",title:"Open patient in the viewer",permission:{id:"action-studies-viewer",param:"visible"},showIf:(s,l)=>A(o,"selectedWebService.IID_PATIENT_URL")&&!A(s,"attrs.77771015")},{icon:{tag:"span",cssClass:"custom_icon unmerge_black",text:""},click:s=>{n.call(e,{event:"click",level:"patient",action:"unmerge_patient"},s);},id:"patient_unmerge_patient",title:"Unmerge this Patient",permission:{id:"action-studies-patient",param:"unmerge"},showIf:(s,l)=>A(s,"attrs.77771015")&&this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET")}]},headerDescription:"Actions",pxWidth:35}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:s=>{console.log("e",s),s.showAttributes=!s.showAttributes;},title:"Toggle Attributes",permission:{id:"action-studies-show-attributes",param:"visible"}}],headerDescription:"Actions",pxWidth:40}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-chevron-down",text:""},click:s=>{switch(console.log("e",s),o.studyConfig.tab){case"mwl":s.showMwls=!s.showMwls;break;case"mpps":s.showMpps=!s.showMpps;break;case"diff":s.showDiffs=!s.showDiffs;break;case"uwl":s.showUwls=!s.showUwls;break;default:n.call(e,{event:"click",level:"patient",action:"toggle_studies"},s);}},title:((s,...l)=>{let _="Studies";if(!o.cd_mode)switch(o.studyConfig.tab){case"mwl":_="MWLs";break;case"mpps":_="MPPSs";break;case"diff":_="DIFFs";break;case"uwl":_="UWLs";break;}return s[0]+_;})`Hide ${""}`,showIf:s=>{if(o.cd_mode)return!1;switch(o.studyConfig.tab){case"mwl":return s.showMwls;case"mpps":return s.showMpps;case"diff":return s.showDiffs;case"uwl":return s.showUwls;default:return s.showStudies;}}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-chevron-right",text:""},click:s=>{switch(console.log("e",s),o.studyConfig.tab){case"mwl":s.showMwls=!s.showMwls;break;case"mpps":s.showMpps=!s.showMpps;break;case"diff":s.showDiffs=!s.showDiffs;break;case"uwl":s.showUwls=!s.showUwls;break;default:n.call(e,{event:"click",level:"patient",action:"toggle_studies"},s);}},title:((s,...l)=>{let _="Studies";if(!o.cd_mode)switch(o.studyConfig.tab){case"mwl":_="MWLs";break;case"mpps":_="MPPSs";break;case"diff":_="DIFFs";break;case"uwl":_="UWLs";break;}return s[0]+_;})`Show ${""}`,showIf:s=>{if(o.cd_mode)return!1;switch(o.studyConfig.tab){case"mwl":return!s.showMwls;case"mpps":return!s.showMpps;case"diff":return!s.showDiffs;case"uwl":return!s.showUwls;default:return!s.showStudies;}}}],headerDescription:((s,...l)=>{let _="Studies";switch(o.studyConfig.tab){case"mwl":_="MWLs";break;case"mpps":_="MPPSs";break;case"diff":_="DIFFs";break;case"uwl":_="UWLs";break;}return s[0]+_;})`Toggle ${""}`,pxWidth:40}),new J({type:"pipe",header:"Patient's Name",headerDescription:"Patient's Name",widthWeight:1.5,saveTheOriginalValueOnTooltip:!0,calculatedWidth:"20%",pathToValue:"00100010.Value.0",pipe:new Di(Au,[o.configuredPersonNameFormat])}),new J({type:"pipe",header:"Patient Identifiers",headerDescription:"Patient Identifiers",widthWeight:2,cssClass:"big_field",calculatedWidth:"40%",pipe:new Di(xu,[this.appService.global])}),new J({type:"pipe",header:"Birth Date",pathToValue:"00100030.Value[0]",headerDescription:"Patient's Birth Date",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:.5,calculatedWidth:"20%"}),new J({type:"value",header:"Sex",pathToValue:"00100040.Value[0]",headerDescription:"Patient's Sex",widthWeight:.2,calculatedWidth:"20%"}),new J({type:"value",header:"Patient Comments",pathToValue:"00104000.Value[0]",headerDescription:"Patient Comments",widthWeight:3,calculatedWidth:"20%"}),new J({type:"value",header:"#S",pathToValue:"00201200.Value[0]",headerDescription:"Number of Patient Related Studies",widthWeight:.2,calculatedWidth:"20%"})],studies:[new J({type:"index",header:"",pathToValue:"",pxWidth:40}),new J({type:"actions-menu",header:"",menu:{toggle:s=>{console.log("e",s),s.showMenu=!s.showMenu;},actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:s=>{s.selected=!s.selected,n.call(e,{event:"click",level:"study",action:"select"},s);},title:"Select",showIf:(s,l)=>!l.showCheckboxes&&!s.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:s=>{console.log("e",s),s.selected=!s.selected,n.call(e,{event:"click",level:"study",action:"select"},s);},title:"Unselect",showIf:(s,l)=>!l.showCheckboxes&&s.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-pencil",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"edit_study"},s);},id:"study_edit_study",title:"Edit this study",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-study",param:"edit"}},{icon:{tag:"span",cssClass:"material-icons",text:"visibility_off"},click:s=>{n.call(e,{event:"click",level:"study",action:"mark_as_requested_unscheduled"},s);},title:"Mark study as Requested or Unscheduled",id:"study_mark_as_requested_unscheduled",permission:{id:"action-studies-study",param:"edit"}},{icon:{tag:"i",cssClass:"material-icons",text:"history"},click:s=>{n.call(e,{event:"click",level:"study",action:"modify_expired_date"},s);},id:"study_modify_expired_date",title:"Set/Change expired date",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-study",param:"edit"}},{icon:{tag:"span",cssClass:I.is(o,"trash.active")?"glyphicon glyphicon-repeat":"glyphicon glyphicon-trash",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"reject"},s);},id:"study_reject",title:I.is(o,"trash.active")?"Restore study":"Reject study",permission:{id:"action-studies-study",param:I.is(o,"trash.active")?"restore":"reject"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ok",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"verify_storage"},s);},id:"study_verify_storage",title:"Verify storage commitment",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-verify_storage_commitment",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-save",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"download"},s);},id:"study_download",title:"Download",permission:{id:"action-studies-download",param:"visible"}},{icon:{tag:"i",cssClass:"material-icons",text:"file_upload"},click:s=>{n.call(e,{event:"click",level:"study",action:"upload_file"},s);},id:"study_upload_file",title:"Upload file",permission:{id:"action-studies-study",param:"upload"}},{icon:{tag:"span",cssClass:"custom_icon recreate_record",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"recreate_record"},s);},id:"study_recreate_record",title:"Recreate DB Record",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-study",param:"recreate"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-export",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"export"},s);},id:"study_export",title:o.internal?"Export study":"Retrieve Study",permission:{id:"action-studies-study",param:"export"},showIf:s=>o.internal||this.webAppGroupHasClass(o.studyWebService,"MOVE")},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"delete"},s);},id:"study_delete",title:"Delete study permanently",showIf:s=>(I.is(o,"trash.active")||I.is(o,"selectedWebService.dicomAETitleObject.dcmAllowDeleteStudyPermanently","ALWAYS"))&&this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-study",param:"delete"}},{icon:{tag:"span",cssClass:"custom_icon csv_icon_black",text:""},click:s=>{n.call(e,{event:"click",level:"series",action:"download_csv"},s);},id:"series_download_csv",title:"Download as CSV",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-download",param:"visible"}},{icon:{tag:"i",cssClass:"material-icons",text:"vpn_key"},click:s=>{n.call(e,{event:"click",level:"study",action:"update_access_control_id"},s);},id:"study_update_access_control_id",title:"Update Study Access Control ID",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-study",param:"edit"}},{icon:{tag:"span",cssClass:"custom_icon hand_shake_black",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"send_storage_commit"},s);},id:"study_send_storage_commit",title:"Send Storage Commitment Request for this study",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-verify_storage_commitment",param:"visible"}},{icon:{tag:"span",cssClass:"custom_icon ticker_export_black",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"send_instance_availability_notification"},s);},id:"study_send_instance_availability_notification",title:"Send Instance Availability Notification for this study",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-verify_storage_commitment",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-eye-open",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"open_viewer"},s);},id:"study_open_viewer",title:"Open study in the viewer",permission:{id:"action-studies-viewer",param:"visible"},showIf:(s,l)=>A(o,"selectedWebService.IID_STUDY_URL")}]},headerDescription:"Actions",pxWidth:35}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:s=>{console.log("e",s),s.showAttributes=!s.showAttributes;},title:"Toggle Attributes",permission:{id:"action-studies-show-attributes",param:"visible"}}],headerDescription:"Actions",pxWidth:40}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-chevron-down",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"toggle_series"},s);},title:"Hide Series",showIf:s=>s.showSeries,permission:{id:"action-studies-serie",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-chevron-right",text:""},click:s=>{n.call(e,{event:"click",level:"study",action:"toggle_series"},s);},title:"Show Series",showIf:s=>!s.showSeries,permission:{id:"action-studies-serie",param:"visible"}}],headerDescription:"Show studies",widthWeight:.3,calculatedWidth:"6%"}),new J({type:"value",header:"Study ID",pathToValue:"[00200010].Value[0]",headerDescription:"Study ID",widthWeight:.9,calculatedWidth:"20%",cssClass:"border-left"}),new J({type:"value",header:"Study Instance UID",pathToValue:"[0020000D].Value[0]",headerDescription:"Study Instance UID",widthWeight:2.5,calculatedWidth:"20%"}),new J({type:"pipe",header:"Study Date",pathToValue:"[00080020].Value[0]",headerDescription:"Study Date",widthWeight:.6,pipe:new Di(Ji,[o.configuredDateTimeFormats]),calculatedWidth:"20%"}),new J({type:"pipe",header:"Study Time",pathToValue:"[00080030].Value[0]",headerDescription:"Study Time",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:.6,calculatedWidth:"20%"}),new J({type:"pipe",header:"R. Physician's Name",headerDescription:"Referring physician name",widthWeight:1,calculatedWidth:"20%",pathToValue:"00080090.Value.0",pipe:new Di(Au,[o.configuredPersonNameFormat])}),new J({type:"value",header:"Accession Number",pathToValue:"[00080050].Value[0]",headerDescription:"Accession Number",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"Admission ID",pathToValue:"[00380010].Value[0]",headerDescription:"Admission ID",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"Modalities",pathToValue:"[00080061].Value",headerDescription:"Modalities in Study",widthWeight:.5,calculatedWidth:"20%"}),new J({type:"value",header:"Study Description",pathToValue:"[00081030].Value[0]",headerDescription:"Study Description",widthWeight:2,calculatedWidth:"20%"}),new J({type:"value",header:"#S",pathToValue:"[00201206].Value[0]",headerDescription:"Number of Study Related Series",widthWeight:.3,calculatedWidth:"20%"}),new J({type:"value",header:"#I",pathToValue:"[00201208].Value[0]",headerDescription:"Number of Study Related Instances",widthWeight:.3,calculatedWidth:"20%"})],series:[new J({type:"index",header:"",pathToValue:"",pxWidth:40}),new J({type:"actions-menu",header:"",menu:{toggle:s=>{s.showMenu=!s.showMenu;},actions:[{icon:{tag:"span",cssClass:I.is(o,"trash.active")?"glyphicon glyphicon-repeat":"glyphicon glyphicon-trash",text:""},click:s=>{n.call(e,{event:"click",level:"series",action:"reject"},s);},id:"series_reject",title:I.is(o,"trash.active")?"Restore series":"Reject series",permission:{id:"action-studies-serie",param:I.is(o,"trash.active")?"restore":"reject"}},{icon:{tag:"i",cssClass:"material-icons",text:"history"},click:s=>{n.call(e,{event:"click",level:"series",action:"modify_expired_date_series"},s);},id:"series_modify_expired_date",title:"Set/Change expired date",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-serie",param:"edit"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-pencil",text:""},click:s=>{n.call(e,{event:"click",level:"series",action:"edit_series"},s);},id:"series_edit_series",title:"Edit this series",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-serie",param:"edit"}},{icon:{tag:"span",cssClass:"material-icons",text:"visibility_off"},click:s=>{n.call(e,{event:"click",level:"series",action:"mark_as_requested_unscheduled"},s);},id:"series_mark_as_requested_unscheduled",title:"Mark series as Requested or Unscheduled",permission:{id:"action-studies-serie",param:"edit"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ok",text:""},click:s=>{n.call(e,{event:"click",level:"series",action:"verify_storage"},s);},id:"series_verify_storage",title:"Verify storage commitment",permission:{id:"action-studies-verify_storage_commitment",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-save",text:""},click:s=>{n.call(e,{event:"click",level:"series",action:"download"},s);},id:"series_download",title:"Download",permission:{id:"action-studies-download",param:"visible"}},{icon:{tag:"i",cssClass:"material-icons",text:"file_upload"},click:s=>{n.call(e,{event:"click",level:"series",action:"upload_file"},s);},id:"series_upload_file",title:"Upload file",permission:{id:"action-studies-download",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-export",text:""},click:s=>{n.call(e,{event:"click",level:"series",action:"export"},s);},id:"series_export",title:o.internal?"Export series":"Retrieve series",permission:{id:"action-studies-serie",param:"export"}},{icon:{tag:"i",cssClass:"material-icons",text:"vpn_key"},click:s=>{n.call(e,{event:"click",level:"series",action:"update_access_control_id"},s);},id:"series_update_access_control_id",title:"Update Series Access Control ID",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-study",param:"edit"}},{icon:{tag:"span",cssClass:"custom_icon hand_shake_black",text:""},click:s=>{n.call(e,{event:"click",level:"series",action:"send_storage_commit"},s);},id:"series_send_storage_commit",title:"Send Storage Commitment Request for this series",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-verify_storage_commitment",param:"visible"}},{icon:{tag:"span",cssClass:"custom_icon ticker_export_black",text:""},click:s=>{n.call(e,{event:"click",level:"series",action:"send_instance_availability_notification"},s);},id:"series_send_instance_availability_notification",title:"Send Instance Availability Notification for this Series",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-verify_storage_commitment",param:"visible"}},{icon:{tag:"span",cssClass:"custom_icon csv_icon_black",text:""},click:s=>{console.log("e",s),n.call(e,{event:"click",level:"instance",action:"download_csv"},s);},id:"instance_download_csv",title:"Download as CSV",permission:{id:"action-studies-download",param:"visible"}}]},headerDescription:"Actions",pxWidth:35}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:s=>{s.showAttributes=!s.showAttributes;},title:"Show attributes",permission:{id:"action-studies-show-attributes",param:"visible"}}],headerDescription:"Actions",pxWidth:40}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-chevron-down",text:""},click:s=>{n.call(e,{event:"click",level:"series",action:"toggle_instances"},s);},title:"Hide Instances",showIf:s=>s.showInstances,permission:{id:"action-studies-serie",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-chevron-right",text:""},click:s=>{n.call(e,{event:"click",level:"series",action:"toggle_instances"},s);},title:"Show Instances",showIf:s=>!s.showInstances,permission:{id:"action-studies-serie",param:"visible"}}],headerDescription:"Show Instances",widthWeight:.2,calculatedWidth:"6%"}),new J({type:"value",header:"Station Name",pathToValue:"00081010.Value[0]",headerDescription:"Station Name",widthWeight:.9,calculatedWidth:"20%",cssClass:"border-left"}),new J({type:"value",header:"Series Number",pathToValue:"00200011.Value[0]",headerDescription:"Series Number",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"pipe",header:"PPS Start Date",pathToValue:"[00400244].Value[0]",showBorderPath:"[00400244].showBorder",headerDescription:"Performed Procedure Step Start Date",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:.6,calculatedWidth:"20%"}),new J({type:"pipe",header:"PPS Start Time",pathToValue:"[00400245].Value[0]",showBorderPath:"[00400245].showBorder",headerDescription:"Performed Procedure Step Start Time",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:.6,calculatedWidth:"20%"}),new J({type:"value",header:"Body Part",pathToValue:"00180015.Value[0]",headerDescription:"Body Part Examined",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"value",header:"Modality",pathToValue:"00080060.Value[0]",headerDescription:"Modality",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"value",header:"Series Description",pathToValue:"0008103E.Value[0]",headerDescription:"Series Description",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"value",header:"#I",pathToValue:"00201209.Value[0]",headerDescription:"Number of Series Related Instances",widthWeight:.9,calculatedWidth:"20%"})],instance:[new J({type:"index",header:"",pathToValue:"",pxWidth:40}),new J({type:"actions-menu",header:"",menu:{toggle:s=>{console.log("e",s),s.showMenu=!s.showMenu;},actions:[{icon:{tag:"span",cssClass:I.is(o,"trash.active")?"glyphicon glyphicon-repeat":"glyphicon glyphicon-trash",text:""},click:s=>{n.call(e,{event:"click",level:"instance",action:"reject"},s);},id:"instance_reject",title:I.is(o,"trash.active")?"Restore instance":"Reject instance",permission:{id:"action-studies-instance",param:I.is(o,"trash.active")?"restore":"reject"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ok",text:""},click:s=>{n.call(e,{event:"click",level:"instance",action:"verify_storage"},s);},id:"instance_edit_series",title:"Verify storage commitment",permission:{id:"action-studies-verify_storage_commitment",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-save",text:""},click:s=>{n.call(e,{event:"click",level:"instance",action:"download"},s);},id:"instance_verify_storage",title:"Download DICOM Object",permission:{id:"action-studies-download",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-export",text:""},click:s=>{n.call(e,{event:"click",level:"instance",action:"export"},s);},id:"instance_download",title:o.internal?"Export instance":"Retrieve instance",permission:{id:"action-studies-instance",param:"export"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-picture",text:""},click:s=>{n.call(e,{event:"click",level:"instance",action:"view"},s);},id:"instance_upload_file",title:"View DICOM Object",permission:{id:"action-studies-download",param:"visible"}},{icon:{tag:"span",cssClass:"custom_icon hand_shake_black",text:""},click:s=>{n.call(e,{event:"click",level:"instance",action:"send_storage_commit"},s);},id:"instance_export",title:"Send Storage Commitment Request for this instance",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-verify_storage_commitment",param:"visible"}},{icon:{tag:"span",cssClass:"custom_icon ticker_export_black",text:""},click:s=>{n.call(e,{event:"click",level:"instance",action:"send_instance_availability_notification"},s);},id:"instance_send_storage_commit",title:"Send Instance Availability Notification for this Instance",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-verify_storage_commitment",param:"visible"}}]},headerDescription:"Actions",pxWidth:35}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:s=>{console.log("e",s),s.showFileAttributes=!1,s.showAttributes=!s.showAttributes;},title:"Show attributes",permission:{id:"action-studies-show-attributes",param:"visible"}}],headerDescription:"Actions",pxWidth:40}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-list",text:""},click:s=>{console.log("e",s),s.showAttributes=!1,s.showFileAttributes=!s.showFileAttributes;},title:"Show attributes from file"}],headerDescription:"Actions",pxWidth:40}),new J({type:"value",header:"SOP Class Name",pathToValue:"00080016.Value[0]",headerDescription:"SOP Class Name",widthWeight:.9,calculatedWidth:"20%",cssClass:"border-left",hook:o.getSOPClassUIDName}),new J({type:"value",header:"Instance Number",pathToValue:"00200013.Value[0]",headerDescription:"Instance Number",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"pipe",header:"Content Date",pathToValue:"00080023.Value[0]",headerDescription:"Content Date",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:.9,calculatedWidth:"20%"}),new J({type:"pipe",header:"Content Time",pathToValue:"00080033.Value[0]",headerDescription:"Content Time",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:.9,calculatedWidth:"20%"}),new J({type:"pipe",header:"Content Description",headerDescription:"Content Description",widthWeight:1.5,calculatedWidth:"20%",pipe:new Di(wA,void 0)}),new J({type:"value",header:"#F",pathToValue:"00280008.Value[0]",headerDescription:"Number of Frames",widthWeight:.3,calculatedWidth:"20%"})],mwl:[new J({type:"index",header:"",pathToValue:"",pxWidth:40}),new J({type:"actions-menu",header:"",menu:{toggle:s=>{console.log("e",s),s.showMenu=!s.showMenu;},actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-pencil",text:""},click:s=>{n.call(e,{event:"click",level:"mwl",action:"edit_mwl"},s);},title:"Edit MWL",showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),permission:{id:"action-studies-mwl",param:"edit"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove",text:""},click:s=>{n.call(e,{event:"click",level:"mwl",action:"delete_mwl"},s);},showIf:(s,l)=>this.selectedWebServiceHasClass(o.selectedWebService,"DCM4CHEE_ARC_AET"),title:"Delete MWL",permission:{id:"action-studies-mwl",param:"delete"}},{icon:{tag:"i",cssClass:"material-icons",text:"file_upload"},click:s=>{n.call(e,{event:"click",level:"mwl",action:"upload_file"},s);},title:"Upload file",permission:{id:"action-studies-mwl",param:"upload"}},{icon:{tag:"span",cssClass:"custom_icon calendar_step_black",text:""},click:s=>{n.call(e,{event:"click",level:"mwl",action:"change_sps_status"},s);},title:"Change SPS status",permission:{id:"action-studies-mwl",param:"edit"}}]},headerDescription:"Actions",pxWidth:35}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:s=>{console.log("e",s),s.showAttributes=!s.showAttributes;},title:"Show attributes",permission:{id:"action-studies-show-attributes",param:"visible"}}],headerDescription:"Actions",pxWidth:40}),new J({type:"value",header:"Worklist Label",pathToValue:"00741202.Value[0]",headerDescription:"Worklist Label",widthWeight:1.5,calculatedWidth:"20%"}),new J({type:"value",header:"Requested Procedure ID",pathToValue:"00401001.Value[0]",headerDescription:"Requested Procedure ID",widthWeight:2,calculatedWidth:"20%",cssClass:"border-left"}),new J({type:"value",header:"Study Instance UID",pathToValue:"0020000D.Value[0]",headerDescription:"Study Instance UID",widthWeight:3.5,calculatedWidth:"20%"}),new J({type:"pipe",header:"SPS Start Date",pathToValue:"00400100.Value[0].00400002.Value[0]",headerDescription:"Scheduled Procedure Step Start Date",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:1,calculatedWidth:"20%"}),new J({type:"pipe",header:"SPS Start",pathToValue:"00400100.Value[0].00400003.Value[0]",headerDescription:"Scheduled Procedure Step Start Time",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:.9,calculatedWidth:"20%"}),new J({type:"pipe",header:"SP Physician's Name",headerDescription:"Scheduled Performing Physician's Name",widthWeight:2,calculatedWidth:"20%",pathToValue:"00400100.Value[0].00400006.Value[0]",pipe:new Di(Au,[o.configuredPersonNameFormat])}),new J({type:"value",header:"Accession Number",pathToValue:"00080050.Value[0]",headerDescription:"Accession Number",widthWeight:2,calculatedWidth:"20%"}),new J({type:"value",header:"Admission ID",pathToValue:"[00380010].Value[0]",headerDescription:"Admission ID",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"Modality",pathToValue:"00400100.Value[0].00080060.Value[0]",headerDescription:"Modality",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"SPS Description",pathToValue:"00400100.Value[0].00400007.Value[0]",headerDescription:"Scheduled Procedure Step Description",widthWeight:3,calculatedWidth:"20%"}),new J({type:"value",header:"SS AET",pathToValue:"00400100.Value[0].00400001.Value",headerDescription:"Scheduled Station AE Title",widthWeight:1.5,calculatedWidth:"20%"})],mpps:[new J({type:"index",header:"",pathToValue:"",pxWidth:40}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:s=>{console.log("e",s),s.showAttributes=!s.showAttributes;},title:"Show attributes",permission:{id:"action-studies-show-attributes",param:"visible"}}],headerDescription:"Actions",pxWidth:40}),new J({type:"value",header:"PPS ID",pathToValue:"00400253.Value[0]",headerDescription:"Performed Procedure Step ID",widthWeight:2,calculatedWidth:"20%",cssClass:"border-left"}),new J({type:"value",header:"Study Instance UID",pathToValue:"00400270.Value[0].0020000D.Value[0]",headerDescription:"Study Instance UID",widthWeight:3,calculatedWidth:"20%"}),new J({type:"pipe",header:"PPS Start Date",pathToValue:"00400244.Value[0]",headerDescription:"Performed Procedure Step Start Date",widthWeight:1,pipe:new Di(Ji,[o.configuredDateTimeFormats]),calculatedWidth:"20%"}),new J({type:"pipe",header:"PPS Start Time",pathToValue:"00400245.Value[0]",headerDescription:"Performed Procedure Step Start Time",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:1,calculatedWidth:"20%"}),new J({type:"pipe",header:"PPS End Date",pathToValue:"00400250.Value[0]",headerDescription:"Performed Procedure Step End Date",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:1,calculatedWidth:"20%"}),new J({type:"pipe",header:"PPS End Time",pathToValue:"00400251.Value[0]",headerDescription:"Performed Procedure Step End Time",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"Accession Number",pathToValue:"00400270.Value[0].00080050.Value[0]",headerDescription:"Accession Number",widthWeight:2,calculatedWidth:"20%"}),new J({type:"value",header:"Requested Procedure ID",pathToValue:"00400270.Value[0].00401001.Value[0]",headerDescription:"Requested Procedure ID",widthWeight:2,calculatedWidth:"20%"}),new J({type:"value",header:"SPS Description",pathToValue:"00400270.Value[0].00400007.Value[0]",headerDescription:"Scheduled Procedure Step Description",widthWeight:3,calculatedWidth:"20%"}),new J({type:"value",header:"PS AET",pathToValue:"00400241.Value[0]",headerDescription:"Performed Station AE Title",widthWeight:1.5,calculatedWidth:"20%"})],uwl:[new J({type:"index",header:"",pathToValue:"",pxWidth:40}),new J({type:"actions-menu",header:"",menu:{toggle:s=>{console.log("e",s),s.showMenu=!s.showMenu;},actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:s=>{s.selected=!s.selected,n.call(e,{event:"click",level:"uwl",action:"select"},s);},title:"Select",showIf:(s,l)=>!l.showCheckboxes&&!s.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:s=>{console.log("e",s),s.selected=!s.selected,n.call(e,{event:"click",level:"uwl",action:"select"},s);},title:"Unselect",showIf:(s,l)=>!l.showCheckboxes&&s.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-pencil",text:""},click:s=>{n.call(e,{event:"click",level:"uwl",action:"edit_uwl"},s);},title:"Edit UWL",permission:{id:"action-studies-uwl",param:"edit"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-duplicate",text:""},click:s=>{n.call(e,{event:"click",level:"uwl",action:"clone_uwl"},s);},title:"Clone UWL",permission:{id:"action-studies-uwl",param:"edit"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-repeat",text:""},click:s=>{n.call(e,{event:"click",level:"uwl",action:"reschedule_uwl"},s);},title:"Reschedule UWL",permission:{id:"action-studies-uwl",param:"edit"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ban-circle",text:""},click:s=>{n.call(e,{event:"click",level:"uwl",action:"cancel_uwl"},s);},title:"Cancel UWL",permission:{id:"action-studies-uwl",param:"edit"}},{icon:{tag:"span",cssClass:"custom_icon calendar_step_black",text:""},click:s=>{n.call(e,{event:"click",level:"uwl",action:"change_ups_state"},s);},title:"Change UPS state",permission:{id:"action-studies-uwl",param:"edit"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-bell",text:""},click:s=>{n.call(e,{event:"click",level:"uwl",action:"subscribe_ups"},s);},title:"Subscribe UPS",permission:{id:"action-studies-uwl",param:"edit"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-trash",text:""},click:s=>{n.call(e,{event:"click",level:"uwl",action:"unsubscribe_ups"},s);},title:"Unsubscribe UPS",permission:{id:"action-studies-uwl",param:"edit"}}]},headerDescription:"Actions",pxWidth:40}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:s=>{console.log("e",s),s.showAttributes=!s.showAttributes;},title:"Show attributes",permission:{id:"action-studies-show-attributes",param:"visible"}}],headerDescription:"Actions",pxWidth:40}),new J({type:"value",header:"Worklist Label",pathToValue:"00741202.Value[0]",headerDescription:"Worklist Label",widthWeight:2,calculatedWidth:"20%",cssClass:"border-left"}),new J({type:"value",header:"Admission ID",pathToValue:"[00380010].Value[0]",headerDescription:"Admission ID",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"Input Readiness",pathToValue:"00404041.Value[0]",headerDescription:"Input Readiness State",widthWeight:1.4,calculatedWidth:"20%"}),new J({type:"value",header:"Procedure Step",pathToValue:"00741000.Value[0]",headerDescription:"Procedure Step State",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"Step Priority",pathToValue:"00741200.Value[0]",headerDescription:"Scheduled Procedure Step Priority",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"pipe",header:"Start Date and Time",pathToValue:"00404005.Value[0]",headerDescription:"Scheduled Procedure Step Start Date and Time",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:2,calculatedWidth:"20%"}),new J({type:"value",header:"Procedure Step Label",pathToValue:"00741204.Value[0]",headerDescription:"Procedure Step Label",widthWeight:2,calculatedWidth:"20%"}),new J({type:"pipe",header:"E. Completion Time",pathToValue:"00404011.Value[0]",headerDescription:"Expected Completion Date and Time",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:2,calculatedWidth:"20%",cssClass:"border-left"}),new J({type:"pipe",header:"Step M. Date and Time",pathToValue:"00404010.Value[0]",headerDescription:"Scheduled Procedure Step Modification Date and Time",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:4,calculatedWidth:"20%",cssClass:"border-left"})],diff:[new J({type:"index",header:"",pathToValue:"",pxWidth:40}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:s=>{console.log("e",s),s.showAttributes=!s.showAttributes;},title:"Show attributes",permission:{id:"action-studies-show-attributes",param:"visible"}}],headerDescription:"Actions",pxWidth:40}),new J({type:"value",header:"Study ID",pathToValue:"[00200010].Value[0]",showBorderPath:"[00200010].showBorder",headerDescription:"Study ID",widthWeight:.9,calculatedWidth:"20%",cssClass:"border-left"}),new J({type:"value",header:"Study Instance UID",pathToValue:"[0020000D].Value[0]",showBorderPath:"[0020000D].showBorder",headerDescription:"Study Instance UID",widthWeight:3,calculatedWidth:"20%"}),new J({type:"pipe",header:"Study Date",pathToValue:"[00080020].Value[0]",showBorderPath:"[00080020].showBorder",headerDescription:"Study Date",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:.6,calculatedWidth:"20%"}),new J({type:"pipe",header:"Study Time",pathToValue:"[00080030].Value[0]",showBorderPath:"[00080030].showBorder",headerDescription:"Study Time",pipe:new Di(Ji,[o.configuredDateTimeFormats]),widthWeight:.6,calculatedWidth:"20%"}),new J({type:"value",header:"SP Physician's Name",pathToValue:"00400100.Value[0].00400006.Value[0]",showBorderPath:"00400100.Value[0].00400006.showBorder",headerDescription:"Scheduled Performing Physician's Name",widthWeight:2,calculatedWidth:"20%"}),new J({type:"value",header:"Accession Number",pathToValue:"[00080050].Value[0]",showBorderPath:"[00080050].showBorder",headerDescription:"Accession Number",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"Admission ID",pathToValue:"[00380010].Value[0]",headerDescription:"Admission ID",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"Modalities",pathToValue:"[00080061].Value[0]",showBorderPath:"[00080061].showBorder",headerDescription:"Modalities in Study",widthWeight:.5,calculatedWidth:"20%"}),new J({type:"value",header:"Study Description",pathToValue:"[00081030].Value[0]",showBorderPath:"[00081030].showBorder",headerDescription:"Study Description",widthWeight:2,calculatedWidth:"20%"}),new J({type:"value",header:"#S",pathToValue:"[00201206].Value[0]",showBorderPath:"[00201206].showBorder",headerDescription:"Number of Study Related Series",widthWeight:.4,calculatedWidth:"20%"}),new J({type:"value",header:"#I",pathToValue:"[00201208].Value[0]",showBorderPath:"[00201208].showBorder",headerDescription:"Number of Study Related Instances",widthWeight:.4,calculatedWidth:"20%"})]};return A(o,"tableParam.config.showCheckboxes")&&o.tableParam.config.showCheckboxes&&Object.keys(a).forEach(s=>{a[s].splice(1,0,new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:(l,_)=>{l.selected=!l.selected,n.call(e,{event:"click",level:_,action:"select"},l);},title:"Select",showIf:(l,_)=>!l.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:(l,_)=>{console.log("e",l),l.selected=!l.selected,n.call(e,{event:"click",level:_,action:"select"},l);},title:"Unselect",showIf:(l,_)=>l.selected}],headerDescription:"Select",pxWidth:40}));}),A(o,"studyConfig.tab")&&o.studyConfig.tab==="patient"&&a.patient.splice(0,1,new J({type:"index",header:"",pathToValue:"",pxWidth:40})),I.is(o,"studyTagConfig")&&(Object.keys(a).forEach(s=>{console.log("schema\u2122modeKey",a[s]),a[s].forEach((l,_)=>{console.log("element",l),l.type==="actions-menu"&&A(l,"menu.actions[0]")&&(l.menu.actions=l.menu.actions.filter(f=>A(o,"studyTagConfig.takeActionsOver")&&o.studyTagConfig.takeActionsOver.indexOf(f.id)>-1),l.menu.actions.length===0&&o.studyTagConfig.hideEmptyActionMenu&&a[s].splice(_,1));});}),A(o,"studyTagConfig.addActions.addPath")&&A(o,"studyTagConfig.addActions.addFunction")&&o.studyTagConfig.addActions.addFunction(n,e,B(a,o.studyTagConfig.addActions.addPath),a),A(o,"studyTagConfig.hookSchema")&&o.studyTagConfig.hookSchema(a,e)),a;}updateAccessControlIdOfSelections(e,n,o){return Mi(e.getAllAsArray().filter(a=>a.dicomLevel==="study"||a.dicomLevel==="series").map(a=>this.$http.put(`${this.getURL(a.object.attrs,n.selectedWebService,a.dicomLevel)}/access/${o}`,{})));}updateAccessControlIdSingle(e,n,o,a){return this.$http.put(`${this.getURL(e,n.selectedWebService,o)}/access/${a}`,{},this.jsonHeader);}updateAccessControlIdMatching(e,n,o,a){let s=n==="matching_studies"?`${this.getDicomURL("study",e.selectedWebService)}/access/${o}${I.param(a)}`:`${this.getDicomURL("series",e.selectedWebService)}/access/${o}${I.param(a)}`;return this.$http.post(s,{},this.jsonHeader);}modifySeries(e,n,o,a,s,l){let _=`${this.getModifyStudyUrl(n)}/${s}/series/${l}${a}`;return _?this.$http.put(_,e,o):li({error:"Error on getting the WebApp URL"});}getSeriesUrl(e,n,o,a){return o=o||this.getStudyInstanceUID(n.attrs),a=a||this.getSeriesInstanceUID(n.attrs),`${this.getDicomURL("study",e)}/${o}/series/${a}`;}updateMatchingStudies(e,n,o,a){let s=`${this.getModifyStudyUrl(n)}/update?${a}`;return s?this.$http.post(s,e,o):li({error:"Error on getting the WebApp URL"});}updateMatchingSeries(e,n,o,a){let s=`${this.getDicomURL("series",n)}/update?${a}`;return s?this.$http.post(s,e,o):li({error:"Error on getting the WebApp URL"});}modifyStudy(e,n,o,a,s){let l=`${this.getModifyStudyUrl(n)}/${s}${a}`;return l?this.$http.put(l,e,o):li({error:"Error on getting the WebApp URL"});}getModifyStudyUrl(e){return this.getDicomURL("study",this.getModifyStudyWebApp(e));}getModifyStudyWebApp(e){if(e.selectedWebService.dcmWebServiceClass.indexOf("DCM4CHEE_ARC_AET")>-1)return e.selectedWebService;}modifyMWL(e,n,o){let a=this.getModifyMWLUrl(n);return a?this.$http.post(a,e,o):li({error:"Error on getting the WebApp URL"});}changeSPSStatusSingleMWL(e,n,o){let a=B(o,"attrs[0020000D].Value[0]"),s=B(o,"attrs[00400100].Value[0][00400009].Value[0]");return a&&s?this.$http.post(`${this.getDicomURL("mwl",e)}/${a}/${s}/status/${n}`,{}):li({message:"Scheduled Procedure Step ID or Study Instance UID were missing!"});}changeSPSStatusSelectedMWL(e,n,o){let a=[];return e.preActionElements.getAllAsArray().filter(s=>s.dicomLevel==="mwl").map(s=>{let l=B(s.object,"attrs[0020000D].Value[0]"),_=B(s.object,"attrs[00400100].Value[0][00400009].Value[0]");a.push(this.$http.post(`${this.getDicomURL("mwl",n)}/${l}/${_}/status/${o}`,{}).pipe(Jn(f=>ge({isError:!0,error:f}))));}),Mi(a);}changeSPSStatusMatchingMWL(e,n,o){return this.$http.post(`${this.getDicomURL("mwl",e)}/status/${n}${I.param(o)}`,{});}importMatchingSPS(e,n,o){return this.$http.post(`${this.getDicomURL("mwl",e)}/import/${n}${I.param(o)}`,{});}modifyUWL(e,n,o){let a=this.getModifyMWLUrl(n);return a?this.$http.post(a,e,o):li({error:"Error on getting the WebApp URL"});}getModifyMWLUrl(e){return this.getDicomURL("mwl",this.getModifyMWLWebApp(e));}getModifyUWLUrl(e){return this.getDicomURL("uwl",this.getModifyMWLWebApp(e));}getModifyMWLWebApp(e){if(e.selectedWebService.dcmWebServiceClass.indexOf("DCM4CHEE_ARC_AET")>-1)return e.selectedWebService;}getModifyUWLWebApp(e){if(e.selectedWebService.dcmWebServiceClass.indexOf("DCM4CHEE_ARC_AET")>-1)return e.selectedWebService;}copyMove(e,n,o){try{let a=e.postActionElements.getAllAsArray()[0],s,l={},_=[];A(a,"requestReady.StudyInstanceUID")?s=B(a,"requestReady.StudyInstanceUID"):(s=I.generateOIDFromUUID(),a.dicomLevel==="patient"&&(l.PatientID=B(a.object,"attrs.00100020.Value[0]"),l.IssuerOfPatientID=B(a.object,"attrs.00100021.Value[0]")));let f=`${this.getDicomURL("study",n)}/${s}/${e.action}`;return e.action==="move"&&(f+="/"+o),f+=I.param(l),this.collectSelectedObjects(e.preActionElements.getAllAsArray().map(S=>S.requestReady)).forEach(S=>{console.log("oncopyobject = ",S),_.push(this.$http.post(f,S).pipe(Jn(x=>ge({isError:!0,error:x}))));}),Mi(_);}catch(a){return li(a);}}collectSelectedObjects(e){let n={};return e.forEach(o=>{if(o.StudyInstanceUID&&n[o.StudyInstanceUID]){if(o.ReferencedSeriesSequence&&n[o.StudyInstanceUID].ReferencedSeriesSequence){let a=!1;n[o.StudyInstanceUID].ReferencedSeriesSequence.forEach(s=>{o.ReferencedSeriesSequence.forEach(l=>{if(s.SeriesInstanceUID===l.SeriesInstanceUID&&(a=!0,s.ReferencedSOPSequence&&l.ReferencedSOPSequence)){let _=[];s.ReferencedSOPSequence.forEach(f=>{l.ReferencedSOPSequence.forEach(g=>{(f.ReferencedSOPClassUID!=g.ReferencedSOPClassUID||f.ReferencedSOPInstanceUID!=g.ReferencedSOPInstanceUID)&&_.push(g);});}),_.length>0&&(s.ReferencedSOPSequence=zc([...s.ReferencedSOPSequence,..._]));}});}),a||(n[o.StudyInstanceUID].ReferencedSeriesSequence=zc([...n[o.StudyInstanceUID].ReferencedSeriesSequence,...o.ReferencedSeriesSequence]));}}else n[o.StudyInstanceUID]=o;}),Object.values(n);}linkStudyToMwl(e,n,o){try{let a=[],s=e.postActionElements.getAllAsArray()[0];return e.preActionElements.getAllAsArray().forEach(l=>{let _=`${this.getDicomURL("mwl",n)}/${s.object.attrs["0020000D"].Value[0]}/${B(s.object.attrs,"[00400100].Value[0][00400009].Value[0]")}/move/${o}`;a.push(this.$http.post(_,l.requestReady,this.jsonHeader).pipe(Jn(f=>ge({isError:!0,error:f}))));}),Mi(a);}catch(a){return li(a);}}rescheduleUPS(e,n,o){return this.getModifyUPSUrl(n).pipe(ot(a=>a&&e?this.$http.post(`${a}/${e}/reschedule${I.objToUrlParams(o,!0)}`,{}):li({error:"Error on getting the needed WebApp (with one of the web service classes \"DCM4CHEE_ARC_AET\" or \"UPS_RS\")"})));}changeUPSState(e,n,o,a){let s=new XMLHttpRequest(),l;return this.getModifyUPSUrl(n).pipe(ot(_=>(l=_,this.getTokenService(n))),me(_=>{if(console.log("token1",_),A(_,"token"))return B(_,"token");}),ot(_=>{if(console.log("token",_),l){s.open("PUT",`${l}/${e}/state/${o}`,!1),_&&s.setRequestHeader("Authorization",`Bearer ${_}`),s.setRequestHeader("Content-Type","application/dicom+json"),s.setRequestHeader("Accept","application/dicom+json"),s.send(a);let f=s.status;f===200?this.appService.showMsg("UPS Workitem state was changed successfully!"):this.appService.showError("UPS workitem change state failed with status "+f+`
- `+s.getResponseHeader("Warning"));}return li({error:"Error on getting the needed WebApp (with one of the web service classes \"DCM4CHEE_ARC_AET\" or \"UPS_RS\")"});}));}unsubscribeOrSuspendUPS(e,n,o,a){return this.getModifyUPSUrl(o).pipe(ot(s=>s&&a?e===!0?this.$http.post(`${s}/${n}/subscribers/${a}/suspend`,{}):this.$http.delete(`${s}/${n}/subscribers/${a}`,{}):li({error:"Error on getting the needed WebApp (with one of the web service classes \"DCM4CHEE_ARC_AET\" or \"UPS_RS\")"})));}cancelUPS(e,n,o){return this.getModifyUPSUrl(n).pipe(ot(a=>{if(a){if(o)return this.$http.post(`${a}/${e}/cancelrequest/${o}`,{});this.appService.showWarning("Requester AET should be set");}return li({error:"Error on getting the needed WebApp (with one of the web service classes \"DCM4CHEE_ARC_AET\" or \"UPS_RS\")"});}));}subscribeUPS(e,n,o,a){return this.getModifyUPSUrl(o).pipe(ot(s=>s&&a?this.$http.post(`${s}/${e}/subscribers/${a}?${n}`,{}):li({error:"Error on getting the needed WebApp (with one of the web service classes \"DCM4CHEE_ARC_AET\" or \"UPS_RS\")"})));}modifyUPS(e,n,o,a,s,l){let _=new XMLHttpRequest(),f;return this.getModifyUPSUrl(o).pipe(ot(g=>(f=g,this.getTokenService(o))),me(g=>{if(console.log("token1",g),A(g,"token"))return B(g,"token");}),ot(g=>{if(console.log("token",g),f)if(e){_.open("POST",`${f}/${e}`,!1),g&&_.setRequestHeader("Authorization",`Bearer ${g}`),_.setRequestHeader("Content-Type","application/dicom+json"),_.setRequestHeader("Accept","application/dicom+json"),_.send(JSON.stringify(I.removeKeyFromObject(n,["required","enum","multi"])));let S=_.status;S===200?this.appService.showMsg(a):this.appService.showError("UPS workitem update failed with status "+S+`
- `+_.getResponseHeader("Warning"));}else{_.open("POST",f+I.objToUrlParams({template:l},!0),!1),g&&_.setRequestHeader("Authorization",`Bearer ${g}`),_.setRequestHeader("Content-Type","application/dicom+json"),_.setRequestHeader("Accept","application/dicom+json"),_.send(JSON.stringify(I.removeKeyFromObject(n,["required","enum","multi"])));let S=_.status;if(S===201)this.appService.showMsg(a+_.getResponseHeader("Location"));else{let x=l?s==="create"?"UPS template creation failed with status ":"UPS template cloning failed with status ":s==="create"?"UPS workitem creation failed with status ":"UPS workitem cloning failed with status ";this.appService.showError(x+S+`<br>
- `+_.getResponseHeader("Warning"));}}return li({error:"Error on getting the needed WebApp (with one of the web service classes \"DCM4CHEE_ARC_AET\" or \"UPS_RS\")"});}));}getModifyUPSUrl(e){return this.getDicomURLFromWebService(e,"uwl");}modifyPatient(e,n,o,a,s){return this.getModifyPatientUrl(o).pipe(ot(l=>l?e?this.$http.put(`${l}/${e}${I.objToUrlParams({queued:a,batchID:s},!0)}`,n,void 0,!0):this.$http.post(l,n):li({error:"Error on getting the needed WebApp (with one of the web service classes \"DCM4CHEE_ARC_AET\" or \"PAM\")"})));}getModifyPatientUrl(e){return this.getDicomURLFromWebService(e,"patient");}getModifyPatientWebApp(e){return this.getWebAppFromWebServiceClassAndSelectedWebApp(e,"DCM4CHEE_ARC_AET","PAM");}getDicomURLFromWebService(e,n){return this.getModifyPatientWebApp(e).pipe(me(o=>this.getDicomURL(n,o)));}webAppGroupHasClass(e,n){try{return A(e,"selectedWebService.dcmWebServiceClass")&&e.selectedWebService.dcmWebServiceClass.indexOf(n)>-1||e.webServices.filter(o=>o.dicomDeviceName===e.selectedWebService.dicomDeviceName&&o.dcmWebServiceClass.indexOf(n)>-1).length>0||e.allWebServices.filter(o=>o.dicomDeviceName===e.selectedWebService.dicomDeviceName&&o.dcmWebServiceClass.indexOf(n)>-1).length>0;}catch{return!1;}}getWebAppFromWebServiceClassAndSelectedWebApp(e,n,o){if(A(e,"selectedWebService.dcmWebServiceClass")&&e.selectedWebService.dcmWebServiceClass.indexOf(n)>-1)return ge(e.selectedWebService);try{return this.webAppListService.getWebApps({dcmWebServiceClass:o,dicomAETitle:e.selectedWebService.dicomAETitle}).pipe(me(a=>a[0]));}catch(a){return I.log(`Error on getting the ${o} WebApp getModifyPatientUrl`,a),li("Error on getting the "+o+"\n WebApp getModifyPatientUrl");}}getUploadFileWebApp(e){return this.getWebAppFromWebServiceClassAndSelectedWebApp(e,"STOW_RS","STOW_RS");}appendPatientIdTo(e,n){A(e,"00100020")&&(n["00100020"]=n["00100020"]||{},n["00100020"]=e["00100020"]),A(e,"00100021")&&(n["00100021"]=n["00100021"]||{},n["00100021"]=e["00100021"]),A(e,"00100024")&&(n["00100024"]=n["00100024"]||{},n["00100024"]=e["00100024"]);}getIod(e){return e=e||"study",this.iod[e]?ge(this.iod[e]):this.$http.get(`assets/iod/${e}.iod.json`).pipe(me(n=>(this.iod[e]=n,n)));}getIodObjectsFromNames(e){let n=[];return e.forEach(o=>{n.push(this.getIod(o));}),Mi(n);}iodToSelectedDropdown(e){return this.getAllAttributeKeyPathsFromIODObject(e).map(n=>{let o=this.getLabelFromIODTag(n);return new G(n,o,`${o} ( ${n} )`,void 0,void 0,{key:n,label:o});});}getLabelFromIODTag(e){return e.replace(/(\w){8}/g,n=>DCM4CHE.elementName.forTag(n));}getAllAttributeKeyPathsFromIODObject(e){return rh(Object.keys(I.flatten(e)).map(n=>n.replace(/\.items|\.enum|\.multi|\.required|\.vr|\[\w\]/g,"")),Bo);}getIodFromContext(e,n){let o,a=[];return n==="patient"&&(o=0),(n==="study"||n==="mwl")&&(o=1),n==="series"&&(o=2),e==="mtl"||e==="obj"||e==="stl"||e==="genozip"||e==="vcf.bz2"||e==="vcfbzip2"||e==="vcfbz2"||e==="boz"||e==="bz2"?a=["study","series","equipment","scEquipment","sop","encapsulatedDocument"]:(e.indexOf("video")>-1&&(a=["study","series","equipment","image","sop","vlImageAcquisitionContext","multiFrame"]),(e.indexOf("image")>-1||e==="jph"||e==="jhc"||e==="j2c")&&(a=["study","series","equipment","photographicEquipment","image","sop","vlImageAcquisitionContext"]),(e.indexOf("pdf")>-1||e.indexOf("xml")>-1||e.indexOf("model/mtl")>-1||e.indexOf("model/obj")>-1||e.indexOf("application/x-tgif")>-1||e.indexOf("application/vnd.genozip")>-1||e.indexOf("application/prs.vcfbzip2")>-1||e.indexOf("application/x-bzip2")>-1||e.indexOf("application/sla")>-1||e.indexOf("model/x.stl-binary")>-1||e.indexOf("model/stl")>-1)&&(a=["study","series","equipment","scEquipment","sop","encapsulatedDocument"])),Mi(a.filter((s,l)=>l>=o).map(s=>this.getIod(s))).pipe(me(s=>{let l={};return s.forEach(_=>{l=Object.assign(l,_);}),l;}));}getUPSIod(e){return e&&(e==="create"||e==="clone"||e==="subscribe")?Mi(["patient","upsCreate"].map(o=>this.getIod(o))).pipe(me(o=>{let a={};return o.forEach(s=>{a=Object.assign(a,s);}),a;})):this.getIod("upsUpdate");}getPatientIod(){return this.getIod("patient");}getStudyIod(){return this.getIod("study");}getSeriesIod(){return this.getIod("series");}getMwlIod(){return this.getIod("mwl");}getPrepareParameterForExpirationDialogSeries(e,n){let o,a="Set expired date for the series.",s=[[[{tag:"label",text:"Expired Date"},{tag:"p-calendar",filterKey:"expiredDate",description:"Expired Date"}]]],l={};if(A(e.attrs,"77771033.Value.0")&&e.attrs[77771033].Value[0]!=""){let _=e.attrs[77771033].Value[0];o=new Date(_.substring(0,4)+"."+_.substring(4,6)+"."+_.substring(6,8));}else o=new Date();return l={expiredDate:I.formatDate(o,"yyyyMMdd")},a+="<p>Set exporter if you want to export series on expiration date too.",s=[[[{tag:"label",text:"Expired Date"},{tag:"p-calendar",filterKey:"expiredDate",description:"Expired Date"}],[{tag:"label",text:"Exporter"},{tag:"select",filterKey:"exporter",description:"Exporter",options:n.map(_=>new G(_.id,_.description||_.id))}]]],{content:a,form_schema:s,result:{schema_model:l},saveButton:"SAVE"};}requestCancellationForUPS(e,n,o,a){let s=new XMLHttpRequest(),l;return this.getModifyUPSUrl(n).pipe(ot(_=>(l=_,this.getTokenService(n))),me(_=>{if(console.log("token1",_),A(_,"token"))return B(_,"token");}),ot(_=>{if(console.log("token",_),l){s.open("POST",`${l}/${e}/cancelrequest/${o}`,!1),_&&s.setRequestHeader("Authorization",`Bearer ${_}`),s.setRequestHeader("Content-Type","application/dicom+json"),s.setRequestHeader("Accept","application/dicom+json"),s.send(a);let f=s.status,g=s.getResponseHeader("Warning");f===202?g?this.appService.showWarning(g):this.appService.showMsg("Cancellation of the UPS Workitem was requested successfully!"):this.appService.showError("Request cancellation of UPS workitem failed with status "+f+`
- `+g);}else return li({error:"Error on getting the needed WebApp (with one of the web service classes \"DCM4CHEE_ARC_AET\" or \"UPS_RS\")"});}));}getPrepareParameterForExpiriationDialog(e,n,o){let a,s="Set expired date for the study.",l=[[[{tag:"label",text:"Expired Date"},{tag:"p-calendar",filterKey:"expiredDate",description:"Expired Date"}]]],_={};if(o)A(e,"7777102B.Value[0]")&&e["7777102B"].Value[0]==="FROZEN"?(_={setExpirationDateToNever:!1,FreezeExpirationDate:!1},s="Unfreeze/Unprotect Expiration Date of the Study",l=[[[{tag:"label",text:"Expired Date"},{tag:"p-calendar",filterKey:"expiredDate",description:"Expired Date"}],[{tag:"label",text:"Exporter"},{tag:"select",filterKey:"exporter",description:"Exporter",options:n.map(f=>new G(f.id,f.description||f.id))}]]]):(s="Freeze/Protect Expiration Date of the Study",_={setExpirationDateToNever:!0,FreezeExpirationDate:!0},l=[[[{tag:"label",text:"Expired Date",showIf:f=>!f.setExpirationDateToNever},{tag:"p-calendar",filterKey:"expiredDate",description:"Expired Date",showIf:f=>!f.setExpirationDateToNever}],[{tag:"dummy"},{tag:"checkbox",filterKey:"setExpirationDateToNever",description:"Set Expiration Date to 'never' if you want also to protect the study",text:"Set Expiration Date to 'never' if you want also to protect the study"}],[{tag:"dummy"},{tag:"checkbox",filterKey:"FreezeExpirationDate",description:"Freeze Expiration Date",text:"Freeze Expiration Date"}]]]);else{if(A(e.attrs,"77771023.Value.0")&&e.attrs[77771023].Value[0]!=""){let f=e.attrs[77771023].Value[0];a=new Date(f.substring(0,4)+"."+f.substring(4,6)+"."+f.substring(6,8));}else a=new Date();_={expiredDate:I.formatDate(a,"yyyyMMdd")},s+="<p>Set exporter if you want to export on expiration date too.",l=[[[{tag:"label",text:"Expired Date"},{tag:"p-calendar",filterKey:"expiredDate",description:"Expired Date"}],[{tag:"label",text:"Exporter"},{tag:"select",filterKey:"exporter",description:"Exporter",options:n.map(f=>new G(f.id,f.description||f.id))}],[{tag:"label",text:"Freeze Expiration Date"},{tag:"select",options:[new G(null,"-"),new G("true","FREEZE","Freeze expiration date and set expiration state to FROZEN"),new G("false","UNFREEZE","Unfreeze expiration date and set expiration state to UPDATEABLE")],filterKey:"freezeExpirationDate",description:"Freeze Expiration Date Options",placeholder:"Freeze Expiration Date"}],[{tag:"label",text:"Protect Study"},{tag:"checkbox",filterKey:"protectStudy",description:"Existing / new Expiration Date will be nullified and study expiration state will be set to FROZEN to protect the study from being expired or rejected"}]]];}return{content:s,form_schema:l,result:{schema_model:_},saveButton:"SAVE"};}setExpiredDateSeries(e,n,o,a,s){let l=this.getModifyStudyUrl(e),_="";return s&&(_=`?ExporterID=${s}`),this.$http.put(`${l}/${n}/series/${o}/expire/${a}${_}`,{});}setExpiredDate(e,n,o,a,s,l){let _=this.getModifyStudyUrl(e),f="";return a?(f=`?ExporterID=${a}`,s!=null&&(f+=`&FreezeExpirationDate=${s}`)):s!=null&&(f+=`?FreezeExpirationDate=${s}`),l&&Object.keys(l).length>0&&(f?f+=I.objToUrlParams(l):f=`?${I.objToUrlParams(l)}`),this.$http.put(`${_}/${n}/expire/${o}${f}`,{});}getExporters(){return this.sharedObservables$.export||(this.sharedObservables$.export=this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}export`).pipe(er(1))),this.sharedObservables$.export;}rejectRestoreMultipleObjects(e,n,o){return Mi(e.getAllAsArray().filter(a=>a.dicomLevel!="patient").map(a=>this.$http.post(`${this.getURL(a.object.attrs,n,a.dicomLevel)}/reject/${o}`,{},this.jsonHeader)));}deleteMultipleObjects(e,n,o){return Mi(e.getAllAsArray().map(a=>{if(a.dicomLevel==="patient"&&A(a,"object.attrs"))return this.deletePatient(n,this.getPatientId(a.object.attrs));if(a.dicomLevel==="study"&&A(a,"object.attrs"))return this.deleteStudy(this.getStudyInstanceUID(a.object.attrs),n,o);}));}rejectMatchingStudies(e,n,o){return this.$http.post(`${this.getDicomURL("study",e)}/reject/${n}${I.param(o)}`,{},this.jsonHeader);}rejectMatchingSeries(e,n,o){return this.$http.post(`${this.getDicomURL("series",e)}/reject/${n}${I.param(o)}`,{},this.jsonHeader);}applyRetentionPolicyMatchingSeries(e,n){return this.$http.post(`${this.getDicomURL("series",e)}/expire${I.param(n)}`,{},this.jsonHeader);}createUPSMatchingStudies(e,n){return this.$http.post(`${this.getDicomURL("study",e)}/workitems${I.param(n)}`,{},this.jsonHeader);}exportMatching(e,n,o){let a,s=o.exporterID;return delete o.exporterID,this.getWebAppFromWebServiceClassAndSelectedWebApp(n,"DCM4CHEE_ARC_AET","MOVE_MATCHING").pipe(me(l=>(a=l,`${this.getDicomURL(e,l)}/export/${s}${I.param(o)}`))).pipe(ot(l=>this.$http.post(l,{},this.jsonHeader,void 0,a)));}exportMatchingDialogSchema(e){return[[[{tag:"label",text:"Exporter"},{tag:"select",type:"text",options:e.map(n=>new G(n.id,n.id)),filterKey:"exporterID",description:"Exporter",placeholder:"Exporter"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]];}rejectMatchingSeriesDialogSchema(e){return[[[{tag:"label",text:"Rejection Reason"},{tag:"select",type:"text",options:e,filterKey:"rjNoteCode",description:"Rejection Reason",placeholder:"Rejection Reason"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]];}restoreStudy(e,n){let o;return this.getWebAppFromWebServiceClassAndSelectedWebApp(n,"DCM4CHEE_ARC_AET","REJECT").pipe(me(a=>(o=a,`${this.studyURL(e,a)}/reject/REVOKE_REJECTION^99DCM4CHEE`))).pipe(ot(a=>this.$http.post(a,{},this.jsonHeader,void 0,o)));}rejectStudy(e,n,o,a){let s;return this.getWebAppFromWebServiceClassAndSelectedWebApp(n,"DCM4CHEE_ARC_AET","REJECT").pipe(me(l=>(s=l,`${this.studyURL(e,l)}/reject/${o}${I.param(a)}`))).pipe(ot(l=>this.$http.post(l,{},this.jsonHeader,void 0,s)));}restoreSeries(e,n){let o;return this.getWebAppFromWebServiceClassAndSelectedWebApp(n,"DCM4CHEE_ARC_AET","REJECT").pipe(me(a=>(o=a,`${this.seriesURL(e,a)}/reject/REVOKE_REJECTION^99DCM4CHEE`))).pipe(ot(a=>this.$http.post(a,{},this.jsonHeader,void 0,o)));}rejectSeries(e,n,o,a){let s;return this.getWebAppFromWebServiceClassAndSelectedWebApp(n,"DCM4CHEE_ARC_AET","REJECT").pipe(me(l=>(s=l,`${this.seriesURL(e,l)}/reject/${o}${I.param(a)}`))).pipe(ot(l=>this.$http.post(l,{},this.jsonHeader,void 0,s)));}restoreInstance(e,n,o){let a;return this.getWebAppFromWebServiceClassAndSelectedWebApp(n,"DCM4CHEE_ARC_AET","REJECT").pipe(me(s=>(a=s,`${this.instanceURL(e,s)}/reject/${o}`))).pipe(ot(s=>this.$http.post(s,{},this.jsonHeader,void 0,a)));}rejectInstance(e,n,o,a){let s;return this.getWebAppFromWebServiceClassAndSelectedWebApp(n,"DCM4CHEE_ARC_AET","REJECT").pipe(me(l=>(s=l,`${this.instanceURL(e,l)}/reject/${o}${I.param(a)}`))).pipe(ot(l=>this.$http.post(l,{},this.jsonHeader,void 0,s)));}mapCode(e,n,o,a){A(a,n)&&(pe(a[n])?he(a[n],(s,l)=>{o[s.code]=B(e,s.map),o[s.code].vr=s.vr;}):(o[a[n].code]=e,o[a[n].code].vr=a[n].vr));}getMsgFromResponse(e,n=null){let o,a="";if(A(e,"error")&&A(e.error,"errorMessage"))a=a+`${e.error.errorMessage}<br>`;else try{o=e.json(),A(o,"completed")&&(a=`Completed: ${o.completed}<br>`),A(o,"warning")&&(a=a+`Warning: ${o.warning}<br>`),A(o,"failed")&&(a=a+`Failed: ${o.failed}<br>`),A(o,"errorMessage")&&(a=a+`${o.errorMessage}<br>`),A(o,"error")&&(a=a+`${o.error}<br>`),a===""&&(a=n);}catch{n?a=n:a=e.statusText;}return a;}getQueueNames(){return this.sharedObservables$.queue_names||(this.sharedObservables$.queue_names=this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}queue`).pipe(er(1))),this.sharedObservables$.queue_names;}getRejectNotes(e){return this.sharedObservables$.reject_notes||(this.sharedObservables$.reject_notes=this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}reject/${I.param(e)}`).pipe(er(1))),this.sharedObservables$.reject_notes;}convertStringLDAPParamToObject(e,n,o){try{B(e,n).forEach(a=>{o.forEach(s=>{a.indexOf(s)>-1&&(e[s]=a.replace(s+"=",""));});});}catch{}}webAppHasPermission(e){return this.appService.user&&this.appService.user.roles&&this.appService.user.roles.length>0&&this.appService.user.su||this.appService.global&&this.appService.global.notSecure?e:e.filter(n=>{if(A(n,"dcmProperty")&&n.dcmProperty.length>0){let o=this.getWebAppRoles(n)||[];if(o.length>0){let a=!1;return o.forEach(s=>{a=a||this.appService.user.roles.indexOf(s)>-1;}),a;}else return I.log("No role found in the property dcmProperty of WebApp",n),!0;}else return!0;});}getWebAppRoles(e){try{let n=/roles=(.*)/gm,o=/([\w-]+)/gm,a=[],s,l;for(;(s=n.exec(e.dcmProperty))!==null;)for(s.index===n.lastIndex&&n.lastIndex++;(l=o.exec(s[1]))!==null;)l.index===o.lastIndex&&o.lastIndex++,a.push(l[1]);return a;}catch(n){return console.log("webApp=",e),I.log("Something went wrong on extracting roles from dcmProperty of WebApp",n),[];}}getTextFromAction(e){switch(e){case"copy":return"Copy";case"cut":return"Cut";case"link":return"Link";case"merge":return"Merge";default:return"Move";}}getLevelText(e){switch(e){case"study":return"study";case"series":return"Series";case"instance":return"instance";case"patient":return"patient";case"diff":return"diff";case"mwl":return"MWL";}}markAsRequestedOrUnscheduled(e,n,o,a,s){if(a=a||"study",a==="study")return this.$http.put(`${this.getDicomURL(a,e)}/${n}/request`,o,new At({"Content-Type":"application/dicom+json"}),void 0,e);if(a==="series")return this.$http.put(`${this.getSeriesUrl(e,s)}/request`,o,new At({"Content-Type":"application/dicom+json"}),void 0,e);}getRequestSchema(){let e=[];return this.getIod("series").pipe(me(n=>{let o=B(n,"00400275.items");return Object.keys(o).forEach(a=>{if(o[a].vr==="SQ"&&A(o[a],"items")){e.push([{tag:"label_large",text:DCM4CHE.elementName.forTag(a)}]);let s=B(o[a],"items");Object.keys(s).forEach(l=>{e.push([{tag:"label",text:DCM4CHE.elementName.forTag(l),prefix:"> "},{tag:"input",type:"text",filterKey:`${a}.${l}`,description:DCM4CHE.elementName.forTag(l),placeholder:DCM4CHE.elementName.forTag(l)}]);});}else e.push([{tag:"label",text:DCM4CHE.elementName.forTag(a)},{tag:"input",type:"text",filterKey:a,description:DCM4CHE.elementName.forTag(a),placeholder:DCM4CHE.elementName.forTag(a)}]);}),[e,o];}));}convertFilterModelToDICOMObject(e,n,o=[]){let a={};return Object.keys(e).forEach(s=>{if(o.indexOf(s)===-1)if(s.indexOf(".")>-1){let[l,_]=s.split(".");console.log("first",l),console.log("second",_);let f=B(n,`${l}.items.${_}`);delete f.required,f&&(a[l]?Ue(a,`${l}.Value[0].${_}`,rt(re({},f),{Value:[e[s]]})):a[l]={vr:"SQ",Value:[{[_]:rt(re({},f),{Value:[e[s]]})}]});}else{let l=B(n,s);delete l.required,l&&(a[s]=rt(re({},l),{Value:[e[s]]}));}}),a;}};r.ɵfac=function(n){return new(n||r)(K(un),K(Fe),K(wu),K(Xt),K(os),K(In),K(Pe),K(le),K(lh));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var r2e=["input"],o2e=["formField"],a2e=["*"],MA=class{source;value;constructor(r,t){this.source=r,this.value=t;}},s2e={provide:Ea,useExisting:tn(()=>Zk),multi:!0},_W=new se("MatRadioGroup"),l2e=new se("mat-radio-default-options",{providedIn:"root",factory:c2e});function c2e(){return{color:"accent",disabledInteractive:!1};}var Zk=(()=>{class i{_changeDetector=N($t);_value=null;_name=N(bn).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new ae();_radios;color;get name(){return this._name;}set name(t){this._name=t,this._updateRadioButtonNames();}get labelPosition(){return this._labelPosition;}set labelPosition(t){this._labelPosition=t==="before"?"before":"after",this._markRadiosForCheck();}get value(){return this._value;}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton());}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0);}get selected(){return this._selected;}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton();}get disabled(){return this._disabled;}set disabled(t){this._disabled=t,this._markRadiosForCheck();}get required(){return this._required;}set required(t){this._required=t,this._markRadiosForCheck();}get disabledInteractive(){return this._disabledInteractive;}set disabledInteractive(t){this._disabledInteractive=t,this._markRadiosForCheck();}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null);});}ngOnDestroy(){this._buttonChanges?.unsubscribe();}_touch(){this.onTouched&&this.onTouched();}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck();});}_updateSelectedRadioFromValue(){let t=this._selected!==null&&this._selected.value===this._value;this._radios&&!t&&(this._selected=null,this._radios.forEach(e=>{e.checked=this.value===e.value,e.checked&&(this._selected=e);}));}_emitChangeEvent(){this._isInitialized&&this.change.emit(new MA(this._selected,this._value));}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck());}writeValue(t){this.value=t,this._changeDetector.markForCheck();}registerOnChange(t){this._controlValueAccessorChangeFn=t;}registerOnTouched(t){this.onTouched=t;}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck();}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["mat-radio-group"]],contentQueries:function(e,n,o){if(e&1&&on(o,OA,5),e&2){let a;qe(a=Ye())&&(n._radios=a);}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",gt],required:[2,"required","required",gt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",gt]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[Qt([s2e,{provide:_W,useExisting:i}])]});}return i;})(),OA=(()=>{class i{_elementRef=N(ze);_changeDetector=N($t);_focusMonitor=N(ks);_radioDispatcher=N(Hk);_defaultOptions=N(l2e,{optional:!0});_ngZone=N(We);_renderer=N(Jt);_uniqueId=N(bn).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked;}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck());}get value(){return this._value;}set value(t){this._value!==t&&(this._value=t,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)));}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after";}set labelPosition(t){this._labelPosition=t;}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled;}set disabled(t){this._setDisabled(t);}get required(){return this._required||this.radioGroup&&this.radioGroup.required;}set required(t){t!==this._required&&this._changeDetector.markForCheck(),this._required=t;}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent";}set color(t){this._color=t;}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive;}set disabledInteractive(t){this._disabledInteractive=t;}_disabledInteractive;change=new ae();radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`;}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations=qi();_injector=N(tt);constructor(){N(Mn).load(es);let t=N(_W,{optional:!0}),e=N(new na("tabindex"),{optional:!0});this.radioGroup=t,this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,e&&(this.tabIndex=wr(e,0));}focus(t,e){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t);}_markForCheck(){this._changeDetector.markForCheck();}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,e)=>{t!==this.id&&e===this.name&&(this.checked=!1);});}ngDoCheck(){this._updateTabIndex();}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch();}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick);});}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener();}_emitChangeEvent(){this.change.emit(new MA(this,this._value));}_isRippleDisabled(){return this.disableRipple||this.disabled;}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){let e=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),e&&this.radioGroup._emitChangeEvent());}}_onTouchTargetClick(t){this._onInputInteraction(t),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus();}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck());}_onInputClick=t=>{this.disabled&&this.disabledInteractive&&t.preventDefault();};_updateTabIndex(){let t=this.radioGroup,e;if(!t||!t.selected||this.disabled?e=this.tabIndex:e=t.selected===this?this.tabIndex:-1,e!==this._previousTabIndex){let n=this._inputElement?.nativeElement;n&&(n.setAttribute("tabindex",e+""),this._previousTabIndex=e,xr(()=>{queueMicrotask(()=>{t&&t.selected&&t.selected!==this&&document.activeElement===n&&(t.selected?._inputElement.nativeElement.focus(),document.activeElement===n&&this._inputElement.nativeElement.blur());});},{injector:this._injector}));}}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-radio-button"]],viewQuery:function(e,n){if(e&1&&(Et(r2e,5),Et(o2e,7,ze)),e&2){let o;qe(o=Ye())&&(n._inputElement=o.first),qe(o=Ye())&&(n._rippleTrigger=o.first);}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(e,n){e&1&&b("focus",function(){return n._inputElement.nativeElement.focus();}),e&2&&(lt("id",n.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),vt("mat-primary",n.color==="primary")("mat-accent",n.color==="accent")("mat-warn",n.color==="warn")("mat-mdc-radio-checked",n.checked)("mat-mdc-radio-disabled",n.disabled)("mat-mdc-radio-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._noopAnimations));},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",gt],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:wr(t)],checked:[2,"checked","checked",gt],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",gt],required:[2,"required","required",gt],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",gt]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:a2e,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(e,n){if(e&1){let o=O();xi(),u(0,"div",2,0)(2,"div",3)(3,"div",4),b("click",function(s){return C(o),y(n._onTouchTargetClick(s));}),p(),u(4,"input",5,1),b("change",function(s){return C(o),y(n._onInputInteraction(s));}),p(),u(6,"div",6),$(7,"div",7)(8,"div",8),p(),u(9,"div",9),$(10,"div",10),p()(),u(11,"label",11),Vt(12),p()();}e&2&&(m("labelPosition",n.labelPosition),c(2),vt("mdc-radio--disabled",n.disabled),c(2),m("id",n.inputId)("checked",n.checked)("disabled",n.disabled&&!n.disabledInteractive)("required",n.required),lt("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby)("aria-disabled",n.disabled&&n.disabledInteractive?"true":null),c(5),m("matRippleTrigger",n._rippleTrigger.nativeElement)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0),c(2),m("for",n.inputId));},dependencies:[Su,mA],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px);top:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0});}return i;})(),fW=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[qt,Eu,OA,qt]});}return i;})();var u2e=()=>["form-group","more_block","more","input_field","no-closing-on-click"];function p2e(i,r){if(i&1){let t=O();u(0,"a",17),b("click",function(n){let o=C(t).$implicit,a=d(2);return n.preventDefault(),y(a.selectModality(o));}),T(1),p();}if(i&2){let t=r.$implicit,e=d(2);m("title",X(e.modalities.common[t])),c(),z(t);}}function m2e(i,r){i&1&&(u(0,"span",18)(1,"span",19),P(2,1),p(),$(3,"i",20),p());}function _2e(i,r){i&1&&(u(0,"span",19)(1,"span",19),P(2,2),p(),$(3,"i",21),p());}function f2e(i,r){if(i&1){let t=O();u(0,"a",17),b("click",function(n){let o=C(t).$implicit,a=d(3);return n.preventDefault(),y(a.selectModality(o));}),T(1),p();}if(i&2){let t=r.$implicit,e=d(3);m("title",X(e.modalities.more[t])),c(),z(t);}}function h2e(i,r){if(i&1){let t=O();u(0,"div",22)(1,"div",23),E(2,f2e,2,3,"a",11),p(),u(3,"div",24)(4,"label"),P(5,3),p(),u(6,"input",25),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.model,n)||(o.model=n),y(n);}),p(),u(7,"button",26),b("click",function(){C(t);let n=d(2);return y(n.add());}),P(8,4),p()()();}if(i&2){let t=d(2);c(2),m("ngForOf",t.Object.keys(t.modalities.more)),c(4),H("ngModel",t.model);}}function g2e(i,r){if(i&1){let t=O();u(0,"div",7),b("clickOutside",function(){C(t);let n=d();return y(n.closeFromOutside());}),u(1,"a",8),b("click",function(){C(t);let n=d();return y(n.showModalitySelector=!1);}),$(2,"i",9),p(),u(3,"div",10),E(4,p2e,2,3,"a",11),p(),u(5,"button",12),b("click",function(){C(t);let n=d();return y(n.clear());}),P(6,0),p(),u(7,"a",13),b("click",function(n){C(t);let o=d();return n.preventDefault(),y(o.showMore=!o.showMore);}),E(8,m2e,4,0,"span",14)(9,_2e,4,0,"span",15),p(),E(10,h2e,9,2,"div",16),p();}if(i&2){let t=d();m("clickOutsideExceptionClass",Ke(5,u2e)),c(4),m("ngForOf",t.Object.keys(t.modalities.common)),c(4),m("ngIf",!t.showMore),c(),m("ngIf",t.showMore),c(),m("ngIf",t.showMore);}}var PA=(()=>{let r=class r{constructor(){this.modelChange=new ae(),this.Object=Object,this.showModalitySelector=!1,this.showMore=!1,this.modalities=we.MODALITIES;}selectModality(e){this.model=e,this.modelChange.emit(this.model),this.showModalitySelector=!1;}clear(){this.model="",this.modelChange.emit(this.model),this.showModalitySelector=!1;}closeFromOutside(){this.showModalitySelector=!1;}add(){this.modelChange.emit(this.model),this.showModalitySelector=!1;}ngOnInit(){}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["modality"]],inputs:{model:"model"},outputs:{modelChange:"modelChange"},standalone:!1,decls:2,vars:2,consts:()=>{let e;e="Modality";let n;n="Clear";let o;o="more";let a;a="less";let s;s="Custom modality code:";let l;return l="Add",[n,o,a,s,l,["type","text","placeholder",e,1,"col-md-12","input_field",3,"ngModelChange","keyup","click","ngModel"],["class","modality_selector [hidden]",3,"clickOutsideExceptionClass","clickOutside",4,"ngIf"],[1,"modality_selector","[hidden]",3,"clickOutside","clickOutsideExceptionClass"],["href","",1,"close",3,"click"],[1,"glyphicon","glyphicon-remove"],[1,"common"],["href","",3,"title","click",4,"ngFor","ngForOf"],[1,"clear","custom_button",3,"click"],[1,"more",3,"click"],["class","",4,"ngIf"],["class","no-closing-on-click",4,"ngIf"],["class","more_block",4,"ngIf"],["href","",3,"click","title"],[1,""],[1,"no-closing-on-click"],[1,"no-closing-on-click","glyphicon","glyphicon-triangle-bottom"],[1,"no-closing-on-click","glyphicon","glyphicon-triangle-top"],[1,"more_block"],[1,"more_buttons_block"],[1,"form-group"],[3,"ngModelChange","ngModel"],[1,"custom_button",3,"click"]];},template:function(n,o){n&1&&(u(0,"input",5),q("ngModelChange",function(s){return Y(o.model,s)||(o.model=s),s;}),b("keyup",function(){return o.selectModality(o.model);})("click",function(){return o.showModalitySelector=!o.showModalitySelector;}),p(),E(1,g2e,11,6,"div",6)),n&2&&(H("ngModel",o.model),c(),m("ngIf",o.showModalitySelector));},dependencies:[ve,de,Me,Se,Ee,ma],styles:[".input_field[_ngcontent-%COMP%]{width:100%}"]});let i=r;return i;})();var C2e=i=>({"ng-invalid":i}),y2e=i=>({cohere:i});function b2e(i,r){if(i&1){let t=O();u(0,"div",5)(1,"input",6),q("ngModelChange",function(n){C(t);let o=d();return Y(o.model,n)||(o.model=n),y(n);}),b("ngModelChange",function(n){C(t);let o=d();return y(o.change(n));}),p(),u(2,"span",7),b("click",function(){C(t);let n=d();return y(n.toggle());}),p()();}if(i&2){let t=d();c(),m("placeholder",X(t.placeholder))("ngClass",ne(4,C2e,!t.validString)),H("ngModel",t.model);}}function S2e(i,r){if(i&1&&(u(0,"option",17),T(1),p()),i&2){let t=r.$implicit;m("value",X(t)),c(),z(t);}}function E2e(i,r){if(i&1&&(u(0,"option",17),T(1),p()),i&2){let t=r.$implicit;m("value",X(t)),c(),z(t);}}function T2e(i,r){if(i&1&&(u(0,"option",17),T(1),p()),i&2){let t=r.$implicit;m("value",X(t)),c(),z(t);}}function I2e(i,r){if(i&1){let t=O();u(0,"div",8)(1,"div",9),b("click",function(){C(t);let n=d();return y(n.close());}),$(2,"span",10),p(),u(3,"h6"),P(4,0),p(),u(5,"div",11)(6,"select",12),q("ngModelChange",function(n){C(t);let o=d();return Y(o.hh,n)||(o.hh=n),y(n);}),E(7,S2e,2,3,"option",13),p(),u(8,"span"),T(9,":"),p(),u(10,"select",12),q("ngModelChange",function(n){C(t);let o=d();return Y(o.mm,n)||(o.mm=n),y(n);}),E(11,E2e,2,3,"option",13),p(),u(12,"span"),T(13,":"),p(),u(14,"select",12),q("ngModelChange",function(n){C(t);let o=d();return Y(o.ss,n)||(o.ss=n),y(n);}),E(15,T2e,2,3,"option",13),p()(),u(16,"div",14)(17,"button",15),b("click",function(){C(t);let n=d();return y(n.addTime());}),P(18,1),p(),u(19,"button",16),b("click",function(){C(t);let n=d();return y(n.setTo00());}),T(20,"00:00"),p(),u(21,"button",16),b("click",function(){C(t);let n=d();return y(n.setToNow());}),P(22,2),p()()();}if(i&2){let t=d();m("ngClass",ne(7,y2e,t.cohereMode)),c(6),H("ngModel",t.hh),c(),m("ngForOf",t.hhArray),c(3),H("ngModel",t.mm),c(),m("ngForOf",t.mmArray),c(3),H("ngModel",t.ss),c(),m("ngForOf",t.ssArray);}}var _h=(()=>{let r=class r{constructor(){this.onValueSet=new ae(),this.hhArray=[],this.mmArray=[],this.ssArray=[],this.hh="00",this.mm="00",this.ss="00",this.timepickerOpen=!0,this.validString=!0;}ngOnInit(){this.cohereMode&&(this.timepickerOpen=!1);let e=0;for(;e<60;)e<25&&this.hhArray.push(e<10?`0${e}`:e),this.mmArray.push(e<10?`0${e}`:e),this.ssArray.push(e<10?`0${e}`:e),e++;}change(e){let n=this.validateString(this.model),o=/(\d{2}):(\d{2}):(\d{2})|(\d{2}):(\d{2})/g,a=[],s;if(n!==null&&n[0]){for(this.validString=!0;(s=o.exec(n[0]))!==null;)s.index===o.lastIndex&&o.lastIndex++,a.push(s);this.hh=a[0][1]||a[0][4]||"00",this.mm=a[0][2]||a[0][5]||"00",this.ss=a[0][3]||"00",this.onValueSet.emit(`${this.hh}:${this.mm}:${this.ss}`);}else this.validString=!1;}validateString(e){return /^[0-2][0-9]:[0-5][0-9]:[0-5][0-9]$|^[0-2][0-9]:[0-5][0-9]$/m.exec(this.model);}addTime(){this.onValueSet.emit(`${this.hh}:${this.mm}:${this.ss}`),this.cohereMode&&(this.timepickerOpen=!1);}close(){this.cohereMode?this.timepickerOpen=!1:this.onValueSet.emit("");}toggle(){this.timepickerOpen=!this.timepickerOpen;}setTo00(){this.hh=this.mm=this.ss="00";}setToNow(){let e=new Date();this.hh=I.getSingleDateTimeValueFromInt(e.getHours()),this.mm=I.getSingleDateTimeValueFromInt(e.getMinutes()),this.ss=I.getSingleDateTimeValueFromInt(e.getSeconds());}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["time-picker"]],inputs:{model:"model",cohereMode:"cohereMode",placeholder:"placeholder"},outputs:{onValueSet:"onValueSet"},standalone:!1,decls:2,vars:2,consts:()=>{let e;e="Select time (hh:mm:ss)";let n;n="Set time";let o;return o="Now",[e,n,o,["class","input_block",4,"ngIf"],["class","timepicker",3,"ngClass",4,"ngIf"],[1,"input_block"],["type","text",3,"ngModelChange","ngClass","ngModel","placeholder"],[1,"glyphicon","glyphicon-time",3,"click"],[1,"timepicker",3,"ngClass"],[1,"close",3,"click"],[1,"glyphicon","glyphicon-remove"],[1,"timers_block"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"btn_content"],[1,"btn","set_time",3,"click"],[1,"btn",3,"click"],[3,"value"]];},template:function(n,o){n&1&&E(0,b2e,3,6,"div",3)(1,I2e,23,9,"div",4),n&2&&(m("ngIf",o.cohereMode),c(),m("ngIf",o.timepickerOpen));},dependencies:[Je,ve,de,_o,fo,Me,mo,Se,Ee],styles:[`.timepicker{max-height:300px;min-width:260px;overflow:auto;position:absolute;z-index:101;background:#fff;-webkit-box-shadow:2px 2px 13px 0px #777;-moz-box-shadow:2px 2px 13px 0px #777;box-shadow:2px 2px 13px #777;padding:20px 15px}.timepicker mat-select{width:auto}.timepicker .timers_block{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;justify-content:space-around;margin:15px 0}.timepicker .timers_block select{background:#fff;width:30%}.timepicker .btn_content{width:100%;margin:15px 0}.timepicker .btn_content button.btn{background:var(--backgroundHoverColor);color:#fff;border:0;float:right;margin-left:5px}.timepicker.cohere{margin-top:27px}.timepicker .close{right:7px;top:7px;font-size:16px;position:absolute}.input_block input{width:calc(100% - 26px);float:left}.input_block .glyphicon-time{display:inline-block;width:26px;height:26px;background-color:var(--backgroundHoverColor);color:#fff;text-align:center;float:right;vertical-align:middle;line-height:26px;top:0}.input_block .glyphicon-time:hover{cursor:pointer}
`],encapsulation:2});let i=r;return i;})();var x2e=["datePicker"],A2e=i=>({input_block:i}),w2e=i=>({icon_block:i}),D2e=i=>({date_picker_mode:i});function M2e(i,r){if(i&1){let t=O();u(0,"input",7),q("ngModelChange",function(n){C(t);let o=d();return Y(o.inputMask,n)||(o.inputMask=n),y(n);}),b("ngModelChange",function(n){C(t);let o=d();return y(o.setValues(n));}),p();}if(i&2){let t=d();m("placeholder",X(t.placeholder||""))("title",X(t.title||t.placeholder||"")),H("ngModel",t.inputMask);}}function O2e(i,r){if(i&1){let t=O();u(0,"span",8),b("click",function(){C(t);let n=d();return y(n.togglePicker());}),p();}}var RA=(()=>{let r=class r{constructor(){this.onValueSet=new ae(),this.returnAsDateType=!1,this.datePickerMode=!1;}get model(){return this._model;}set model(e){this._model=e,this.setValues(e);}get showPicker(){return this._showPicker;}set showPicker(e){console.log("in showpickerset",e),this._showPicker=e;}ngOnInit(){console.log("init date picker",this._model),this.datePickerMode&&(this.dialogOpen=!0,this.togglePicker(!0));}setValues(e){try{let n=I.extractDateTimeFromString(e);this.originalInput=I.formatDate(n.firstDateTime.dateObject,"yyyy-MM-dd"),this.inputMask=I.formatDate(n.firstDateTime.dateObject,this.format);}catch{}}onOriginalChange(){try{let e=new Date(this.originalInput+"T00:00:00");this.inputMask=I.formatDate(e,this.format),this.returnAsDateType?this.onValueSet.emit(e):this.onValueSet.emit(this.inputMask);}catch{}}togglePicker(e){this.dialogOpen=!this.dialogOpen,e?setTimeout(()=>{this.datePicker.nativeElement.showPicker();},100):this.datePicker.nativeElement.showPicker();}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["date-picker"]],viewQuery:function(n,o){if(n&1&&Et(x2e,5),n&2){let a;qe(a=Ye())&&(o.datePicker=a.first);}},inputs:{model:"model",placeholder:"placeholder",title:"title",format:"format",returnAsDateType:"returnAsDateType",datePickerMode:"datePickerMode",showPicker:"showPicker"},outputs:{onValueSet:"onValueSet"},standalone:!1,decls:8,vars:12,consts:[["datePicker",""],[1,"date_picker"],[3,"ngClass"],["type","text","class","input_mask",3,"ngModel","placeholder","title","ngModelChange",4,"ngIf"],["class","glyphicon glyphicon-calendar",3,"click",4,"ngIf"],[1,"hide_layer"],["type","date",1,"original_input",3,"ngModelChange","ngClass","ngModel"],["type","text",1,"input_mask",3,"ngModelChange","ngModel","placeholder","title"],[1,"glyphicon","glyphicon-calendar",3,"click"]],template:function(n,o){if(n&1){let a=O();u(0,"div",1)(1,"div",2),E(2,M2e,1,5,"input",3),u(3,"div",2),E(4,O2e,1,0,"span",4),u(5,"div",5)(6,"input",6,0),q("ngModelChange",function(l){return C(a),Y(o.originalInput,l)||(o.originalInput=l),y(l);}),b("ngModelChange",function(){return C(a),y(o.onOriginalChange());}),p()()()()();}n&2&&(c(),m("ngClass",ne(6,A2e,!o.datePickerMode)),c(),m("ngIf",!o.datePickerMode),c(),m("ngClass",ne(8,w2e,!o.datePickerMode)),c(),m("ngIf",!o.datePickerMode),c(2),m("ngClass",ne(10,D2e,o.datePickerMode)),H("ngModel",o.originalInput));},dependencies:[Je,de,Me,Se,Ee],styles:[".date_picker[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]{display:grid;grid-template-columns:calc(100% - 25px) 25px;width:100%;justify-content:center;z-index:1;align-items:center;position:relative;background:#fff;border-bottom:1px solid #ccc}.date_picker[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]   .input_mask[_ngcontent-%COMP%]{border:none}.date_picker[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]   .glyphicon-calendar[_ngcontent-%COMP%]{color:#fff}.date_picker[_ngcontent-%COMP%]   .original_input[_ngcontent-%COMP%]{position:relative;color:#fff!important;left:-110px;top:-2px}.date_picker[_ngcontent-%COMP%]   .original_input.date_picker_mode[_ngcontent-%COMP%]{left:0}.date_picker[_ngcontent-%COMP%]   .hide_layer[_ngcontent-%COMP%]{display:block;width:1px;height:1px;color:#fff;position:absolute;overflow:hidden}.date_picker[_ngcontent-%COMP%]   .icon_block[_ngcontent-%COMP%]{background:var(--backgroundHoverColor);display:flex;height:25px;width:25px;justify-content:center;align-items:center}.date_picker[_ngcontent-%COMP%]   .icon_block[_ngcontent-%COMP%]:hover{cursor:pointer}"]});let i=r;return i;})();function R2e(i,r){i&1&&(u(0,"h6"),P(1,3),p());}function N2e(i,r){i&1&&(u(0,"h6"),P(1,4),p());}function k2e(i,r){i&1&&(u(0,"h6"),P(1,5),p());}function $2e(i,r){if(i&1){let t=O();u(0,"div",17),b("keydown",function(){C(t);let n=d();return y(n.noWeekChange());}),u(1,"label",25),P(2,6),p(),u(3,"div",19)(4,"input",26),q("ngModelChange",function(n){C(t);let o=d();return Y(o.y,n)||(o.y=n),y(n);}),p()()();}if(i&2){let t=d();c(4),H("ngModel",t.y);}}function L2e(i,r){if(i&1){let t=O();u(0,"div",17),b("keydown",function(){C(t);let n=d();return y(n.noWeekChange());}),u(1,"label",27),P(2,7),p(),u(3,"div",19)(4,"input",28),q("ngModelChange",function(n){C(t);let o=d();return Y(o.month,n)||(o.month=n),y(n);}),p()()();}if(i&2){let t=d();c(4),H("ngModel",t.month);}}function F2e(i,r){if(i&1){let t=O();u(0,"div",29)(1,"label",30),P(2,8),p(),u(3,"div",19)(4,"input",31),q("ngModelChange",function(n){C(t);let o=d();return Y(o.h,n)||(o.h=n),y(n);}),p()()();}if(i&2){let t=d();c(4),H("ngModel",t.h);}}function V2e(i,r){if(i&1){let t=O();u(0,"div",29)(1,"label",32),P(2,9),p(),u(3,"div",19)(4,"input",33),q("ngModelChange",function(n){C(t);let o=d();return Y(o.m,n)||(o.m=n),y(n);}),p()()();}if(i&2){let t=d();c(4),H("ngModel",t.m);}}function z2e(i,r){if(i&1){let t=O();u(0,"div",29)(1,"label",34),P(2,10),p(),u(3,"div",19)(4,"input",35),q("ngModelChange",function(n){C(t);let o=d();return Y(o.s,n)||(o.s=n),y(n);}),p()()();}if(i&2){let t=d();c(4),H("ngModel",t.s);}}function G2e(i,r){i&1&&(u(0,"div",29),T(1," or: "),p());}function j2e(i,r){if(i&1){let t=O();u(0,"div",29)(1,"label",36),P(2,11),p(),u(3,"div",19)(4,"input",37),q("ngModelChange",function(n){C(t);let o=d();return Y(o.week,n)||(o.week=n),y(n);}),b("keydown",function(){C(t);let n=d();return y(n.weekChanged());}),p()()();}if(i&2){let t=d();c(4),H("ngModel",t.week);}}var gW={plural:"weeks",singular:"week"},vW={plural:"years",singular:"year"},NA={plural:"days",singular:"day"},CW={plural:"hours",singular:"hour"},yW={plural:"minutes",singular:"minute"},bW={plural:"seconds",singular:"second"},SW={plural:"months",singular:"month"},fh=(()=>{let r=class r{constructor(){this.onValueSet=new ae();}ngOnInit(){this.extractDurationFromValue(),this.onModelChange(null);}extractDurationFromValue(){let e,n=/(\d)(\w)/g;try{for(;(e=n.exec(this.value))!=null;)if(this.mode==="dcmDuration")switch(e[2]){case"D":this.d=parseInt(e[1]);break;case"H":this.h=parseInt(e[1]);break;case"M":this.m=parseInt(e[1]);break;case"S":this.s=parseInt(e[1]);break;}else if(this.mode==="datePicker")switch(e[2]){case"D":this.d=parseInt(e[1]);break;case"H":this.h=parseInt(e[1]);break;case"M":this.m=parseInt(e[1]);break;}else switch(e[2]){case"Y":this.y=parseInt(e[1]);break;case"W":this.week=parseInt(e[1]);break;case"M":this.month=parseInt(e[1]);break;case"D":this.d=parseInt(e[1]);break;}}catch(o){console.error("error parsing data!",o);}}addDuration(){this.onValueSet.emit(this.generateDuration());}clear(){this.onValueSet.emit("empty");}generateDuration(){let e="P";return this.mode==="dcmPeriod"&&this._isset(this.week)?`P${this.week}W`:(this.y&&(e=e+`${this.y}Y`),this.month&&(e=e+`${this.month}M`),this.d&&(e=e+`${this.d}D`),(this.h||this.m||this.s)&&(e=e+"T"),this.h&&(e=e+`${this.h}H`),this.m&&(e=e+`${this.m}M`),this.s&&(e=e+`${this.s}S`),e==="P"?"":e);}close(){this.onValueSet.emit("");}noWeekChange(){this.week="";}weekChanged(){this.y="",this.month="",this.d="";}onModelChange(e){this.mode==="dcmPeriod"&&(this._isset(this.week)?this.message="This period will last "+this.week+"\n "+(this.week>1?gW.plural:gW.singular)+"":this.message=this._generateSentenceWithCountableWords({start:"This period will last",words:[{value:this.y,word:vW.singular,wordPlural:vW.plural},{value:this.month,word:SW.singular,wordPlural:SW.plural},{value:this.d,word:NA.singular,wordPlural:NA.plural}]})),this.mode==="dcmDuration"&&(this.message=this._generateSentenceWithCountableWords({start:"This duration will last",words:[{value:this.d,word:NA.singular,wordPlural:NA.plural},{value:this.h,word:CW.singular,wordPlural:CW.plural},{value:this.m,word:yW.singular,wordPlural:yW.plural},{value:this.s,word:bW.singular,wordPlural:bW.plural}]}));}_isset(e){return!!(e&&e!=""&&e!=null&&e!=null);}_clearFromEmptyValue(e,n){return hu(e,o=>this._isset(o[n]));}_generateSentenceWithCountableWords(e){if(e.words=this._clearFromEmptyValue(e.words,"value"),e.words.length>0){if(e.words.length===1)return`${e.start} ${e.words[0].value} ${e.words[0].value>1?e.words[0].wordPlural:e.words[0].word}`;{let n=`${e.start}`,o="",a="",s="";return he(e.words,(l,_)=>{parseInt(_)==e.words.length-1?s=`and ${e.words[_].value} ${e.words[_].value>1?e.words[_].wordPlural:e.words[_].word}`:a===""&&o===""?o=`${e.words[_].value} ${e.words[_].value>1?e.words[_].wordPlural:e.words[_].word} `:a=a+`, ${e.words[_].value} ${e.words[_].value>1?e.words[_].wordPlural:e.words[_].word} `;}),`${n} ${o}${a} ${s}`;}}else return"";}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["duration-picker"]],inputs:{mode:"mode",value:"value"},outputs:{onValueSet:"onValueSet"},standalone:!1,decls:25,vars:12,consts:()=>{let e;e="day:";let n;n="Set";let o;o="Clear";let a;a="Add period";let s;s="Add duration";let l;l="Add Max. Range";let _;_="year:";let f;f="month:";let g;g="hour:";let S;S="minute:";let x;x="Second:";let D;return D="week:",[e,n,o,a,s,l,_,f,g,S,x,D,[1,"durationpicker",3,"keyup"],[1,"close","duration-picker-element",3,"click"],[1,"glyphicon","glyphicon-remove","duration-picker-element"],[4,"ngIf"],["class","form-group",3,"keydown",4,"ngIf"],[1,"form-group",3,"keydown"],["for","day",1,"control-label","text-right","col-md-5"],[1,"col-md-7"],["type","number","id","day",1,"col-md-12",3,"ngModelChange","ngModel"],["class","form-group",4,"ngIf"],[1,"msg"],[1,"btn_content"],[1,"btn","duration-picker-element",3,"click"],["for","year",1,"control-label","text-right","col-md-5"],["type","number","id","year",1,"col-md-12",3,"ngModelChange","ngModel"],["for","month",1,"control-label","text-right","col-md-5"],["type","number","id","month",1,"col-md-12",3,"ngModelChange","ngModel"],[1,"form-group"],["for","hour",1,"control-label","text-right","col-md-5"],["type","number","id","hour",1,"col-md-12",3,"ngModelChange","ngModel"],["for","minute",1,"control-label","text-right","col-md-5"],["type","number","id","minute",1,"col-md-12",3,"ngModelChange","ngModel"],["for","sec",1,"control-label","text-right","col-md-5"],["type","number","id","sec",1,"col-md-12",3,"ngModelChange","ngModel"],["for","week",1,"control-label","text-right","col-md-5"],["type","number","id","week",1,"col-md-12",3,"ngModelChange","keydown","ngModel"]];},template:function(n,o){n&1&&(u(0,"div",12),b("keyup",function(s){return o.onModelChange(s);}),u(1,"div",13),b("click",function(){return o.close();}),$(2,"span",14),p(),E(3,R2e,2,0,"h6",15)(4,N2e,2,0,"h6",15)(5,k2e,2,0,"h6",15)(6,$2e,5,1,"div",16)(7,L2e,5,1,"div",16),u(8,"div",17),b("keydown",function(){return o.noWeekChange();}),u(9,"label",18),P(10,0),p(),u(11,"div",19)(12,"input",20),q("ngModelChange",function(s){return Y(o.d,s)||(o.d=s),s;}),p()()(),E(13,F2e,5,1,"div",21)(14,V2e,5,1,"div",21)(15,z2e,5,1,"div",21)(16,G2e,2,0,"div",21)(17,j2e,5,1,"div",21),u(18,"p",22),T(19),p(),u(20,"div",23)(21,"button",24),b("click",function(){return o.addDuration();}),P(22,1),p(),u(23,"button",24),b("click",function(){return o.clear();}),P(24,2),p()()()),n&2&&(c(3),m("ngIf",o.mode==="dcmPeriod"),c(),m("ngIf",o.mode==="dcmDuration"),c(),m("ngIf",o.mode==="datePicker"),c(),m("ngIf",o.mode==="dcmPeriod"),c(),m("ngIf",o.mode==="dcmPeriod"),c(5),H("ngModel",o.d),c(),m("ngIf",o.mode==="dcmDuration"||o.mode==="datePicker"),c(),m("ngIf",o.mode==="dcmDuration"||o.mode==="datePicker"),c(),m("ngIf",o.mode==="dcmDuration"),c(),m("ngIf",o.mode==="dcmPeriod"),c(),m("ngIf",o.mode==="dcmPeriod"),c(2),ue(" ",o.message," "));},dependencies:[de,Me,Fo,Se,Ee],styles:[".durationpicker[_ngcontent-%COMP%]{max-height:350px;overflow:auto;position:absolute;z-index:98;background:#fff;-webkit-box-shadow:3px 4px 8px 6px #cccccc;-moz-box-shadow:3px 4px 8px 6px #cccccc;box-shadow:3px 4px 8px 6px #ccc;padding:20px 30px}.durationpicker[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{float:left;margin:20px 0 0;width:100%;font-size:12px}.durationpicker[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;font-size:13px}.durationpicker[_ngcontent-%COMP%]   .btn_content[_ngcontent-%COMP%]{width:100%}.duration-picker-element[_ngcontent-%COMP%]{margin-left:5px}"]});let i=r;return i;})();var U2e=["fromCalendar"],W2e=["fromTimeCalendar"],B2e=["toCalendar"],H2e=["singleCalendar"],q2e=["picker"],Y2e=()=>["set_time","smart_picker","duration-picker-element","mat-calendar-body-cell-content","mat-button-wrapper","mat-button","mat-calendar-arrow","mat-button-base","mat-calendar-table-header","mat-overlay-transparent-backdrop","ng-star-inserted","mat-calendar-table","mat-calendar-content"],X2e=i=>({"ng-invalid":i}),K2e=i=>({smart_active:i}),kv=i=>({active:i});function Q2e(i,r){if(i&1){let t=O();u(0,"span",27),b("click",function(){C(t);let n=d();return y(n.hardClear());}),p();}}function Z2e(i,r){if(i&1){let t=O();u(0,"date-picker",29),b("onValueSet",function(n){C(t);let o=d(2);return y(o.setSingeDatePicker("singleDateModel",n));}),p();}if(i&2){let t=d(2);m("placeholder",X(t.placeholder))("showPicker",t.showPicker)("model",t.fromModel)("format","yyyyMMdd")("datePickerMode",t.datePickerMode)("returnAsDateType",!0);}}function J2e(i,r){if(i&1&&(U(0),E(1,Z2e,1,7,"date-picker",28),W()),i&2){let t=d();c(),m("ngIf",t.showPicker);}}function ewe(i,r){if(i&1){let t=O();u(0,"date-picker",46),b("onValueSet",function(n){C(t);let o=d(4);return y(o.addEvent("fromModel",n));}),p();}if(i&2){let t=d(4);m("model",t.fromModel)("format","yyyyMMdd")("returnAsDateType",!0);}}function twe(i,r){i&1&&(u(0,"div",47),T(1,"\u221E"),p());}function iwe(i,r){i&1&&(u(0,"span",48),T(1,"-"),p());}function nwe(i,r){if(i&1){let t=O();u(0,"date-picker",49),b("onValueSet",function(n){C(t);let o=d(4);return y(o.addEvent("toModel",n));}),p();}if(i&2){let t=d(4);m("model",t.toModel)("format","yyyyMMdd")("returnAsDateType",!0);}}function rwe(i,r){i&1&&(u(0,"div",47),T(1,"\u221E"),p());}function owe(i,r){if(i&1){let t=O();u(0,"date-picker",50),b("onValueSet",function(n){C(t);let o=d(4);return y(o.addEvent("singleDateModel",n));}),p();}if(i&2){let t=d(4);m("model",t.singleDateModel)("format","yyyyMMdd")("returnAsDateType",!0);}}function awe(i,r){if(i&1&&(u(0,"div"),E(1,ewe,1,3,"date-picker",41)(2,twe,2,0,"div",42)(3,iwe,2,0,"span",43)(4,nwe,1,3,"date-picker",44)(5,rwe,2,0,"div",42)(6,owe,1,3,"date-picker",45),p()),i&2){let t=d(3);be(Ct("left ",t.mode,"_mode")),c(),m("ngIf",t.mode==="range"||t.mode==="rightOpen"),c(),m("ngIf",!(t.mode==="range"||t.mode==="rightOpen")&&t.mode!="single"),c(),m("ngIf",t.mode!="single"),c(),m("ngIf",t.mode==="range"||t.mode==="leftOpen"),c(),m("ngIf",!(t.mode==="range"||t.mode==="leftOpen")&&t.mode!="single"),c(),m("ngIf",t.mode==="single");}}function swe(i,r){if(i&1){let t=O();u(0,"li",39),b("click",function(){C(t);let n=d(4);return y(n.today());}),P(1,2),p();}}function lwe(i,r){if(i&1){let t=O();u(0,"li",39),b("click",function(){C(t);let n=d(4);return y(n.thisMonth());}),P(1,3),p();}}function cwe(i,r){if(i&1){let t=O();U(0),u(1,"li",39),b("click",function(){C(t);let n=d(5);return y(n.fastPicker("yesterday"));}),P(2,5),p(),u(3,"li",39),b("click",function(){C(t);let n=d(5);return y(n.fastPicker("this_week"));}),P(4,6),p(),u(5,"li",39),b("click",function(){C(t);let n=d(5);return y(n.fastPicker("last_week"));}),P(6,7),p(),u(7,"li",39),b("click",function(){C(t);let n=d(5);return y(n.fastPicker("last_month"));}),P(8,8),p(),u(9,"li",39),b("click",function(){C(t);let n=d(5);return y(n.fastPicker("this_quarter"));}),P(10,9),p(),u(11,"li",39),b("click",function(){C(t);let n=d(5);return y(n.fastPicker("last_quarter"));}),P(12,10),p(),u(13,"li",39),b("click",function(){C(t);let n=d(5);return y(n.fastPicker("this_year"));}),P(14,11),p(),u(15,"li",39),b("click",function(){C(t);let n=d(5);return y(n.fastPicker("last_year"));}),P(16,12),p(),W();}}function dwe(i,r){if(i&1){let t=O();u(0,"li",57)(1,"ul",58),b("clickOutside",function(){C(t);let n=d(4);return y(n.closeSelectOptions());}),u(2,"li",59),b("click",function(){C(t);let n=d(4);return y(n.toggleSelectOption());}),P(3,4),p(),E(4,cwe,17,0,"ng-container",26),p()();}if(i&2){let t=d(4);c(4),m("ngIf",t.showSelectOptions);}}function uwe(i,r){if(i&1){let t=O();u(0,"li",60)(1,"input",61),q("ngModelChange",function(n){C(t);let o=d(4);return Y(o.smartInput,n)||(o.smartInput=n),y(n);}),b("ngModelChange",function(n){C(t);let o=d(4);return y(o.smartInputChange(n));}),p()();}if(i&2){let t=d(4);c(),H("ngModel",t.smartInput);}}function pwe(i,r){i&1&&(u(0,"span",62),P(1,13),p());}function mwe(i,r){i&1&&(u(0,"span",63),P(1,14),p());}function _we(i,r){if(i&1){let t=O();u(0,"ul",51),E(1,swe,2,0,"li",52)(2,lwe,2,0,"li",52)(3,dwe,5,1,"li",53)(4,uwe,2,1,"li",54),u(5,"li",39),b("click",function(){C(t);let n=d(3);return y(n.smartPicker());}),E(6,pwe,2,0,"span",55)(7,mwe,2,0,"span",56),p()();}if(i&2){let t=d(3);m("ngClass",ne(7,K2e,t.smartPickerActive)),c(),m("ngIf",!t.smartPickerActive),c(),m("ngIf",!t.smartPickerActive),c(),m("ngIf",!t.smartPickerActive),c(),m("ngIf",t.smartPickerActive),c(2),m("ngIf",!t.smartPickerActive),c(),m("ngIf",t.smartPickerActive);}}function fwe(i,r){if(i&1){let t=O();u(0,"duration-picker",69),b("onValueSet",function(n){C(t);let o=d(4);return y(o.setDuration(n));}),p();}if(i&2){let t=d(4);m("mode","datePicker")("value",t.SplitStudyDateRange);}}function hwe(i,r){if(i&1){let t=O();u(0,"ul",64)(1,"li",60)(2,"input",65),q("ngModelChange",function(n){C(t);let o=d(3);return Y(o.SplitStudyDateRange,n)||(o.SplitStudyDateRange=n),y(n);}),p()(),E(3,fwe,1,2,"duration-picker",66),u(4,"li",67),b("click",function(){C(t);let n=d(3);return y(n.SplitStudyDateRange="");}),p(),u(5,"li",68),b("click",function(){C(t);let n=d(3);return y(n.showDurationPaicker=!n.showDurationPaicker);}),p()();}if(i&2){let t=d(3);c(2),H("ngModel",t.SplitStudyDateRange),c(),m("ngIf",t.showDurationPaicker);}}function gwe(i,r){if(i&1){let t=O();u(0,"label")(1,"input",71),q("ngModelChange",function(n){C(t);let o=d(4);return Y(o.includeTime,n)||(o.includeTime=n),y(n);}),b("change",function(){C(t);let n=d(4);return y(n.toggleTime());}),p(),U(2),P(3,15),W(),p();}if(i&2){let t=d(4);c(),H("ngModel",t.includeTime);}}function vwe(i,r){if(i&1&&(u(0,"div",70),E(1,gwe,4,1,"label",26),p()),i&2){let t=d(3);c(),m("ngIf",!t.onlyTime&&!t.onlyDate);}}function Cwe(i,r){if(i&1){let t=O();u(0,"time-picker",75),b("onValueSet",function(n){C(t);let o=d(4);return y(o.onTimeSet("fromTimeModel",n));}),p();}if(i&2){let t=d(4);m("model",t.fromTimeModel);}}function ywe(i,r){i&1&&(u(0,"div",47),T(1,"\u221E"),p());}function bwe(i,r){i&1&&(u(0,"span",48),T(1,"-"),p());}function Swe(i,r){if(i&1){let t=O();u(0,"time-picker",76),b("onValueSet",function(n){C(t);let o=d(4);return y(o.onTimeSet("toTimeModel",n));}),p();}if(i&2){let t=d(4);m("model",t.toTimeModel);}}function Ewe(i,r){i&1&&(u(0,"div",47),T(1,"\u221E"),p());}function Twe(i,r){if(i&1){let t=O();u(0,"time-picker",77),b("onValueSet",function(n){C(t);let o=d(4);return y(o.onTimeSet("singleTimeModel",n));}),p();}if(i&2){let t=d(4);m("model",t.singleTimeModel);}}function Iwe(i,r){if(i&1&&(u(0,"div"),E(1,Cwe,1,1,"time-picker",72)(2,ywe,2,0,"div",42)(3,bwe,2,0,"span",43)(4,Swe,1,1,"time-picker",73)(5,Ewe,2,0,"div",42)(6,Twe,1,1,"time-picker",74),p()),i&2){let t=d(3);be(Ct("left ",t.mode,"_mode")),c(),m("ngIf",t.mode==="range"||t.mode==="rightOpen"),c(),m("ngIf",!(t.mode==="range"||t.mode==="rightOpen")&&t.mode!="single"),c(),m("ngIf",t.mode!="single"),c(),m("ngIf",t.mode==="range"||t.mode==="leftOpen"),c(),m("ngIf",!(t.mode==="range"||t.mode==="leftOpen")&&t.mode!="single"),c(),m("ngIf",t.mode==="single");}}function xwe(i,r){if(i&1){let t=O();u(0,"li",84),b("click",function(){C(t);let n=d(4);return y(n.changeMode("single"));}),P(1,19),p();}if(i&2){let t=d(4);m("ngClass",ne(1,kv,t.mode==="single"));}}function Awe(i,r){if(i&1){let t=O();u(0,"li",85),b("click",function(){C(t);let n=d(4);return y(n.changeMode("single"));}),P(1,20),p();}if(i&2){let t=d(4);m("ngClass",ne(1,kv,t.mode==="single"));}}function wwe(i,r){if(i&1){let t=O();u(0,"ul",78)(1,"li",79),b("click",function(){C(t);let n=d(3);return y(n.changeMode("range"));}),P(2,16),p(),E(3,xwe,2,3,"li",80)(4,Awe,2,3,"li",81),u(5,"li",82),b("click",function(){C(t);let n=d(3);return y(n.changeMode("rightOpen"));}),P(6,17),p(),u(7,"li",83),b("click",function(){C(t);let n=d(3);return y(n.changeMode("leftOpen"));}),P(8,18),p()();}if(i&2){let t=d(3);c(),m("ngClass",ne(5,kv,t.mode==="range")),c(2),m("ngIf",t.onlyTime),c(),m("ngIf",!t.onlyTime),c(),m("ngClass",ne(7,kv,t.mode==="rightOpen")),c(2),m("ngClass",ne(9,kv,t.mode==="leftOpen"));}}function Dwe(i,r){if(i&1){let t=O();u(0,"div",31)(1,"div",32),b("click",function(){C(t);let n=d(2);return y(n.close());}),$(2,"span",33),p(),u(3,"h5"),T(4),p(),E(5,awe,7,9,"div",34)(6,_we,8,9,"ul",35)(7,hwe,6,2,"ul",36)(8,vwe,2,1,"div",37)(9,Iwe,7,9,"div",34)(10,wwe,9,11,"ul",38),u(11,"button",39),b("click",function(){C(t);let n=d(2);return y(n.setRange());}),P(12,0),p(),u(13,"button",40),b("click",function(){C(t);let n=d(2);return y(n.clear());}),P(14,1),p()();}if(i&2){let t=d(2);c(4),z(t.header),c(),m("ngIf",!t.onlyTime),c(),m("ngIf",!t.onlyTime&&!t.onlySingleMode),c(),m("ngIf",t.dateRange),c(),m("ngIf",!t.defaultTime),c(),m("ngIf",t.includeTime||t.onlyTime),c(),m("ngIf",!t.onlySingleMode);}}function Mwe(i,r){if(i&1&&(U(0),E(1,Dwe,15,7,"div",30),W()),i&2){let t=d();c(),m("ngIf",t.showPicker);}}var Do=(()=>{let r=class r{constructor(e){this.service=e,this.modelChange=new ae(),this.splitDateRangeChanged=new ae(),this.smartPickerActive=!1,this.showDurationPaicker=!1,this.HH=[],this.mm=[],this.includeTime=!1,this.maiInputValid=!0,this.showSelectOptions=!1,this.showRangePicker=!1,this.dateComponent={minDate:new Date(2e3,0,1),maxDate:new Date()},this.range=new Sd({start:new bc(null),end:new bc(null)});}ngOnInit(){this.mode=this.mode||"range",this.header=this.header||"Range picker",(this.datePickerMode||this.onlySingleMode)&&(this.header="Date Time picker",this.mode="single");for(let e=0;e<60;e++)e<25&&this.HH.push({value:e,label:e<10?`0${e}`:e}),this.mm.push({value:e,label:e<10?`0${e}`:e});this.defaultTime&&(this.includeTime=!0,this.toTimeModel=this.defaultTime,this.singleTimeModel=this.defaultTime,this.fromTimeModel=this.defaultTime);}addEvent(e,n){try{n&&(n.value?this[e]=n.value.format("YYYYMMDD"):this[e]=I.formatDate(new Date(n),"yyyyMMdd"));}catch(o){console.error(o);}}setSingeDatePicker(e,n){let o=this.dateFormat||"YYYYMMDD";try{if(n){let a,s=I.extractDateTimeFromString(n);if(s){let l=s.firstDateTime;l&&l.dateObject&&(a=I.formatDate(l.dateObject,o));}this[e]=a;}}catch(a){console.error(a);}this.showPicker=!1,this.setRange();}closeCalendar(e){this[e].overlayVisible=!1;}closeFromOutside(){this.showPicker&&(this.showPicker=!1);}toggleTime(){}setDuration(e){console.log("setDuratione",e),this.SplitStudyDateRange=e,this.showDurationPaicker=!this.showDurationPaicker;}setRange(){switch(this.mode){case"single":this.model=this.singleDateModel!=""||this.singleTimeModel!=""?this.getDateFromValue(this.singleDateModel)+this.getTimeFromValue(this.singleTimeModel,!1):"";break;case"range":this.model=this.fromModel!=""||this.toModel!=""||this.onlyTime?`${this.getDateFromValue(this.fromModel)+this.getTimeFromValue(this.fromTimeModel,!1)}-${this.getDateFromValue(this.toModel)+this.getTimeFromValue(this.toTimeModel,!1)}`:"";break;case"rightOpen":this.model=this.fromModel!=""||this.onlyTime?`${this.getDateFromValue(this.fromModel)+this.getTimeFromValue(this.fromTimeModel,!1)}-`:"";break;case"leftOpen":this.model=this.toModel!=""||this.onlyTime?`-${this.getDateFromValue(this.toModel)+this.getTimeFromValue(this.toTimeModel,!1)}`:"";break;}this.dateRange&&this.splitDateRangeChanged&&this.splitDateRangeChanged.emit(this.SplitStudyDateRange),this.modelChange.emit(this.model),this.filterChanged(),this.showPicker=!1;}closeSelectOptions(){console.log("in closeselectoptions"),this.showSelectOptions=!1;}togglePicker(){console.log("showPicker",this.showPicker),this.showPicker=!this.showPicker;}close(){this.showPicker=!1;}clear(){this.fromModel=void 0,this.fromTimeModel=void 0,this.toModel=void 0,this.toTimeModel=void 0,this.singleDateModel=void 0,this.singleTimeModel=void 0,this.SplitStudyDateRange=void 0;}smartPicker(){this.mode="range",this.smartPickerActive=!this.smartPickerActive,this.toModel=I.convertDateToString(new Date());}changeMode(e){if(this.mode=e,this.smartPickerActive)switch(this.mode){case"single":this.fromModel&&(this.singleDateModel=this.fromModel);break;case"range":this.fromModel&&(this.toModel=new Date());break;case"leftOpen":this.fromModel&&(this.toModel=this.fromModel);break;}}smartInputChange(e){let n=I.extractDurationFromValue(e);n.Minutes||n.Hours||n.Seconds?(this.fromTimeModel=I.formatDate(I.createDateFromDuration(n),"HH:mm:ss"),this.toTimeModel=I.getTimeFromDate(new Date())):(this.fromTimeModel="",this.toTimeModel="",this.includeTime=!0),this.fromModel=I.convertDateToString(this.createDateFromDuration(n));}createDateFromDuration(e){return I.createDateFromDuration(e);}getDateFromValue(e){let n=e||(this.onlyTime?"":I.dateToString(new Date()));return A(n,"_isAMomentObject")&&n._isAMomentObject?n.format("YYYYMMDD"):n;}getDateFromObject(e){return e||I.dateToString(new Date());}getTimeFromValue(e,n){if(this.includeTime||this.onlyTime){let o=n?"000000":"";return e&&e!=""?this.removeDoubleDotsFromTime(e):o;}return"";}removeDoubleDotsFromTime(e){let n=/(\d{2})/g,o,a="";if(e&&e!="")try{for(;(o=n.exec(e))!=null;)a+=o[1];return a;}catch(s){console.error("Could not extract time values from time string",e,s);}return"";}filterChanged(){let e=I.extractDateTimeFromString(this.model);this.maiInputValid=!0,e?(this.mode=e.mode,(this.mode==="range"||this.mode==="rightOpen"||this.mode==="single")&&(I.isSetDateObject(e.firstDateTime)||I.isSetTimeObject(e.firstDateTime))&&(I.validDateObject(e.firstDateTime)||I.validTimeObject(e.firstDateTime)?(this.mode==="single"?this.singleDateModel=I.getDateFromObject(e.firstDateTime)||"":this.fromModel=I.getDateFromObject(e.firstDateTime)||"",I.isSetTimeObject(e.firstDateTime)&&(I.validTimeObject(e.firstDateTime)?(this.mode==="single"?this.singleTimeModel=I.getTimeFromObject(e.firstDateTime):this.fromTimeModel=I.getTimeFromObject(e.firstDateTime),this.includeTime=!0):this.maiInputValid=!1)):this.maiInputValid=!1),(this.mode==="range"||this.mode==="leftOpen")&&(I.isSetDateObject(e.secondDateTime)||I.isSetTimeObject(e.secondDateTime))&&(I.validDateObject(e.secondDateTime)||I.validTimeObject(e.secondDateTime)?(this.toModel=I.getDateFromObject(e.secondDateTime)||"",I.isSetTimeObject(e.secondDateTime)&&(I.validTimeObject(e.secondDateTime)?(this.toTimeModel=I.getTimeFromObject(e.secondDateTime),this.includeTime=!0):this.maiInputValid=!1)):this.maiInputValid=!1)):this.model!=""&&(this.maiInputValid=!1),this.maiInputValid&&(this.modelChange.emit(this.model),this.dateRange&&this.splitDateRangeChanged&&this.splitDateRangeChanged.emit(this.SplitStudyDateRange));}toggleSelectOption(){this.showSelectOptions=!this.showSelectOptions;}fastPicker(e){this.showSelectOptions=!1,this.model=this.service.getRangeFromKey(e),this.modelChange.emit(this.model),this.dateRange&&this.splitDateRangeChanged&&this.splitDateRangeChanged.emit(this.SplitStudyDateRange),this.filterChanged(),this.showPicker=!1;}today(){this.singleDateModel=I.convertDateToString(new Date()),this.mode="single",this.setRange();}thisMonth(){let e=new Date();e.setDate(1);let n=new Date();this.service.eqDate(e,n)?this.model=I.convertDateToString(e):this.model=`${I.convertDateToString(e)}-${I.convertDateToString(new Date())}`,this.modelChange.emit(this.model),this.dateRange&&this.splitDateRangeChanged&&this.splitDateRangeChanged.emit(this.SplitStudyDateRange),this.showPicker=!1,this.filterChanged();}lastYear(){let e=new Date();e.setFullYear(e.getFullYear()-1),this.model(`${I.convertDateToString(e)}-${I.convertDateToString(new Date())}`),this.modelChange.emit(this.model),this.dateRange&&this.splitDateRangeChanged&&this.splitDateRangeChanged.emit(this.SplitStudyDateRange),this.showPicker=!1,this.filterChanged();}onTimeSet(e,n){console.log("event",n),console.log("fromTimeModel",this.fromTimeModel),console.log("this[timeModel]=",this[e]),this[e]=n;}hardClear(){this.model="",this.clear(),this.modelChange.emit(this.model),this.splitDateRangeChanged.emit(this.SplitStudyDateRange),this.filterChanged(),this.showPicker=!1;}};r.ɵfac=function(n){return new(n||r)(k(mh));},r.ɵcmp=Z({type:r,selectors:[["range-picker"]],viewQuery:function(n,o){if(n&1&&(Et(U2e,7),Et(W2e,7),Et(B2e,7),Et(H2e,7),Et(q2e,5)),n&2){let a;qe(a=Ye())&&(o.fromCalendarObject=a.first),qe(a=Ye())&&(o.fromTimeCalendarObject=a.first),qe(a=Ye())&&(o.toCalendarObject=a.first),qe(a=Ye())&&(o.singleCalendarObject=a.first),qe(a=Ye())&&(o.picker=a.first);}},inputs:{model:"model",placeholder:"placeholder",title:"title",header:"header",dateFormat:"dateFormat",onlyTime:"onlyTime",onlyDate:"onlyDate",datePickerMode:"datePickerMode",dateRange:"dateRange",defaultTime:"defaultTime",mode:"mode",onlySingleMode:"onlySingleMode"},outputs:{modelChange:"modelChange",splitDateRangeChanged:"splitDateRangeChanged"},standalone:!1,decls:7,vars:13,consts:()=>{let e;e="Set";let n;n="Clear";let o;o="from (yyyymmdd)";let a;a="Date (yyyymmdd)";let s;s="Date (yyyymmdd)";let l;l="Use duration format (ISO 8601) ((P)nYnMnDTnHnMnS or (P)nW) to set first date/time of the range subtracted from today/now (Format is not case sensitive and P on start is optional). For Example 1y => one year back, 2y3m => 2 years and 3 months back, t2h12m => 2 hours and 12 minutes from now etc.";let _;_="Today";let f;f="This Month";let g;g="Fast Picker";let S;S="Yesterday";let x;x="This Week";let D;D="Last Week";let R;R="Last Month";let j;j="This Quarter";let V;V="Last Quarter";let ie;ie="This Year";let _e;_e="Last Year";let oe;oe="Use duration format (ISO 8601) ((P)nYnMnDTnHnMnS or (P)nW) to set first date/time of the range subtracted from today/now (Format is not case sensitive and P on start is optional). For Example 1y => one year back, 2y3m => 2 years and 3 months back, t2h12m => 2 hours and 12 minutes from now etc.";let Ne;Ne="Hover for more Info";let Ce;Ce="Smart Picker";let Ge;Ge="Fast Picker";let dt;dt="Maximal Study Date Range";let hi;hi="Include Time";let Vi;Vi="from (hh:mm:ss)";let gi;gi="to (hh:mm:ss)";let zi;zi="Specific Time";let Dt;Dt="Between";let Gn;Gn="After";let Qe;Qe="Before";let Ie;Ie="Spec. Time";let _t;return _t="Single Date",[e,n,_,f,g,S,x,D,R,j,V,ie,_e,Ce,Ge,hi,Dt,Gn,Qe,Ie,_t,[1,"range_picker",3,"clickOutside","clickOutsideExceptionClass"],[1,"main_input_block",3,"title"],["type","text",1,"main_input",3,"ngModelChange","ngClass","ngModel","placeholder"],["class","glyphicon glyphicon-remove clear_picker",3,"click",4,"ngIf"],[1,"glyphicon","glyphicon-calendar",3,"click"],[4,"ngIf"],[1,"glyphicon","glyphicon-remove","clear_picker",3,"click"],[3,"showPicker","model","format","datePickerMode","placeholder","returnAsDateType","onValueSet",4,"ngIf"],[3,"onValueSet","showPicker","model","format","datePickerMode","placeholder","returnAsDateType"],["class","picker",4,"ngIf"],[1,"picker"],[1,"close",3,"click"],[1,"glyphicon","glyphicon-remove"],[3,"class",4,"ngIf"],["class","fast_picker",3,"ngClass",4,"ngIf"],["class","fast_picker smart_active duration",4,"ngIf"],["class","include_time_block",4,"ngIf"],["class","interval",4,"ngIf"],[3,"click"],[1,"clear",3,"click"],["placeholder",o,3,"model","format","returnAsDateType","onValueSet",4,"ngIf"],["class","infinit",4,"ngIf"],["class","dash",4,"ngIf"],["placeholder",a,3,"model","format","returnAsDateType","onValueSet",4,"ngIf"],["placeholder",s,3,"model","format","returnAsDateType","onValueSet",4,"ngIf"],["placeholder",o,3,"onValueSet","model","format","returnAsDateType"],[1,"infinit"],[1,"dash"],["placeholder",a,3,"onValueSet","model","format","returnAsDateType"],["placeholder",s,3,"onValueSet","model","format","returnAsDateType"],[1,"fast_picker",3,"ngClass"],[3,"click",4,"ngIf"],["class","select_parent",4,"ngIf"],["class","smart_input",4,"ngIf"],["class","smart_picker","title",l,4,"ngIf"],["class","smart_picker",4,"ngIf"],[1,"select_parent"],[1,"j4care_select",3,"clickOutside"],[1,"placeholder",3,"click"],[1,"smart_input"],["type","text","title",oe,"placeholder",Ne,3,"ngModelChange","ngModel"],["title",l,1,"smart_picker"],[1,"smart_picker"],[1,"fast_picker","smart_active","duration"],["type","text","placeholder",dt,3,"ngModelChange","ngModel"],[3,"mode","value","onValueSet",4,"ngIf"],[1,"glyphicon","glyphicon-remove","duration_buttons",3,"click"],[1,"duration_buttons",3,"click"],[3,"onValueSet","mode","value"],[1,"include_time_block"],["type","checkbox",3,"ngModelChange","change","ngModel"],["cohereMode","true","placeholder",Vi,3,"model","onValueSet",4,"ngIf"],["cohereMode","true","placeholder",gi,3,"model","onValueSet",4,"ngIf"],["cohereMode","true","placeholder","(hh:mm:ss)",3,"model","onValueSet",4,"ngIf"],["cohereMode","true","placeholder",Vi,3,"onValueSet","model"],["cohereMode","true","placeholder",gi,3,"onValueSet","model"],["cohereMode","true","placeholder","(hh:mm:ss)",3,"onValueSet","model"],[1,"interval"],[1,"range",3,"click","ngClass"],["class","single","title",zi,3,"ngClass","click",4,"ngIf"],["class","single",3,"ngClass","click",4,"ngIf"],[1,"rightOpen",3,"click","ngClass"],[1,"leftOpen",3,"click","ngClass"],["title",zi,1,"single",3,"click","ngClass"],[1,"single",3,"click","ngClass"]];},template:function(n,o){n&1&&(u(0,"div",21),b("clickOutside",function(){return o.closeFromOutside();}),u(1,"div",22)(2,"input",23),q("ngModelChange",function(s){return Y(o.model,s)||(o.model=s),s;}),b("ngModelChange",function(){return o.filterChanged();}),p(),E(3,Q2e,1,0,"span",24),u(4,"span",25),b("click",function(){return o.togglePicker();}),p()(),E(5,J2e,2,1,"ng-container",26)(6,Mwe,2,1,"ng-container",26),p()),n&2&&(m("clickOutsideExceptionClass",Ke(10,Y2e)),c(),m("title",X(o.title)),c(),m("placeholder",X(o.placeholder))("ngClass",ne(11,X2e,!o.maiInputValid)),H("ngModel",o.model),c(),m("ngIf",o.model),c(2),m("ngIf",o.datePickerMode),c(),m("ngIf",!o.datePickerMode));},dependencies:[Je,de,Me,pi,Se,Ee,_h,RA,fh,ma],styles:['.range_picker[_ngcontent-%COMP%]{position:relative;height:30px}.range_picker[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px}.range_picker[_ngcontent-%COMP%]   .range_mode[_ngcontent-%COMP%], .range_picker[_ngcontent-%COMP%]   .leftOpen_mode[_ngcontent-%COMP%], .range_picker[_ngcontent-%COMP%]   .rightOpen_mode[_ngcontent-%COMP%]{overflow:hidden;display:grid;grid-template-columns:calc(50% - 15px) 30px calc(50% - 15px);height:50px}.range_picker[_ngcontent-%COMP%]   .main_input_block[_ngcontent-%COMP%]{width:100%}.range_picker[_ngcontent-%COMP%]   .main_input_block[_ngcontent-%COMP%]   .main_input[_ngcontent-%COMP%]{width:calc(100% - 27px);float:left;margin-top:0}.range_picker[_ngcontent-%COMP%]   .main_input_block[_ngcontent-%COMP%]   .glyphicon-calendar[_ngcontent-%COMP%]{width:26px;display:inline-block;height:26px;color:#fff;float:right;text-align:center;vertical-align:middle;line-height:26px;top:0;background:var(--backgroundColor)}.range_picker[_ngcontent-%COMP%]   .main_input_block[_ngcontent-%COMP%]   .glyphicon-calendar[_ngcontent-%COMP%]:hover{cursor:pointer}.range_picker[_ngcontent-%COMP%]   .main_input_block[_ngcontent-%COMP%]:hover   .clear_picker[_ngcontent-%COMP%]{display:block}.range_picker[_ngcontent-%COMP%]   .material_calendar.single_date_mode[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{display:none}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]{z-index:999;float:left;padding:15px 20px;display:block;width:400px;min-height:200px;background:#fff;position:absolute;top:28px;-webkit-box-shadow:2px 2px 13px 0px #777;-moz-box-shadow:2px 2px 13px 0px #777;box-shadow:2px 2px 13px #777}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .include_time_block[_ngcontent-%COMP%]{display:block;min-height:3px}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .include_time_block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:var(--backgroundColor);color:#fff;width:calc(100% - 4px);line-height:30px;margin:5px 2px;-webkit-box-shadow:3px 3px 6px 0px #666;-moz-box-shadow:3px 3px 6px 0px #666;box-shadow:3px 3px 6px #666;padding:3px 10px 3px 11px}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .include_time_block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{cursor:pointer}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .include_time_block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{float:left;height:30px;margin-right:7px!important}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{height:50px}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .material_calendar[_ngcontent-%COMP%]{float:left}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .material_calendar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #cccccc}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .material_calendar.single_datepicker[_ngcontent-%COMP%]{width:100%}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .material_calendar.single_date_mode[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{display:none}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   p-calendar[_ngcontent-%COMP%]{margin-right:28px}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .infinit[_ngcontent-%COMP%]{height:26px;line-height:26px;font-size:30px;width:51%;text-align:center;color:#777}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .infinit.time[_ngcontent-%COMP%]{font-size:20px}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left.single_mode[_ngcontent-%COMP%]   p-calendar[_ngcontent-%COMP%], .range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left.single_mode[_ngcontent-%COMP%]   time-picker[_ngcontent-%COMP%]{width:100%}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left.leftOpen_mode[_ngcontent-%COMP%]   p-calendar[_ngcontent-%COMP%], .range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left.rightOpen_mode[_ngcontent-%COMP%]   p-calendar[_ngcontent-%COMP%]{width:47%}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   span.dash[_ngcontent-%COMP%]{display:inline-block;height:30px;text-align:center;line-height:30px}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]   span.glyphicon-calendar[_ngcontent-%COMP%]{width:26px;height:26px}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{margin-top:15px}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;justify-content:space-around}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{background-color:var(--backgroundColor);list-style:none;display:block;width:24%;height:30px;color:#fff;vertical-align:middle;line-height:30px;text-align:center;-webkit-box-shadow:3px 3px 6px 0px #666;-moz-box-shadow:3px 3px 6px 0px #666;box-shadow:3px 3px 6px #666}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{cursor:pointer}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:transparent;width:100%;height:100%;border:none}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:var(--backgroundColor)}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker.smart_active[_ngcontent-%COMP%]   .smart_input[_ngcontent-%COMP%]{background:transparent;box-shadow:none;color:#444;width:74%}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker.smart_active[_ngcontent-%COMP%]   .smart_input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker.smart_active.duration[_ngcontent-%COMP%]{margin-top:5px}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker.smart_active.duration[_ngcontent-%COMP%]   li.smart_input[_ngcontent-%COMP%]{width:calc(100% - 22px);margin-right:4px}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker.smart_active.duration[_ngcontent-%COMP%]   li.duration_buttons.glyphicon-remove[_ngcontent-%COMP%]{width:52px;margin-right:4px;margin-top:-1px}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker.smart_active.duration[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{width:52px;background-image:url("./media/range_clock_white-WD5LTRGL.png");background-repeat:no-repeat;background-size:20px;background-position:center}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.fast_picker[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{float:left;width:100%}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.interval[_ngcontent-%COMP%]{padding-left:0;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;justify-content:space-around}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.interval[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;display:block;width:24%;height:60px;color:#fff;vertical-align:bottom;line-height:86px;text-align:center;-webkit-box-shadow:3px 3px 6px 0px #666;-moz-box-shadow:3px 3px 6px 0px #666;box-shadow:3px 3px 6px #666}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.interval[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.interval[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{cursor:pointer}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.interval[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]{background-image:url("./media/close-3MNJMLGO.png");background-repeat:no-repeat;background-position:center 20px;background-color:var(--backgroundColor)}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.interval[_ngcontent-%COMP%]   .single[_ngcontent-%COMP%]{background-image:url("./media/single-EXLJMNXK.png");display:block;background-repeat:no-repeat;background-position:center 20px;background-color:var(--backgroundColor)}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.interval[_ngcontent-%COMP%]   .leftOpen[_ngcontent-%COMP%]{background-image:url("./media/leftOpen-NPKZVGVH.png");display:block;background-repeat:no-repeat;background-position:center 20px;background-color:var(--backgroundColor)}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   ul.interval[_ngcontent-%COMP%]   .rightOpen[_ngcontent-%COMP%]{background-image:url("./media/rightOpen-BFYN5TLK.png");display:block;background-repeat:no-repeat;background-position:center 20px;background-color:var(--backgroundColor)}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--backgroundColor);color:#fff;border:0;width:24%;float:right}.range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   button.clear[_ngcontent-%COMP%]{margin-right:4px}.range_picker[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;z-index:999999;right:7px;top:7px;font-size:16px}.clear_picker[_ngcontent-%COMP%]{display:none;width:20px;line-height:26px;text-align:center;color:#5f5f5f99;height:27px;margin-right:1px;top:0;margin-left:1px;position:absolute;right:27px}.clear_picker[_ngcontent-%COMP%]:hover{cursor:pointer;color:#3737379e}ul.j4care_select[_ngcontent-%COMP%]{position:relative;z-index:2;padding:0;height:30px;-webkit-box-shadow:3px 3px 6px 0px #666;-moz-box-shadow:3px 3px 6px 0px #666;box-shadow:3px 3px 6px #666}ul.j4care_select[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}ul.j4care_select[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.placeholder){border-top:1px solid white;background:#385367;-webkit-box-shadow:3px 3px 6px 0px rgba(43,43,43,.58);-moz-box-shadow:3px 3px 6px 0px rgba(43,43,43,.58);box-shadow:3px 3px 6px #2b2b2b94;width:130%}ul.j4care_select[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.placeholder):hover{background:#305b7b}.single_date_mode[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{display:none!important}']});let i=r;return i;})();var Owe=()=>["min","max","unit","clear","mat-option-text","mat-option"];function Pwe(i,r){if(i&1&&(u(0,"mat-option",19),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.value))("title",X(t.description||t.title)),c(),z(t.text);}}function Rwe(i,r){if(i&1){let t=O();u(0,"div",8)(1,"h5"),P(2,0),p(),u(3,"div",9),b("keyup",function(){C(t);let n=d();return y(n.onInputChange());}),u(4,"div",10)(5,"input",11),q("ngModelChange",function(n){C(t);let o=d();return Y(o.value.min,n)||(o.value.min=n),y(n);}),p(),u(6,"span",12),T(7,"-"),p(),u(8,"input",13),q("ngModelChange",function(n){C(t);let o=d();return Y(o.value.max,n)||(o.value.max=n),y(n);}),p()(),u(9,"mat-select",14),q("ngModelChange",function(n){C(t);let o=d();return Y(o.value.unit,n)||(o.value.unit=n),y(n);}),b("selectionChange",function(){C(t);let n=d();return y(n.onInputChange());}),u(10,"mat-option",15),T(11,"*"),p(),E(12,Pwe,2,5,"mat-option",16),p()(),u(13,"button",17),b("click",function(){C(t);let n=d();return y(n.setRange());}),P(14,1),p(),u(15,"button",18),b("click",function(){C(t);let n=d();return y(n.clear());}),P(16,2),p()();}if(i&2){let t=d();c(5),H("ngModel",t.value.min),c(3),H("ngModel",t.value.max),c(),H("ngModel",t.value.unit),c(3),m("ngForOf",t.units);}}var kA=(()=>{let r=class r{constructor(){this.units=[new G("GB","GB"),new G("MB","MB"),new G("KB","KB")],this.value={min:"",max:"",unit:"MB"},this.showPicker=!1,this.modelChange=new ae();}get model(){return this.modelValue;}set model(e){this.modelValue=e,this.modelChange.emit(this.modelValue);}ngOnInit(){this.extractValueFromMainInput();}keyUpMainInput(){this.extractValueFromMainInput();}extractValueFromMainInput(){let e=/(\d*) *(-) *(\d*)/,n;(n=e.exec(this.model))!==null&&n[2]==="-"&&(this.value.unit="KB",this.value.min=n[1]||"",this.value.max=n[3]||"");}togglePicker(){this.showPicker=!this.showPicker;}closeFromOutside(){this.showPicker&&(this.showPicker=!1);}clear(){this.value={min:"",max:"",unit:"MB"},this.updateValue();}setRange(){this.updateValue(),this.togglePicker();}updateValue(){this.modelValue=this.value.min||this.value.max?`${this.convert(this.value.min,this.value.unit)}-${this.convert(this.value.max,this.value.unit)}`:"",this.modelChange.emit(this.modelValue);}onInputChange(){this.updateValue();}convert(e,n){if(e!=""){let o;switch(n){case"GB":o=e*1e6;break;case"MB":o=e*1e3;break;}return o||e;}return"";}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["size-range-picker"]],inputs:{model:"model"},outputs:{modelChange:"modelChange"},standalone:!1,decls:5,vars:4,consts:()=>{let e;e="Study Size Range";let n;n="Study Size Range in KB";let o;o="min";let a;a="max";let s;s="Unit";let l;l="Set Size Range:";let _;_="Set";let f;return f="Clear",[l,_,f,[1,"size_range_picker",3,"clickOutside","clickOutsideExceptionClass"],[1,"main_input_block"],["type","text","placeholder",e,"title",n,1,"main_input",3,"ngModelChange","keyup","ngModel"],[1,"size_range_icon",3,"click"],["class","picker",4,"ngIf"],[1,"picker"],[1,"input_block",3,"keyup"],[1,"input_part"],["type","number","min","1","placeholder",o,1,"min",3,"ngModelChange","ngModel"],[1,"minus"],["type","number","min","1","placeholder",a,1,"max",3,"ngModelChange","ngModel"],["placeholder",s,1,"unit",3,"ngModelChange","selectionChange","ngModel"],["value",""],[3,"value","title",4,"ngFor","ngForOf"],[3,"click"],[1,"clear",3,"click"],[3,"value","title"]];},template:function(n,o){n&1&&(u(0,"div",3),b("clickOutside",function(){return o.closeFromOutside();}),u(1,"div",4)(2,"input",5),q("ngModelChange",function(s){return Y(o.model,s)||(o.model=s),s;}),b("keyup",function(){return o.keyUpMainInput();}),p(),u(3,"span",6),b("click",function(){return o.togglePicker();}),p()(),E(4,Rwe,17,4,"div",7),p()),n&2&&(m("clickOutsideExceptionClass",Ke(3,Owe)),c(2),H("ngModel",o.model),c(2),m("ngIf",o.showPicker));},dependencies:[ve,de,Me,Fo,Se,I0,Ee,fi,ii,ma],styles:[".size_range_picker[_ngcontent-%COMP%]{position:relative}.size_range_picker[_ngcontent-%COMP%]   .main_input_block[_ngcontent-%COMP%]{width:100%}.size_range_picker[_ngcontent-%COMP%]   .main_input_block[_ngcontent-%COMP%]   .main_input[_ngcontent-%COMP%]{width:calc(100% - 27px);float:left;margin-top:0;border-right:none}.size_range_picker[_ngcontent-%COMP%]   .main_input_block[_ngcontent-%COMP%]   .size_range_icon[_ngcontent-%COMP%]{width:27px;display:inline-block;height:30px;color:#fff;float:right;text-align:center;vertical-align:middle;line-height:30px;top:0}.size_range_picker[_ngcontent-%COMP%]   .main_input_block[_ngcontent-%COMP%]   .size_range_icon[_ngcontent-%COMP%]:hover{cursor:pointer}.size_range_picker[_ngcontent-%COMP%]   .main_input_block[_ngcontent-%COMP%]:hover   .clear_picker[_ngcontent-%COMP%]{display:block}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]{z-index:1;float:left;padding:15px 20px;display:block;width:400px;min-height:50px;background:#fff;position:absolute;top:28px;-webkit-box-shadow:2px 2px 13px 0px #777;-moz-box-shadow:2px 2px 13px 0px #777;box-shadow:2px 2px 13px #777}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .min[_ngcontent-%COMP%], .size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%], .size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .max[_ngcontent-%COMP%], .size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{float:left;border:none}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .min[_ngcontent-%COMP%], .size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .max[_ngcontent-%COMP%], .size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .min[_ngcontent-%COMP%], .size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .max[_ngcontent-%COMP%]{width:calc(50% - 12px)}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{width:24px;text-align:center;height:30px;line-height:30px;color:#000}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]{float:left;margin-bottom:20px}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   .input_part[_ngcontent-%COMP%]{float:left;width:70%}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:calc(30% - 10px);border:none;border-left:1px solid #ccc;margin-left:10px;padding-left:10px}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--backgroundColor);color:#fff;border:0;width:24%;float:right}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   button.clear[_ngcontent-%COMP%]{margin-right:4px}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--backgroundColorHover)}.size_range_picker[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:calc(30% - 13px)}.size_range_picker[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;z-index:999999;right:7px;top:7px;font-size:16px}"]});let i=r;return i;})();var kwe=["*"],$we=i=>({active:i});function Lwe(i,r){if(i&1&&$(0,"div",5),i&2){let t=d();m("innerHTML",t.htmlLabel,Re);}}function Fwe(i,r){if(i&1){let t=O();u(0,"input",6),q("ngModelChange",function(n){C(t);let o=d();return Y(o.selected,n)||(o.selected=n),y(n);}),p();}if(i&2){let t=d();H("ngModel",t.selected);}}function Vwe(i,r){i&1&&Vt(0,0,["*ngIf","!htmlLabel"]);}var Hp=(()=>{let r=class r{constructor(e){this.parent=e,this._selected=!1,this.multiSelectMode=!1,this.selectEvent=new ae(),this.showElement=!0;}ngOnInit(){}select(e){this.selectEvent.emit(this);}get selected(){return this._selected;}set selected(e){this._selected=e;}};r.ɵfac=function(n){return new(n||r)(k(ze));},r.ɵcmp=Z({type:r,selectors:[["j4care-option"]],inputs:{value:"value",htmlLabel:"htmlLabel",title:"title"},standalone:!1,ngContentSelectors:kwe,decls:5,vars:9,consts:[["options",""],[1,"option",3,"click","hidden","ngClass","title"],[3,"innerHTML",4,"ngIf"],["type","checkbox",3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["type","checkbox",3,"ngModelChange","ngModel"]],template:function(n,o){if(n&1){let a=O();xi(),u(0,"div",1,0),b("click",function(l){return C(a),y(o.select(l));}),E(2,Lwe,1,1,"div",2)(3,Fwe,1,1,"input",3)(4,Vwe,1,0,"ng-content",4),p();}n&2&&(m("title",X(o.title||""))("hidden",!o.showElement)("ngClass",ne(7,$we,o.selected)),c(2),m("ngIf",o.htmlLabel),c(),m("ngIf",o.value&&o.value!=""&&o.multiSelectMode),c(),m("ngIf",!o.htmlLabel));},dependencies:[Je,de,pi,Se,Ee],styles:[".option.active[_ngcontent-%COMP%]{background:#ccc}.option[_ngcontent-%COMP%]{padding:5px 10px}.option[_ngcontent-%COMP%]:hover{cursor:pointer;background:#1c242b1a}"]});let i=r;return i;})();var zt=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i;}(zt||{}),as="*";function Yp(i,r){return{type:zt.Trigger,name:i,definitions:r,options:{}};}function Nl(i,r=null){return{type:zt.Animate,styles:r,timings:i};}function TW(i,r=null){return{type:zt.Sequence,steps:i,options:r};}function Pa(i){return{type:zt.Style,styles:i,offset:null};}function kl(i,r,t){return{type:zt.State,name:i,styles:r,options:t};}function $l(i,r,t=null){return{type:zt.Transition,expr:i,animation:r,options:t};}var Rl=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(r=0,t=0){this.totalTime=r+t;}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]);}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r);}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r);}onDestroy(r){this._onDestroyFns.push(r);}hasStarted(){return this._started;}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0;}triggerMicrotask(){queueMicrotask(()=>this._onFinish());}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[];}pause(){}restart(){}finish(){this._onFinish();}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[]);}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns;}setPosition(r){this._position=this.totalTime?r*this.totalTime:1;}getPosition(){return this.totalTime?this._position/this.totalTime:1;}triggerCallback(r){let t=r=="start"?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0;}},qp=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(r){this.players=r;let t=0,e=0,n=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==o&&this._onFinish();}),a.onDestroy(()=>{++e==o&&this._onDestroy();}),a.onStart(()=>{++n==o&&this._onStart();});}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0);}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]);}init(){this.players.forEach(r=>r.init());}onStart(r){this._onStartFns.push(r);}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[]);}onDone(r){this._onDoneFns.push(r);}onDestroy(r){this._onDestroyFns.push(r);}hasStarted(){return this._started;}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play());}pause(){this.players.forEach(r=>r.pause());}restart(){this.players.forEach(r=>r.restart());}finish(){this._onFinish(),this.players.forEach(r=>r.finish());}destroy(){this._onDestroy();}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[]);}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1;}setPosition(r){let t=r*this.totalTime;this.players.forEach(e=>{let n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n);});}getPosition(){let r=this.players.reduce((t,e)=>t===null||e.totalTime>t.totalTime?e:t,null);return r!=null?r.getPosition():0;}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy();});}triggerCallback(r){let t=r=="start"?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0;}},hh="!";var Gwe=["*"],jwe=()=>["option","dropdown_input","input_part","selected_value","glyphicon-triangle-bottom","select"];function Uwe(i,r){if(i&1&&(u(0,"div",10),T(1),p()),i&2){let t=d(2);c(),z(t.multiSelectValue);}}function Wwe(i,r){if(i&1&&(u(0,"div",10),T(1),U(2),P(3,0),W(),p()),i&2){let t=d(2);c(),ue("( ",t.multiSelectValue.length," ) ");}}function Bwe(i,r){if(i&1&&(u(0,"div",10),T(1),p()),i&2){let t=d(2);c(),z(t.placeholder);}}function Hwe(i,r){if(i&1&&(U(0),E(1,Uwe,2,1,"div",9)(2,Wwe,4,1,"div",9)(3,Bwe,2,1,"div",9),W()),i&2){let t=d();c(),m("ngIf",t.multiSelectValue&&t.multiSelectValue.length>0&&t.multiSelectValue.length<=t.maxSelectedValueShown),c(),m("ngIf",t.multiSelectValue&&t.multiSelectValue.length>t.maxSelectedValueShown),c(),m("ngIf",!t.multiSelectValue||t.multiSelectValue.length===0);}}function qwe(i,r){if(i&1&&(u(0,"div",10),T(1),p()),i&2){let t=d(2);c(),z(t.selectedDropdown.label||t.selectedDropdown.text||t.selectedDropdown.value);}}function Ywe(i,r){if(i&1&&$(0,"div",12),i&2){let t=d(2);m("innerHTML",t.selectedDropdown.htmlLabel,Re);}}function Xwe(i,r){if(i&1&&(U(0),E(1,qwe,2,1,"div",9)(2,Ywe,1,1,"div",11),W()),i&2){let t=d();c(),m("ngIf",!(t.selectedDropdown&&t.selectedDropdown.htmlLabel)),c(),m("ngIf",t.selectedDropdown&&t.selectedDropdown.htmlLabel);}}function Kwe(i,r){if(i&1&&(u(0,"div",13),T(1),p()),i&2){let t=d();c(),z(t.placeholder);}}function Qwe(i,r){if(i&1){let t=O();u(0,"div",14)(1,"input",15),q("ngModelChange",function(n){C(t);let o=d();return Y(o.isAllCheck,n)||(o.isAllCheck=n),y(n);}),b("change",function(n){C(t);let o=d();return y(o.allChecked(n));}),p(),u(2,"input",16),q("ngModelChange",function(n){C(t);let o=d();return Y(o.search,n)||(o.search=n),y(n);}),b("keyup",function(){C(t);let n=d();return y(n.searchEvent());}),p()();}if(i&2){let t=d();c(),H("ngModel",t.isAllCheck),c(),H("ngModel",t.search);}}var $A=(()=>{let r=class r{set model(e){!(this.selectedDropdown&&this.selectedDropdown.value===e)&&!this.multiSelectMode?(this.selectedValue=e,this.selectedDropdown=this.getSelectDropdownFromValue(e),this.setSelectedElement()):(this.multiSelectValue=e,this.setSelectedElement());}constructor(){this.multiSelectMode=!1,this.showSearchField=!1,this.maxSelectedValueShown=2,this.modelChange=new ae(),this.showDropdown=!1,this.multiSelectValue=[],this.search="",this.isAllCheck=!1;}toggleDropdown(){this.showDropdown=!this.showDropdown;}ngAfterContentInit(){this.children.forEach(e=>{setTimeout(()=>{e.multiSelectMode=this.multiSelectMode;},100),e.selectEvent.subscribe(n=>{this.multiSelectMode?(n.value===""?(this.multiSelectValue=[],this.isAllCheck=!1):this.multiSelectValue&&this.multiSelectValue.indexOf(n.value)>-1?this.multiSelectValue.splice(this.multiSelectValue.indexOf(n.value),1):(this.multiSelectValue=this.multiSelectValue||[],this.multiSelectValue.push(n.value)),this.modelChange.emit(this.multiSelectValue)):(this.modelChange.emit(n.value),this.showDropdown=!1),console.log("multiSelectValue",this.multiSelectValue);});}),this.selectedValue&&(this.selectedDropdown=this.getSelectDropdownFromValue(this.selectedValue));}searchEvent(){this.children.forEach(e=>{e.value.toLowerCase().indexOf(this.search.toLowerCase())>-1||e.htmlLabel&&JSON.stringify(e.htmlLabel).toLowerCase().indexOf(this.search.toLowerCase())>-1?e.showElement=!0:e.showElement=!1;});}allChecked(e){console.log("e",e),console.log("checked",e.target.checked),console.log("isAllCheck",this.isAllCheck),this.isAllCheck||(this.multiSelectValue=[]),this.children.forEach(n=>{n.selected=this.isAllCheck,this.isAllCheck&&this.multiSelectValue.push(n.value);});}getSelectDropdownFromValue(e){let n=new G(e,"");return e&&this.children&&this.children.forEach(o=>{o.value===e&&(n=o);}),n;}setSelectedElement(){if(this.multiSelectMode){if(this.children&&this.multiSelectValue){let e=0;this.children.forEach(n=>{this.multiSelectValue.indexOf(n.value)>-1?(n.selected=!0,e++):n.selected=!1;}),e===this.children.length-1&&(this.isAllCheck=!0);}}else this.children&&this.selectedValue&&this.children.forEach(e=>{e.value===this.selectedValue||e.value===this.selectedValue?e.selected=!0:e.selected=!1;});}ngAfterViewChecked(){setTimeout(()=>{this.setSelectedElement();},100);}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["j4care-select"]],contentQueries:function(n,o,a){if(n&1&&(on(a,Hp,7),on(a,Hp,4)),n&2){let s;qe(s=Ye())&&(o.template=s.first),qe(s=Ye())&&(o.children=s);}},inputs:{placeholder:"placeholder",multiSelectMode:"multiSelectMode",showSearchField:"showSearchField",maxSelectedValueShown:"maxSelectedValueShown",model:"model"},outputs:{modelChange:"modelChange"},standalone:!1,ngContentSelectors:Gwe,decls:10,vars:7,consts:()=>{let e;e="selected";let n;return n="Search",[e,[1,"j4care_dropdown",3,"clickOutside","clickOutsideExceptionClass"],[1,"dropdown_input",3,"click"],[1,"input_part"],[4,"ngIf"],["class","selected_value empty_field",4,"ngIf"],[1,"glyphicon","glyphicon-triangle-bottom"],[1,"select"],["action","","class","search_block",4,"ngIf"],["class","selected_value",4,"ngIf"],[1,"selected_value"],["class","selected_value",3,"innerHTML",4,"ngIf"],[1,"selected_value",3,"innerHTML"],[1,"selected_value","empty_field"],["action","",1,"search_block"],["type","checkbox",3,"ngModelChange","change","ngModel"],["type","text","placeholder",n,3,"ngModelChange","keyup","ngModel"]];},template:function(n,o){n&1&&(xi(),u(0,"div",1),b("clickOutside",function(){return o.showDropdown=!1;}),u(1,"div",2),b("click",function(){return o.toggleDropdown();}),u(2,"div",3),E(3,Hwe,4,3,"ng-container",4)(4,Xwe,3,2,"ng-container",4)(5,Kwe,2,1,"div",5),p(),$(6,"span",6),p(),u(7,"div",7),E(8,Qwe,3,2,"div",8),Vt(9),p()()),n&2&&(m("clickOutsideExceptionClass",Ke(6,jwe)),c(3),m("ngIf",o.multiSelectMode),c(),m("ngIf",!o.multiSelectMode&&o.selectedValue&&o.selectedDropdown),c(),m("ngIf",!(o.selectedValue&&o.selectedDropdown)&&!o.multiSelectMode),c(2),m("@showHide",o.showDropdown?"show":"hide"),c(),m("ngIf",o.showSearchField));},dependencies:[de,Me,pi,Se,Ee,ma],styles:[".j4care_dropdown[_ngcontent-%COMP%]{float:left;position:relative;width:100%}.j4care_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]{min-width:100px;border-bottom:1px solid #cccccc;height:30px;line-height:30px;padding-left:7px}.j4care_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]:hover{cursor:pointer}.j4care_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   span.glyphicon-triangle-bottom[_ngcontent-%COMP%]{width:10px;font-size:9px}.j4care_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   .input_part[_ngcontent-%COMP%]{width:calc(100% - 10px);display:inline-block;float:left;min-height:25px}.j4care_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   .selected_value.empty_field[_ngcontent-%COMP%]{font-style:italic;color:#444}.j4care_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   .selected_value[_ngcontent-%COMP%]:hover, .j4care_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   .selected_value[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:hover{cursor:pointer}.j4care_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{-webkit-box-shadow:2px 2px 11px 0px #333;-moz-box-shadow:2px 2px 11px 0px #333;box-shadow:2px 2px 11px #333;position:fixed;background:#fff;z-index:99999;min-width:200px;max-height:250px;overflow:auto;margin-bottom:5px}.j4care_dropdown[_ngcontent-%COMP%]   .search_block[_ngcontent-%COMP%]{width:98%;height:30px;float:left;margin-left:2px}.j4care_dropdown[_ngcontent-%COMP%]   .search_block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:calc(100% - 37px);float:left}.j4care_dropdown[_ngcontent-%COMP%]   .search_block[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:35px;float:left;margin-top:9px}"],data:{animation:[Yp("showHide",[kl("show",Pa({padding:"*",height:"*",opacity:1})),kl("hide",Pa({padding:"0",opacity:0,height:"0px",margin:"0"})),$l("show => hide",[Nl("0.1s")]),$l("hide => show",[Nl("0.2s cubic-bezier(.52,-0.01,.15,1)")])])]}});let i=r;return i;})();var yt=(()=>{let r=class r{transform(e,n){if(n===""||!n)return e;if(e)return e.filter(o=>{let a=yi(o),s=JSON.stringify(o).toLowerCase();return he(a,l=>{if(l){let _=new RegExp('"'+l.toLowerCase()+'"',"g");s=s.replace(_,"");}}),s.indexOf(n.toLowerCase())!==-1;});}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"search",type:r,pure:!0,standalone:!1});let i=r;return i;})();var LA=(()=>{let r=class r{transform(e,n){try{if(e){let o=n||", ";return Ln(e[0])?e.join(o):A(e,"0.text")||A(e,"0.value")||A(e,"0.label")?e.map(a=>a.text||a.value||a.label).join(o):e.map(a=>di(a).filter(s=>Ln(s))[0]).join(o);}}catch(o){console.log("Error on pipe ArrayToStringPipe",o);}return null;}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"arrayToString",type:r,pure:!1,standalone:!1});let i=r;return i;})();var eDe=i=>({single_mode:i}),tDe=i=>({editable:i}),iDe=i=>({single_input:i}),nDe=i=>({active:i}),FA=i=>({with_checkbox:i}),rDe=(i,r)=>({active:i,tree:r});function oDe(i,r){if(i&1){let t=O();u(0,"div",15),b("click",function(){C(t);let n=d();return y(n.showDropdown=!1);}),p();}}function aDe(i,r){if(i&1&&(u(0,"div",17),T(1),$e(2,"arrayToString"),p()),i&2){let t=d(2);c(),z(pt(2,1,t.multiSelectValue,", "));}}function sDe(i,r){if(i&1&&(u(0,"div",17),T(1),p()),i&2){let t=d(2);c(),ue("( ",t.multiSelectValue.length," ) selected");}}function lDe(i,r){if(i&1&&(u(0,"div",17),T(1),p()),i&2){let t=d(2);c(),z(t.placeholder);}}function cDe(i,r){if(i&1&&(U(0),E(1,aDe,3,4,"div",16)(2,sDe,2,1,"div",16)(3,lDe,2,1,"div",16),W()),i&2){let t=d();c(),m("ngIf",t.multiSelectValue.length>0&&t.multiSelectValue.length<=t.maxSelectedValueShown),c(),m("ngIf",t.multiSelectValue.length>t.maxSelectedValueShown),c(),m("ngIf",t.multiSelectValue.length===0);}}function dDe(i,r){if(i&1&&(u(0,"div",17),T(1),p()),i&2){let t=d(2);c(),ue(" ",t.selectedDropdown.label||t.selectedDropdown.text||t.selectedDropdown.value," ");}}function uDe(i,r){if(i&1&&$(0,"div",19),i&2){let t=d(2);m("innerHTML",t.selectedDropdown.htmlLabel,Re);}}function pDe(i,r){if(i&1&&(U(0),E(1,dDe,2,1,"div",16)(2,uDe,1,1,"div",18),W()),i&2){let t=d();c(),m("ngIf",!(t.selectedDropdown&&t.selectedDropdown.htmlLabel)&&!t.editable),c(),m("ngIf",t.selectedDropdown&&t.selectedDropdown.htmlLabel);}}function mDe(i,r){if(i&1){let t=O();u(0,"input",20),q("ngModelChange",function(n){C(t);let o=d();return Y(o.selectedValue,n)||(o.selectedValue=n),y(n);}),b("keyup",function(n){C(t);let o=d();return y(o.inputChangedManually(n));}),p();}if(i&2){let t=d();m("title",X(t.placeholder))("placeholder",X(t.placeholder))("min",X(t.min))("max",X(t.max)),H("ngModel",t.selectedValue);}}function _De(i,r){if(i&1&&(u(0,"div",21),T(1),p()),i&2){let t=d();c(),z(t.placeholder);}}function fDe(i,r){if(i&1){let t=O();u(0,"input",25),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.isAllCheck,n)||(o.isAllCheck=n),y(n);}),b("change",function(n){C(t);let o=d(2);return y(o.allChecked(n));}),p();}if(i&2){let t=d(2);H("ngModel",t.isAllCheck);}}function hDe(i,r){if(i&1){let t=O();u(0,"div",22),E(1,fDe,1,1,"input",23),u(2,"input",24),q("ngModelChange",function(n){C(t);let o=d();return Y(o.search,n)||(o.search=n),y(n);}),p()();}if(i&2){let t=d();c(),m("ngIf",t.multiSelectMode),c(),m("ngClass",ne(3,iDe,!t.multiSelectMode)),H("ngModel",t.search);}}function gDe(i,r){if(i&1){let t=O();u(0,"div",26)(1,"input",27),q("ngModelChange",function(n){C(t);let o=d();return Y(o.customTreeElement,n)||(o.customTreeElement=n),y(n);}),p(),u(2,"span",28),b("click",function(n){C(t);let o=d();return y(o.addCustomElement(n));}),p()();}if(i&2){let t=d();c(),m("title",X(t.addFieldPlaceholder))("placeholder",X(t.addFieldPlaceholder)),H("ngModel",t.customTreeElement);}}function vDe(i,r){if(i&1){let t=O();u(0,"li",32),b("click",function(){C(t);let n=d(2);return y(n.select(""));}),T(1,"\xA0"),p();}}function CDe(i,r){if(i&1){let t=O();u(0,"input",38),q("ngModelChange",function(n){C(t);let o=d().$implicit;return Y(o.selected,n)||(o.selected=n),y(n);}),p();}if(i&2){let t=d().$implicit;H("ngModel",t.selected);}}function yDe(i,r){if(i&1&&$(0,"div",39),i&2){let t=d().$implicit,e=d(3);m("ngClass",ne(2,FA,e.multiSelectMode))("innerHTML",t.htmlLabel,Re);}}function bDe(i,r){if(i&1&&(u(0,"div",40),T(1),p()),i&2){let t=d().$implicit,e=d(3);m("ngClass",ne(2,FA,e.multiSelectMode)),c(),ue(" ",t.label||t.text||t.value," ");}}function SDe(i,r){if(i&1){let t=O();u(0,"li",34),b("click",function(){let n=C(t).$implicit,o=d(3);return y(o.select(n));}),E(1,CDe,1,1,"input",35)(2,yDe,1,4,"div",36)(3,bDe,2,4,"div",37),p();}if(i&2){let t=r.$implicit,e=d(3);m("title",X(t.title||""))("ngClass",ne(6,nDe,t.selected)),c(),m("ngIf",t.value&&t.value!=""&&e.multiSelectMode),c(),m("ngIf",t.htmlLabel),c(),m("ngIf",!t.htmlLabel);}}function EDe(i,r){if(i&1){let t=O();u(0,"li",32),b("click",function(){C(t);let n=d(3);return y(n.select(""));}),u(1,"div",41),P(2,1),p()();}}function TDe(i,r){if(i&1&&(U(0),E(1,SDe,4,8,"li",33),$e(2,"search"),E(3,EDe,3,0,"li",30),W()),i&2){let t=d(2);c(),m("ngForOf",pt(2,2,t.options,t.search)),c(2),m("ngIf",!t.options||t.options.length===0);}}function IDe(i,r){if(i&1&&(u(0,"label",45),T(1),p()),i&2){let t=d().$implicit;c(),z(t.label);}}function xDe(i,r){if(i&1){let t=O();u(0,"input",38),q("ngModelChange",function(n){C(t);let o=d().$implicit;return Y(o.selected,n)||(o.selected=n),y(n);}),p();}if(i&2){let t=d().$implicit;H("ngModel",t.selected);}}function ADe(i,r){if(i&1&&$(0,"div",39),i&2){let t=d().$implicit,e=d(4);m("ngClass",ne(2,FA,e.multiSelectMode))("innerHTML",t.htmlLabel,Re);}}function wDe(i,r){if(i&1&&(u(0,"div",40),T(1),p()),i&2){let t=d().$implicit,e=d(4);m("ngClass",ne(2,FA,e.multiSelectMode)),c(),ue(" ",t.label||t.text||t.value," ");}}function DDe(i,r){if(i&1){let t=O();u(0,"li",34),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.select(n));}),E(1,xDe,1,1,"input",35)(2,ADe,1,4,"div",36)(3,wDe,2,4,"div",37),p();}if(i&2){let t=r.$implicit,e=d().$implicit,n=d(3);m("title",X(t.title||""))("ngClass",yn(6,rDe,t.selected,e.label&&e.label!="")),c(),m("ngIf",t.value&&t.value!=""&&n.multiSelectMode),c(),m("ngIf",t.htmlLabel),c(),m("ngIf",!t.htmlLabel);}}function MDe(i,r){if(i&1){let t=O();u(0,"li",32),b("click",function(){C(t);let n=d(4);return y(n.select(""));}),u(1,"div",41),P(2,2),p()();}}function ODe(i,r){if(i&1&&(u(0,"div",43),E(1,IDe,2,1,"label",44)(2,DDe,4,9,"li",33),$e(3,"search"),E(4,MDe,3,0,"li",30),p()),i&2){let t=r.$implicit,e=d(3);c(),m("ngIf",t.label&&t.label!=""),c(),m("ngForOf",pt(3,3,t.options,e.search)),c(2),m("ngIf",!t||t.length===0);}}function PDe(i,r){if(i&1&&E(0,ODe,5,6,"div",42),i&2){let t=d(2);m("ngForOf",t.optionsTree);}}function RDe(i,r){if(i&1&&(u(0,"ul",29),E(1,vDe,2,0,"li",30)(2,TDe,4,5,"ng-container",31)(3,PDe,1,1,"ng-template",null,0,ia),p()),i&2){let t=Pi(4),e=d();c(),m("ngIf",e.showStar),c(),m("ngIf",e.options&&!e.optionsTree)("ngIfElse",t);}}var zn=(()=>{let r=class r{set options(e){this._options=e,e?e.forEach(n=>{n.selected&&(this.selectedDropdown=n,this.selectedValue=n.value);}):(this.selectedDropdown=void 0,this.selectedValue=void 0);}get options(){return this._options;}set optionsTree(e){this._optionsTree=e;let n=0;if(e)try{e.forEach(o=>{o.options.forEach(a=>{a.selected&&(this.selectedDropdown=a,this.selectedValue=a.value,n++);});}),this.multiSelectValue&&n!=this.multiSelectValue.length&&this.selectElementInTreeByValue(this.multiSelectValue);}catch(o){console.error("Value not undefined but selectedValue could not be set",o),console.log("Value:",e);}}get optionsTree(){return this._optionsTree;}set model(e){!(this.selectedDropdown&&this.selectedDropdown.value===e)&&!this.multiSelectMode?e?(this.selectedValue=e,this.selectedDropdown=this.getSelectDropdownFromValue(e),this.setSelectedElement()):this.clearSelection():this.multiSelectMode&&(e&&typeof e=="string"?e.indexOf(",")>-1?this.multiSelectValue=e.split(","):this.multiSelectValue=[e]:this.multiSelectValue=e||[],this.setSelectedElement());}get model(){return this.multiSelectMode?(this.modelChange.emit(this.multiSelectValue),this.multiSelectValue):(this.modelChange.emit(this.selectedValue),this.selectedValue);}constructor(e){this.changeDetectorRef=e,this.isAllCheck=!1,this.multiSelectValue=[],this.search="",this.addFieldPlaceholder="Add element",this.multiSelectMode=!1,this.showSearchField=!1,this.mixedMode=!1,this.maxSelectedValueShown=2,this.showSelectedEmptyValue=!1,this.editable=!1,this.showStar=!1,this.modelChange=new ae(),this.showDropdown=!1;}ngOnInit(){}inputChangedManually(e){console.log("e",e),this.selectedDropdown=void 0,this.modelChange.emit(this.selectedValue);}selectOptionByValue(e){this.multiSelectMode;}clearSelection(){this.selectedValue=void 0,this.selectedDropdown=void 0,this.options&&this.options.forEach(e=>{e.selected=!1;});}getSelectDropdownFromValue(e){if(e&&this.options){for(let n of this.options)if(n.value===e)return n;}}selectElementInTreeByValue(e){try{let n=Array.from(e),o=n.length;for(;o--;)this._optionsTree.forEach(a=>{a.options.forEach(s=>{n[o]===s.value&&(s.selected=!0,n.splice(o,1));});});n.length>0&&n.forEach(a=>{this.optionsTree[0].options.unshift(new G(a,a,void 0,void 0,void 0,void 0,!0));});}catch(n){console.error(n);}}allChecked(e){this.multiSelectValue=[],this.options.forEach(n=>{n.selected=this.isAllCheck,this.isAllCheck&&this.multiSelectValue.push(n.value);}),this.modelChange.emit(this.multiSelectValue);}setSelectedElement(){if(this.multiSelectMode){if(this.options&&this.multiSelectValue){let e=0;this.options.forEach(n=>{this.multiSelectValue.indexOf(n.value)>-1?(n.selected=!0,e++):n.selected=!1;}),e===this.options.length?this.isAllCheck=!0:this.isAllCheck=!1,this.modelChange.emit(this.multiSelectValue);}else console.warn("in tree",this.optionsTree),console.log("mutliselectvalue",this.multiSelectValue);}else this.options&&this.selectedValue?(this.options.forEach(e=>{e.value===this.selectedValue||e.value===this.selectedValue?e.selected=!0:e.selected=!1;}),this.modelChange.emit(this.selectedValue)):console.error("in else",this.options,"selectedValue",this.selectedValue);}addCustomElement(e){try{this.optionsTree[0].options.unshift(new G(this.customTreeElement,this.customTreeElement)),this.customTreeElement="";}catch{}}select(e){if(this.multiSelectMode){if(e==="")this.multiSelectValue=[],this.options.forEach(n=>{n.selected=!1;}),this.isAllCheck=!1;else{let n=this.multiSelectValue.indexOf(e.value);n>-1?(this.multiSelectValue.splice(n,1),e.selected=!1):(this.multiSelectValue.push(e.value),e.selected=!0);}this.options&&this.multiSelectValue.length===this.options.length||this.optionsTree&&this.multiSelectValue.length===this.optionsTree.length?this.isAllCheck=!0:this.isAllCheck=!1,this.modelChange.emit(this.multiSelectValue);}else!this.mixedMode&&this.options&&this.options.forEach(n=>{n.selected=!1;}),e===""?(this.selectedValue="",this.selectedDropdown=void 0):(e.selected=!0,this.selectedDropdown=e,this.selectedValue=e.value),this.showDropdown=!1,this.modelChange.emit(this.selectedValue);}toggleDropdown(){this.showDropdown=!this.showDropdown;}};r.ɵfac=function(n){return new(n||r)(k($t));},r.ɵcmp=Z({type:r,selectors:[["dcm-drop-down"]],inputs:{placeholder:"placeholder",multiSelectMode:"multiSelectMode",showSearchField:"showSearchField",mixedMode:"mixedMode",maxSelectedValueShown:"maxSelectedValueShown",showSelectedEmptyValue:"showSelectedEmptyValue",options:"options",optionsTree:"optionsTree",editable:"editable",min:"min",max:"max",showStar:"showStar",model:"model"},outputs:{modelChange:"modelChange"},standalone:!1,decls:13,vars:15,consts:()=>{let e;e="Search";let n;n=" No Elements found ";let o;return o=" No Elements found ",[["treeMode",""],n,o,["class","overlay",3,"click",4,"ngIf"],[1,"dcm_dropdown",3,"ngClass"],[1,"dropdown_input",3,"ngClass"],[1,"input_part",3,"click"],[4,"ngIf"],["class","edited_input_value",3,"title","placeholder","min","max","ngModel","ngModelChange","keyup",4,"ngIf"],["class","selected_value empty_field",4,"ngIf"],[1,"glyphicon","glyphicon-triangle-bottom",3,"click"],[1,"select"],["action","","class","search_block",4,"ngIf"],["class","add_block",4,"ngIf"],["class","option_block",4,"ngIf"],[1,"overlay",3,"click"],["class","selected_value",4,"ngIf"],[1,"selected_value"],["class","selected_value",3,"innerHTML",4,"ngIf"],[1,"selected_value",3,"innerHTML"],[1,"edited_input_value",3,"ngModelChange","keyup","title","placeholder","min","max","ngModel"],[1,"selected_value","empty_field"],["action","",1,"search_block"],["type","checkbox","class","dcm_input_checkbox",3,"ngModel","ngModelChange","change",4,"ngIf"],["type","text","placeholder",e,3,"ngModelChange","ngClass","ngModel"],["type","checkbox",1,"dcm_input_checkbox",3,"ngModelChange","change","ngModel"],[1,"add_block"],[1,"edited_input_value",3,"ngModelChange","title","placeholder","ngModel"],[1,"glyphicon","glyphicon-plus",3,"click"],[1,"option_block"],["class","option",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"option",3,"click"],["class","option",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"option",3,"click","ngClass","title"],["type","checkbox","class","dcm_input_checkbox",3,"ngModel","ngModelChange",4,"ngIf"],["class","dcm_input_value",3,"ngClass","innerHTML",4,"ngIf"],["class","dcm_input_value",3,"ngClass",4,"ngIf"],["type","checkbox",1,"dcm_input_checkbox",3,"ngModelChange","ngModel"],[1,"dcm_input_value",3,"ngClass","innerHTML"],[1,"dcm_input_value",3,"ngClass"],[1,"dcm_input_value"],["class","tree_block",4,"ngFor","ngForOf"],[1,"tree_block"],["class","tree_label",4,"ngIf"],[1,"tree_label"]];},template:function(n,o){n&1&&(E(0,oDe,1,0,"div",3),u(1,"div",4)(2,"div",5)(3,"div",6),b("click",function(){return!o.showDropdown&&(o.showDropdown=!0);}),E(4,cDe,4,3,"ng-container",7)(5,pDe,3,2,"ng-container",7)(6,mDe,1,9,"input",8)(7,_De,2,1,"div",9),p(),u(8,"span",10),b("click",function(){return o.toggleDropdown();}),p()(),u(9,"div",11),E(10,hDe,3,5,"div",12)(11,gDe,3,5,"div",13)(12,RDe,5,3,"ul",14),p()()),n&2&&(m("ngIf",o.showDropdown),c(),m("ngClass",ne(11,eDe,!o.multiSelectMode)),c(),m("ngClass",ne(13,tDe,o.editable&&o.showDropdown)),c(2),m("ngIf",o.multiSelectMode),c(),m("ngIf",!o.multiSelectMode&&(o.selectedValue||o.showSelectedEmptyValue)&&o.selectedDropdown),c(),m("ngIf",!(o.selectedDropdown&&o.selectedDropdown.htmlLabel)&&o.editable&&!o.multiSelectMode),c(),m("ngIf",!((o.selectedValue||o.showSelectedEmptyValue)&&o.selectedDropdown)&&!o.multiSelectMode&&!o.editable),c(2),m("@showHide",o.showDropdown?"show":"hide"),c(),m("ngIf",o.showSearchField),c(),m("ngIf",o.editable&&o.optionsTree),c(),m("ngIf",!o.mixedMode));},dependencies:[Je,ve,de,Me,pi,Se,Ee,yt,LA],styles:[".dcm_dropdown[_ngcontent-%COMP%]{float:left;position:relative;width:100%}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]{min-width:100px;border-bottom:1px solid #cccccc;height:30px;line-height:30px;padding-left:7px}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]:hover{cursor:pointer}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   span.glyphicon-triangle-bottom[_ngcontent-%COMP%]{width:20px;font-size:9px;height:100%;position:relative;text-align:center;display:flex;align-items:center;justify-content:center}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   .input_part[_ngcontent-%COMP%]{width:calc(100% - 20px);display:inline-block;float:left;min-height:25px}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   .input_part[_ngcontent-%COMP%]   .edited_input_value[_ngcontent-%COMP%]{border:0;padding-left:0;height:30px;width:100%;outline:none;background:transparent}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   .input_part[_ngcontent-%COMP%]   .edited_input_value[_ngcontent-%COMP%]:focus{outline:none}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input.editable[_ngcontent-%COMP%]{position:relative;background:#fff;z-index:99999}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input.editable[_ngcontent-%COMP%]   .edited_input_value[_ngcontent-%COMP%]{color:#000}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input.editable[_ngcontent-%COMP%]   .edited_input_value[_ngcontent-%COMP%]::placeholder{color:#000}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   .selected_value[_ngcontent-%COMP%]{max-height:30px;overflow:hidden}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   .selected_value.empty_field[_ngcontent-%COMP%]{font-style:italic;color:#444}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   .selected_value[_ngcontent-%COMP%]:hover, .dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]   .selected_value[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:hover{cursor:pointer}.dcm_dropdown[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]:focus{outline:none}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{-webkit-box-shadow:2px 2px 11px 0px #333;-moz-box-shadow:2px 2px 11px 0px #333;box-shadow:2px 2px 11px #333;position:fixed;background:#fff;z-index:99999;min-width:200px;max-height:250px;overflow:auto;margin-bottom:5px}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .option_block[_ngcontent-%COMP%]{list-style:none;padding-left:0;float:left;width:100%;overflow:hidden}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .option_block[_ngcontent-%COMP%]   .option.active[_ngcontent-%COMP%]{background:#ccc}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .option_block[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{width:100%;height:30px;padding:0 20px}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .option_block[_ngcontent-%COMP%]   .option.tree[_ngcontent-%COMP%]{padding:0 25px}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .option_block[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{float:left;width:30px;margin:8px 0}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .option_block[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .dcm_input_value[_ngcontent-%COMP%]{float:left;width:100%;height:30px;line-height:30px;color:#000;white-space:nowrap}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .option_block[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .dcm_input_value.with_checkbox[_ngcontent-%COMP%]{width:calc(100% - 30px)}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .option_block[_ngcontent-%COMP%]   li.option[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;display:flex}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .option_block[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:hover{cursor:pointer;background:#1c242b1a}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:30px;width:calc(100% - 60px)}.dcm_dropdown[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]   .glyphicon-plus[_ngcontent-%COMP%]{width:30px;text-align:center;line-height:25px;height:28px;color:#fff;background:var(--backgroundColor)}.dcm_dropdown[_ngcontent-%COMP%]   .search_block[_ngcontent-%COMP%], .dcm_dropdown[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]{width:100%;height:30px;float:left;border-bottom:1px solid #ccc;margin-top:2px}.dcm_dropdown[_ngcontent-%COMP%]   .search_block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .dcm_dropdown[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:calc(100% - 32px);float:left;color:#000}.dcm_dropdown[_ngcontent-%COMP%]   .search_block[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .dcm_dropdown[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:30px;float:left;margin:8px 0}.dcm_dropdown.single_mode[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:30px;width:calc(100% - 30px)}.dcm_dropdown.single_mode[_ngcontent-%COMP%]   .search_block[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:calc(100% - 4px);margin:2px}.dcm_dropdown.single_mode[_ngcontent-%COMP%]   .option_block[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{padding-left:15px}.dcm_dropdown[_ngcontent-%COMP%]   .tree_label[_ngcontent-%COMP%]{color:#000;font-weight:700;padding-left:15px;height:30px;line-height:30px;width:100%;border-bottom:1px solid #333}.dcm_dropdown[_ngcontent-%COMP%]   .tree_block[_ngcontent-%COMP%]{border-bottom:1px solid #444444}"],data:{animation:[Yp("showHide",[kl("show",Pa({padding:"*",height:"*",opacity:1})),kl("hide",Pa({padding:"0",opacity:0,height:"0px",margin:"0"})),$l("show => hide",[Nl("0.1s")]),$l("hide => show",[Nl("0.2s cubic-bezier(.52,-0.01,.15,1)")])])]}});let i=r;return i;})();var NDe=i=>({"ng-invalid":i});function kDe(i,r){if(i&1){let t=O();u(0,"span",7),b("click",function(){C(t);let n=d();return y(n.hardClear());}),p();}}function $De(i,r){if(i&1&&(u(0,"h5",13),T(1),p()),i&2){let t=d(2);c(),z(t.title);}}function LDe(i,r){if(i&1){let t=O();u(0,"div",14)(1,"div",15)(2,"label",16),T(3),p(),u(4,"input",17),q("ngModelChange",function(n){let o=C(t).$implicit,a=d(2);return Y(a.filterModel[o.key],n)||(a.filterModel[o.key]=n),y(n);}),p()()();}if(i&2){let t=r.$implicit,e=d(2);c(),m("title",X(t.key)),c(2),z(t.label),c(),H("ngModel",e.filterModel[t.key]);}}function FDe(i,r){if(i&1){let t=O();U(0),u(1,"div",8),b("click",function(){C(t);let n=d();return y(n.selectorOpen=!1);}),p(),u(2,"div",9),E(3,$De,2,1,"h5",10)(4,LDe,5,4,"div",11),u(5,"button",12),b("click",function(){C(t);let n=d();return y(n.set());}),P(6,0),p()(),W();}if(i&2){let t=d();c(3),m("ngIf",t.title),c(),m("ngForOf",t.codes);}}var VA=(()=>{let r=class r{set model(e){console.log("value",e),this._model=e;}get model(){return this._model;}constructor(){this.modelChange=new ae(),this.selectorOpen=!1,this.filterModel={},this.maiInputValid=!0;}ngOnInit(){}set(){this.model=`(${di(this.filterModel).join(", ")})`,this.modelChange.emit(this.filterModel),this.selectorOpen=!1;}togglePicker(){this.selectorOpen=!this.selectorOpen;}hardClear(){this.model="",this.modelChange.emit(void 0);}filterChanged(){}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["code-selector"]],inputs:{placeholder:"placeholder",title:"title",codes:"codes",model:"model"},outputs:{modelChange:"modelChange"},standalone:!1,decls:7,vars:10,consts:()=>{let e;return e="SET",[e,[1,"code_selector"],[1,"main_input_block",3,"title"],["type","text",1,"main_input",3,"ngModelChange","click","ngClass","ngModel","placeholder"],["class","glyphicon glyphicon-remove clear_picker",3,"click",4,"ngIf"],[1,"material-icons","filter_button",3,"click"],[4,"ngIf"],[1,"glyphicon","glyphicon-remove","clear_picker",3,"click"],[1,"overlay",3,"click"],[1,"content_block"],["class","title",4,"ngIf"],["class","codes",4,"ngFor","ngForOf"],[1,"set_button",3,"click"],[1,"title"],[1,"codes"],[1,"code",3,"title"],[1,"code_label"],["type","text",1,"code_model",3,"ngModelChange","ngModel"]];},template:function(n,o){n&1&&(u(0,"div",1)(1,"div",2)(2,"input",3),q("ngModelChange",function(s){return Y(o.model,s)||(o.model=s),s;}),b("ngModelChange",function(){return o.filterChanged();})("click",function(){return o.selectorOpen=!0;}),p(),E(3,kDe,1,0,"span",4),u(4,"i",5),b("click",function(){return o.togglePicker();}),T(5," subdirectory_arrow_right "),p(),E(6,FDe,7,2,"ng-container",6),p()()),n&2&&(c(),m("title",X(o.title)),c(),m("placeholder",X(o.placeholder))("ngClass",ne(8,NDe,!o.maiInputValid)),H("ngModel",o.model),c(),m("ngIf",o.model),c(3),m("ngIf",o.selectorOpen));},dependencies:[Je,ve,de,Me,Se,Ee],styles:[".main_input_block[_ngcontent-%COMP%]{position:relative;height:27px}.main_input_block[_ngcontent-%COMP%]   .main_input[_ngcontent-%COMP%]{width:100%;height:100%;border-top:none;border-right:none;border-left:none;background:transparent}.main_input_block[_ngcontent-%COMP%]   .filter_button[_ngcontent-%COMP%]{background:var(--backgroundColor);color:#fff;position:absolute;top:0;right:0;height:27px}.main_input_block[_ngcontent-%COMP%]   .filter_button[_ngcontent-%COMP%]:hover{cursor:pointer}.main_input_block[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]{margin:10px 0;float:left;width:100%}.main_input_block[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   .code_label[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:10px}.main_input_block[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   .code_model[_ngcontent-%COMP%]{width:50%;float:right}.content_block[_ngcontent-%COMP%]{display:block;position:absolute;background:#fff;z-index:9999;box-shadow:7px 10px 10px 5px #444;padding:20px 15px;min-width:560px;border-top:20px solid var(--backgroundHoverColor);border-top-right-radius:5px;border-top-left-radius:5px}.content_block[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px}.content_block[_ngcontent-%COMP%]   .set_button[_ngcontent-%COMP%]{background:var(--backgroundHoverColor);color:#fff;border:0;width:24%;float:right}.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;-webkit-transition:opacity .4s cubic-bezier(.25,.8,.25,1);transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:1;background:#00000052}.clear_picker[_ngcontent-%COMP%]{position:absolute;right:25px;top:5px}"]});let i=r;return i;})();var zDe=i=>({open:i});function GDe(i,r){if(i&1){let t=O();u(0,"span",10),b("click",function(){C(t);let n=d();return y(n.hardClear());}),p();}}function jDe(i,r){if(i&1){let t=O();u(0,"div",11),b("click",function(){C(t);let n=d();return y(n.selectorOpen=!1);}),p();}}function UDe(i,r){if(i&1&&(u(0,"h5",14),T(1),p()),i&2){let t=d(2);c(),z(t.title);}}function WDe(i,r){if(i&1&&(u(0,"div",19),T(1),p()),i&2){let t=r.$implicit;c(),z(t.label);}}function BDe(i,r){if(i&1){let t=O();u(0,"div",20)(1,"input",21),q("ngModelChange",function(n){let o=C(t).$implicit,a=d(3);return Y(a.filterModel[o.key],n)||(a.filterModel[o.key]=n),y(n);}),b("ngModelChange",function(){C(t);let n=d(3);return y(n.set());}),p()();}if(i&2){let t=r.$implicit,e=d(3);c(),m("placeholder",t.label),H("ngModel",e.filterModel[t.key]);}}function HDe(i,r){if(i&1&&(U(0),u(1,"div",15)(2,"div",16),E(3,WDe,2,1,"div",17),p(),u(4,"div",16),E(5,BDe,2,2,"div",18),p()(),W()),i&2){let t=d(2);c(3),m("ngForOf",t.issuers),c(2),m("ngForOf",t.issuers);}}function qDe(i,r){if(i&1){let t=O();u(0,"div",23)(1,"div",24)(2,"label",25),T(3),p(),u(4,"input",26),q("ngModelChange",function(n){let o=C(t).$implicit,a=d(3);return Y(a.filterModel[o.key],n)||(a.filterModel[o.key]=n),y(n);}),b("ngModelChange",function(){C(t);let n=d(3);return y(n.set());}),p()()();}if(i&2){let t=r.$implicit,e=d(3);c(),m("title",X(t.key)),c(2),z(t.label),c(),H("ngModel",e.filterModel[t.key]);}}function YDe(i,r){if(i&1&&(U(0),E(1,qDe,5,4,"div",22),W()),i&2){let t=d(2);c(),m("ngForOf",t.issuers);}}function XDe(i,r){if(i&1&&(U(0),u(1,"div",12),E(2,UDe,2,1,"h5",13)(3,HDe,6,2,"ng-container",9)(4,YDe,2,1,"ng-container",9),p(),W()),i&2){let t=d();c(2),m("ngIf",t.title),c(),m("ngIf",t.issuers&&t.issuers.length<=t.viewLimit),c(),m("ngIf",t.issuers&&t.issuers.length>t.viewLimit);}}var gh=(()=>{let r=class r{set model(e){console.log("value",e),this._model=e;}get model(){return this._model;}constructor(){this.splitters=[],this.modelChange=new ae(),this.selectorOpen=!1,this.filterModel={},this.maiInputValid=!0,this.viewLimit=4;}ngOnInit(){}set(){if(this.filterModel&&this.filterModel.AccessionNumber){let e=di(ua(this.filterModel,(n,o)=>o!="AccessionNumber"));e=I.removeLastEmptyStringsFromArray(e).join("^"),e?this.model=`${I.appendStringIfExist(this.filterModel.AccessionNumber,"^")}${e}`:this.model=`${this.filterModel?.AccessionNumber||""}`,this.modelChange.emit(this.filterModel);}else if(this.filterModel&&this.filterModel["ScheduledStepAttributesSequence.AccessionNumber"]){let e=di(ua(this.filterModel,(n,o)=>o!="ScheduledStepAttributesSequence.AccessionNumber"));e=I.removeLastEmptyStringsFromArray(e).join("^"),e?this.model=`${I.appendStringIfExist(this.filterModel["ScheduledStepAttributesSequence.AccessionNumber"],"^")}${e}`:this.model=`${this.filterModel?.["ScheduledStepAttributesSequence.AccessionNumber"]||""}`,this.modelChange.emit(this.filterModel);}else if(this.filterModel&&this.filterModel.PatientID){let e=di(ua(this.filterModel,(n,o)=>o!="PatientID"));e=I.removeLastEmptyStringsFromArray(e).join("&"),e?this.model=`${I.appendStringIfExist(this.filterModel.PatientID,"^^^")}${e}`:this.model=`${this.filterModel?.PatientID||""}`,this.modelChange.emit(this.filterModel);}else if(this.filterModel&&this.filterModel.AdmissionID){let e=di(ua(this.filterModel,(n,o)=>o!="AdmissionID"));e=I.removeLastEmptyStringsFromArray(e).join("&"),e?this.model=`${I.appendStringIfExist(this.filterModel.AdmissionID,"^^^")}${e}`:this.model=`${this.filterModel?.AdmissionID||""}`,this.modelChange.emit(this.filterModel);}}togglePicker(){this.selectorOpen=!this.selectorOpen;}hardClear(){this.clearInnerModels(),this.model="",this.modelChange.emit(void 0);}filterChanged(){this.extractModelsFromString(),this.modelChange.emit(this.filterModel);}initSplitters(){this.splitters=[],this.issuers.forEach((e,n)=>{n===0&&A(this.issuers,"0.key")&&this.issuers[0].key==="PatientID"?this.splitters[n]="^^^":this.splitters[n]="&";});}extractModelsFromString(){try{if(this.model){let e=this.model;this.initSplitters(),this.issuers.forEach((n,o)=>{let a=this.splitters[o]||"&",s=e.split(a);this.filterModel[this.issuers[o].key]=s[0].replace(/\&/g,"").replace(/\^/g,"")||"",s.shift(),e=s.join(a);});}else this.clearInnerModels();}catch{}}clearInnerModels(){this.issuers.forEach(e=>{this.filterModel[e.key]="";});}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["issuer-selector"]],inputs:{placeholder:"placeholder",title:"title",issuers:"issuers",model:"model"},outputs:{modelChange:"modelChange"},standalone:!1,decls:11,vars:12,consts:[[1,"patient_name_picker",3,"ngClass"],[1,"input_field"],[1,"input_block"],["type","text",3,"ngModelChange","ngModel","placeholder","title"],["class","glyphicon glyphicon-remove",3,"click",4,"ngIf"],[1,"material-icons","filter_button",3,"click"],["class","overlay",3,"click",4,"ngIf"],[1,"dialog",3,"hidden"],[1,"dialog_block"],[4,"ngIf"],[1,"glyphicon","glyphicon-remove",3,"click"],[1,"overlay",3,"click"],[1,"content_block"],["class","title",4,"ngIf"],[1,"title"],[1,"table","widget_table"],[1,"tr"],["class","th",4,"ngFor","ngForOf"],["class","td",4,"ngFor","ngForOf"],[1,"th"],[1,"td"],["type","text",1,"issuer_model",3,"ngModelChange","placeholder","ngModel"],["class","issuers",4,"ngFor","ngForOf"],[1,"issuers"],[1,"issuer",3,"title"],[1,"issuer_label"],["type","text",1,"issuer_model",3,"ngModelChange","ngModel"]],template:function(n,o){n&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),q("ngModelChange",function(s){return Y(o.model,s)||(o.model=s),s;}),b("ngModelChange",function(){return o.filterChanged();}),p(),E(4,GDe,1,0,"span",4),p(),u(5,"i",5),b("click",function(){return o.togglePicker();}),T(6," subdirectory_arrow_right "),p()(),E(7,jDe,1,0,"div",6),u(8,"div",7)(9,"div",8),E(10,XDe,5,3,"ng-container",9),p()()()),n&2&&(m("ngClass",ne(10,zDe,o.selectorOpen)),c(3),m("placeholder",X(o.placeholder))("title",X(o.title)),H("ngModel",o.model),c(),m("ngIf",o.model),c(3),m("ngIf",o.selectorOpen),c(),m("hidden",!o.selectorOpen),c(2),m("ngIf",o.selectorOpen));},dependencies:[Je,ve,de,Me,Se,Ee],styles:[".patient_name_picker[_ngcontent-%COMP%]{position:relative;color:#000}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 26px;width:100%;border-bottom:1px solid #ccc}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;background:transparent}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:#161d23;color:#fff}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]:hover{cursor:pointer}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]{position:relative}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]   span.glyphicon-remove[_ngcontent-%COMP%]{display:none;position:absolute;right:3px;top:7px;background:transparent;color:#000}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]   span.glyphicon-remove[_ngcontent-%COMP%]:hover{cursor:pointer}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]:hover   .input_block[_ngcontent-%COMP%]   span.glyphicon-remove[_ngcontent-%COMP%]{display:block}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]{position:absolute;background:#fff;padding:20px;-webkit-box-shadow:3px 4px 8px #cccccc;-moz-box-shadow:3px 4px 8px #cccccc;box-shadow:3px 4px 8px #ccc;z-index:1001}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#000}.patient_name_picker[_ngcontent-%COMP%]   .dicom_components[_ngcontent-%COMP%]{display:grid;grid-template-columns:90px 10px 90px 10px 90px 10px 60px 10px 60px;float:left}.patient_name_picker[_ngcontent-%COMP%]   .dicom_components[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:center}.patient_name_picker.open[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{z-index:1002;position:relative;background:#fff;color:#000}.patient_name_picker.open[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]:hover   .input_block[_ngcontent-%COMP%]   span.glyphicon-remove[_ngcontent-%COMP%]{display:block;z-index:10004}.main_input_block[_ngcontent-%COMP%]{position:relative;height:27px}.main_input_block[_ngcontent-%COMP%]   .main_input[_ngcontent-%COMP%]{width:100%;height:100%;border-top:none;border-right:none;border-left:none;background:transparent}.main_input_block[_ngcontent-%COMP%]   .filter_button[_ngcontent-%COMP%]{background:var(--backgroundColor);color:#fff;position:absolute;top:0;right:0;height:27px}.main_input_block[_ngcontent-%COMP%]   .filter_button[_ngcontent-%COMP%]:hover{cursor:pointer}.main_input_block[_ngcontent-%COMP%]   .issuers[_ngcontent-%COMP%]   .issuer[_ngcontent-%COMP%]{margin:10px 0;float:left;width:100%}.main_input_block[_ngcontent-%COMP%]   .issuers[_ngcontent-%COMP%]   .issuer[_ngcontent-%COMP%]   .issuer_label[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:10px}.main_input_block[_ngcontent-%COMP%]   .issuers[_ngcontent-%COMP%]   .issuer[_ngcontent-%COMP%]   .issuer_model[_ngcontent-%COMP%]{width:50%;float:right;color:#000}.content_block[_ngcontent-%COMP%]::placeholder{color:#000}.content_block[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;font-size:16px;border-bottom:1px solid #ccc;padding-bottom:5px}.content_block[_ngcontent-%COMP%]   .set_button[_ngcontent-%COMP%]{background:var(--backgroundHoverColor);color:#fff;border:0;width:150px;float:right}.content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{min-width:600px;box-shadow:none;margin:20px 0}.content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:flex;align-items:center}.content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%], .content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{color:#000;border:1px solid rgba(0,0,0,.768627451);box-shadow:0 0 6px #000000c4}.content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;min-width:50px;color:#000}.content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#666}.content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%], .content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{color:#3333338f;width:200px}.content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;min-width:50px;color:#000}.content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#3333338f}.content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:3px 7px;height:30px;line-height:30px}.content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{color:#000}.content_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.768627451);box-shadow:0 0 6px #000000c4}.clear_picker[_ngcontent-%COMP%]{position:absolute;right:25px;top:5px}"]});let i=r;return i;})();var vh=(()=>{let r=class r{transform(e,n){let o=isNaN(n)?10:parseInt(n,10),a=isNaN(o)?e:"...";return e&&e.length>o?e.substring(0,o)+a:e;}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"trim",type:r,pure:!0,standalone:!1});let i=r;return i;})();var KDe=i=>({black:i}),QDe=i=>({empty:i}),ZDe=i=>({"not-empty":i});function JDe(i,r){if(i&1){let t=O();u(0,"span",8),b("click",function(){C(t);let n=d();return y(n.hardClear());}),p();}}function eMe(i,r){if(i&1&&(u(0,"h5",18),T(1),p()),i&2){let t=d(2);c(),z(t.title);}}function tMe(i,r){if(i&1){let t=O();u(0,"li")(1,"label",23),T(2),p(),u(3,"i",24),b("click",function(){let n=C(t).$implicit,o=d(3);return y(o.remove(n));}),T(4,"clear"),p()();}if(i&2){let t=r.$implicit,e=d(3);c(),m("title",X(t)),c(),z(e.getLabelFromIODTag(t));}}function iMe(i,r){if(i&1){let t=O();u(0,"div")(1,"div",19)(2,"dcm-drop-down",20),q("modelChange",function(n){C(t);let o=d(2);return Y(o.newAttribute,n)||(o.newAttribute=n),y(n);}),b("modelChange",function(n){C(t);let o=d(2);return y(o.onDropdownChange(n));}),p()(),u(3,"ul",21),E(4,tMe,5,3,"li",22),p()();}if(i&2){let t=d(2);c(),m("ngClass",ne(8,QDe,t.modifiedAttr.size===0)),c(),m("options",t.iod),H("model",t.newAttribute),m("showSearchField",!0)("multiSelectMode",!1)("placeholder",t.placeholder),c(),m("ngClass",ne(10,ZDe,t.modifiedAttr&&t.modifiedAttr.size&&t.modifiedAttr.size>0)),c(),m("ngForOf",t.Array.from(t.modifiedAttr.values()));}}function nMe(i,r){if(i&1){let t=O();U(0),u(1,"div",9),b("click",function(){C(t);let n=d();return y(n.selectorOpen=!1);}),p(),u(2,"div",10),E(3,eMe,2,1,"h5",11),u(4,"div",12)(5,"div",13)(6,"label"),T(7,"All modified:"),p(),u(8,"input",14),q("ngModelChange",function(n){C(t);let o=d();return Y(o.allModified,n)||(o.allModified=n),y(n);}),b("change",function(n){C(t);let o=d();return y(o.changeAllModified(n));}),p(),$(9,"br"),p(),u(10,"div",13)(11,"label"),T(12,"Modified DICOM attributes:"),p(),E(13,iMe,5,12,"div",7),p()(),u(14,"div",15)(15,"button",16),b("click",function(){C(t);let n=d();return y(n.setFilter());}),P(16,0),p(),u(17,"button",17),b("click",function(){C(t);let n=d();return y(n.clear());}),P(18,1),p()()(),W();}if(i&2){let t=d();c(3),m("ngIf",t.title),c(5),H("ngModel",t.allModified),c(5),m("ngIf",t.iod),c(2),m("disabled",!(t.modifiedAttr&&t.modifiedAttr.size>0));}}var zA=(()=>{let r=class r{set model(e){this._model=e;}get model(){return this._model;}constructor(e){this.studyService=e,this.stateText="",this.modelChange=new ae(),this.selectorOpen=!1,this.filterModel={},this.Object=Object,this.Array=Array,this.allModified=!1,this.modifiedAttr=new Set(),this.stateTextHover="",this.trim=new vh();}ngOnInit(){(!this.iodFileNames||this.iodFileNames.length===0)&&(this.iodFileNames=["patient","study"]),this.placeholder||(this.placeholder="Modified"),this.getIodObjects();}getIodObjects(){this.studyService.getIodObjectsFromNames(this.iodFileNames).subscribe(e=>{this.iod=this.studyService.iodToSelectedDropdown(e.reduce((n,o)=>Object.assign(n,o)));});}getLabelFromIODTag(e){return this.studyService.getLabelFromIODTag(e);}remove(e){try{this.modifiedAttr.delete(e);}catch{}}addAttribute(e){try{console.log("newAttribute",this.newAttribute),console.log("toggleattr",e),!this.modifiedAttr.has(e)&&this.newAttribute&&this.modifiedAttr.add(e),this.newAttribute=void 0;}catch(n){}}onDropdownChange(e){this.addAttribute(e);}toggleSelector(){this.selectorOpen=!this.selectorOpen;}hardClear(){this.allModified=!1,this.modifiedAttr.clear(),this.stateText="",this.stateTextHover="",this.modelChange.emit(void 0);}changeAllModified(e){this.allModified=e.target.checked,this.allModified&&this.modifiedAttr.size>0?(this.stateText="All modified",this.stateTextHover="All modified"):(this.stateText="",this.stateTextHover="");}filterChanged(){}setFilter(){let e={};this.allModified&&(e={allmodified:!0}),this.modifiedAttr&&this.modifiedAttr.size>0&&(e.modified=Array.from(this.modifiedAttr.values()),this.modelChange.emit(e),this.modifiedAttr&&this.modifiedAttr.size>0&&this.modifiedAttr.size&&(this.stateText=this.trim.transform(Array.from(this.modifiedAttr.values()).map(n=>this.studyService.getLabelFromIODTag(n)).join(", "),18)),this.stateTextHover=Array.from(this.modifiedAttr.values()).map(n=>this.studyService.getLabelFromIODTag(n)).join(", "),this.selectorOpen=!1);}clear(){this.modifiedAttr.clear(),this.allModified=!1,this.modelChange.emit({}),this.selectorOpen=!1;}modifiedAttrChanged(e){this.modifiedAttr&&this.modifiedAttr.size>0?this.stateText=`( ${this.modifiedAttr.size} ) selected`:this.stateText="";}};r.ɵfac=function(n){return new(n||r)(k(wo));},r.ɵcmp=Z({type:r,selectors:[["modified-widget"]],inputs:{placeholder:"placeholder",title:"title",iodFileNames:"iodFileNames",model:"model"},outputs:{modelChange:"modelChange"},standalone:!1,decls:7,vars:10,consts:()=>{let e;e="Set";let n;return n="Clear",[e,n,[1,"modified_widget"],[1,"main_input_block",3,"title"],[1,"main_input",3,"click","ngClass","title"],["class","glyphicon glyphicon-remove clear_picker",3,"click",4,"ngIf"],[1,"glyphicon","glyphicon-pencil","filter_button",3,"click"],[4,"ngIf"],[1,"glyphicon","glyphicon-remove","clear_picker",3,"click"],[1,"overlay",3,"click"],[1,"content_block"],["class","title",4,"ngIf"],[1,"filter"],[1,"line"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"dialogbuttons"],[1,"set_button","save",3,"click","disabled"],["type","button",1,"cancle",3,"click"],[1,"title"],[1,"add_block",3,"ngClass"],[3,"modelChange","options","model","showSearchField","multiSelectMode","placeholder"],[1,"modified_list",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"title"],["title","Delete",1,"material-icons",3,"click"]];},template:function(n,o){n&1&&(u(0,"div",2)(1,"div",3)(2,"label",4),b("click",function(){return o.toggleSelector();}),T(3),p(),E(4,JDe,1,0,"span",5),u(5,"i",6),b("click",function(){return o.toggleSelector();}),p(),E(6,nMe,19,4,"ng-container",7),p()()),n&2&&(c(),m("title",X(o.title)),c(),m("title",X(o.stateTextHover||o.placeholder))("ngClass",ne(8,KDe,o.stateText)),c(),ue(" ",o.stateText||o.placeholder," "),c(),m("ngIf",o.model),c(2),m("ngIf",o.selectorOpen));},dependencies:[Je,ve,de,pi,Se,Ee,zn],styles:[".main_input_block[_ngcontent-%COMP%]{position:relative;height:27px}.main_input_block[_ngcontent-%COMP%]   .main_input[_ngcontent-%COMP%]{width:100%;height:100%;border-top:none;border-right:none;border-left:none;background:transparent;border-bottom:1px solid #ccc;padding-left:6px;color:#777;font-style:italic}.main_input_block[_ngcontent-%COMP%]   .main_input.black[_ngcontent-%COMP%]{color:#000;font-style:normal}.main_input_block[_ngcontent-%COMP%]   .filter_button[_ngcontent-%COMP%]{background:var(--backgroundColor);color:#fff;position:absolute;top:0;right:0;width:24px;line-height:27px;text-align:center;height:27px}.main_input_block[_ngcontent-%COMP%]   .filter_button[_ngcontent-%COMP%]:hover{cursor:pointer}.main_input_block[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]{margin:10px 0;float:left;width:100%}.main_input_block[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   .code_label[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:10px}.main_input_block[_ngcontent-%COMP%]   .codes[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]   .code_model[_ngcontent-%COMP%]{width:50%;float:right}.main_input_block[_ngcontent-%COMP%]   .issuers[_ngcontent-%COMP%]   .issuer[_ngcontent-%COMP%]{margin:10px 0;float:left;width:100%}.main_input_block[_ngcontent-%COMP%]   .issuers[_ngcontent-%COMP%]   .issuer[_ngcontent-%COMP%]   .issuer_label[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:10px}.main_input_block[_ngcontent-%COMP%]   .issuers[_ngcontent-%COMP%]   .issuer[_ngcontent-%COMP%]   .issuer_model[_ngcontent-%COMP%]{width:50%;float:right}.main_input_block[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]{margin-bottom:15px;float:left;width:100%;border:1px solid black}.main_input_block[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]   dcm-drop-down[_ngcontent-%COMP%]{width:calc(100% - 9px);float:left}.main_input_block[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{float:right;background:#061d2fd6;color:#fff;cursor:pointer;width:24px}.content_block[_ngcontent-%COMP%]{display:block;position:fixed;background:#fff;z-index:9999;box-shadow:7px 10px 10px 5px #444;padding:30px;min-width:560px;border-top:20px solid var(--backgroundHoverColor);border-top-right-radius:5px;border-top-left-radius:5px;color:#000;left:50%;top:50%;transform:translate(-50%,-50%)}.content_block[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px}.content_block[_ngcontent-%COMP%]   .set_button[_ngcontent-%COMP%]{background:var(--backgroundHoverColor);color:#fff;border:0;width:24%;float:right}.content_block[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{width:100%}.content_block[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:10%;min-height:15px}.content_block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;float:left;max-height:125px;overflow:auto;width:100%;padding:3px}.content_block[_ngcontent-%COMP%]   ul.not-empty[_ngcontent-%COMP%]{border:1px solid #6d6d6d}.content_block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:1px solid;padding-left:9px;float:left;width:100%;vertical-align:middle;margin-bottom:2px}.content_block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:calc(100% - 24px);float:left}.content_block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{float:right;background:#061d2fd6;color:#fff;cursor:pointer;width:24px}.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;-webkit-transition:opacity .4s cubic-bezier(.25,.8,.25,1);transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:1;background:#00000052}.clear_picker[_ngcontent-%COMP%]{position:absolute;right:25px;top:5px}"]});let i=r;return i;})();var AW=(()=>{let r=class r{constructor(e){this.appService=e,this.nameKeys=DA;}convertPNameFromFormattedToDicomForm(e,n="{NAME-PREFIX} {GIVEN-NAME} {MIDDLE-NAME} {FAMILY-NAME}, {NAME-SUFFIX}"){if(e.indexOf("^")>-1)return e;let o=this.splitToModules(e),a=this.splitToModules(n),s={};if(a.length===o.length)this.mapOnEqual(a,o,s);else{let l=[];a=a.filter((_,f)=>{let g=!0;return(_.indexOf("PREFIX")>-1||_.indexOf("SUFFIX")>-1)&&(o=o.filter(S=>{if(S&&S.indexOf(".")>-1){let x=this.nameKeys.filter(R=>_.indexOf(R)>-1)[0],D=this.extractPatientComponent(a[f],x,S);if(x&&!s[x]&&l.indexOf(D)===-1)return s[x]=D,l.push(D),g=!1,!1;}return!0;})),g;}),a.length>o.length&&([a,o]=this.equalizeFormatWithNameComponents(a,o),this.mapOnEqual(a,o,s));}return this.addCarets(s["FAMILY-NAME"]||"",s["GIVEN-NAME"]||"",s["MIDDLE-NAME"]||"",s["NAME-PREFIX"]||"",s["NAME-SUFFIX"]||"");}mapOnEqual(e,n,o){for(let a=0;a<e.length;a++){let s=this.nameKeys.filter(l=>e[a].indexOf(l)>-1)[0];s&&(o[s]=this.extractPatientComponent(e[a],s,n[a]));}}equalizeFormatWithNameComponents(e,n){try{if(e.length>n.length)e=this.removeFormatComponentByProbability(e);else{if(e.length===n.length)return[e,n];n=I.mergeArrayAtPosition(n,0);}return this.equalizeFormatWithNameComponents(e,n);}catch{}}removeFormatComponentByProbability(e){try{let n=0,o;return mW.every(a=>(o=e.filter(s=>s.indexOf(a)>-1?(n++,!1):!0),!(n>0))),o;}catch{return e;}}extractPatientComponent(e,n,o){try{let a=e.replace(`{${n}}`,"([\\w. *-]+)");return new RegExp(a).exec(o)[1];}catch{return o;}}splitToModules(e){let n=e.split(" "),o="",a=[];return n.forEach((s,l)=>{o.indexOf(".")>-1&&s.indexOf(".")>-1?(a.length>0&&a.splice(a.length-1,1),a.push(o+" "+s)):a.push(s),o=s;}),a;}convertPNameFromDicomFormToFormatted(e,n="{NAME-PREFIX} {GIVEN-NAME} {MIDDLE-NAME} {FAMILY-NAME}, {NAME-SUFFIX}"){return new Au().transform(e.replace(/\*/,""),n);}addCarets(e,n,o,a,s){let l=[e,n,o,a,s];return l.join("")!=""&&(l=this.removeLastEmptyParts(l)),l.map(_=>_==""||_==null?"*":_).join("^");}removeLastEmptyParts(e){let n=!1;for(;e.length>0&&!n;)e[e.length-1]==""||e[e.length-1]==null?e=e.slice(0,-1):n=!0;return e;}};r.ɵfac=function(n){return new(n||r)(K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac,providedIn:"root"});let i=r;return i;})();var aMe=i=>({open:i}),Jk=i=>({active:i});function sMe(i,r){if(i&1){let t=O();u(0,"span",20),b("click",function(){C(t);let n=d();return y(n.clear());}),p();}}function lMe(i,r){if(i&1){let t=O();u(0,"div",21),b("click",function(){C(t);let n=d();return y(n.dialogOpen=!1);}),p();}}function cMe(i,r){if(i&1&&(u(0,"div",8)(1,"h5"),T(2,"DICOM version ( Will be used as filter ):"),p(),u(3,"div"),T(4),p()()),i&2){let t=d();c(4),ue(" ",t.asFilterModel," ");}}var GA=(()=>{let r=class r{get model(){return this._model;}set model(e){this._model=e,this.asFilterModel=e,this._internModel||(this.internModel=e);}constructor(e,n){this.appService=e,this.personNameService=n,this.dialogOpen=!1,this._asFilterModel="",this.inputMode="alphabetic",this.format="{NAME-PREFIX} {GIVEN-NAME} {MIDDLE-NAME} {FAMILY-NAME}, {NAME-SUFFIX}",this.modelChange=new ae();}ngOnInit(){this._internModel=this.model,A(this.appService,"global.personNameFormat")&&(this.format=this.appService.global.personNameFormat);}onInternModelChange(e){this._internModel&&this._internModel.indexOf(" ")>-1?(this.asFilterModel=this.personNameService.convertPNameFromFormattedToDicomForm(this._internModel,this.format),[this.familyName,this.givenName,this.middleName,this.namePrefix,this.nameSuffix]=this._asFilterModel.split("^")):this._internModel!=""&&this._internModel.indexOf(" ")===-1?(this.asFilterModel=this._internModel,this.familyName="",this.givenName="",this.middleName="",this.namePrefix="",this.nameSuffix=""):(this.asFilterModel="",this.familyName="",this.givenName="",this.middleName="",this.namePrefix="",this.nameSuffix="");}toggleDialog(){this.dialogOpen=!this.dialogOpen;}get internModel(){return this._internModel;}set internModel(e){this._internModel=e;}onComponentChange(){let e,n="";this.inputMode==="ideographic"?(e=[this.i_familyName,this.i_givenName,this.i_middleName,this.i_namePrefix,this.i_nameSuffix],n="="):this.inputMode==="phonetic"?(e=[this.p_familyName,this.p_givenName,this.p_middleName,this.p_namePrefix,this.p_nameSuffix],n="=="):e=[this.familyName,this.givenName,this.middleName,this.namePrefix,this.nameSuffix],e.join("")!=""?(this.asFilterModel=n+this.personNameService.addCarets(e[0],e[1],e[2],e[3],e[4]),this._internModel=this.personNameService.convertPNameFromDicomFormToFormatted(this._asFilterModel,this.format)):(this.asFilterModel="",this._internModel="");}get asFilterModel(){return this._asFilterModel;}set asFilterModel(e){this._asFilterModel=e,this.modelChange.emit(e);}clear(){this._internModel="",this.onInternModelChange(void 0);}mode(e){this.inputMode=e,this.onComponentChange();}};r.ɵfac=function(n){return new(n||r)(k(le),k(AW));},r.ɵcmp=Z({type:r,selectors:[["person-name-picker"]],inputs:{placeholder:"placeholder",title:"title",familyName:"familyName",givenName:"givenName",middleName:"middleName",namePrefix:"namePrefix",nameSuffix:"nameSuffix",i_familyName:"i_familyName",i_givenName:"i_givenName",i_middleName:"i_middleName",i_namePrefix:"i_namePrefix",i_nameSuffix:"i_nameSuffix",p_familyName:"p_familyName",p_givenName:"p_givenName",p_middleName:"p_middleName",p_namePrefix:"p_namePrefix",p_nameSuffix:"p_nameSuffix",model:"model"},outputs:{modelChange:"modelChange"},standalone:!1,decls:67,vars:36,consts:[[1,"patient_name_picker",3,"ngClass"],[1,"input_field"],[1,"input_block"],["type","text",3,"ngModelChange","ngModel","placeholder","title"],["class","glyphicon glyphicon-remove",3,"click",4,"ngIf"],[1,"glyphicon","glyphicon-pencil",3,"click"],["class","overlay",3,"click",4,"ngIf"],[1,"dialog",3,"hidden"],[1,"dialog_block"],[1,"table",3,"keyup"],[1,"tr"],[1,"th"],[1,"tr",3,"click","ngClass"],[1,"td"],["type","text","placeholder","Family Name","title","Family Name",3,"ngModelChange","ngModel"],["type","text","placeholder","Given Name","title","Given Name",3,"ngModelChange","ngModel"],["type","text","placeholder","Middle Name","title","Middle Name",3,"ngModelChange","ngModel"],["type","text","placeholder","Prefix","title","Name Prefix",3,"ngModelChange","ngModel"],["type","text","placeholder","Suffix","title","Name Suffix",3,"ngModelChange","ngModel"],["class","dialog_block",4,"ngIf"],[1,"glyphicon","glyphicon-remove",3,"click"],[1,"overlay",3,"click"]],template:function(n,o){n&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),q("ngModelChange",function(s){return Y(o.internModel,s)||(o.internModel=s),s;}),b("ngModelChange",function(s){return o.onInternModelChange(s);}),p(),E(4,sMe,1,0,"span",4),p(),u(5,"span",5),b("click",function(){return o.toggleDialog();}),p()(),E(6,lMe,1,0,"div",6),u(7,"div",7)(8,"div",8)(9,"h5"),T(10,"Person Name Components:"),p(),u(11,"div",9),b("keyup",function(){return o.onComponentChange();}),u(12,"div",10),$(13,"div",11),u(14,"div",11),T(15,"Family Name"),p(),u(16,"div",11),T(17,"Given Name"),p(),u(18,"div",11),T(19,"Middle Name"),p(),u(20,"div",11),T(21,"Prefix"),p(),u(22,"div",11),T(23,"Suffix"),p()(),u(24,"div",12),b("click",function(){return o.mode("alphabetic");}),u(25,"div",13)(26,"span"),T(27,"Alphabetic"),p()(),u(28,"div",13)(29,"input",14),q("ngModelChange",function(s){return Y(o.familyName,s)||(o.familyName=s),s;}),p()(),u(30,"div",13)(31,"input",15),q("ngModelChange",function(s){return Y(o.givenName,s)||(o.givenName=s),s;}),p()(),u(32,"div",13)(33,"input",16),q("ngModelChange",function(s){return Y(o.middleName,s)||(o.middleName=s),s;}),p()(),u(34,"div",13)(35,"input",17),q("ngModelChange",function(s){return Y(o.namePrefix,s)||(o.namePrefix=s),s;}),p()(),u(36,"div",13)(37,"input",18),q("ngModelChange",function(s){return Y(o.nameSuffix,s)||(o.nameSuffix=s),s;}),p()()(),u(38,"div",12),b("click",function(){return o.mode("ideographic");}),u(39,"div",13)(40,"span"),T(41,"Ideographic"),p()(),u(42,"div",13)(43,"input",14),q("ngModelChange",function(s){return Y(o.i_familyName,s)||(o.i_familyName=s),s;}),p()(),u(44,"div",13)(45,"input",15),q("ngModelChange",function(s){return Y(o.i_givenName,s)||(o.i_givenName=s),s;}),p()(),u(46,"div",13)(47,"input",16),q("ngModelChange",function(s){return Y(o.i_middleName,s)||(o.i_middleName=s),s;}),p()(),u(48,"div",13)(49,"input",17),q("ngModelChange",function(s){return Y(o.i_namePrefix,s)||(o.i_namePrefix=s),s;}),p()(),u(50,"div",13)(51,"input",18),q("ngModelChange",function(s){return Y(o.i_nameSuffix,s)||(o.i_nameSuffix=s),s;}),p()()(),u(52,"div",12),b("click",function(){return o.mode("phonetic");}),u(53,"div",13)(54,"span"),T(55,"Phonetic"),p()(),u(56,"div",13)(57,"input",14),q("ngModelChange",function(s){return Y(o.p_familyName,s)||(o.p_familyName=s),s;}),p()(),u(58,"div",13)(59,"input",15),q("ngModelChange",function(s){return Y(o.p_givenName,s)||(o.p_givenName=s),s;}),p()(),u(60,"div",13)(61,"input",16),q("ngModelChange",function(s){return Y(o.p_middleName,s)||(o.p_middleName=s),s;}),p()(),u(62,"div",13)(63,"input",17),q("ngModelChange",function(s){return Y(o.p_namePrefix,s)||(o.p_namePrefix=s),s;}),p()(),u(64,"div",13)(65,"input",18),q("ngModelChange",function(s){return Y(o.p_nameSuffix,s)||(o.p_nameSuffix=s),s;}),p()()()()(),E(66,cMe,5,1,"div",19),p()()),n&2&&(m("ngClass",ne(28,aMe,o.dialogOpen)),c(3),m("placeholder",X(o.placeholder))("title",X(o.title)),H("ngModel",o.internModel),c(),m("ngIf",o.internModel),c(2),m("ngIf",o.dialogOpen),c(),m("hidden",!o.dialogOpen),c(17),m("ngClass",ne(30,Jk,o.inputMode==="alphabetic")),c(5),H("ngModel",o.familyName),c(2),H("ngModel",o.givenName),c(2),H("ngModel",o.middleName),c(2),H("ngModel",o.namePrefix),c(2),H("ngModel",o.nameSuffix),c(),m("ngClass",ne(32,Jk,o.inputMode==="ideographic")),c(5),H("ngModel",o.i_familyName),c(2),H("ngModel",o.i_givenName),c(2),H("ngModel",o.i_middleName),c(2),H("ngModel",o.i_namePrefix),c(2),H("ngModel",o.i_nameSuffix),c(),m("ngClass",ne(34,Jk,o.inputMode==="phonetic")),c(5),H("ngModel",o.p_familyName),c(2),H("ngModel",o.p_givenName),c(2),H("ngModel",o.p_middleName),c(2),H("ngModel",o.p_namePrefix),c(2),H("ngModel",o.p_nameSuffix),c(),m("ngIf",o.namePrefix||o.givenName||o.middleName||o.familyName||o.nameSuffix||o.asFilterModel));},dependencies:[Je,de,Me,Se,Ee],styles:[".patient_name_picker[_ngcontent-%COMP%]{position:relative;color:#000}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 26px;width:100%;border-bottom:1px solid #ccc}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;background:transparent}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   span.glyphicon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:#161d23;color:#fff}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   span.glyphicon[_ngcontent-%COMP%]:hover{cursor:pointer}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]{position:relative}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]   span.glyphicon-remove[_ngcontent-%COMP%]{display:none;position:absolute;right:3px;top:7px;background:transparent;color:#000}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]   span.glyphicon-remove[_ngcontent-%COMP%]:hover{cursor:pointer}.patient_name_picker[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]:hover   .input_block[_ngcontent-%COMP%]   span.glyphicon-remove[_ngcontent-%COMP%]{display:block}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]{position:absolute;background:#fff;padding:20px;-webkit-box-shadow:3px 4px 8px #cccccc;-moz-box-shadow:3px 4px 8px #cccccc;box-shadow:3px 4px 8px #ccc;z-index:1001}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]{margin-bottom:10px;float:left;padding-bottom:10px;width:100%}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{min-width:600px;grid-template-rows:1fr 1fr 1fr 1fr;display:grid;box-shadow:none}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr 1fr 1fr 70px 70px}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%], .patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{color:#000;border:1px solid rgba(0,0,0,.768627451);box-shadow:0 0 6px #000000c4}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;min-width:50px;color:#000}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr.active[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#666}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%], .patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{color:#3333338f}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;min-width:50px;color:#3333338f}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#3333338f}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:3px 7px;height:30px;line-height:30px}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   .dialog_block[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{color:#000}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;font-size:16px;border-bottom:1px solid #ccc;padding-bottom:5px}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#000}.patient_name_picker[_ngcontent-%COMP%]   .dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.patient_name_picker[_ngcontent-%COMP%]   .dicom_components[_ngcontent-%COMP%]{display:grid;grid-template-columns:90px 10px 90px 10px 90px 10px 60px 10px 60px;float:left}.patient_name_picker[_ngcontent-%COMP%]   .dicom_components[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;justify-content:center}.patient_name_picker.open[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{z-index:1002;position:relative;background:#fff;color:#000}.patient_name_picker.open[_ngcontent-%COMP%]   .input_field[_ngcontent-%COMP%]:hover   .input_block[_ngcontent-%COMP%]   span.glyphicon-remove[_ngcontent-%COMP%]{display:block;z-index:10004}"]});let i=r;return i;})();var uMe=i=>({line:i}),pMe=()=>[0,1],mMe=i=>({active:i});function _Me(i,r){if(i&1){let t=O();u(0,"span",10)(1,"ul",11)(2,"li",12),b("click",function(n){C(t);let o=d(2);return n.preventDefault(),y(o.clear());}),U(3),P(4,0),W(),$(5,"span",13),p()()();}}function fMe(i,r){i&1&&(u(0,"span",18),$(1,"i",19),p());}function hMe(i,r){i&1&&(u(0,"ul",20)(1,"li"),P(2,1),p()());}function gMe(i,r){if(i&1){let t=O();u(0,"li")(1,"a",23),b("click",function(n){let o=C(t).$implicit,a=d(4);return n.preventDefault(),y(a.openTemplateFilter(o));}),T(2),p(),u(3,"span",24),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.removeFilterTemplate(n));}),p()();}if(i&2){let t=r.$implicit;c(),m("title",X(t.dcmuiFilterTemplateDescription)),c(),z(t.dcmuiFilterTemplateGroupName);}}function vMe(i,r){if(i&1&&(u(0,"ul",21),E(1,gMe,4,3,"li",22),p()),i&2){let t=d(3);c(),m("ngForOf",t.filterTemplates);}}function CMe(i,r){if(i&1&&(u(0,"div",14),E(1,fMe,2,0,"span",15)(2,hMe,3,0,"ul",16)(3,vMe,2,1,"ul",17),p()),i&2){let t=d(2);c(),m("ngIf",!t.filterTemplates),c(),m("ngIf",t.noFilterFound),c(),m("ngIf",t.filterTemplates);}}function yMe(i,r){i&1&&(u(0,"mat-option",44),T(1,"*"),p());}function bMe(i,r){if(i&1&&$(0,"mat-option",45),i&2){let t=r.$implicit;m("value",X(t.value))("title",X(t.description||t.title))("innerHtml",t.label||t.text,Re);}}function SMe(i,r){if(i&1){let t=O();u(0,"div",39)(1,"input",40),q("ngModelChange",function(n){C(t);let o=d(2).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].firstField.filterKey],n)||(s.model[a[o].firstField.filterKey]=n),y(n);}),p(),u(2,"mat-select",41),q("ngModelChange",function(n){C(t);let o=d(2).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].secondField.filterKey],n)||(s.model[a[o].secondField.filterKey]=n),y(n);}),E(3,yMe,2,0,"mat-option",42)(4,bMe,1,5,"mat-option",43),p()();}if(i&2){let t=d(2).$implicit,e=d().$implicit,n=d(3);c(),m("type",X(e[t].firstField.type))("min",X(e[t].firstField.min))("placeholder",X(e[t].firstField.placeholder)),H("ngModel",n.model[e[t].firstField.filterKey]),c(),H("ngModel",n.model[e[t].secondField.filterKey]),c(),m("ngIf",e[t].secondField.showStar),c(),m("ngForOf",e[t].secondField.options);}}function EMe(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(3).$implicit,e=d().$implicit;c(),z(e[t].prefix);}}function TMe(i,r){i&1&&(U(0),T(1,":"),W());}function IMe(i,r){if(i&1&&(u(0,"label",46),E(1,EMe,2,1,"ng-container",35),T(2),E(3,TMe,2,0,"ng-container",35),p()),i&2){let t=d(2).$implicit,e=d().$implicit;m("title",X(e[t].title)),c(),m("ngIf",e[t].prefix),c(),ue(" ",e[t].text," "),c(),m("ngIf",!e[t].dontShowDots);}}function xMe(i,r){if(i&1){let t=O();u(0,"modality",47),b("modelChange",function(n){C(t);let o=d(2).$implicit,a=d().$implicit,s=d(3);return s.model[a[o].filterKey]=n,y(s.filterChange(n));}),p();}if(i&2){let t=d(2).$implicit,e=d().$implicit,n=d(3);m("model",n.model[e[t].filterKey])("ngStyle",e[t].style);}}function AMe(i,r){if(i&1){let t=O();u(0,"label")(1,"input",48),b("ngModelChange",function(n){let o=C(t).$implicit,a=d(7);return a.model[o.key]=n,y(a.filterChange(n));}),q("ngModelChange",function(n){let o=C(t).$implicit,a=d(7);return Y(a.model[o.key],n)||(a.model[o.key]=n),y(n);}),p(),u(2,"span",49),T(3),p()();}if(i&2){let t=r.$implicit,e=d(7);c(),m("title",X(t==null?null:t.description))("disabled",t.disabled),H("ngModel",e.model[t.key]),c(),m("ngStyle",t==null?null:t.style),c(),z(t.text);}}function wMe(i,r){if(i&1&&(U(0),E(1,AMe,4,6,"label",22),W()),i&2){let t=d(2).$implicit,e=d().$implicit;c(),m("ngForOf",e[t]==null?null:e[t].options);}}function DMe(i,r){if(i&1){let t=O();u(0,"person-name-picker",50),b("modelChange",function(n){C(t);let o=d(2).$implicit,a=d().$implicit,s=d(3);return y(s.model[a[o].filterKey]=n);}),p();}if(i&2){let t=d(2).$implicit,e=d().$implicit,n=d(3);m("title",e[t]==null?null:e[t].description)("placeholder",e[t]==null?null:e[t].placeholder)("model",n.model[e[t].filterKey]);}}function MMe(i,r){if(i&1){let t=O();u(0,"div",39)(1,"size-range-picker",67),b("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return s.model[a[o].filterKey]=n,y(s.filterChange(n));}),q("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].filterKey],n)||(s.model[a[o].filterKey]=n),y(n);}),p()();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);c(),H("model",n.model[e[t].filterKey]);}}function OMe(i,r){if(i&1){let t=O();u(0,"input",70),b("ngModelChange",function(n){C(t);let o=d(4).$implicit,a=d().$implicit,s=d(3);return s.model[a[o].filterKey]=n,y(s.filterChange(n));}),q("ngModelChange",function(n){C(t);let o=d(4).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].filterKey],n)||(s.model[a[o].filterKey]=n),y(n);}),p();}if(i&2){let t=d(4).$implicit,e=d().$implicit,n=d(3);m("title",X(e[t]==null?null:e[t].description))("placeholder",X(e[t]==null?null:e[t].placeholder))("min",X(e[t]==null?null:e[t].min))("max",X(e[t]==null?null:e[t].max))("disabled",e[t].disabled),H("ngModel",n.model[e[t].filterKey]),m("ngStyle",e[t].style);}}function PMe(i,r){if(i&1){let t=O();u(0,"input",71),b("ngModelChange",function(n){C(t);let o=d(4).$implicit,a=d().$implicit,s=d(3);return s.model[a[o].filterKey]=n,y(s.filterChange(n));}),q("ngModelChange",function(n){C(t);let o=d(4).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].filterKey],n)||(s.model[a[o].filterKey]=n),y(n);}),p();}if(i&2){let t=d(4).$implicit,e=d().$implicit,n=d(3);m("title",X(e[t]==null?null:e[t].description))("placeholder",X(e[t]==null?null:e[t].placeholder))("min",X(e[t]==null?null:e[t].min))("max",X(e[t]==null?null:e[t].max))("disabled",e[t].disabled),H("ngModel",n.model[e[t].filterKey]),m("ngStyle",e[t].style);}}function RMe(i,r){if(i&1&&(U(0),E(1,OMe,1,11,"input",68)(2,PMe,1,11,"input",69),W()),i&2){let t=d(3).$implicit,e=d().$implicit;c(),m("ngIf",e[t].type==="text"||e[t].type!="number"),c(),m("ngIf",e[t].type==="number");}}function NMe(i,r){if(i&1){let t=O();u(0,"div",72)(1,"input",48),b("ngModelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return s.model[a[o].filterKey]=n,y(s.filterChange(n));}),q("ngModelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].filterKey],n)||(s.model[a[o].filterKey]=n),y(n);}),p(),u(2,"span",49),T(3),p()();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("title",X(e[t]==null?null:e[t].description))("ngClass",ne(9,mMe,n.model[e[t].filterKey])),c(),m("title",X(e[t]==null?null:e[t].description))("disabled",e[t].disabled),H("ngModel",n.model[e[t].filterKey]),c(),m("ngStyle",e[t].style),c(),z(e[t].text);}}function kMe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(3).$implicit,e=d().$implicit;c(),z(e[t].text);}}function $Me(i,r){if(i&1&&$(0,"j4care-option",75),i&2){let t=r.$implicit;m("title",X(t.description||t.title))("value",t.value)("htmlLabel",t.htmlLabel||t.label||t.text);}}function LMe(i,r){if(i&1){let t=O();u(0,"j4care-select",73),q("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].filterKey],n)||(s.model[a[o].filterKey]=n),y(n);}),E(1,$Me,1,4,"j4care-option",74),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);H("model",n.model[e[t].filterKey]),m("ngStyle",e[t].style)("placeholder",e[t]==null?null:e[t].placeholder)("ngClass",e[t].cssClass)("multiSelectMode",!0)("maxSelectedValueShown",e[t].maxSelectedValueShown||1)("showSearchField",e[t].showSearchField),c(),m("ngForOf",e[t].options);}}function FMe(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",76),q("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].filterKey],n)||(s.model[a[o].filterKey]=n),y(n);}),b("modelChange",function(n){C(t);let o=d(7);return y(o.filterChange(n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("ngStyle",e[t].style)("placeholder",e[t]==null?null:e[t].placeholder)("title",(e[t]==null?null:e[t].description)||"")("ngClass",e[t].cssClass)("options",e[t].options)("optionsTree",e[t].optionsTree)("min",e[t].min)("max",e[t].max)("editable",!0)("showSearchField",e[t].showSearchField),H("model",n.model[e[t].filterKey]),m("multiSelectMode",!1)("showStar",e[t].showStar);}}function VMe(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",76),q("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].filterKey],n)||(s.model[a[o].filterKey]=n),y(n);}),b("modelChange",function(n){C(t);let o=d(7);return y(o.filterChange(n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("ngStyle",e[t].style)("placeholder",e[t]==null?null:e[t].placeholder)("title",(e[t]==null?null:e[t].description)||"")("ngClass",e[t].cssClass)("options",e[t].options)("optionsTree",e[t].optionsTree)("min",e[t].min)("max",e[t].max)("editable",!0)("showSearchField",!0),H("model",n.model[e[t].filterKey]),m("multiSelectMode",!0)("showStar",e[t].showStar);}}function zMe(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",77),q("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].filterKey],n)||(s.model[a[o].filterKey]=n),y(n);}),b("modelChange",function(n){C(t);let o=d(7);return y(o.filterChange(n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("multiSelectMode",!0)("ngStyle",e[t].style)("placeholder",e[t]==null?null:e[t].placeholder)("title",(e[t]==null?null:e[t].description)||"")("ngClass",e[t].cssClass)("optionsTree",e[t].optionsTree)("options",e[t].options),H("model",n.model[e[t].filterKey]),m("showSearchField",e[t].showSearchField)("showStar",e[t].showStar);}}function GMe(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",78),q("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].filterKey],n)||(s.model[a[o].filterKey]=n),y(n);}),b("modelChange",function(n){C(t);let o=d(7);return y(o.filterChange(n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("ngStyle",e[t].style)("placeholder",e[t]==null?null:e[t].placeholder)("title",(e[t]==null?null:e[t].description)||"")("ngClass",e[t].cssClass)("options",e[t].options),H("model",n.model[e[t].filterKey]),m("optionsTree",e[t].optionsTree)("showSearchField",e[t].showSearchField)("multiSelectMode",!1)("showStar",e[t].showStar);}}function jMe(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",79),q("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].filterKey],n)||(s.model[a[o].filterKey]=n),y(n);}),b("modelChange",function(n){C(t);let o=d(7);return y(o.filterChange(n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("ngStyle",e[t].style)("placeholder",e[t]==null?null:e[t].placeholder)("title",(e[t]==null?null:e[t].description)||"")("ngClass",e[t].cssClass)("options",e[t].options),H("model",n.model[e[t].filterKey]),m("optionsTree",e[t].optionsTree)("showSearchField",e[t].showSearchField)("showSelectedEmptyValue",e[t].showSelectedEmptyValue)("multiSelectMode",!1)("showStar",e[t].showStar);}}function UMe(i,r){if(i&1&&(u(0,"mat-radio-button",82),T(1),p()),i&2){let t=r.$implicit;m("title",X(t.description))("value",t.value),c(),z(t.text);}}function WMe(i,r){if(i&1){let t=O();u(0,"mat-radio-group",80),b("ngModelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return s.model[a[o].filterKey]=n,y(s.filterChange(n));}),q("ngModelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return Y(s.model[a[o].filterKey],n)||(s.model[a[o].filterKey]=n),y(n);}),E(1,UMe,2,4,"mat-radio-button",81),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("disabled",e[t].disabled)("ngStyle",e[t].style),H("ngModel",n.model[e[t].filterKey]),c(),m("ngForOf",e[t].options);}}function BMe(i,r){if(i&1){let t=O();u(0,"range-picker",83),b("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return y(s.dateChanged(a[o]==null?null:a[o].filterKey,n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("placeholder",X((e[t]==null?null:e[t].placeholder)||(e[t]==null?null:e[t].description)))("title",X(e[t]==null?null:e[t].description))("ngStyle",e[t].style)("onlyDate",e[t].onlyDate)("model",n.model[e[t]==null?null:e[t].filterKey])("datePickerMode",!0);}}function HMe(i,r){if(i&1){let t=O();u(0,"range-picker",84),b("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return y(s.dateChanged(a[o]==null?null:a[o].filterKey,n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("placeholder",X((e[t]==null?null:e[t].placeholder)||(e[t]==null?null:e[t].description)))("title",X(e[t]==null?null:e[t].description))("ngStyle",e[t].style)("onlyDate",e[t].onlyDate)("model",n.model[e[t]==null?null:e[t].filterKey])("defaultTime",e[t].defaultTime);}}function qMe(i,r){if(i&1){let t=O();u(0,"range-picker",85),b("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return y(s.dateChanged(a[o]==null?null:a[o].filterKey,n));})("splitDateRangeChanged",function(n){C(t);let o=d(7);return y(o.splitDateRangeChanged(n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("placeholder",X((e[t]==null?null:e[t].placeholder)||(e[t]==null?null:e[t].description)))("title",X(e[t]==null?null:e[t].description))("ngStyle",e[t].style)("onlyDate",e[t].onlyDate)("model",n.model[e[t]==null?null:e[t].filterKey])("defaultTime",e[t].defaultTime);}}function YMe(i,r){if(i&1){let t=O();u(0,"range-picker",86),b("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return y(s.dateChanged(a[o]==null?null:a[o].filterKey,n));})("splitDateRangeChanged",function(n){C(t);let o=d(7);return y(o.splitDateRangeChanged(n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("placeholder",X((e[t]==null?null:e[t].placeholder)||(e[t]==null?null:e[t].description)))("title",X(e[t]==null?null:e[t].description))("ngStyle",e[t].style)("onlyDate",e[t].onlyDate)("model",n.model[e[t]==null?null:e[t].filterKey])("defaultTime",e[t].defaultTime);}}function XMe(i,r){if(i&1){let t=O();u(0,"range-picker",87),b("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return y(s.dateChanged(a[o]==null?null:a[o].filterKey,n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("placeholder",X((e[t]==null?null:e[t].placeholder)||(e[t]==null?null:e[t].description)))("title",X(e[t]==null?null:e[t].description))("ngStyle",e[t].style)("onlyDate",e[t].onlyDate)("model",n.model[e[t]==null?null:e[t].filterKey]);}}function KMe(i,r){if(i&1){let t=O();u(0,"input",88),b("change",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return y(s.model[a[o]==null?null:a[o].filterKey]=n.target.files);}),p();}}function QMe(i,r){if(i&1){let t=O();u(0,"code-selector",89),b("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return y(s.codeChanged(a[o]==null?null:a[o].codes,n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit;m("placeholder",X((e[t]==null?null:e[t].placeholder)||(e[t]==null?null:e[t].description)))("title",e[t]==null?null:e[t].description)("codes",e[t]==null?null:e[t].codes);}}function ZMe(i,r){if(i&1){let t=O();u(0,"issuer-selector",90),b("modelChange",function(n){C(t);let o=d(3).$implicit,a=d().$implicit,s=d(3);return y(s.issuerChanged(a[o]==null?null:a[o].issuers,n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit;m("placeholder",X((e[t]==null?null:e[t].placeholder)||(e[t]==null?null:e[t].description)))("title",e[t]==null?null:e[t].description)("issuers",e[t]==null?null:e[t].issuers);}}function JMe(i,r){if(i&1){let t=O();u(0,"modified-widget",91),b("modelChange",function(n){C(t);let o=d(7);return y(o.modifiedWidget(n));}),p();}if(i&2){let t=d(3).$implicit,e=d().$implicit,n=d(3);m("placeholder",X((e[t]==null?null:e[t].placeholder)||(e[t]==null?null:e[t].description)))("title",e[t]==null?null:e[t].description)("model",n.model)("iodFileNames",e[t]==null?null:e[t].iodFileNames);}}function eOe(i,r){if(i&1&&(U(0),E(1,MMe,2,1,"div",30)(2,RMe,3,2,"ng-container",33)(3,NMe,4,11,"div",51)(4,kMe,2,1,"span",35)(5,LMe,2,8,"j4care-select",52)(6,FMe,1,13,"dcm-drop-down",53)(7,VMe,1,13,"dcm-drop-down",53)(8,zMe,1,10,"dcm-drop-down",54)(9,GMe,1,10,"dcm-drop-down",55)(10,jMe,1,11,"dcm-drop-down",56)(11,WMe,2,4,"mat-radio-group",57)(12,BMe,1,8,"range-picker",58)(13,HMe,1,8,"range-picker",59)(14,qMe,1,8,"range-picker",60)(15,YMe,1,8,"range-picker",61)(16,XMe,1,7,"range-picker",62)(17,KMe,1,0,"input",63)(18,QMe,1,4,"code-selector",64)(19,ZMe,1,4,"issuer-selector",65)(20,JMe,1,5,"modified-widget",66),W()),i&2){let t=d(2).$implicit,e=d().$implicit;c(),m("ngSwitchCase","size_range_picker"),c(),m("ngSwitchCase","input"),c(),m("ngSwitchCase","checkbox"),c(),m("ngIf",e[t].type==="checkbox"),c(),m("ngSwitchCase","html-multi-select"),c(),m("ngSwitchCase","editable-select"),c(),m("ngSwitchCase","editable-multi-select"),c(),m("ngSwitchCase","multi-select"),c(),m("ngSwitchCase","html-select"),c(),m("ngSwitchCase","select"),c(),m("ngSwitchCase","radio"),c(),m("ngSwitchCase","p-calendar"),c(),m("ngSwitchCase","range-picker"),c(),m("ngSwitchCase","range-picker-limit"),c(),m("ngSwitchCase","range-picker-time"),c(),m("ngSwitchCase","single-date-time-picker"),c(),m("ngSwitchCase","file"),c(),m("ngSwitchCase","code-selector"),c(),m("ngSwitchCase","issuer-selector"),c(),m("ngSwitchCase","modified-widget");}}function tOe(i,r){i&1&&$(0,"div");}function iOe(i,r){if(i&1&&(u(0,"label",92),T(1),p()),i&2){let t=d(2).$implicit,e=d().$implicit;c(),z(e[t].text);}}function nOe(i,r){if(i&1){let t=O();u(0,"li")(1,"label",100),T(2),$e(3,"trim"),p(),u(4,"label",101),T(5),p(),u(6,"i",98),b("click",function(){let n=C(t).$implicit,o=d(9);return y(o.removeDynamicAttribute(n));}),T(7,"clear"),p()();}if(i&2){let t=r.$implicit,e=d(9);c(),m("title",X(e.getLabelFromIODTag(t))),c(),ue("",pt(3,6,e.getLabelFromIODTag(t),18),":"),c(3),z(e.dynamicAttributeConfig.dynamicAttributes.get(t)),c(),m("title",X(e.dynamicAttributeConfig.labels.delete_title));}}function rOe(i,r){if(i&1&&(u(0,"ul",99),E(1,nOe,8,9,"li",22),p()),i&2){let t=d(8);c(),m("ngForOf",t.Array.from(t.dynamicAttributeConfig.dynamicAttributes.keys()));}}function oOe(i,r){if(i&1){let t=O();u(0,"div"),E(1,rOe,2,1,"ul",94),u(2,"div",95)(3,"dcm-drop-down",96),q("modelChange",function(n){C(t);let o=d(7);return Y(o.dynamicAttributeConfig.newAttribute,n)||(o.dynamicAttributeConfig.newAttribute=n),y(n);}),p(),u(4,"input",97),q("ngModelChange",function(n){C(t);let o=d(7);return Y(o.dynamicAttributeConfig.newValue,n)||(o.dynamicAttributeConfig.newValue=n),y(n);}),p(),u(5,"i",98),b("click",function(){C(t);let n=d(7);return y(n.addNewDynamicAttribute());}),T(6,"add"),p()()();}if(i&2){let t=d(7);c(),m("ngIf",t.dynamicAttributeConfig.dynamicAttributes&&t.dynamicAttributeConfig.dynamicAttributes.size>0),c(2),m("options",t.dynamicAttributeConfig.iods),H("model",t.dynamicAttributeConfig.newAttribute),m("showSearchField",!0)("multiSelectMode",!1)("placeholder",t.dynamicAttributeConfig.dropdownPlaceholder),c(),H("ngModel",t.dynamicAttributeConfig.newValue),m("placeholder",t.dynamicAttributeConfig.labels.dynamic_value),c(),m("title",X(t.dynamicAttributeConfig.labels.add_title));}}function aOe(i,r){if(i&1&&(u(0,"div",93),E(1,oOe,7,10,"div",35),p()),i&2){let t=d(6);c(),m("ngIf",t.dynamicAttributeConfig.iods);}}function sOe(i,r){i&1&&$(0,"span",105);}function lOe(i,r){i&1&&$(0,"span",106);}function cOe(i,r){if(i&1){let t=O();u(0,"button",102),b("click",function(){C(t);let n=d(2).$implicit,o=d().$implicit,a=d(3);return y(a.submitEmit(o[n].id));}),E(1,sOe,1,0,"span",103)(2,lOe,1,0,"span",104),T(3),p();}if(i&2){let t=d(2).$implicit,e=d().$implicit;m("title",X(e[t].description))("ngClass",e[t].cssClass),c(),m("ngIf",e[t].showRefreshIcon),c(),m("ngIf",e[t].showDynamicLoader),c(),ue(" ",e[t].text);}}function dOe(i,r){if(i&1&&(U(0,29),E(1,SMe,5,10,"div",30)(2,IMe,4,5,"label",31)(3,xMe,1,2,"modality",32)(4,wMe,2,1,"ng-container",33)(5,DMe,1,3,"person-name-picker",34)(6,eOe,21,20,"ng-container",35)(7,tOe,1,0,"div",33)(8,iOe,2,1,"label",36)(9,aOe,2,1,"div",37)(10,cOe,4,6,"button",38),W()),i&2){let t=d().$implicit,e=d().$implicit;m("ngSwitch",e[t].tag),c(),m("ngSwitchCase","combined"),c(),m("ngSwitchCase","label"),c(),m("ngSwitchCase","modality"),c(),m("ngSwitchCase","multi-checkbox"),c(),m("ngSwitchCase","person-name-picker"),c(),m("ngIf",e[t].filterKey||e[t].tag==="code-selector"||e[t].tag==="issuer-selector"||e[t].tag==="modified-widget"),c(),m("ngSwitchCase","dummy"),c(),m("ngSwitchCase","label_large"),c(),m("ngSwitchCase","dynamic-attributes"),c(),m("ngSwitchCase","button");}}function uOe(i,r){if(i&1&&(U(0),E(1,dOe,11,11,"ng-container",28),W()),i&2){let t=r.$implicit,e=d().$implicit,n=d(3);c(),m("ngIf",e&&e[t]&&(!e[t].showIf||e[t].showIf(n.model))&&(e[t].dependingOn&&n.model[e[t].dependingOn]||!e[t].dependingOn));}}function pOe(i,r){if(i&1&&(u(0,"div",27),E(1,uOe,2,1,"ng-container",22),p()),i&2){let t=r.$implicit,e=d().$implicit,n=d(2);m("ngClass",ne(3,uMe,t&&t[0]&&(!t[0].showIf||t[0].showIf(n.model))&&(t[0].dependingOn&&n.model[t[0].dependingOn]||!t[0].dependingOn)||t&&t[1]&&(!t[1].showIf||t[1].showIf(n.model))&&(t[1].dependingOn&&n.model[t[1].dependingOn]||!t[1].dependingOn)))("ngSwitch",e.type),c(),m("ngForOf",Ke(5,pMe));}}function mOe(i,r){if(i&1){let t=O();U(0),u(1,"div",25),b("click",function(){C(t);let n=d(2);return y(n.inFilterClicked());}),E(2,pOe,2,6,"div",26),p(),W();}if(i&2){let t=r.$implicit,e=d(2);c(),be(ea("filter_block ",e.cssBlockClass," height_",e.filterTreeHeight)),c(),m("ngForOf",t)("ngForTrackBy",e.trackByFn);}}function _Oe(i,r){if(i&1){let t=O();u(0,"div",5),b("mouseleave",function(){C(t);let n=d();return y(n.mouseLeaveFilter());})("mouseenter",function(){C(t);let n=d();return y(n.mouseEnterFilter());})("keyup",function(n){C(t);let o=d();return y(o.onKeyUp(n));}),u(1,"div",6),E(2,_Me,6,0,"span",7)(3,CMe,4,3,"div",8),p(),E(4,mOe,3,6,"ng-container",9),p();}if(i&2){let t=d();c(2),m("ngIf",t.showFilterButtons&&!t.hideClearButtons),c(),m("ngIf",t.showFilterTemplateList),c(),m("ngForOf",t.schema)("ngForTrackBy",t.trackByFn);}}var Yi=(()=>{let r=class r{get schema(){return this._schema;}set schema(e){this._schema=e,this.saveDataInMemory(),this.triggerFilterLoadFinish();}constructor(e,n,o,a,s,l,_,f){this.inj=e,this.appService=n,this.viewContainerRef=o,this.dialog=a,this.deviceConfigurator=s,this.devices=l,this.rangePicker=_,this.studyService=f,this._filterTreeHeight=2,this.submit=new ae(),this.onChange=new ae(),this.onTemplateSet=new ae(),this.onFilterClear=new ae(),this.onFilterLoadFinish=new ae(),this.cssBlockClass="",this.hideLoader=!1,this.filterTemplatePath='dcmDevice.dcmuiConfig["0"].dcmuiFilterTemplateObject',this.showFilterTemplateList=!1,this.showFilterButtons=!1,this.hoverActive=!1,this.noFilterFound=!1,this.Array=Array,this.dynamicAttributeConfig={iods:[],dynamicAttributes:null,newAttribute:null,newValue:null,dropdownPlaceholder:"Select attribute",labels:{dynamic_value:"Dynamic value",add_title:"Add",delete_title:"Remove"}},console.log("test",this._filterTreeHeight),this.getDataFromMemory();}triggerFilterLoadFinish(){this._schema&&this._schema.length>0&&this.filterTreeHeight&&this.onFilterLoadFinish.emit();}getDataFromMemory(){try{if((!I.isSet(this._schema)||this._schema.length===0)&&this.filterID){let e=localStorage.getItem("schema_"+this.filterID);this._schema=JSON.parse(e);}if(!I.isSet(this._filterTreeHeight)&&this.filterID){let e=localStorage.getItem("tree_height_"+this.filterID);this._schema=JSON.parse(e);}I.isSet(this._schema)&&this._filterTreeHeight&&(this.hideLoader=!0);}catch{}}saveDataInMemory(){try{I.isSet(this._schema)&&this.filterID&&localStorage.setItem("schema_"+this.filterID,JSON.stringify(this._schema)),I.isSet(this._filterTreeHeight)&&this.filterID&&localStorage.setItem("tree_height_"+this.filterID,JSON.stringify(this._filterTreeHeight));}catch{}}get filterTreeHeight(){return this._filterTreeHeight;}set filterTreeHeight(e){this._filterTreeHeight=e||2,this._filterTreeHeight&&(this.cssBlockClass=`height_${this._filterTreeHeight}`),this.saveDataInMemory(),this.triggerFilterLoadFinish();}ngOnInit(){if(this.getDataFromMemory(),this._filterTreeHeight&&(this.cssBlockClass=`height_${this._filterTreeHeight}`),this.filterTreeHeight&&(this.cssBlockClass=`height_${this.filterTreeHeight}`),!this.filterID)try{this.filterID=`${location.hostname}-${this.inj.view.parentNodeDef.renderParent.element.name}`;}catch{this.filterID=`${location.hostname}-${location.pathname.replace(/\/dcm4chee-arc\/ui2\//g,"").replace(/\//g,"-")}`;}if(!Lc(this.doNotSave)){let e=localStorage.getItem(this.filterID),n=JSON.parse(e);this.doNotSave&&this.doNotSave.forEach(o=>{n&&n[o]&&delete n[o];}),e&&(this.model=Sl(this.model,n,(o,a)=>o||(!o&&o!=""&&a?a:o)),this.onTemplateSet.emit(this.model));}this._schema&&I.penetrateArrayToObject(this._schema,e=>{if(e.hasOwnProperty("tag")&&e.tag==="dynamic-attributes"&&e.hasOwnProperty("iodFileNames")){console.log("iodFilenames",e.iodFileNames);let n=e.iodFileNames||["patient","study"];this.studyService.getIodObjectsFromNames(n).subscribe(o=>{this.dynamicAttributeConfig.iods=this.studyService.iodToSelectedDropdown(o.reduce((a,s)=>Object.assign(a,s)));});}}),this.onTemplateSet.emit(this.model);}getLabelFromIODTag(e){return this.studyService.getLabelFromIODTag(e);}onKeyUp(e){e.keyCode===13&&this.submitEmit(this.defaultSubmitId);}addNewDynamicAttribute(){this.dynamicAttributeConfig.dynamicAttributes=this.dynamicAttributeConfig.dynamicAttributes||new Map(),this.dynamicAttributeConfig.newAttribute&&this.dynamicAttributeConfig.newValue&&(this.dynamicAttributeConfig.dynamicAttributes.set(this.dynamicAttributeConfig.newAttribute,this.dynamicAttributeConfig.newValue),this.model[this.dynamicAttributeConfig.newAttribute]=this.dynamicAttributeConfig.newValue,this.dynamicAttributeConfig.newAttribute=void 0,this.dynamicAttributeConfig.newValue=""),console.log("model",this.model);}removeDynamicAttribute(e){try{this.dynamicAttributeConfig.dynamicAttributes.delete(e),delete this.model[e];}catch{}console.log("model",this.model);}submitEmit(e){this.model=I.clearEmptyObject(this.model),e?this.submit.emit({model:this.model,id:e}):this.submit.emit(this.model);}filterChange(e){console.log("this.model",this.model),console.log("this.schema",this._schema),this.onFilterChangeHook&&this.onFilterChangeHook(event,this.model,this._schema),this.onChange.emit(this.model);}codeChanged(e,n){Object.keys(e).forEach(o=>{A(n,e[o].key)?this.model[e[o].key]=n[e[o].key]:delete this.model[e[o].key];}),this.filterChange(n);}issuerChanged(e,n){Object.keys(e).forEach(o=>{A(n,e[o].key)?this.model[e[o].key]=n[e[o].key]:delete this.model[e[o].key];}),this.filterChange(n);}modifiedWidget(e){["modified","allmodified"].forEach(n=>{A(e,n)?this.model[n]=e[n]:delete this.model[n];});}clear(){Object.keys(this.model).forEach(e=>{this.model[e]="";}),this.onFilterClear.emit(this.model);}trackByFn(e,n){return e;}ngAfterContentChecked(){this.hideLoader||setTimeout(()=>{this.hideLoader=!0;},100);}dateChanged(e,n){n?this.model[e]=n:delete this.model[e],this.filterChange(n);}splitDateRangeChanged(e){e?this.model.SplitStudyDateRange=e:delete this.model.SplitStudyDateRange,this.filterChange(e);}confirm(e){return this.dialogRef=this.dialog.open(Ei,{height:"auto",width:"465px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}createNewFilterTemplateToDevice(e,n){let o={dcmuiFilterTemplateDefault:!1,dcmuiFilterTemplateDescription:"Test description",dcmuiFilterTemplateFilters:Object.keys(this.model).filter(a=>this.model[a]).map(a=>`${a}=${this.model[a]}`),dcmuiFilterTemplateGroupName:e,dcmuiFilterTemplateID:this.filterIdTemplate||this.filterID};return A(n,this.filterTemplatePath)?B(n,this.filterTemplatePath).push(o):Ue(n,this.filterTemplatePath,[o]),console.log("device",n),n;}removeFilterTemplate(e){this.confirm({content:"Are you sure you want to remove this filter-template?"}).subscribe(n=>{n&&console.log("filter",e);});}saveFilterTemplate(){this.appService.deviceName?(console.log("device name",this.appService.deviceName),this.deviceConfigurator.getDevice(this.appService.deviceName).subscribe(e=>{console.log("arch",e),this.confirm({content:"Set the name for the new filter template:",input:{name:"newdevice",type:"text"},result:{input:""},saveButton:"SAVE"}).subscribe(n=>{if(n){console.log("result.input",n.input);let o=this.createNewFilterTemplateToDevice(n.input,e);console.log("device",o),this.devices.saveDeviceChanges(this.appService.deviceName,o).subscribe(a=>{},a=>{console.error(a);});}});},e=>{console.log("arch",e);})):this.confirm({content:"Archive device name not found, reload the page and try again!"}).subscribe(e=>{});}openTemplateList(){this.appService.deviceName?(console.log("device name",this.appService.deviceName),this.showFilterTemplateList=!0,this.deviceConfigurator.getDevice(this.appService.deviceName).subscribe(e=>{A(e,this.filterTemplatePath)?this.filterTemplates=B(e,this.filterTemplatePath).filter(n=>n.dcmuiFilterTemplateID===this.filterIdTemplate):console.log("no filter template found");},e=>{console.error(e);})):this.confirm({content:"Archive device name not found, reload the page and try again!"}).subscribe(e=>{});}mouseEnterFilter(){this.hoverActive=!0,this.showFilterButtons=!0;}mouseLeaveFilter(){this.hoverActive=!1,setTimeout(()=>{this.hoverActive===!1&&(this.showFilterTemplateList=!1,this.showFilterButtons=!1);},500);}inFilterClicked(){this.showFilterTemplateList=!1;}openTemplateFilter(e){this.showFilterTemplateList=!1,this.showFilterButtons=!1;let n=/(\w*)=(\w*)/,o={},a;e.dcmuiFilterTemplateFilters.forEach(s=>{(a=n.exec(s))!==null&&(o[a[1]]=a[2]);}),console.log("newOjbect",o),this.model=o,this.onTemplateSet.emit(this.model);}ngOnDestroy(){Lc(this.doNotSave)||(this.doNotSave&&this.doNotSave.forEach(e=>{this.model[e]&&delete this.model[e];}),localStorage.setItem(this.filterID,JSON.stringify(this.model)),this.saveDataInMemory());}};r.ɵfac=function(n){return new(n||r)(k(tt),k(le),k(Mt),k(ri),k(Vn),k(Xt),k(mh),k(wo));},r.ɵcmp=Z({type:r,selectors:[["filter-generator"]],inputs:{model:"model",filterID:"filterID",hideClearButtons:"hideClearButtons",filterIdTemplate:"filterIdTemplate",doNotSave:"doNotSave",ignoreOnClear:"ignoreOnClear",defaultSubmitId:"defaultSubmitId",onFilterChangeHook:"onFilterChangeHook",schema:"schema",filterTreeHeight:"filterTreeHeight"},outputs:{submit:"submit",onChange:"onChange",onTemplateSet:"onTemplateSet",onFilterClear:"onFilterClear",onFilterLoadFinish:"onFilterLoadFinish"},standalone:!1,decls:4,vars:7,consts:()=>{let e;e="Clear current filters";let n;n="Clear";let o;return o="No filter-templates found!",[n,o,[1,"filter","filter_loader",3,"hidden"],["mode","indeterminate",3,"diameter"],["class","filter",3,"mouseleave","mouseenter","keyup",4,"ngIf"],[1,"filter",3,"mouseleave","mouseenter","keyup"],[1,"filter_template_function"],["class","clearform_button",4,"ngIf"],["class","template_list",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"clearform_button"],[1,"buttons"],["title",e,3,"click"],[1,"glyphicon","glyphicon-remove"],[1,"template_list"],["class","loader",4,"ngIf"],["class","templates not_found",4,"ngIf"],["class","templates",4,"ngIf"],[1,"loader"],[1,"fa","fa-circle-o-notch","fa-spin"],[1,"templates","not_found"],[1,"templates"],[4,"ngFor","ngForOf"],[3,"click","title"],[1,"glyphicon","glyphicon-remove",3,"click"],[3,"click"],[3,"ngClass","ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass","ngSwitch"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],["class","input_group_dropdown",4,"ngSwitchCase"],[3,"title",4,"ngSwitchCase"],[3,"model","ngStyle","modelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"title","placeholder","model","modelChange",4,"ngSwitchCase"],[4,"ngIf"],["class","label_large",4,"ngSwitchCase"],["class","dynamic-attributes",4,"ngSwitchCase"],["class","btn-default submit",3,"ngClass","title","click",4,"ngSwitchCase"],[1,"input_group_dropdown"],[3,"ngModelChange","type","min","ngModel","placeholder"],[3,"ngModelChange","ngModel"],["value","",4,"ngIf"],[3,"value","title","innerHtml",4,"ngFor","ngForOf"],["value",""],[3,"value","title","innerHtml"],[3,"title"],[3,"modelChange","model","ngStyle"],["type","checkbox",3,"ngModelChange","disabled","ngModel","title"],[3,"ngStyle"],[3,"modelChange","title","placeholder","model"],["class","filter_checkbox",3,"title","ngClass",4,"ngSwitchCase"],[3,"model","ngStyle","placeholder","ngClass","multiSelectMode","maxSelectedValueShown","showSearchField","modelChange",4,"ngSwitchCase"],[3,"ngStyle","placeholder","title","ngClass","options","optionsTree","min","max","editable","showSearchField","model","multiSelectMode","showStar","modelChange",4,"ngSwitchCase"],[3,"multiSelectMode","ngStyle","placeholder","title","ngClass","optionsTree","options","model","showSearchField","showStar","modelChange",4,"ngSwitchCase"],[3,"ngStyle","placeholder","title","ngClass","options","model","optionsTree","showSearchField","multiSelectMode","showStar","modelChange",4,"ngSwitchCase"],[3,"ngStyle","placeholder","title","ngClass","options","model","optionsTree","showSearchField","showSelectedEmptyValue","multiSelectMode","showStar","modelChange",4,"ngSwitchCase"],[3,"disabled","ngStyle","ngModel","ngModelChange",4,"ngSwitchCase"],["dateFormat","YYYYMMDD",3,"ngStyle","onlyDate","model","datePickerMode","placeholder","title","modelChange",4,"ngSwitchCase"],["mode","range",3,"ngStyle","onlyDate","model","defaultTime","placeholder","title","modelChange",4,"ngSwitchCase"],["mode","range","dateRange","true",3,"ngStyle","onlyDate","model","defaultTime","placeholder","title","modelChange","splitDateRangeChanged",4,"ngSwitchCase"],["mode","range","onlyTime","true",3,"ngStyle","onlyDate","model","defaultTime","placeholder","title","modelChange","splitDateRangeChanged",4,"ngSwitchCase"],["dateFormat","YYYYMMDD","onlySingleMode","true","defaultTime","00:00:00","mode","single",3,"ngStyle","onlyDate","model","placeholder","title","modelChange",4,"ngSwitchCase"],["type","file",3,"change",4,"ngSwitchCase"],[3,"title","codes","placeholder","modelChange",4,"ngSwitchCase"],[3,"title","issuers","placeholder","modelChange",4,"ngSwitchCase"],[3,"title","model","iodFileNames","placeholder","modelChange",4,"ngSwitchCase"],["ngDefaultControl","",3,"modelChange","model"],["type","text",3,"disabled","ngModel","ngStyle","title","placeholder","min","max","ngModelChange",4,"ngIf"],["type","number",3,"disabled","ngModel","ngStyle","title","placeholder","min","max","ngModelChange",4,"ngIf"],["type","text",3,"ngModelChange","disabled","ngModel","ngStyle","title","placeholder","min","max"],["type","number",3,"ngModelChange","disabled","ngModel","ngStyle","title","placeholder","min","max"],[1,"filter_checkbox",3,"title","ngClass"],[3,"modelChange","model","ngStyle","placeholder","ngClass","multiSelectMode","maxSelectedValueShown","showSearchField"],[3,"value","title","htmlLabel",4,"ngFor","ngForOf"],[3,"value","title","htmlLabel"],[3,"modelChange","ngStyle","placeholder","title","ngClass","options","optionsTree","min","max","editable","showSearchField","model","multiSelectMode","showStar"],[3,"modelChange","multiSelectMode","ngStyle","placeholder","title","ngClass","optionsTree","options","model","showSearchField","showStar"],[3,"modelChange","ngStyle","placeholder","title","ngClass","options","model","optionsTree","showSearchField","multiSelectMode","showStar"],[3,"modelChange","ngStyle","placeholder","title","ngClass","options","model","optionsTree","showSearchField","showSelectedEmptyValue","multiSelectMode","showStar"],[3,"ngModelChange","disabled","ngStyle","ngModel"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],["dateFormat","YYYYMMDD",3,"modelChange","ngStyle","onlyDate","model","datePickerMode","placeholder","title"],["mode","range",3,"modelChange","ngStyle","onlyDate","model","defaultTime","placeholder","title"],["mode","range","dateRange","true",3,"modelChange","splitDateRangeChanged","ngStyle","onlyDate","model","defaultTime","placeholder","title"],["mode","range","onlyTime","true",3,"modelChange","splitDateRangeChanged","ngStyle","onlyDate","model","defaultTime","placeholder","title"],["dateFormat","YYYYMMDD","onlySingleMode","true","defaultTime","00:00:00","mode","single",3,"modelChange","ngStyle","onlyDate","model","placeholder","title"],["type","file",3,"change"],[3,"modelChange","title","codes","placeholder"],[3,"modelChange","title","issuers","placeholder"],[3,"modelChange","title","model","iodFileNames","placeholder"],[1,"label_large"],[1,"dynamic-attributes"],["class","modified_list",4,"ngIf"],[1,"add_block"],[3,"modelChange","options","model","showSearchField","multiSelectMode","placeholder"],["type","text",3,"ngModelChange","ngModel","placeholder"],[1,"material-icons",3,"click","title"],[1,"modified_list"],[1,"label",3,"title"],[1,"value"],[1,"btn-default","submit",3,"click","ngClass","title"],["class","glyphicon glyphicon-refresh",4,"ngIf"],["class","fa fa-circle-o-notch fa-spin dashboard_loader",4,"ngIf"],[1,"glyphicon","glyphicon-refresh"],[1,"fa","fa-circle-o-notch","fa-spin","dashboard_loader"]];},template:function(n,o){n&1&&(u(0,"div",2)(1,"div"),$(2,"mat-progress-spinner",3),p()(),E(3,_Oe,5,4,"div",4)),n&2&&(m("hidden",o.schema&&o.schema.length>0&&o.filterTreeHeight),c(),be(ea("filter_block ",o.cssBlockClass," height_",o.filterTreeHeight||2)),c(),m("diameter",40),c(),m("ngIf",o.schema&&o.schema.length>0&&o.filterTreeHeight));},dependencies:[Je,ve,de,wn,fr,Qr,Me,Fo,pi,Se,I0,zR,Ee,fi,ii,Ao,Zk,OA,PA,Do,kA,$A,Hp,zn,VA,gh,zA,GA,vh],styles:[".filter.filter_loader[_ngcontent-%COMP%]{position:relative;text-align:center;min-width:100%;float:left}.filter.filter_loader[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]{border:none;width:100%}.filter.filter_loader[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;margin-top:-20px;font-size:30px;left:50%;transform:translate(-50%,-50%)}.filter[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]   .dynamic-attributes[_ngcontent-%COMP%]{width:100%}.filter[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]{width:100%;display:inline-grid;grid-template-columns:calc(50% - 10px) calc(50% - 15px) 24px}.filter[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]   dcm-drop-down[_ngcontent-%COMP%]{float:left}.filter[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]   dcm-drop-down[_ngcontent-%COMP%]   .dropdown_input[_ngcontent-%COMP%]{line-height:26px;height:26px}.filter[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:15px;border:none;border-bottom:1px solid #ccc}.filter[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]   .add_block[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{float:right;background:#061d2fd6;color:#fff;cursor:pointer;width:24px}.filter[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]   ul.modified_list[_ngcontent-%COMP%]{list-style:none;padding:0}.filter[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]   ul.modified_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:inline-grid;grid-template-columns:calc(50% - 10px) calc(50% - 15px) 24px}.filter[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]   ul.modified_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > label.value[_ngcontent-%COMP%]{margin-left:15px;border-bottom:1px solid #ccc;padding-bottom:4px}.filter[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]   ul.modified_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .label[_ngcontent-%COMP%]{text-align:right}.filter[_ngcontent-%COMP%]   .filter_block[_ngcontent-%COMP%]   ul.modified_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i.material-icons[_ngcontent-%COMP%]{float:right;background:#061d2fd6;color:#fff;cursor:pointer;width:24px;height:25px}.filter_template_function[_ngcontent-%COMP%]   .clearform_button[_ngcontent-%COMP%]{background:transparent}.filter_template_function[_ngcontent-%COMP%]   .clearform_button[_ngcontent-%COMP%]   ul.buttons[_ngcontent-%COMP%], .filter_template_function[_ngcontent-%COMP%]   .clearform_button[_ngcontent-%COMP%]   ul.templates[_ngcontent-%COMP%]{list-style:none;padding:0;float:left;width:100%;margin:0}.filter_template_function[_ngcontent-%COMP%]   .clearform_button[_ngcontent-%COMP%]   ul.buttons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .filter_template_function[_ngcontent-%COMP%]   .clearform_button[_ngcontent-%COMP%]   ul.templates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#0000009c;background:#ffffffa3;padding:0 5px;border:1px solid #cccccc}.filter_template_function[_ngcontent-%COMP%]   .clearform_button[_ngcontent-%COMP%]   ul.buttons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left}.filter_template_function[_ngcontent-%COMP%]:hover   .template_list[_ngcontent-%COMP%]{display:block}.filter_template_function[_ngcontent-%COMP%]   .template_list[_ngcontent-%COMP%]{position:absolute;right:66px;top:6px;max-width:350px;max-height:215px;overflow:auto;padding:20px 15px;background:#ffffffd9;-webkit-box-shadow:5px 5px 5px rgba(0,0,0,.28);-moz-box-shadow:5px 5px 5px rgba(0,0,0,.28);box-shadow:5px 5px 5px #00000047}.filter_template_function[_ngcontent-%COMP%]   .template_list[_ngcontent-%COMP%]   ul.templates[_ngcontent-%COMP%]{margin:0;background:#ffffffd9;color:#0000009c;min-width:250px;padding:0;list-style:none;position:relative;z-index:9999;float:left}.filter_template_function[_ngcontent-%COMP%]   .template_list[_ngcontent-%COMP%]   ul.templates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;width:100%;border-bottom:1px solid #cccccc}.filter_template_function[_ngcontent-%COMP%]   .template_list[_ngcontent-%COMP%]   ul.templates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#000;background:#fffffff2;cursor:pointer}.filter_template_function[_ngcontent-%COMP%]   .template_list[_ngcontent-%COMP%]   ul.templates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;width:85%;padding-left:10px;text-decoration:none}.filter_template_function[_ngcontent-%COMP%]   .template_list[_ngcontent-%COMP%]   ul.templates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .glyphicon-remove[_ngcontent-%COMP%]{float:right;line-height:20px;width:calc(15% - 17px);display:inline-block;text-align:center}.filter_template_function[_ngcontent-%COMP%]   .template_list[_ngcontent-%COMP%]   ul.templates.not_found[_ngcontent-%COMP%]{padding:2px 7px;width:100%}.filter_template_function[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{min-height:60px}"]});let i=r;return i;})();var wW=(()=>{let r=class r{transform(e,n){return"("+e.slice(0,4)+","+e.slice(4,8)+")";}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"formatTag",type:r,pure:!0,standalone:!1});let i=r;return i;})();function hOe(i,r){if(i&1&&(u(0,"td",8),T(1),p()),i&2){let t=d().$implicit;c(),z(t.name);}}function gOe(i,r){if(i&1&&(u(0,"td",9),T(1),$e(2,"formatTag"),p()),i&2){let t=d().$implicit;c(),z(ta(2,1,t.tag));}}function vOe(i,r){if(i&1&&(u(0,"td",10),T(1),p()),i&2){let t=d().$implicit;c(),z(t.el.vr);}}function COe(i,r){if(i&1&&(U(0),u(1,"span"),T(2),p(),W()),i&2){let t=d(2).$implicit,e=d();c(2),z(e._.get(t,"el.Value.0.Alphabetic"));}}function yOe(i,r){if(i&1&&(U(0),u(1,"span"),T(2),p(),W()),i&2){let t=d(2).$implicit,e=d();c(2),ue("=",e._.get(t,"el.Value.0.Ideographic"));}}function bOe(i,r){if(i&1&&(U(0),u(1,"span"),T(2),p(),W()),i&2){let t=d(2).$implicit,e=d();c(2),ue("=",e._.get(t,"el.Value.0.Phonetic"));}}function SOe(i,r){if(i&1&&(U(0),E(1,COe,3,1,"ng-container",6)(2,yOe,3,1,"ng-container",6)(3,bOe,3,1,"ng-container",6),W()),i&2){let t=d().$implicit,e=d();c(),m("ngIf",e._.hasIn(t,"el.Value.0.Alphabetic")),c(),m("ngIf",e._.hasIn(t,"el.Value.0.Ideographic")),c(),m("ngIf",e._.hasIn(t,"el.Value.0.Phonetic"));}}function EOe(i,r){if(i&1&&(U(0),T(1),$e(2,"customDate"),W()),i&2){let t=d().$implicit,e=d();c(),ue(" ",pt(2,1,t.el.Value[0],e.customDateTimeFormat)," ");}}function TOe(i,r){if(i&1&&(U(0),T(1),$e(2,"formatAttributeValue"),W()),i&2){let t=d().$implicit;c(),ue(" ",ta(2,1,t.el)," ");}}function IOe(i,r){if(i&1&&(u(0,"td",11),T(1),p()),i&2){let t=d().$implicit;c(),ue("Item # ",t.item+1);}}function xOe(i,r){if(i&1&&(u(0,"tr")(1,"td"),T(2),p(),E(3,hOe,2,1,"td",2)(4,gOe,3,3,"td",3)(5,vOe,2,1,"td",4),u(6,"td",5),E(7,SOe,4,3,"ng-container",6)(8,EOe,3,4,"ng-container",6)(9,TOe,3,3,"ng-container",6),p(),E(10,IOe,2,1,"td",7),p()),i&2){let t=r.$implicit,e=d();c(2),z(t.level),c(),m("ngIf",t.el),c(),m("ngIf",t.el),c(),m("ngIf",t.el),c(2),m("ngIf",t.el&&t.el.vr==="PN"&&e._.hasIn(t,"el.Value.0")),c(),m("ngIf",t.el&&(t.el.vr==="DA"||t.el.vr==="TM"||t.el.vr==="DT")&&e._.hasIn(t,"el.Value.0")),c(),m("ngIf",t.el&&!(t.el.vr==="DA"||t.el.vr==="TM"||t.el.vr==="PN"||t.el.vr==="DT")),c(),m("ngIf",t.item||t.item===0);}}var Ch=(()=>{let r=class r{constructor(e,n,o,a,s){this.$http=e,this.cfpLoadingBar=n,this.mainservice=o,this.httpErrorHandler=a,this.studyService=s,this._=ye,this.rows=[];}ngOnInit(){this.init();}init(){if(this.customDateTimeFormat=A(this.mainservice.global,"dateTimeFormat")?this.mainservice.global.dateTimeFormat:void 0,this.personNameFormat=A(this.mainservice.global,"personNameFormat")?this.mainservice.global.personNameFormat:void 0,this.attrs)this.attrs2rows("",this.attrs,this.rows);else{this.cfpLoadingBar.start();let e="";this.aet?e=`${I.addLastSlash(this.mainservice.baseUrl)}aets/`+this.aet+"/rs/studies/"+this.studyuid+"/series/"+this.seriesuid+"/instances/"+this.objectuid+"/metadata":(console.log("urlbase",this.studyService.getDicomURL("study",this.studyWebService.selectedWebService)),e=`${this.studyService.getDicomURL("study",this.studyWebService.selectedWebService)}/${this.studyuid}/series/${this.seriesuid}/instances/${this.objectuid}/metadata`),this.$http.get(e).subscribe(n=>{let o=n[0];console.log("attrs",o),console.log("this1",this),console.log("this2",this),this.attrs2rows("",o,this.rows),console.log("after attrs2call",this.rows),this.cfpLoadingBar.complete();},n=>{this.httpErrorHandler.handleError(n),this.cfpLoadingBar.complete();});}}attrs2rows(e,n,o){function a(l){if("02468ACE".indexOf(l.charAt(3))<0){let _=l.slice(4,6);if(_!=="00"){let f=n[l.slice(0,4)+"00"+_];return f&&f.Value&&f.Value[0];}}}let s=Object.keys(n);s.sort(),s.forEach(l=>{let _=n[l];if(o.push({level:e,tag:l,name:DCM4CHE.elementName.forTag(l,a(l)),el:_}),_.vr==="SQ"){let f=e+">";he(_.Value,(g,S)=>{o.push({level:f,item:S}),this.attrs2rows(f,g,o);});}});}};r.ɵfac=function(n){return new(n||r)(k(Fe),k(ti),k(le),k(Pt),k(wo));},r.ɵcmp=Z({type:r,selectors:[["attribute-list"]],inputs:{studyuid:"studyuid",seriesuid:"seriesuid",objectuid:"objectuid",aet:"aet",attrs:"attrs",studyWebService:"studyWebService"},standalone:!1,decls:2,vars:1,consts:[[1,"table","table-bordered","table-condensed","attribute_list"],[4,"ngFor","ngForOf"],["class","attr_name",4,"ngIf"],["class","attr_tag",4,"ngIf"],["class","attr_vr",4,"ngIf"],[1,"attr_value"],[4,"ngIf"],["colspan","4",4,"ngIf"],[1,"attr_name"],[1,"attr_tag"],[1,"attr_vr"],["colspan","4"]],template:function(n,o){n&1&&(u(0,"table",0),E(1,xOe,11,8,"tr",1),p()),n&2&&(c(),m("ngForOf",o.rows));},dependencies:[ve,de,wW,Nv,Ji],styles:[".attribute_list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-break:break-word}.attribute_list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.attr_tag[_ngcontent-%COMP%]{min-width:100px}.attribute_list[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.attr_vr[_ngcontent-%COMP%]{min-width:40px}"]});let i=r;return i;})();var jA=(()=>{let r=class r{constructor(e,n){this.el=e,this.mainservice=n,this.placeholderSet=!1,this.textTransformed="",this.textOriginal="",this.tooltip&&this.createPlaceholder();}onMouseEnter(){this.placeholderSet?this.showTooltip():(this.createPlaceholder(),this.showTooltip());}offset(e){var n=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,a=window.pageYOffset||document.documentElement.scrollTop;return{top:n.top+a,left:n.left+o,right:n.right+o};}onMouseLeave(){this.placeholderSet&&this.hideTooltip();}onMouseUp(){window.prompt("Copy to clipboard: Ctrl+C, Enter",this.tooltip);}createPlaceholder(){if(this.tooltip&&(this.tooltip.length&&this.tooltip.length>1||A(this.tooltip,"original"))){this.tooltip.indexOf("original")>-1?(typeof this.tooltip=="string"&&(this.tooltip=JSON.parse(this.tooltip)),this.textOriginal=this.tooltip.original,this.textTransformed=this.tooltip.transformed||""):this.textTransformed=this.textOriginal=this.tooltip,this.div=document.createElement("div"),this.i=document.createElement("i"),this.i.className="glyphicon glyphicon-duplicate",this.spanText=document.createElement("span"),this.i.title="Copy text to clipboard",this.div.className="tooltip_container";let n=document.createElement("div");n.className="dir-tooltip animated";let o=document.createElement("br");this.i.addEventListener("mouseup",()=>{e();}),this.i.addEventListener("dblclick",()=>{e();});let a;if(Vf(this.textTransformed,"<br>")){let s=this.textTransformed.split("<br>");he(s,(l,_)=>{n.appendChild(o),this.spanText.appendChild(document.createTextNode(l)),n.appendChild(this.spanText);});}else a=document.createTextNode(this.textTransformed),this.spanText.appendChild(a),n.appendChild(this.spanText);n.appendChild(this.i),this.div.appendChild(n),this.setPositionOfDiv(),this.div.addEventListener("mouseleave",s=>{this.hideTooltip();}),document.querySelector("body").appendChild(this.div),this.placeholderSet=!0;}let e=()=>{let n=document.createElement("textarea");n.value=this.textOriginal,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),this.mainservice.showMsg("Text '"+this.textOriginal+"' copied successfully in the clipboard");};}setPositionOfDiv(){let e=this.offset(this.el.nativeElement);this.div.style.position="absolute",this.el.nativeElement.className&&this.el.nativeElement.className.indexOf("big_field")>-1?this.div.style.left=e.right-15*1+"px":this.div.style.left=e.left+15*1+"px",this.div.style.top=e.top+25*1+"px",this.div.addEventListener("mouseenter",n=>{this.showTooltip();});}showTooltip(){this.placeholderSet&&(this.div.classList.add("openflag"),this.div.classList.remove("closeflag"),setTimeout(()=>{this.div.classList.contains("openflag")&&(this.setPositionOfDiv(),this.div.classList.add("show"),this.div.classList.remove("closeflag"),this.div.classList.remove("openflag"));},800));}hideTooltip(){this.placeholderSet&&(this.div.classList.add("closeflag"),this.div.classList.remove("openflag"),setTimeout(()=>{this.div&&this.div.classList.contains("closeflag")&&(this.div.classList.remove("closeflag"),this.div.classList.remove("show"));},1e3));}ngOnDestroy(){let e=document.querySelectorAll(".tooltip_container");for(let n=0;n<e.length;n++)e[n].remove();}};r.ɵfac=function(n){return new(n||r)(k(ze),k(le));},r.ɵdir=Le({type:r,selectors:[["","tooltip",""]],hostBindings:function(n,o){n&1&&b("mouseenter",function(){return o.onMouseEnter();})("mouseleave",function(){return o.onMouseLeave();})("onmouseup",function(){return o.onMouseUp();});},inputs:{tooltip:"tooltip"},standalone:!1});let i=r;return i;})();var AOe=i=>({width:i});function wOe(i,r){if(i&1&&$(0,"li",2),i&2){let t=r.$implicit;m("title",X(t.title))("ngClass",t.cssClass)("ngStyle",ne(4,AOe,t.width+"%"));}}var MW=(()=>{let r=class r{constructor(){this.progress=[],this.totalCount=0;}ngOnInit(){this.getTotalCount();try{this.progress=this.model.map(e=>{let n=Object.keys(e)[0];return console.log("diffModel",this.diffModel),{cssClass:n,width:parseInt(e[n].toString())*100/this.totalCount,title:`${n}: ${e[n]}${this.setDiffTitle(n)}`};});}catch(e){console.warn(e);}}setDiffTitle(e){if(this.diffModel){if(e==="completed")return" ( No diffs )";if(e==="warning"&&this.extractDiffInformation())return` ( ${this.extractDiffInformation()} )`;}return"";}extractDiffInformation(){return["different","matches","missing"].map(e=>this.getIfExist(e,this.diffModel)).filter(e=>e).join(", ");}getIfExist(e,n){return A(n,e)?`${e}: ${n[e]}`:"";}getTotalCount(){this.model&&this.model.forEach(e=>{this.totalCount+=parseInt(e[Object.keys(e)[0]].toString());});}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["stacked-progress"]],inputs:{model:"model",diffModel:"diffModel"},standalone:!1,decls:3,vars:1,consts:[[1,"stacked_progress_container"],[3,"ngClass","ngStyle","title",4,"ngFor","ngForOf"],[3,"ngClass","ngStyle","title"]],template:function(n,o){n&1&&(u(0,"div",0)(1,"ul"),E(2,wOe,1,6,"li",1),p()()),n&2&&(c(2),m("ngForOf",o.progress));},dependencies:[Je,ve,wn],styles:['.stacked_progress_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}.stacked_progress_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0;float:left;display:inline-block;height:30px}.stacked_progress_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.scheduled[_ngcontent-%COMP%]{background:-moz-linear-gradient(top,rgba(21,70,109,.75) 0%,var(--backgroundHoverColor) 100%);background:-webkit-linear-gradient(top,rgba(21,70,109,.75) 0%,var(--backgroundHoverColor) 100%);background:linear-gradient(to bottom,rgba(21,70,109,.75) 0%,var(--backgroundHoverColor) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#165596",endColorstr="#0F2C4A",GradientType=0)}.stacked_progress_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.scheduled-for-retry[_ngcontent-%COMP%]{background:-moz-linear-gradient(top,rgba(61,148,136,.75) 0%,rgba(12,58,61,.75) 100%);background:-webkit-linear-gradient(top,rgba(61,148,136,.75) 0%,rgba(12,58,61,.75) 100%);background:linear-gradient(to bottom,#3d9488bf,#0c3a3dbf);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#3D9488",endColorstr="#0C3A3D",GradientType=0)}.stacked_progress_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.in-process[_ngcontent-%COMP%]{background:-moz-linear-gradient(top,rgba(121,41,162,.68) 0%,rgba(28,9,64,.82) 100%);background:-webkit-linear-gradient(top,rgba(121,41,162,.68) 0%,rgba(28,9,64,.82) 100%);background:linear-gradient(to bottom,#7929a2ad,#1c0940d1);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#7929A2",endColorstr="#1C0940",GradientType=0)}.stacked_progress_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.warning[_ngcontent-%COMP%]{background:-moz-linear-gradient(top,rgba(253,244,0,.83) 0%,rgba(255,152,64,.71) 100%);background:-webkit-linear-gradient(top,rgba(253,244,0,.83) 0%,rgba(255,152,64,.71) 100%);background:linear-gradient(to bottom,#fdf400d4,#ff9840b5);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#F7F269",endColorstr="#B5A13E",GradientType=0)}.stacked_progress_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.failed[_ngcontent-%COMP%]{background:-moz-linear-gradient(top,rgba(171,1,3,.89) 0%,rgba(82,0,1,.89) 100%);background:-webkit-linear-gradient(top,rgba(171,1,3,.89) 0%,rgba(82,0,1,.89) 100%);background:linear-gradient(to bottom,#ab0103e3,#520001e3);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#AB0103",endColorstr="#520001",GradientType=0)}.stacked_progress_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.canceled[_ngcontent-%COMP%]{background:-moz-linear-gradient(top,rgba(165,165,165,.82) 0%,rgba(91,91,91,.86) 100%);background:-webkit-linear-gradient(top,rgba(165,165,165,.82) 0%,rgba(91,91,91,.86) 100%);background:linear-gradient(to bottom,#a5a5a5d1,#5b5b5bdb);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#A5A5A5",endColorstr="#5B5B5B",GradientType=0)}.stacked_progress_container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]{background:-moz-linear-gradient(top,rgba(0,255,114,.46) 0%,rgba(12,107,32,.77) 100%);background:-webkit-linear-gradient(top,rgba(0,255,114,.46) 0%,rgba(12,107,32,.77) 100%);background:linear-gradient(to bottom,#00ff7275,#0c6b20c4);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#4BA4A4",endColorstr="#2AA459",GradientType=0)}']});let i=r;return i;})();var t3=i=>({width:i}),MOe=i=>({selected:i}),OW=i=>({pointer:i});function OOe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function POe(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function ROe(i,r){if(i&1){let t=O();u(0,"a",10),b("click",function(n){C(t);let o=d().$implicit,a=d(5);return n.preventDefault(),y(o.click(a.models,a.config));}),E(1,OOe,2,3,"span",11)(2,POe,2,3,"i",11),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function NOe(i,r){if(i&1&&(U(0),E(1,ROe,3,4,"a",9),W()),i&2){let t=r.$implicit,e=d(5);c(),m("ngIf",!t.showIf||t.showIf(e.models,e.config));}}function kOe(i,r){if(i&1&&(U(0),E(1,NOe,2,1,"ng-container",5),W()),i&2){let t=d(2).$implicit;c(),m("ngForOf",t.headerActions);}}function $Oe(i,r){if(i&1&&(U(0),u(1,"div",8),E(2,kOe,2,1,"ng-container",7),p(),W()),i&2){let t=d().$implicit;c(),m("ngStyle",ne(2,t3,t.calculatedWidth)),c(),m("ngIf",t.type==="actions"&&t.headerActions&&t.headerActions.length&&t.headerActions.length>0);}}function LOe(i,r){if(i&1&&(U(0),u(1,"div",12),T(2),p(),W()),i&2){let t=d().$implicit;c(),be(Ct("th ",t.cssClass||"")),m("title",X(t.description))("ngStyle",ne(7,t3,t.calculatedWidth)),c(),z(t.title);}}function FOe(i,r){if(i&1&&(U(0),E(1,$Oe,3,4,"ng-container",7)(2,LOe,3,9,"ng-container",7),W()),i&2){let t=r.$implicit;c(),m("ngIf",t.type==="buttons"||t.type==="actions"),c(),m("ngIf",!(t.type==="buttons"||t.type==="actions"));}}function VOe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).index,e=d(2);c(),ue("",t+(e.config.filter.offset||0)+1,".");}}function zOe(i,r){if(i&1){let t=O();u(0,"span",18)(1,"stacked-progress",19),b("click",function(){C(t);let n=d().$implicit,o=d().$implicit,a=d(2);return y(a.onProgressClicked(n,o));}),p()();}if(i&2){let t=d().$implicit,e=d().$implicit,n=d(2);m("ngClass",ne(3,OW,t.onClick)),c(),m("model",n._.get(e,t.key))("diffModel",t.diffMode);}}function GOe(i,r){if(i&1){let t=O();u(0,"span",18)(1,"stacked-progress",19),b("click",function(){C(t);let n=d().$implicit,o=d().$implicit,a=d(2);return y(a.onProgressClicked(n,o));}),p()();}if(i&2){let t=d().$implicit,e=d().$implicit,n=d(2);m("ngClass",ne(3,OW,t.onClick)),c(),m("model",n._.get(e,t.pathToValue))("diffModel",t.diffMode);}}function jOe(i,r){if(i&1&&(u(0,"span",21),T(1),p()),i&2){let t=d(4).$implicit,e=d().$implicit,n=d(2);be(Ct("text_content ",t.cssClass||"")),m("tooltip",X(n._.get(e,t.pathToValue))),c(),ue(" ",t.hook(n._.get(e,t.pathToValue)||t.pathToValue||e,e)," ");}}function UOe(i,r){if(i&1&&(U(0),E(1,jOe,2,6,"span",20),W()),i&2){let t=d(3).$implicit,e=d().$implicit,n=d(2);c(),m("ngIf",n._.hasIn(e,t.pathToValue)||e&&!t.pathToValue);}}function WOe(i,r){if(i&1&&(u(0,"span",21),T(1),p()),i&2){let t=d(4).$implicit,e=d().$implicit,n=d(2);be(Ct("text_content ",t.cssClass||"")),m("tooltip",X(t.hoverHook(e))),c(),ue(" ",t.hook(n._.get(e,t.pathToValue)||t.pathToValue||e,e)," ");}}function BOe(i,r){if(i&1&&(U(0),E(1,WOe,2,6,"span",20),W()),i&2){let t=d(3).$implicit,e=d().$implicit,n=d(2);c(),m("ngIf",n._.hasIn(e,t.pathToValue)||e&&!t.pathToValue);}}function HOe(i,r){if(i&1&&(U(0),E(1,UOe,2,1,"ng-container",7)(2,BOe,2,1,"ng-container",7),W()),i&2){let t=d(2).$implicit;c(),m("ngIf",!t.hoverHook),c(),m("ngIf",t.hoverHook);}}function qOe(i,r){if(i&1&&(u(0,"span",21),T(1),p()),i&2){let t=d(4).$implicit,e=d().$implicit,n=d(2);be(Ct("text_content ",t.cssClass||"")),m("tooltip",X(n._.get(e,t.pathToValue))),c(),ue(" ",n._.get(e,t.pathToValue)," ");}}function YOe(i,r){if(i&1&&(U(0),E(1,qOe,2,6,"span",20),W()),i&2){let t=d(3).$implicit,e=d().$implicit,n=d(2);c(),m("ngIf",n._.hasIn(e,t.pathToValue));}}function XOe(i,r){if(i&1&&(u(0,"span",21),T(1),p()),i&2){let t=d(4).$implicit,e=d().$implicit,n=d(2);be(Ct("text_content ",t.cssClass||"")),m("tooltip",X(t.hoverHook(e))),c(),ue(" ",n._.get(e,t.pathToValue)," ");}}function KOe(i,r){if(i&1&&(U(0),E(1,XOe,2,6,"span",20),W()),i&2){let t=d(3).$implicit,e=d().$implicit,n=d(2);c(),m("ngIf",n._.hasIn(e,t.pathToValue));}}function QOe(i,r){if(i&1&&(U(0),E(1,YOe,2,1,"ng-container",7)(2,KOe,2,1,"ng-container",7),W()),i&2){let t=d(2).$implicit;c(),m("ngIf",!t.hoverHook),c(),m("ngIf",t.hoverHook);}}function ZOe(i,r){if(i&1&&(U(0),E(1,HOe,3,2,"ng-container",7)(2,QOe,3,2,"ng-container",7),W()),i&2){let t=d().$implicit;c(),m("ngIf",t.hook),c(),m("ngIf",!t.hook);}}function JOe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function ePe(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function tPe(i,r){if(i&1){let t=O();u(0,"a",23),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a));}),E(1,JOe,2,3,"span",11)(2,ePe,2,3,"i",11),p();}if(i&2){let t=d().$implicit,e=d(2).$implicit,n=d().$implicit;be(Ct("pointer action-button ",e.cssClass||"")),m("title",t.title),c(),m("ngIf",t.icon.tag==="span"&&(!t.icon.showIf||t.icon.showIf(n))),c(),m("ngIf",t.icon.tag==="i"&&(!t.icon.showIf||t.icon.showIf(n)));}}function iPe(i,r){if(i&1&&(U(0),E(1,tPe,3,6,"a",22),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(2);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function nPe(i,r){if(i&1&&(U(0),E(1,iPe,2,1,"ng-container",5),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function rPe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function oPe(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function aPe(i,r){if(i&1){let t=O();u(0,"a",25),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a));}),E(1,rPe,2,3,"span",11)(2,oPe,2,3,"i",11),p();}if(i&2){let t=d().$implicit,e=d(2).$implicit,n=d().$implicit;be(Ct("pointer action-button ",e.cssClass||"")),c(),m("ngIf",t.icon.tag==="span"&&(!t.icon.showIf||t.icon.showIf(n))),c(),m("ngIf",t.icon.tag==="i"&&(!t.icon.showIf||t.icon.showIf(n)));}}function sPe(i,r){if(i&1&&(U(0),E(1,aPe,3,5,"a",24),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(2);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function lPe(i,r){if(i&1&&(U(0),E(1,sPe,2,1,"ng-container",5),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.buttons);}}function cPe(i,r){if(i&1&&(u(0,"div",16),E(1,VOe,2,1,"span",7)(2,zOe,2,5,"span",17)(3,GOe,2,5,"span",17)(4,ZOe,3,2,"ng-container",7)(5,nPe,2,1,"ng-container",7)(6,lPe,2,1,"ng-container",7),p()),i&2){let t=r.$implicit,e=d(3);be(Ct("td ",t.cssClass||"")),m("ngStyle",ne(10,t3,t.calculatedWidth)),c(),m("ngIf",t.type==="index"),c(),m("ngIf",t.type==="progress"&&e._.hasIn(t,"key")),c(),m("ngIf",t.type==="progress"&&e._.hasIn(t,"pathToValue")),c(),m("ngIf",t.type==="value"),c(),m("ngIf",t.type==="actions"),c(),m("ngIf",t.type==="buttons");}}function dPe(i,r){if(i&1&&(u(0,"tr"),$(1,"th",28)(2,"td",28),p()),i&2){let t=r.$implicit,e=d(3).$implicit;c(),m("innerHtml",t,Re),c(),m("innerHtml",e.tableGeneratorDetailAttributes[t],Re);}}function uPe(i,r){if(i&1&&(U(0),E(1,dPe,3,2,"tr",5),W()),i&2){let t=d(2).$implicit,e=d(2);c(),m("ngForOf",e.Object.keys(t.tableGeneratorDetailAttributes));}}function pPe(i,r){if(i&1&&($(0,"td",28),$e(1,"date")),i&2){let t=d().$implicit,e=d(3).$implicit;m("innerHtml",pt(1,1,e[t],"yyyy-MM-dd HH:mm:ss"),Re);}}function mPe(i,r){if(i&1&&$(0,"td",28),i&2){let t=d().$implicit,e=d(3).$implicit;m("innerHtml",e[t],Re);}}function _Pe(i,r){if(i&1&&(u(0,"tr"),$(1,"th",28),E(2,pPe,2,4,"td",29)(3,mPe,1,1,"ng-template",null,0,ia),p()),i&2){let t=r.$implicit,e=Pi(4);c(),m("innerHtml",t,Re),c(),m("ngIf",t==="createdTime"||t==="updatedTime"||t==="scheduledTime"||t==="processingStartTime"||t==="processingEndTime")("ngIfElse",e);}}function fPe(i,r){if(i&1&&(U(0),E(1,_Pe,5,3,"tr",5),W()),i&2){let t=d(2).$implicit,e=d(2);c(),m("ngForOf",e.Object.keys(t));}}function hPe(i,r){if(i&1&&(u(0,"div",4)(1,"div",26)(2,"table",27),E(3,uPe,2,1,"ng-container",7)(4,fPe,2,1,"ng-container",7),p()()()),i&2){let t=d(3);c(3),m("ngIf",t.stringifyDetailAttributes),c(),m("ngIf",!t.stringifyDetailAttributes);}}function gPe(i,r){if(i&1&&$(0,"attribute-list",31),i&2){let t=d(2).$implicit;m("attrs",t);}}function vPe(i,r){if(i&1&&(u(0,"div",4)(1,"div",26),E(2,gPe,1,1,"attribute-list",30),p()()),i&2){let t=d().$implicit;c(2),m("ngIf",t);}}function CPe(i,r){if(i&1&&(U(0),u(1,"div",13),E(2,cPe,7,12,"div",14),p(),E(3,hPe,5,2,"div",15)(4,vPe,3,1,"div",15),W()),i&2){let t=r.$implicit,e=d(2);c(),m("ngClass",ne(4,MOe,t&&t.selected)),c(),m("ngForOf",e.config.table),c(),m("ngIf",t&&t.showAttributes),c(),m("ngIf",t&&t.showDicomAttributes);}}function yPe(i,r){if(i&1&&(u(0,"div",2)(1,"div",3)(2,"div",4),E(3,FOe,3,2,"ng-container",5),p()(),u(4,"div",6),E(5,CPe,5,6,"ng-container",5),$e(6,"search"),p()()),i&2){let t=d();c(3),m("ngForOf",t.config.table),c(2),m("ngForOf",pt(6,2,t.models,t.config.search));}}var _a=(()=>{let r=class r{constructor(e){this.permissionService=e,this.tableMouseEnter=new ae(),this.tableMouseLeave=new ae(),this._=ye,this.Object=Object,console.log("model",this._models);}ngOnInit(){(!this._config||!A(this._config,"search"))&&(this._config=this._config||{},this._config.search=""),(!A(this._config,"calculate")||this._config.calculate)&&(this._config.table=I.calculateWidthOfTable(this._config.table)),this._config.table=this.checkSchemaPermission(this._config.table);}tMousEnter(){this.tableMouseEnter.emit();}tMousLeave(){this.tableMouseLeave.emit();}onProgressClicked(e,n){e.onClick&&e.onClick(n);}selectOnClick(e){let n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n);}get models(){return this._models;}set models(e){this._models=e,this.stringifyDetailAttributes&&this._models.map(n=>(n.tableGeneratorDetailAttributes=Object.assign({},n),I.stringifyArrayOrObject(n.tableGeneratorDetailAttributes,[]),n));}checkSchemaPermission(e){return e.forEach(n=>{if(n&&n.type){if(n.type==="actions"||n.type==="actions-menu"||n.type==="buttons"){let o="actions";if(A(n,"menu")&&n.menu&&(o="menu.actions"),B(n,o)&&B(n,o).length>0){let a=B(n,o).filter(s=>s.permission?this.permissionService.checkVisibility(s.permission):!0);Ue(n,o,a);}if(A(n,"headerActions")){o="headerActions";let a=B(n,o).filter(s=>s.permission?this.permissionService.checkVisibility(s.permission):!0);Ue(n,o,a);}}}else return!1;}),console.log("schema",e),e;}get config(){return this._config;}set config(e){console.log("in set config",e),A(e,"table")&&e.table.forEach(n=>{console.log("t",n),n.modifyData&&(!n.hook||n.hook==="")&&(n.hook=n.modifyData),n.header&&(!n.title||n.title==="")&&(n.title=n.header),n.type&&n.type==="model"&&(n.type="value"),n.key&&(!n.pathToValue||n.pathToValue==="")&&(n.pathToValue=n.key);}),console.log("in set config",e),this._config=e;}};r.ɵfac=function(n){return new(n||r)(k(In));},r.ɵcmp=Z({type:r,selectors:[["table-generator"]],inputs:{stringifyDetailAttributes:"stringifyDetailAttributes",models:"models",config:"config"},outputs:{tableMouseEnter:"tableMouseEnter",tableMouseLeave:"tableMouseLeave"},standalone:!1,decls:1,vars:1,consts:[["nodate_content",""],["class","dynamic_table ",4,"ngIf"],[1,"dynamic_table"],[1,"table_header"],[1,"tr"],[4,"ngFor","ngForOf"],[1,"table_body"],[4,"ngIf"],[1,"th",3,"ngStyle"],["class","text-white action-button",3,"title","click",4,"ngIf"],[1,"text-white","action-button",3,"click","title"],[3,"class",4,"ngIf"],[3,"title","ngStyle"],[1,"tr",3,"ngClass"],[3,"class","ngStyle",4,"ngFor","ngForOf"],["class","tr",4,"ngIf"],[3,"ngStyle"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"click","model","diffModel"],[3,"class","tooltip",4,"ngIf"],[3,"tooltip"],[3,"class","title","click",4,"ngIf"],[3,"click","title"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"td",2,"width","100%"],[1,"table","table-bordered","table-condensed","attribute_list"],[3,"innerHtml"],[3,"innerHtml",4,"ngIf","ngIfElse"],[3,"attrs",4,"ngIf"],[3,"attrs"]],template:function(n,o){n&1&&E(0,yPe,7,5,"div",1),n&2&&m("ngIf",o.models);},dependencies:[Je,ve,de,wn,Ch,jA,MW,Dr,yt],styles:[".dicom_table_buttons[_ngcontent-%COMP%]{width:25px;display:block;text-align:center;float:left}.text-white[_ngcontent-%COMP%]{color:#fff}.action-button[_ngcontent-%COMP%]{margin:1px 2px;float:left}.action-button[_ngcontent-%COMP%]:hover{font-weight:700}.shadow[_ngcontent-%COMP%]{-webkit-box-shadow:4px 4px 4px #ccc;-moz-box-shadow:4px 4px 4px #ccc;box-shadow:4px 4px 4px #ccc}a[_ngcontent-%COMP%]:hover{cursor:pointer}"]});let i=r;return i;})();var bPe=()=>({id:"action-monitoring->queues-all_action",param:"visible"}),SPe=(i,r)=>({gray:i,red:r}),PW=i=>({active:i});function EPe(i,r){if(i&1&&(u(0,"td"),T(1),p()),i&2){let t=d().$implicit,e=d(2);c(),z(e.statusValues[t]==null?null:e.statusValues[t].count);}}function TPe(i,r){i&1&&(u(0,"td"),$(1,"i",28),p());}function IPe(i,r){if(i&1&&(u(0,"tr",26)(1,"td"),T(2),p(),E(3,EPe,2,1,"td",27)(4,TPe,2,0,"td",27),p()),i&2){let t=r.$implicit,e=d(2);m("ngClass",yn(4,SPe,(e.statusValues[t]==null?null:e.statusValues[t].count)=="0",(e.statusValues[t]==null?null:e.statusValues[t].count)=="!")),c(2),ue("",e.statusValues[t]==null?null:e.statusValues[t].text,":"),c(),m("ngIf",!(e.statusValues[t]!=null&&e.statusValues[t].loader)),c(),m("ngIf",e.statusValues[t]==null?null:e.statusValues[t].loader);}}function xPe(i,r){i&1&&$(0,"span",29);}function APe(i,r){i&1&&$(0,"mat-progress-spinner",30),i&2&&m("diameter",20);}function wPe(i,r){if(i&1&&(u(0,"span",31),T(1),p()),i&2){let t=d(2);c(),z(t.timer.startText);}}function DPe(i,r){if(i&1&&(u(0,"span",31),T(1),p()),i&2){let t=d(2);c(),z(t.timer.stopText);}}function MPe(i,r){if(i&1){let t=O();u(0,"div",15),b("keyup",function(n){C(t);let o=d();return y(o.filterKeyUp(n));}),u(1,"div",16)(2,"table"),E(3,IPe,5,7,"tr",17),p(),u(4,"div",18)(5,"div",19)(6,"label"),P(7,1),p(),u(8,"input",20),q("ngModelChange",function(n){C(t);let o=d();return Y(o.interval,n)||(o.interval=n),y(n);}),p(),u(9,"span"),T(10,"s"),p()(),u(11,"button",21),b("click",function(){C(t);let n=d();return y(n.toggleAutoRefresh());}),u(12,"div",22),E(13,xPe,1,0,"span",23)(14,APe,1,1,"mat-progress-spinner",24),p(),E(15,wPe,2,1,"span",25)(16,DPe,2,1,"span",25),p()()()();}if(i&2){let t=d();c(3),m("ngForOf",t.Object.keys(t.statusValues)),c(5),H("ngModel",t.interval),c(5),m("ngIf",!t.timer.started),c(),m("ngIf",t.timer.started),c(),m("ngIf",!t.timer.started),c(),m("ngIf",t.timer.started);}}function OPe(i,r){if(i&1&&(u(0,"mat-option",32),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.value)),c(),z(t.label);}}function PPe(i,r){if(i&1){let t=O();u(0,"div",33),b("click",function(){C(t);let n=d();return y(n.prev());}),$(1,"span",34),p();}if(i&2){let t=d();m("ngClass",ne(1,PW,t.filterObject.offset>0));}}function RPe(i,r){if(i&1){let t=O();u(0,"div",35),b("click",function(){C(t);let n=d();return y(n.next());}),$(1,"span",36),p();}if(i&2){let t=d();m("ngClass",ne(1,PW,t.moreTasks));}}function NPe(i,r){if(i&1&&$(0,"table-generator",37),i&2){let t=d();m("stringifyDetailAttributes",!0)("config",t.tableConfig)("models",t.matches);}}var RW=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f,g,S,x){this.$http=e,this.service=n,this.mainservice=o,this.cfpLoadingBar=a,this.viewContainerRef=s,this.dialog=l,this.httpErrorHandler=_,this.route=f,this.deviceService=g,this.aeListService=S,this.permissionService=x,this.destroyed$=new Wu(1),this.filterLoadFinished=!1,this.matches=[],this.queues=[],this._=ye,this.counText="COUNT",this.allActionsOptions=[{value:"cancel",label:"Cancel all matching tasks"},{value:"reschedule",label:"Reschedule all matching tasks"},{value:"delete",label:"Delete all matching tasks"}],this.allActionsActive=[],this.statusValues={},this.interval=10,this.Object=Object,this.tableHovered=!1,this.statuses=[{value:"SCHEDULED",text:"SCHEDULED",key:"scheduled"},{value:"SCHEDULED FOR RETRY",text:"S. FOR RETRY",key:"scheduled-for-retry"},{value:"IN PROCESS",text:"IN PROCESS",key:"in-process"},{value:"COMPLETED",text:"COMPLETED",key:"completed"},{value:"WARNING",text:"WARNING",key:"warning"},{value:"FAILED",text:"FAILED",key:"failed"},{value:"CANCELED",text:"CANCELED",key:"canceled"}],this.timer={started:!1,startText:"Start Auto Refresh",stopText:"Stop Auto Refresh"},this.filterObject={status:void 0,orderby:void 0,queueName:void 0,dicomDeviceName:void 0,createdTime:void 0,updatedTime:void 0,batchID:void 0,localAET:void 0,remoteAET:void 0,StudyInstanceUID:void 0,limit:20,offset:0},this.filterSchema=[],this.tableConfig={search:"",showAttributes:!1},this.moreTasks=!1;}ngOnInit(){this.initCheck(10);}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.route.queryParams.subscribe(o=>{this.urlParam=Object.assign({},o),this.urlParam.queueName&&(this.filterObject.queueName=this.urlParam.queueName),this.urlParam.dicomDeviceName&&(this.filterObject.dicomDeviceName=this.urlParam.dicomDeviceName),this.init();}):e?setTimeout(()=>{n.initCheck(e-1);},20):(this.route.queryParams.subscribe(o=>{this.urlParam=Object.assign({},o),this.urlParam.queueName&&(this.filterObject.queueName=this.urlParam.queueName),this.init();}),this.init()),this.statusChange();}statusChange(){this.setTableSchema();}allActionChanged(e){let n="Are you sure, you want to "+we.getActionText(this.allAction)+" all matching tasks?",o={dicomDeviceName:this.filterObject.dicomDeviceName&&this.filterObject.status!="*"?this.filterObject.dicomDeviceName:void 0,status:this.filterObject.status&&this.filterObject.status!="*"?this.filterObject.status:void 0,createdTime:this.filterObject.createdTime||void 0,updatedTime:this.filterObject.updatedTime||void 0,localAET:this.filterObject.localAET&&this.filterObject.localAET!="*"?this.filterObject.localAET:void 0,remoteAET:this.filterObject.remoteAET&&this.filterObject.remoteAET!="*"?this.filterObject.remoteAET:void 0};switch(this.allAction){case"cancel":this.confirm({content:n}).subscribe(a=>{a&&(this.cfpLoadingBar.start(),this.service.cancelAll(o,this.filterObject.queueName).subscribe(s=>{this.mainservice.showMsg(""+s.count+" tasks in queue canceled successfully!"),this.cfpLoadingBar.complete();},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);})),this.allAction="",this.allAction=void 0;});break;case"reschedule":this.confirm({content:n}).subscribe(a=>{a&&this.deviceService.selectParametersForMatching(s=>{s&&(this.cfpLoadingBar.start(),A(s,"schema_model.newDeviceName")&&s.schema_model.newDeviceName!=""&&(o.newDeviceName=s.schema_model.newDeviceName),A(s,"schema_model.scheduledTime")&&s.schema_model.scheduledTime!=""&&(o.scheduledTime=s.schema_model.scheduledTime),this.service.rescheduleAll(o,this.filterObject.queueName).subscribe(l=>{this.mainservice.showMsg(""+l.count+" tasks in queue rescheduled successfully!"),this.cfpLoadingBar.complete();},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);}));},this.devices),this.allAction="",this.allAction=void 0;});break;case"delete":this.confirm({content:n}).subscribe(a=>{a&&(this.cfpLoadingBar.start(),this.service.deleteAll(o,this.filterObject.queueName).subscribe(s=>{this.mainservice.showMsg(""+(s.count||0)+" tasks in queue deleted successfully!"),this.cfpLoadingBar.complete();},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);})),this.allAction="",this.allAction=void 0;});break;}}init(){this.initQuery(),this.statuses.forEach(e=>{this.statusValues[e.value]=re({count:0,loader:!1},e);}),this.setTableSchema();}setTableSchema(){this.tableConfig={table:I.calculateWidthOfTable(this.service.getTableColumns(this,this.action,{filterObject:this.filterObject})),filter:this.filterObject,search:"",showAttributes:!1,calculate:!1};}action(e,n){switch(e){case"cancel-selected":this.executeAll("cancel");break;case"reschedule-selected":this.executeAll("reschedule");break;case"delete-selected":this.executeAll("delete");break;case"delete":this.delete(n);break;case"cancel":this.cancel(n);break;case"reschedule":this.reschedule(n);break;}}toggleAutoRefresh(){this.timer.started=!this.timer.started,this.timer.started?(this.getCounts(),this.refreshInterval=setInterval(()=>{this.getCounts();},this.interval*1e3)):clearInterval(this.refreshInterval);}tableMousEnter(){this.tableHovered=!0;}tableMousLeave(){this.tableHovered=!1;}getCounts(){this.filterObject.queueName?(this.tableHovered||this.search(0),Object.keys(this.statusValues).forEach(e=>{this.statusValues[e].loader=!0,this.service.getCount(this.filterObject.queueName,e,void 0,void 0,this.filterObject.dicomDeviceName,this.filterObject.createdTime,this.filterObject.updatedTime,this.filterObject.batchID,this.filterObject.localAET,this.filterObject.remoteAET,"",this.filterObject.StudyInstanceUID).subscribe(n=>{this.statusValues[e].loader=!1;try{this.statusValues[e].count=n.count;}catch{this.statusValues[e].count="";}},n=>{this.statusValues[e].loader=!1,this.statusValues[e].count="!";});})):this.mainservice.showError("No Queue Name selected!");}filterKeyUp(e){(e.keyCode?e.keyCode:e.which)===13&&this.search(0);}onSubmit(e){A(e,"id")&&A(e,"model")&&(this.filterObject=e.model,e.id==="count"?this.getCount():this.getCounts());}search(e){let n=this;this.filterObject.queueName?(n.cfpLoadingBar.start(),this.service.search(this.filterObject.queueName,this.filterObject.status,e,this.filterObject.limit,this.filterObject.dicomDeviceName,this.filterObject.createdTime,this.filterObject.updatedTime,this.filterObject.batchID,this.filterObject.localAET,this.filterObject.remoteAET,this.filterObject.orderby,this.filterObject.StudyInstanceUID).subscribe(o=>{po.production||(o=[{taskID:"1910",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"SCHEDULED",failures:"11",createdTime:"2022-03-15T01:20:51.476+0100",updatedTime:"2022-03-15T19:43:11.194+0100",scheduledTime:"2022-03-15T19:43:00.643+0100",processingStartTime:"2022-03-15T19:43:06.158+0100",processingEndTime:"2022-03-15T19:43:10.799+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.253254299183063559800543717906499910894",NumberOfInstances:"2079",Modality:["CT"]},{taskID:"1942",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.896+0100",updatedTime:"2022-03-15T19:39:01.099+0100",scheduledTime:"2022-03-15T19:38:00.984+0100",processingStartTime:"2022-03-15T19:39:00.860+0100",processingEndTime:"2022-03-15T19:39:01.098+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.229975568262236341440816121223809588447",NumberOfInstances:"2958",Modality:["CT","SR"]},{taskID:"1934",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.755+0100",updatedTime:"2022-03-15T19:39:01.027+0100",scheduledTime:"2022-03-15T19:38:00.942+0100",processingStartTime:"2022-03-15T19:39:00.771+0100",processingEndTime:"2022-03-15T19:39:01.026+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.150446237572158364218250943566632959728",NumberOfInstances:"1007",Modality:["CT","PR","SR"]},{taskID:"1918",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.585+0100",updatedTime:"2022-03-15T19:39:00.863+0100",scheduledTime:"2022-03-15T19:38:00.873+0100",processingStartTime:"2022-03-15T19:39:00.717+0100",processingEndTime:"2022-03-15T19:39:00.861+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.133790264388916295901178041223591125703",NumberOfInstances:"310",Modality:["CT","PR","KO"]},{taskID:"1922",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.634+0100",updatedTime:"2022-03-15T19:39:00.781+0100",scheduledTime:"2022-03-15T19:38:00.813+0100",processingStartTime:"2022-03-15T19:39:00.688+0100",processingEndTime:"2022-03-15T19:39:00.780+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.38075169170603874823282185203405259704",NumberOfInstances:"7",Modality:["PR","DX"]},{taskID:"1930",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.714+0100",updatedTime:"2022-03-15T19:39:00.735+0100",scheduledTime:"2022-03-15T19:38:00.741+0100",processingStartTime:"2022-03-15T19:39:00.671+0100",processingEndTime:"2022-03-15T19:39:00.734+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.73758429535919582411283778014440169399",NumberOfInstances:"3",Modality:["PR","SR","CR"]},{taskID:"1926",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.675+0100",updatedTime:"2022-03-15T19:39:00.729+0100",scheduledTime:"2022-03-15T19:38:00.722+0100",processingStartTime:"2022-03-15T19:39:00.657+0100",processingEndTime:"2022-03-15T19:39:00.728+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.244811086690625888516433847572724695651",NumberOfInstances:"3",Modality:["CR"]},{taskID:"1946",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.929+0100",updatedTime:"2022-03-15T19:39:00.707+0100",scheduledTime:"2022-03-15T19:38:00.700+0100",processingStartTime:"2022-03-15T19:39:00.638+0100",processingEndTime:"2022-03-15T19:39:00.705+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.186478623465738853816986648905599291667",NumberOfInstances:"1",Modality:["CR"]},{taskID:"1938",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.863+0100",updatedTime:"2022-03-15T19:39:00.706+0100",scheduledTime:"2022-03-15T19:38:00.699+0100",processingStartTime:"2022-03-15T19:39:00.594+0100",processingEndTime:"2022-03-15T19:39:00.703+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.153656090606480794239864790187400375890",NumberOfInstances:"1",Modality:["CR"]},{taskID:"1900",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",failures:"11",createdTime:"2022-03-10T13:15:58.517+0100",updatedTime:"2022-03-10T14:46:56.450+0100",scheduledTime:"2022-03-10T14:45:56.415+0100",processingStartTime:"2022-03-10T14:46:56.191+0100",processingEndTime:"2022-03-10T14:46:56.449+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"1.3.6.1.4.1.37873.1.98.95913952367855087503341730515226595193",NumberOfInstances:"2468",Modality:["CT"]},{taskID:"1905",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",failures:"11",createdTime:"2022-03-10T13:18:21.966+0100",updatedTime:"2022-03-10T14:35:56.325+0100",scheduledTime:"2022-03-10T14:34:56.331+0100",processingStartTime:"2022-03-10T14:35:56.193+0100",processingEndTime:"2022-03-10T14:35:56.324+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"1.2.826.0.1.3680043.2.1352.10.168.123.110.2834470",NumberOfInstances:"103",Modality:["MR"]},{taskID:"1889",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",failures:"11",createdTime:"2022-03-05T16:48:56.337+0100",updatedTime:"2022-03-05T18:05:56.300+0100",scheduledTime:"2022-03-05T18:04:56.323+0100",processingStartTime:"2022-03-05T18:05:56.213+0100",processingEndTime:"2022-03-05T18:05:56.299+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"1.2.124.113532.12.10565.9380.20171220.90627.17583712",NumberOfInstances:"0"},{taskID:"1895",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",failures:"11",createdTime:"2022-03-05T16:48:56.559+0100",updatedTime:"2022-03-05T18:05:56.299+0100",scheduledTime:"2022-03-05T18:04:56.322+0100",processingStartTime:"2022-03-05T18:05:56.170+0100",processingEndTime:"2022-03-05T18:05:56.298+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"1.2.124.113532.80.22166.36561.20181217.113442.21320",NumberOfInstances:"0"},{taskID:"1806",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",failures:"11",createdTime:"2022-02-25T16:16:40.377+0100",updatedTime:"2022-03-03T13:07:56.444+0100",scheduledTime:"2022-03-03T13:06:56.437+0100",processingStartTime:"2022-03-03T13:07:56.168+0100",processingEndTime:"2022-03-03T13:07:56.443+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.229975568262236341440816121223809588447",NumberOfInstances:"2958",Modality:["CT","SR"]},{taskID:"1757",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",failures:"11",createdTime:"2022-02-25T15:59:25.587+0100",updatedTime:"2022-02-25T17:16:11.921+0100",scheduledTime:"2022-02-25T17:15:13.689+0100",processingStartTime:"2022-02-25T17:16:11.125+0100",processingEndTime:"2022-02-25T17:16:11.921+0100",errorMessage:"HTTP 404 Not Found",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.314099000311973995718493894996536932361",NumberOfInstances:"0"},{taskID:"1572",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"WARNING",batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",createdTime:"2022-02-08T18:45:29.664+0100",updatedTime:"2022-02-08T18:45:49.821+0100",scheduledTime:"2022-02-08T18:45:29.489+0100",processingStartTime:"2022-02-08T18:45:48.149+0100",processingEndTime:"2022-02-08T18:45:49.821+0100",outcomeMessage:"Query retrieved 1 objects by Exporter ATS Prefetch NG - Series WADO Metadata, failed: 3 - HTTP 404 Not Found",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.109066430802510762536912094273354916506",NumberOfInstances:"1",Modality:["KO"]},{taskID:"1372",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"WARNING",createdTime:"2022-01-26T11:19:42.244+0100",updatedTime:"2022-01-26T11:20:52.979+0100",scheduledTime:"2022-01-26T11:20:42.243+0100",processingStartTime:"2022-01-26T11:20:52.407+0100",processingEndTime:"2022-01-26T11:20:52.979+0100",outcomeMessage:"Query retrieved 1 objects by Exporter ATS Prefetch NG - Series WADO Metadata, failed: 3 - HTTP 404 Not Found",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"1.3.12.2.1107.5.8.3.485251.834954.83838049.2020073010062484",NumberOfInstances:"1",Modality:["KO"]},{taskID:"1349",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"WARNING",failures:"2",createdTime:"2022-01-26T11:05:57.309+0100",updatedTime:"2022-01-26T11:10:30.402+0100",scheduledTime:"2022-01-26T11:09:30.745+0100",processingStartTime:"2022-01-26T11:10:29.889+0100",processingEndTime:"2022-01-26T11:10:30.402+0100",errorMessage:"HTTP 404 Not Found",outcomeMessage:"Query retrieved 2 objects by Exporter ATS Prefetch NG - Series WADO Metadata, failed: 1 - HTTP 404 Not Found",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"1.3.12.2.1107.5.8.3.485251.834954.83838049.2020073010062484",NumberOfInstances:"27",Modality:["CT"]},{taskID:"1318",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"WARNING",createdTime:"2022-01-21T15:29:10.379+0100",updatedTime:"2022-01-21T15:30:32.111+0100",scheduledTime:"2022-01-21T15:30:10.909+0100",processingStartTime:"2022-01-21T15:30:29.868+0100",processingEndTime:"2022-01-21T15:30:32.110+0100",outcomeMessage:"Query retrieved 1 objects by Exporter ATS Prefetch NG - Series WADO Metadata, failed: 3 - HTTP 404 Not Found",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.109066430802510762536912094273354916506",NumberOfInstances:"1",Modality:["KO"]},{taskID:"1336",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"WARNING",createdTime:"2022-01-21T15:29:11.011+0100",updatedTime:"2022-01-21T15:30:31.941+0100",scheduledTime:"2022-01-21T15:30:11.010+0100",processingStartTime:"2022-01-21T15:30:29.898+0100",processingEndTime:"2022-01-21T15:30:31.941+0100",outcomeMessage:"Query retrieved 2 objects by Exporter ATS Prefetch NG - Series WADO Metadata, failed: 3 - HTTP 404 Not Found",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"1.2.4.0.13.1.432252867.1552278.1",NumberOfInstances:"1",Modality:["KO"]},{taskID:"1336",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"WARNING",createdTime:"2022-01-21T15:29:11.011+0100",updatedTime:"2022-01-21T15:30:31.941+0100",scheduledTime:"2022-01-21T15:30:11.010+0100",processingStartTime:"2022-01-21T15:30:29.898+0100",processingEndTime:"2022-01-21T15:30:31.941+0100",outcomeMessage:"Query retrieved 2 objects by Exporter ATS Prefetch NG - Series WADO Metadata, failed: 3 - HTTP 404 Not Found",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"1.2.4.0.13.1.432252867.1552278.1",NumberOfInstances:"1",Modality:["KO"]}]),o&&o.length>0?(n.cfpLoadingBar.complete(),this.matches=o,this.moreTasks=o.length>this.filterObject.limit,this.moreTasks&&this.matches.splice(this.matches.length-1,1)):(n.matches=[],n.cfpLoadingBar.complete(),this.mainservice.showMsg("No tasks found!"));},o=>{console.log("err",o),n.matches=[];})):this.mainservice.showError("No Queue Name selected!");}getCount(){this.filterObject.queueName?(this.cfpLoadingBar.start(),this.setFilters(),this.service.getCount(this.filterObject.queueName,this.filterObject.status,void 0,void 0,this.filterObject.dicomDeviceName,this.filterObject.createdTime,this.filterObject.updatedTime,this.filterObject.batchID,this.filterObject.localAET,this.filterObject.remoteAET,"").subscribe(e=>{try{this.counText="COUNT "+e.count+"";}catch{this.counText="COUNT";}this.setFilters(),this.cfpLoadingBar.complete();},e=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(e);})):this.mainservice.showError("No Queue Name selected!");}confirm(e){return this.dialogRef=this.dialog.open(Ei,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}cancel(e){let n=this;n.cfpLoadingBar.start(),this.service.cancel(this.filterObject.queueName,e.taskID).subscribe(function(o){e.properties.status="CANCELED",n.cfpLoadingBar.complete();},o=>{n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(o);});}reschedule(e){let n=this;this.deviceService.selectParameters(o=>{if(o){n.cfpLoadingBar.start();let a={};A(o,"schema_model.newDeviceName")&&o.schema_model.newDeviceName!=""&&(a.newDeviceName=o.schema_model.newDeviceName),A(o,"schema_model.scheduledTime")&&o.schema_model.scheduledTime!=""&&(a.scheduledTime=o.schema_model.scheduledTime),this.service.reschedule(this.filterObject.queueName,e.taskID,a).subscribe(s=>{n.search(0),n.cfpLoadingBar.complete();},s=>{n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(s);});}},this.devices);}checkAll(e){console.log("in checkall",e.target.checked),this.matches.forEach(n=>{n.checked=e.target.checked;});}delete(e){let n=this;this.confirm({content:"Are you sure you want to delete?"}).subscribe(o=>{o&&(n.cfpLoadingBar.start(),this.service.delete(this.filterObject.queueName,e.taskID).subscribe(a=>{n.search(n.matches[0].offset),n.cfpLoadingBar.complete();},a=>{n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(a);}));},o=>{n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(o);});}executeAll(e){this.confirm({content:"Are you sure you want to "+we.getActionText(e)+" selected entries?"}).subscribe(n=>{n&&(this.cfpLoadingBar.start(),this.matches.forEach(o=>{o.selected&&this.service[e](this.filterObject.queueName,o.taskID).subscribe(a=>{},a=>{this.httpErrorHandler.handleError(a);});}),setTimeout(()=>{e==="delete"?this.search(this.matches[0].offset||0):this.search(0),this.cfpLoadingBar.complete();},300));});}getQueueDescriptionFromName(e){let n;return he(this.queues,(o,a)=>{o.name==e&&(n=o.description);}),n;}hasOlder(e){return e&&e.length===this.filterObject.limit;}hasNewer(e){return e&&e.length&&e[0].offset;}newerOffset(e){return Math.max(0,e[0].offset-this.filterObject.limit);}olderOffset(e){return e[0].offset+this.filterObject.limit;}next(){if(this.moreTasks){let e=Object.assign({},this.filterObject);e.limit&&(this.filterObject.offset=e.offset=e.offset*1+this.filterObject.limit*1,e.limit++),this.search(e.offset);}}prev(){if(this.filterObject.offset>0){let e=Object.assign({},this.filterObject);e.limit&&(this.filterObject.offset=e.offset=e.offset*1-this.filterObject.limit*1),this.search(e.offset);}}initQuery(){let e=this;this.cfpLoadingBar.start(),this.getLocalAEs(),this.getRemoteAEs(),this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}queue`).subscribe(n=>{e.getDevices(),e.queues=n,!this.urlParam&&!this.filterObject.queueName&&(this.filterObject.queueName=n[0].name),e.cfpLoadingBar.complete();});}setFilters(){this.filterSchema=I.prepareFlatFilterObject(this.service.getFilterSchema(this.queues,this.devices,this.localAETs,this.remoteAETs,this.counText),3),this.urlParam&&(this.filterObject.queueName=this.filterObject.queueName||"Export",this.filterObject.orderby=this.filterObject.orderby||"-updatedTime");}getDevices(){this.cfpLoadingBar.start(),this.service.getDevices().subscribe(e=>{this.cfpLoadingBar.complete(),this.devices=I.mapDevicesToDropdown(e.filter(n=>n.hasArcDevExt),n=>new G(n.dicomDeviceName,n.dicomDeviceName,n.dicomDescription,n.dicomDescription?`${n.dicomDescription} ( ${n.dicomDeviceName} )`:n.dicomDeviceName)),this.setFilters(),this.urlParam&&Object.keys(this.urlParam).length>0&&this.search(0);},e=>{this.cfpLoadingBar.complete(),console.error("Could not get devices",e);});}getRemoteAEs(){this.aeListService.getAes().subscribe(e=>{this.remoteAETs=e;});}getLocalAEs(){this.aeListService.getAets().subscribe(e=>{this.localAETs=e;});}ngOnDestroy(){this.timer.started&&(this.timer.started=!1,clearInterval(this.refreshInterval)),this.destroyed$.next(!0),this.destroyed$.complete();}};r.ɵfac=function(n){return new(n||r)(k(Fe),k(SA),k(le),k(ti),k(Mt),k(ri),k(Pt),k(Dn),k(Xt),k(un),k(In));},r.ɵcmp=Z({type:r,selectors:[["app-queues"]],standalone:!1,decls:18,vars:11,consts:()=>{let e;e="All actions";let n;n="Queues";let o;o="Interval";let a;return a="Interval:",[n,a,[1,"main_content","queues","monitoring","white_design"],[1,"tab-content"],[1,"filter_line"],[1,"filter_block"],["filterIdTemplate","monitoring-queues",3,"submit","onChange","onFilterLoadFinish","schema","model","filterTreeHeight"],["class","filter",3,"keyup",4,"ngIf"],[1,"filter","single_block",3,"permission"],[1,"line"],["placeholder",e,1,"w45percent","pull-left",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","left_arrow arrow",3,"ngClass","click",4,"ngIf"],["class","right_arrow arrow",3,"ngClass","click",4,"ngIf"],[3,"stringifyDetailAttributes","config","models",4,"ngIf"],[1,"filter",3,"keyup"],[1,"filter_block","auto_reloader"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"option_block"],[1,"interval_block"],["type","text","placeholder",o,3,"ngModelChange","ngModel"],[1,"btn-default","submit",3,"click"],[1,"spinnter_container"],["class","glyphicon glyphicon-refresh",4,"ngIf"],["mode","indeterminate",3,"diameter",4,"ngIf"],["class","spinnter_text",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[1,"fa","fa-circle-o-notch","fa-spin","dashboard_loader"],[1,"glyphicon","glyphicon-refresh"],["mode","indeterminate",3,"diameter"],[1,"spinnter_text"],[3,"value"],[1,"left_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-left"],[1,"right_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-right"],[3,"stringifyDetailAttributes","config","models"]];},template:function(n,o){n&1&&(u(0,"div",2),$(1,"monitoring-tabs"),u(2,"div",3)(3,"h2"),P(4,0),p(),u(5,"div",4)(6,"div",5)(7,"filter-generator",6),b("submit",function(s){return o.onSubmit(s);})("onChange",function(){return o.statusChange();})("onFilterLoadFinish",function(){return o.filterLoadFinished=!0;}),p(),E(8,MPe,17,6,"div",7),p()(),u(9,"div",4)(10,"div",8)(11,"div",5)(12,"div",9)(13,"mat-select",10),q("ngModelChange",function(s){return Y(o.allAction,s)||(o.allAction=s),s;}),b("selectionChange",function(s){return o.allActionChanged(s);}),E(14,OPe,2,3,"mat-option",11),p()()()()(),E(15,PPe,2,3,"div",12)(16,RPe,2,3,"div",13)(17,NPe,1,3,"table-generator",14),p()()),n&2&&(c(7),m("schema",o.filterSchema)("model",o.filterObject)("filterTreeHeight",3),c(),m("ngIf",o.filterLoadFinished),c(2),m("permission",Ke(10,bPe)),c(3),H("ngModel",o.allAction),c(),m("ngForOf",o.allActionsOptions),c(),m("ngIf",o.matches&&o.matches.length&&o.matches.length>0),c(),m("ngIf",o.matches&&o.matches.length&&o.matches.length>0),c(),m("ngIf",o.tableConfig&&o.matches&&o.matches.length&&o.matches.length>0));},dependencies:[Je,ve,de,Me,Se,Ee,fi,ii,Ao,jr,Yi,xn,_a],encapsulation:2});let i=r;return i;})();var NW=(()=>{let r=class r{constructor(){}extractPatientIdentifiers(e){try{if(e){let n=/(\w+)(\^{3})?(\w*)&?(\w*)&?(\w*)\^?(\w*)/,o;if((o=n.exec(e))!==null){let a={};return o[1]&&(a.PatientID={text:o[1],modelPath:"00100020.Value[0]",firstLevelCode:"00100020"}),o[3]&&(a.IssuerOfPatientID={text:o[3],modelPath:"00100021.Value[0]",firstLevelCode:"00100021"}),o[4]&&(a.UniversalEntityID={text:o[4],modelPath:"00100024.Value[0][00400032].Value[0]",firstLevelCode:"00100024"}),o[5]&&(a.UniversalEntityIDType={text:o[5],modelPath:"00100024.Value[0][00400033].Value[0]",firstLevelCode:"00100024"}),o[6]&&(a.TypeofPatientID={text:o[6],modelPath:"00100022.Value[0]",firstLevelCode:"00100022"}),a;}return;}}catch{return;}}getSimpleFormSchema(){return[new Fn({type:"composed-input",inputSize:5,joinString:"^",modelPath:"00100010.Value[0].Alphabetic",placeholderElements:["Family Name","Given Name","Middle Name","Prefix","Suffix"],description:"Patient name ( Alphabetic )",placeholder:"Patient name ( Alphabetic )"}),new Fn({type:"composed-input",inputSize:5,joinString:"^",modelPath:"00100010.Value[0].Ideographic",placeholderElements:["Family Name","Given Name","Middle Name","Prefix","Suffix"],description:"Patient name ( Ideographic )",placeholder:"Patient name ( Ideographic )"}),new Fn({type:"composed-input",inputSize:5,joinString:"^",modelPath:"00100010.Value[0].Phonetic",placeholderElements:["Family Name","Given Name","Middle Name","Prefix","Suffix"],description:"Patient name ( Phonetic )",placeholder:"Patient name ( Phonetic )"}),new Fn({type:"input",modelPath:"00100020.Value[0]",onChangeHook:(e,n,o)=>{},onFocusOutHook:(e,n,o)=>{let a=B(o,e.modelPath),s=this.extractPatientIdentifiers(a);console.log("extracted",s),s&&Object.keys(s).forEach(l=>{s[l].text&&(!A(o,s[l].modelPath)&&!A(o,s[l].firstLevelCode)&&(o[s[l].firstLevelCode]=Oe(this.iod[s[l].firstLevelCode]),I.removeKeyFromObject(o[s[l].firstLevelCode],"multi"),I.removeKeyFromObject(o[s[l].firstLevelCode],"required")),Ue(o,s[l].modelPath,s[l].text));});},description:"Patient ID",placeholder:"Patient ID"}),new Fn({type:"input",modelPath:"00100021.Value[0]",description:"Issuer of Patient ID",placeholder:"Issuer of Patient ID"}),new Fn({tag:"p-calendar",modelPath:"00100030.Value[0]",onlyDate:!0,description:"Patient's Birth Date",placeholder:"Patient's Birth Date"}),new Fn({tag:"select",options:[new G("F","Female"),new G("M","Male"),new G("O","Other")],modelPath:"00100040.Value[0]",description:"Patient's Sex",placeholder:"Patient's Sex"})];}};r.ɵfac=function(n){return new(n||r)();},r.ɵprov=Q({token:r,factory:r.ɵfac,providedIn:"root"});let i=r;return i;})();function $Pe(i,r){if(i&1&&(u(0,"mat-option",6),T(1),p()),i&2){let t=r.$implicit;m("title",ea("",t.title," (",t.value,")"))("value",X(t.value)),c(),z(t.title);}}function LPe(i,r){if(i&1&&(U(0),u(1,"span",4),T(2),p(),E(3,$Pe,2,6,"mat-option",5),W()),i&2){let t=r.$implicit;c(),m("title",X(t.groupName)),c(),z(t.groupName),c(),m("ngForOf",t.groupValues);}}function FPe(i,r){if(i&1){let t=O();u(0,"mat-select",2),b("ngModelChange",function(n){C(t);let o=d();return y(o.modelChanged(n));}),E(1,LPe,4,4,"ng-container",3),p();}if(i&2){let t=d();m("ngModel",t.localModel),c(),m("ngForOf",t.specificChar);}}function VPe(i,r){if(i&1){let t=O();u(0,"div",14),b("click",function(){let n=C(t).$implicit,o=d(3);return y(o.addSelectedElement(n.value));}),T(1),p();}if(i&2){let t=r.$implicit;m("title",ea("",t.title," (",t.value,")")),c(),z(t.title);}}function zPe(i,r){if(i&1&&(u(0,"div")(1,"span",4),T(2),p(),E(3,VPe,2,4,"div",13),$e(4,"search"),p()),i&2){let t=r.$implicit,e=d(2);c(),m("title",X(t.groupName)),c(),z(t.groupName),c(),m("ngForOf",pt(4,4,t.groupValues,e.filter));}}function GPe(i,r){if(i&1){let t=O();u(0,"div",7),b("keydown",function(n){C(t);let o=d();return y(o.keyDown(n));}),u(1,"div",8),b("click",function(){C(t);let n=d();return y(n.close());}),$(2,"span",9),p(),u(3,"input",10),q("ngModelChange",function(n){C(t);let o=d();return Y(o.filter,n)||(o.filter=n),y(n);}),p(),u(4,"div",11)(5,"div",12),E(6,zPe,5,7,"div",3),$e(7,"search"),p()()();}if(i&2){let t=d();c(3),H("ngModel",t.filter),c(3),m("ngForOf",pt(7,2,t.specificChar,t.filter));}}var yh=(()=>{let r=class r{set model(e){this.localModel=e;}constructor(){this.modelChange=new ae(),this.onValueSet=new ae(),this.filter="";}ngOnInit(){this.format&&this.format==="hl7Charset"?this.specificChar=we.HL7_SPECIFIC_CHAR:this.specificChar=we.DICOM_SPECIFIC_CHAR;}addSelectedElement(e){this.onValueSet.emit(e);}modelChanged(e){this.localModel=e,this.modelChange.emit(this.localModel),this.onValueSet.emit(this.localModel);}close(){this.onValueSet.emit("");}keyDown(e){if(e.keyCode===13){let n=new yt().transform(this.specificChar,this.filter);n.length>0&&this.onValueSet.emit(n[0].value);}}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["specific-char-picker"]],inputs:{model:"model",value:"value",mode:"mode",format:"format"},outputs:{modelChange:"modelChange",onValueSet:"onValueSet"},standalone:!1,decls:2,vars:2,consts:()=>{let e;return e="  Search..",[["ngDefaultControl","",3,"ngModel","ngModelChange",4,"ngIf"],["class","widghet_content",3,"keydown",4,"ngIf"],["ngDefaultControl","",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"groupName",3,"title"],[3,"title","value",4,"ngFor","ngForOf"],[3,"title","value"],[1,"widghet_content",3,"keydown"],[1,"close",3,"click"],[1,"glyphicon","glyphicon-remove"],["placeholder",e,1,"dictionary_widget_search",3,"ngModelChange","ngModel"],[1,"char_widget"],[1,"list"],["class","list_element",3,"title","click",4,"ngFor","ngForOf"],[1,"list_element",3,"click","title"]];},template:function(n,o){n&1&&E(0,FPe,2,2,"mat-select",0)(1,GPe,8,5,"div",1),n&2&&(m("ngIf",!o.mode),c(),m("ngIf",o.mode&&o.mode==="configurator"));},dependencies:[ve,de,Me,Se,Ee,fi,ii,yt],styles:[".dictionary_widget_search[_ngcontent-%COMP%]{position:absolute;z-index:99999;margin-left:15px;margin-top:7px;min-width:175px;left:0;width:100%!important;top:35px}.char_widget[_ngcontent-%COMP%]{padding-top:45px;max-height:300px;overflow:auto;position:absolute;z-index:9999;background:#fff;-webkit-box-shadow:3px 4px 8px 6px #cccccc;-moz-box-shadow:3px 4px 8px 6px #cccccc;box-shadow:3px 4px 8px 6px #ccc;width:650px;top:35px}.char_widget[_ngcontent-%COMP%]   .no_result[_ngcontent-%COMP%]{padding:0 15px 30px;min-width:205px;font-size:18px;color:#914f4f}.char_widget[_ngcontent-%COMP%]   ul.list[_ngcontent-%COMP%]{list-style:none;padding:10px 15px;margin-top:30px}.char_widget[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#ccc;cursor:pointer}.close[_ngcontent-%COMP%]{position:absolute;z-index:999999;margin-left:610px;margin-top:8px;top:35px}.widghet_content[_ngcontent-%COMP%]   .list_element[_ngcontent-%COMP%]{padding-left:10px}"]});let i=r;return i;})();var $W=(()=>{let r=class r{constructor(e,n){this.el=e,this.renderer=n;}ngOnInit(){this.inputAttribut.code=="00100020"&&this.inputAttribut.externalInternalAetMode=="external"?this.renderer.setAttribute(this.el.nativeElement,"placeholder",this.inputAttribut.name):this.inputAttribut.code in we.IODPLACEHOLDERS&&A(we.IODPLACEHOLDERS[this.inputAttribut.code],this.inputAttribut.mode)?(we.IODPLACEHOLDERS[this.inputAttribut.code][this.inputAttribut.mode].action==="replace"&&this.el.nativeElement.tagName==="INPUT"&&(this.renderer.setAttribute(this.el.nativeElement,"placeholder",we.IODPLACEHOLDERS[this.inputAttribut.code][this.inputAttribut.mode].placeholder),this.renderer.setAttribute(this.el.nativeElement,"title",we.IODPLACEHOLDERS[this.inputAttribut.code][this.inputAttribut.mode].placeholder)),we.IODPLACEHOLDERS[this.inputAttribut.code][this.inputAttribut.mode].action==="disable"&&this.disableElement()):(this.inputAttribut.iod&&!A(this.inputAttribut.iod,this.inputAttribut.code)&&this.disableElement(),this.renderer.setAttribute(this.el.nativeElement,"placeholder",this.inputAttribut.name));}disableElement(){this.el.nativeElement.tagName==="INPUT"&&this.renderer.setProperty(this.el.nativeElement,"disabled",!0),this.el.nativeElement.tagName==="DIV"&&(this.el.nativeElement.style.display="none");}};r.ɵfac=function(n){return new(n||r)(k(ze),k(Jt));},r.ɵdir=Le({type:r,selectors:[["","placeholderchanger",""]],inputs:{inputAttribut:[0,"placeholderchanger","inputAttribut"]},standalone:!1});let i=r;return i;})();var UPe=(i,r)=>({firstlevel:i,sq:r}),LW=(i,r,t,e,n)=>({code:i,name:r,mode:t,delete:!1,iod:e,externalInternalAetMode:n}),WPe=(i,r,t,e)=>({code:i,name:r,mode:t,delete:!0,iod:e});function BPe(i,r){if(i&1){let t=O();u(0,"div",10),b("click",function(){C(t);let n=d().$implicit,o=d();return y(o.removeAttr(n));}),p();}}function HPe(i,r){if(i&1){let t=O();u(0,"input",22),q("ngModelChange",function(n){C(t);let o=d(2).index,a=d(2).$implicit,s=d();return Y(s.object[a].Value[o],n)||(s.object[a].Value[o]=n),y(n);}),p();}if(i&2){let t=d(2).index,e=d(2).$implicit,n=d();be(e),m("placeholderchanger",a_(4,LW,e,n.DCM4CHE.elementName.forTag(e,n.privateCreator(e)),n.mode,n.iod,n.externalInternalAetMode)),H("ngModel",n.object[e].Value[t]);}}function qPe(i,r){if(i&1){let t=O();u(0,"range-picker",23),b("modelChange",function(n){C(t);let o=d(2).index,a=d(2).$implicit,s=d();return y(s.object[a].Value[o]=n);}),p();}if(i&2){let t=d(2).index,e=d(2).$implicit,n=d();be(e),m("model",n.object[e].Value[t])("datePickerMode",!0);}}function YPe(i,r){if(i&1&&(u(0,"option",26),T(1),p()),i&2){let t=r.$implicit;m("ngValue",t.obj.Value[0]),c(),z(t.title);}}function XPe(i,r){if(i&1){let t=O();u(0,"select",24),b("ngModelChange",function(n){C(t);let o=d(5);return y(o.onChange(n,"object.00100040.Value[0]"));}),E(1,YPe,2,2,"option",25),p();}if(i&2){let t=d(4).$implicit,e=d();be(Ct("selectelement ",t)),m("ngModel",e.object[t].Value[0]),c(),m("ngForOf",e.options.genders);}}function KPe(i,r){if(i&1){let t=O();u(0,"input",22),q("ngModelChange",function(n){C(t);let o=d(3).index,a=d(2).$implicit,s=d();return Y(s.object[a].Value[o],n)||(s.object[a].Value[o]=n),y(n);}),p();}if(i&2){let t=d(3).index,e=d(2).$implicit,n=d();be(e),m("placeholderchanger",a_(4,LW,e,n.DCM4CHE.elementName.forTag(e,n.privateCreator(e)),n.mode,n.iod,n.externalInternalAetMode)),H("ngModel",n.object[e].Value[t]);}}function QPe(i,r){if(i&1&&(u(0,"option",29),T(1),p()),i&2){let t=r.$implicit;m("value",X(t)),c(),z(t);}}function ZPe(i,r){if(i&1){let t=O();u(0,"select",24),q("ngModelChange",function(n){C(t);let o=d(5).$implicit,a=d();return Y(a.object[o].Value[0],n)||(a.object[o].Value[0]=n),y(n);}),u(1,"option",27),T(2,"*"),p(),E(3,QPe,2,3,"option",28),p();}if(i&2){let t=d(5).$implicit,e=d();H("ngModel",e.object[t].Value[0]),c(3),m("ngForOf",e._.get(e.appService.global,"uiConfig.dcmuiMWLWorklistLabel"));}}function JPe(i,r){if(i&1&&(U(0),E(1,KPe,1,10,"input",16)(2,ZPe,4,2,"select",19),W()),i&2){let t=d(5);c(),m("ngIf",!t._.get(t.appService.global,"uiConfig.dcmuiMWLWorklistLabel")),c(),m("ngIf",t._.get(t.appService.global,"uiConfig.dcmuiMWLWorklistLabel"));}}function eRe(i,r){i&1&&(u(0,"option",27),T(1,"*"),p());}function tRe(i,r){if(i&1&&(u(0,"option",29),T(1),p()),i&2){let t=r.$implicit;m("value",X(t)),c(),z(t);}}function iRe(i,r){if(i&1){let t=O();u(0,"select",24),q("ngModelChange",function(n){C(t);let o=d(4).$implicit,a=d();return Y(a.object[o].Value[0],n)||(a.object[o].Value[0]=n),y(n);}),E(1,eRe,2,0,"option",30)(2,tRe,2,3,"option",28),p();}if(i&2){let t=d(4).$implicit,e=d();H("ngModel",e.object[t].Value[0]),c(),m("ngIf",!(e.object[t].required&&e.object[t].required===1)),c(),m("ngForOf",e.object[t].enum);}}function nRe(i,r){if(i&1){let t=O();u(0,"specific-char-picker",31),q("modelChange",function(n){C(t);let o=d(2).index,a=d(2).$implicit,s=d();return Y(s.object[a].Value[o],n)||(s.object[a].Value[o]=n),y(n);}),b("modelChange",function(n){C(t);let o=d(5);return y(o.charChange(n));}),p();}if(i&2){let t=d(2).index,e=d(2).$implicit,n=d();H("model",n.object[e].Value[t]);}}function rRe(i,r){if(i&1){let t=O();u(0,"div",32),b("click",function(){C(t);let n=d(4).$implicit,o=d();return y(o.removeAttr(n));}),p();}if(i&2){let t=d(4).$implicit,e=d();be(Ct("iod_remove glyphicon glyphicon-remove ",t)),m("placeholderchanger",yd(4,WPe,t,e.DCM4CHE.elementName.forTag(t,e.privateCreator(t)),e.mode,e.iod));}}function oRe(i,r){if(i&1&&(u(0,"div",15),E(1,HPe,1,10,"input",16)(2,qPe,1,4,"range-picker",17)(3,XPe,2,5,"select",18)(4,JPe,3,2,"ng-container",9)(5,iRe,3,3,"select",19)(6,nRe,1,1,"specific-char-picker",20)(7,rRe,1,9,"div",21),p()),i&2){let t=d(3).$implicit,e=d();c(),m("ngIf",!(e.object[t].enum&&e.object[t].enum.length>0)&&e.object[t].vr!="DA"&&e.object[t].vr!="DT"&&t!="00100040"&&t!="00080005"&&t!="00102203"&&t!="00741202"),c(),m("ngIf",(e.object[t].vr==="DA"||e.object[t].vr==="DT")&&t!="00100040"&&t!="00080005"&&t!="00102203"&&t!="00741202"),c(),m("ngIf",t==="00100040"&&t!="00102203"&&t!="00741202"),c(),m("ngIf",t==="00741202"),c(),m("ngIf",e.object[t].enum&&e.object[t].enum.length>0),c(),m("ngIf",t==="00080005"),c(),m("ngIf",t!="00104000"&&!e.prefix);}}function aRe(i,r){if(i&1){let t=O();u(0,"div",10),b("click",function(){C(t);let n=d(4).$implicit,o=d();return y(o.removeAttr(n));}),p();}}function sRe(i,r){if(i&1){let t=O();u(0,"div",33)(1,"input",34),q("ngModelChange",function(n){C(t);let o=d().index,a=d(2).$implicit,s=d();return Y(s.object[a].Value[o].Alphabetic,n)||(s.object[a].Value[o].Alphabetic=n),y(n);}),Jo(2,0),p(),u(3,"input",34),q("ngModelChange",function(n){C(t);let o=d().index,a=d(2).$implicit,s=d();return Y(s.object[a].Value[o].Ideographic,n)||(s.object[a].Value[o].Ideographic=n),y(n);}),Jo(4,1),p(),u(5,"input",34),q("ngModelChange",function(n){C(t);let o=d().index,a=d(2).$implicit,s=d();return Y(s.object[a].Value[o].Phonetic,n)||(s.object[a].Value[o].Phonetic=n),y(n);}),Jo(6,2),p(),E(7,aRe,1,0,"div",7),p();}if(i&2){let t=d().index,e=d(2).$implicit,n=d();c(),Kr(n.DCM4CHE.elementName.forTag(e,n.privateCreator(e))),lo(2),H("ngModel",n.object[e].Value[t].Alphabetic),c(2),Kr(n.DCM4CHE.elementName.forTag(e,n.privateCreator(e))),lo(4),H("ngModel",n.object[e].Value[t].Ideographic),c(2),Kr(n.DCM4CHE.elementName.forTag(e,n.privateCreator(e))),lo(6),H("ngModel",n.object[e].Value[t].Phonetic),c(2),m("ngIf",e!="00104000"&&e!="00080005"&&!n.prefix);}}function lRe(i,r){if(i&1&&(u(0,"div"),E(1,oRe,8,7,"div",13)(2,sRe,8,7,"div",14),p()),i&2){let t=d(2).$implicit,e=d();c(),m("ngIf",e.object[t].vr!="PN"),c(),m("ngIf",e.object[t].vr==="PN");}}function cRe(i,r){if(i&1&&(u(0,"div",11),E(1,lRe,3,2,"div",12),p()),i&2){let t=d().$implicit,e=d();c(),m("ngForOf",e.object[t].Value)("ngForTrackBy",e.trackByFn);}}function dRe(i,r){if(i&1){let t=O();u(0,"div",10),b("click",function(){C(t);let n=d().index,o=d(2).$implicit,a=d();return y(a.removeAttr(o,n));}),p();}}function uRe(i,r){if(i&1&&(u(0,"div",36),E(1,dRe,1,0,"div",7),$(2,"iod-form-generator",37),p()),i&2){let t=r.index,e=d(2).$implicit,n=d();c(),m("ngIf",(!n.prefix||n.prefix==="")&&n.object[e].Value.length>1),c(),m("object",n.object[e].Value[t])("mode",n.mode)("prefix",">"+(n.prefix||""));}}function pRe(i,r){if(i&1&&(u(0,"div"),E(1,uRe,3,4,"div",35),p()),i&2){let t=d().$implicit,e=d();c(),m("ngForOf",e.object[t].Value)("ngForTrackBy",e.trackByFn);}}function mRe(i,r){if(i&1&&(u(0,"div",4)(1,"div",5),T(2),p(),u(3,"div",6),T(4),p(),E(5,BPe,1,0,"div",7)(6,cRe,2,2,"div",8)(7,pRe,2,2,"div",9),p()),i&2){let t=r.$implicit,e=d();m("ngClass",yn(7,UPe,!e.prefix,e.object[t].vr==="SQ")),c(2),Yn("",e.prefix," ",t),c(2),z(e.DCM4CHE.elementName.forTag(t,e.privateCreator(t))),c(),m("ngIf",e.object[t].vr==="SQ"&&!e.prefix),c(),m("ngIf",e.object[t].vr!="SQ"),c(),m("ngIf",e.object[t].vr==="SQ");}}var Fl=(()=>{let r=class r{constructor(e){this.appService=e,this._=ye,this.options=we.OPTIONS,this.DCM4CHE=DCM4CHE;}privateCreator(e){if("02468ACE".indexOf(e.charAt(3))<0){let n=e.slice(4,6);if(n!=="00"){let o=this.object[e.slice(0,4)+"00"+n];return o&&o.Value&&o.Value[0];}}}ngOnInit(){console.log("attr=",this.object),console.log("oninit object",this.object),console.log("prefix",this.prefix),this.object&&this.object.Value?(console.log("has value",this.object),this.hasValue=!0):this.hasValue=!1,console.log("hasValue=",this.hasValue),pe(this.object)?this.objectIsArray=!0:this.objectIsArray=!1,console.log("objectisarray",this.objectIsArray);}getKeys(e){return pe(e)?e:Object.keys(e);}onChange(e,n){Ue(this,n,e);}removeAttr(e,n){switch(console.log("attrcode",e),console.log("arguments",arguments),arguments.length){case 2:this.object[arguments[0]].Value&&this.object[arguments[0]].Value.length===1?delete this.object[arguments[0]]:this.object[arguments[0]].Value.splice(arguments[1],1);break;default:delete this.object[arguments[0]];break;}}trackByFn(e,n){return e;}charChange(e){console.log("test in charchange",e);}};r.ɵfac=function(n){return new(n||r)(k(le));},r.ɵcmp=Z({type:r,selectors:[["iod-form-generator"]],inputs:{object:"object",prefix:"prefix",mode:"mode",iod:"iod",externalInternalAetMode:"externalInternalAetMode"},standalone:!1,decls:1,vars:2,consts:()=>{let e;e=""+"\uFFFD0\uFFFD"+" Alphabetic";let n;n=""+"\uFFFD0\uFFFD"+" Ideographic";let o;return o=""+"\uFFFD0\uFFFD"+" Phonetic",[["placeholder",e],["placeholder",n],["placeholder",o],["class","listblock",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"listblock",3,"ngClass"],[1,"form_code"],[1,"form_name"],["class","iod_remove glyphicon glyphicon-remove",3,"click",4,"ngIf"],["class","form_input",4,"ngIf"],[4,"ngIf"],[1,"iod_remove","glyphicon","glyphicon-remove",3,"click"],[1,"form_input"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ariod",4,"ngIf"],["class","multi_input",4,"ngIf"],[1,"ariod"],[3,"class","placeholderchanger","ngModel","ngModelChange",4,"ngIf"],["dateFormat","YYYYMMDD",3,"class","model","datePickerMode","modelChange",4,"ngIf"],[3,"class","ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],[3,"model","modelChange",4,"ngIf"],[3,"placeholderchanger","class","click",4,"ngIf"],[3,"ngModelChange","placeholderchanger","ngModel"],["dateFormat","YYYYMMDD",3,"modelChange","model","datePickerMode"],[3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["value","",4,"ngIf"],[3,"modelChange","model"],[3,"click","placeholderchanger"],[1,"multi_input"],[3,"ngModelChange","ngModel",6,"placeholder"],["class","sqiod",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sqiod"],[3,"object","mode","prefix"]];},template:function(n,o){n&1&&E(0,mRe,8,10,"div",3),n&2&&m("ngForOf",o.getKeys(o.object))("ngForTrackBy",o.trackByFn);},dependencies:[Je,ve,de,_o,fo,Me,mo,Se,Ee,yh,Do,r,$W],encapsulation:2});let i=r;return i;})();var FW=(()=>{let r=class r{constructor(){}convertSchemaToFormGroup(e){}};r.ɵfac=function(n){return new(n||r)();},r.ɵprov=Q({token:r,factory:r.ɵfac,providedIn:"root"});let i=r;return i;})();var VW=i=>({width:i});function fRe(i,r){if(i&1){let t=O();u(0,"input",5),q("ngModelChange",function(n){C(t);let o=d().index,a=d();return Y(a.modelArray[o],n)||(a.modelArray[o]=n),y(n);}),b("ngModelChange",function(n){C(t);let o=d(2);return y(o.onchange(n));}),p();}if(i&2){let t=d().index,e=d();m("ngStyle",ne(3,VW,"calc( 100% /"+e.inputSize+")")),H("ngModel",e.modelArray[t]),m("placeholder",e.placeholderElements[t]);}}function hRe(i,r){if(i&1){let t=O();u(0,"input",6),q("ngModelChange",function(n){C(t);let o=d().index,a=d();return Y(a.modelArray[o],n)||(a.modelArray[o]=n),y(n);}),b("ngModelChange",function(n){C(t);let o=d(2);return y(o.onchange(n));}),p();}if(i&2){let t=d().index,e=d();m("ngStyle",ne(2,VW,"calc( 100% /"+e.inputSize+")")),H("ngModel",e.modelArray[t]);}}function gRe(i,r){if(i&1&&(u(0,"span",7),T(1),p()),i&2){let t=d().index,e=d();c(),z(e.joins[t]||e.joins);}}function vRe(i,r){if(i&1&&(U(0),E(1,fRe,1,5,"input",2)(2,hRe,1,4,"input",3)(3,gRe,2,1,"span",4),W()),i&2){let t=r.index,e=d();c(),m("ngIf",e.placeholderElements),c(),m("ngIf",!e.placeholderElements),c(),m("ngIf",t+1<e.inputSize&&(e.joins[t]||e.joins));}}var UA=(()=>{let r=class r{constructor(){this.modelArray=[],this.modelChange=new ae(),this.Array=Array;}set model(e){console.log("value",e),this._model=e,this.mapValueToModelArray(e);}get model(){return this._model;}set joinString(e){e&&e.indexOf("|")>-1?this.joins=e.split("|"):this.joins=e;}mapValueToModelArray(e){try{if(e){if(typeof this.joins=="string"){let n=e.split(this.joins);this.modelArray||(this.modelArray=Array(this.inputSize));for(let o=0;o<this.inputSize;o++)this.modelArray[o]=n[o]||"";}else if(typeof this.joins=="object"&&this.joins.length===this.inputSize-1){let n=e;for(let o=0;o<this.inputSize;o++){let a=n.split(this.joins[o]);this.modelArray[o]=a[0]||"",a.splice(0,1),n=a.join("");}}}}catch(n){console.error(n);}}onchange(e){console.log("this",this.modelArray),console.log("composed",this.getComposedValue()),this.modelChange.emit(this.getComposedValue());}getComposedValue(){try{let e="";return this.modelArray.forEach((n,o)=>{e+=n+(this.modelArray[o+1]&&o+1<this.inputSize&&this.joins?this.joins[o]||this.joins:"");}),e;}catch{return"";}}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["composed-input"]],inputs:{model:"model",placeholder:"placeholder",inputSize:"inputSize",placeholderElements:"placeholderElements",joinString:"joinString"},outputs:{modelChange:"modelChange"},standalone:!1,decls:2,vars:1,consts:[[1,"composed_input_content"],[4,"ngFor","ngForOf"],["type","text",3,"ngStyle","ngModel","placeholder","ngModelChange",4,"ngIf"],["type","text",3,"ngStyle","ngModel","ngModelChange",4,"ngIf"],["class","join_string",4,"ngIf"],["type","text",3,"ngModelChange","ngStyle","ngModel","placeholder"],["type","text",3,"ngModelChange","ngStyle","ngModel"],[1,"join_string"]],template:function(n,o){n&1&&(u(0,"div",0),E(1,vRe,4,3,"ng-container",1),p()),n&2&&(c(),m("ngForOf",o.Array(o.inputSize)));},dependencies:[ve,de,wn,Me,Se,Ee],styles:[".composed_input_content[_ngcontent-%COMP%]{display:flex}.composed_input_content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}.composed_input_content[_ngcontent-%COMP%]   .join_string[_ngcontent-%COMP%]{width:20px;text-align:center}"]});let i=r;return i;})();var yRe=i=>({label_mode:i}),zW=()=>({standalone:!0});function bRe(i,r){if(i&1&&(U(0),u(1,"label"),T(2),p(),W()),i&2){let t=d().$implicit;c(2),z(t.label||t.placeholder||t.description);}}function SRe(i,r){if(i&1){let t=O();u(0,"label")(1,"input",15),b("ngModelChange",function(n){C(t);let o=d(2).$implicit,a=d();return y(a.modelChange(o,n));}),q("ngModelChange",function(n){let o=C(t).$implicit,a=d(3);return Y(a.model[o.key],n)||(a.model[o.key]=n),y(n);}),p(),u(2,"span",16),T(3),p()();}if(i&2){let t=r.$implicit,e=d(3);c(),m("title",X(t==null?null:t.description))("disabled",t.disabled),H("ngModel",e.model[t.key]),c(),m("ngStyle",t==null?null:t.style),c(),z(t.text);}}function ERe(i,r){if(i&1&&(U(0),E(1,SRe,4,6,"label",14),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.options);}}function TRe(i,r){if(i&1){let t=O();u(0,"input",17),b("ngModelChange",function(n){C(t);let o=d().$implicit,a=d();return a._.set(a.model,o.modelPath,n),y(a.modelChange(o,n));})("focusout",function(n){C(t);let o=d().$implicit,a=d();return y(a.focusOut(o,n));}),p();}if(i&2){let t=d().$implicit,e=d();m("title",X(t==null?null:t.description))("placeholder",X(t==null?null:t.placeholder))("disabled",t.disabled)("ngModel",e._.get(e.model,t.modelPath))("ngModelOptions",Ke(9,zW))("name",t.modelPath)("ngStyle",t.style);}}function IRe(i,r){if(i&1){let t=O();u(0,"input",18),b("ngModelChange",function(n){C(t);let o=d().$implicit,a=d();return a._.set(a.model,o.modelPath,n),y(a.modelChange(o,n));})("focusout",function(n){C(t);let o=d().$implicit,a=d();return y(a.focusOut(o,n));}),p();}if(i&2){let t=d().$implicit,e=d();m("title",X(t==null?null:t.description))("placeholder",X(t==null?null:t.placeholder))("disabled",t.disabled)("ngModel",e._.get(e.model,t.modelPath))("ngModelOptions",Ke(8,zW))("ngStyle",t.style);}}function xRe(i,r){if(i&1){let t=O();u(0,"composed-input",19),b("modelChange",function(n){C(t);let o=d().$implicit,a=d();return a._.set(a.model,o.modelPath,n),y(a.modelChange(o,n));}),p();}if(i&2){let t=d().$implicit,e=d();m("placeholder",X((t==null?null:t.placeholder)||(t==null?null:t.description)))("title",X(t==null?null:t.description))("inputSize",t.inputSize)("placeholderElements",t.placeholderElements)("joinString",t.joinString)("model",e._.get(e.model,t.modelPath));}}function ARe(i,r){if(i&1){let t=O();u(0,"issuer-selector",20),b("ngModelChange",function(n){C(t);let o=d().$implicit,a=d();return a._.set(a.model,o.modelPath,n),y(a.modelChange(o,n));}),p();}if(i&2){let t=d().$implicit,e=d();m("placeholder",X((t==null?null:t.placeholder)||(t==null?null:t.description)))("title",t==null?null:t.description)("issuers",t==null?null:t.issuers)("ngModel",e._.get(e.model,t.modelPath));}}function wRe(i,r){if(i&1){let t=O();u(0,"range-picker",21),b("modelChange",function(n){C(t);let o=d().$implicit,a=d();return y(a.dateChanged(o,n));}),p();}if(i&2){let t=d().$implicit,e=d();m("placeholder",X((t==null?null:t.placeholder)||(t==null?null:t.description)))("title",X(t==null?null:t.description))("ngStyle",t.style)("onlyDate",t.onlyDate)("model",e._.get(e.model,t.modelPath))("datePickerMode",!0);}}function DRe(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",22),b("modelChange",function(n){C(t);let o=d().$implicit,a=d();return a._.set(a.model,o.modelPath,n),y(a.modelChange(o,n));}),p();}if(i&2){let t=d().$implicit,e=d();m("ngStyle",t.style)("placeholder",t==null?null:t.placeholder)("title",(t==null?null:t.description)||"")("ngClass",t.cssClass)("options",t.options)("optionsTree",t.optionsTree)("editable",!0)("showSearchField",!0)("model",e._.get(e.model,t.modelPath))("multiSelectMode",!1)("showStar",t.showStar);}}function MRe(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",22),b("modelChange",function(n){C(t);let o=d().$implicit,a=d();return a._.set(a.model,o.modelPath,n),y(a.modelChange(o,n));}),p();}if(i&2){let t=d().$implicit,e=d();m("ngStyle",t.style)("placeholder",(t==null?null:t.placeholder)||"")("title",(t==null?null:t.description)||"")("ngClass",t.cssClass)("options",t.options)("optionsTree",t.optionsTree)("editable",!0)("showSearchField",!0)("model",e._.get(e.model,t.modelPath))("multiSelectMode",!0)("showStar",t.showStar);}}function ORe(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",23),b("modelChange",function(n){C(t);let o=d().$implicit,a=d();return a._.set(a.model,o.modelPath,n),y(a.modelChange(o,n));}),p();}if(i&2){let t=d().$implicit,e=d();m("multiSelectMode",!0)("ngStyle",t.style)("placeholder",t==null?null:t.placeholder)("title",(t==null?null:t.description)||"")("ngClass",t.cssClass)("optionsTree",t.optionsTree)("options",t.options)("model",e._.get(e.model,t.modelPath))("showSearchField",t.showSearchField)("showStar",t.showStar);}}function PRe(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",24),b("modelChange",function(n){C(t);let o=d().$implicit,a=d();return a._.set(a.model,o.modelPath,n),y(a.modelChange(o,n));}),p();}if(i&2){let t=d().$implicit,e=d();m("ngStyle",t.style)("placeholder",t==null?null:t.placeholder)("title",(t==null?null:t.description)||"")("ngClass",t.cssClass)("options",t.options)("model",e._.get(e.model,t.modelPath))("optionsTree",t.optionsTree)("showSearchField",t.showSearchField)("multiSelectMode",!1)("showStar",t.showStar);}}function RRe(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",25),b("modelChange",function(n){C(t);let o=d().$implicit,a=d();return a._.set(a.model,o.modelPath,n),y(a.modelChange(o,n));}),p();}if(i&2){let t=d().$implicit,e=d();m("ngStyle",t.style)("placeholder",t==null?null:t.placeholder)("title",(t==null?null:t.description)||"")("ngClass",t.cssClass)("options",t.options)("model",e._.get(e.model,t.modelPath))("optionsTree",t.optionsTree)("showSearchField",t.showSearchField)("showSelectedEmptyValue",t.showSelectedEmptyValue)("multiSelectMode",!1)("showStar",t.showStar);}}function NRe(i,r){if(i&1&&(u(0,"div",1),E(1,bRe,3,1,"ng-container",2),U(2,3),E(3,ERe,2,1,"ng-container",4)(4,TRe,1,10,"input",5)(5,IRe,1,9,"input",6)(6,xRe,1,8,"composed-input",7),W(),U(7,3),E(8,ARe,1,5,"issuer-selector",8)(9,wRe,1,8,"range-picker",9)(10,DRe,1,11,"dcm-drop-down",10)(11,MRe,1,11,"dcm-drop-down",10)(12,ORe,1,10,"dcm-drop-down",11)(13,PRe,1,10,"dcm-drop-down",12)(14,RRe,1,11,"dcm-drop-down",13),W(),p()),i&2){let t=r.$implicit,e=d();m("ngClass",ne(15,yRe,e.showLabels)),c(),m("ngIf",e.showLabels),c(),m("ngSwitch",t.type),c(),m("ngSwitchCase","multi-checkbox"),c(),m("ngSwitchCase","input"),c(),m("ngSwitchCase","input-number"),c(),m("ngSwitchCase","composed-input"),c(),m("ngSwitch",t.tag),c(),m("ngSwitchCase","issuer-selector"),c(),m("ngSwitchCase","p-calendar"),c(),m("ngSwitchCase","editable-select"),c(),m("ngSwitchCase","editable-multi-select"),c(),m("ngSwitchCase","multi-select"),c(),m("ngSwitchCase","html-select"),c(),m("ngSwitchCase","select");}}var GW=(()=>{let r=class r{constructor(e){this.service=e,this.showLabels=!1,this._=ye,this.model={};}ngOnInit(){}modelChange(e,n){console.log("element",e),console.log("e",n),console.log("model",this.model),e&&e.onChangeHook&&e?.onChangeHook(e,n,this.model);}focusOut(e,n){e&&e.onFocusOutHook&&e?.onFocusOutHook(e,n,this.model);}dateChanged(e,n){n&&Ue(this.model,e.modelPath,n);}};r.ɵfac=function(n){return new(n||r)(k(FW));},r.ɵcmp=Z({type:r,selectors:[["form-generator"]],inputs:{schema:"schema",showLabels:"showLabels",model:"model"},standalone:!1,decls:1,vars:1,consts:[["class","form_block",3,"ngClass",4,"ngFor","ngForOf"],[1,"form_block",3,"ngClass"],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","text",3,"disabled","ngModel","ngModelOptions","name","ngStyle","title","placeholder","ngModelChange","focusout",4,"ngSwitchCase"],["type","number",3,"disabled","ngModel","ngModelOptions","ngStyle","title","placeholder","ngModelChange","focusout",4,"ngSwitchCase"],[3,"inputSize","placeholderElements","joinString","model","placeholder","title","modelChange",4,"ngSwitchCase"],[3,"title","issuers","placeholder","ngModel","ngModelChange",4,"ngSwitchCase"],["dateFormat","YYYYMMDD",3,"ngStyle","onlyDate","model","datePickerMode","placeholder","title","modelChange",4,"ngSwitchCase"],[3,"ngStyle","placeholder","title","ngClass","options","optionsTree","editable","showSearchField","model","multiSelectMode","showStar","modelChange",4,"ngSwitchCase"],[3,"multiSelectMode","ngStyle","placeholder","title","ngClass","optionsTree","options","model","showSearchField","showStar","modelChange",4,"ngSwitchCase"],[3,"ngStyle","placeholder","title","ngClass","options","model","optionsTree","showSearchField","multiSelectMode","showStar","modelChange",4,"ngSwitchCase"],[3,"ngStyle","placeholder","title","ngClass","options","model","optionsTree","showSearchField","showSelectedEmptyValue","multiSelectMode","showStar","modelChange",4,"ngSwitchCase"],[4,"ngFor","ngForOf"],["type","checkbox",3,"ngModelChange","disabled","ngModel","title"],[3,"ngStyle"],["type","text",3,"ngModelChange","focusout","disabled","ngModel","ngModelOptions","name","ngStyle","title","placeholder"],["type","number",3,"ngModelChange","focusout","disabled","ngModel","ngModelOptions","ngStyle","title","placeholder"],[3,"modelChange","inputSize","placeholderElements","joinString","model","placeholder","title"],[3,"ngModelChange","title","issuers","placeholder","ngModel"],["dateFormat","YYYYMMDD",3,"modelChange","ngStyle","onlyDate","model","datePickerMode","placeholder","title"],[3,"modelChange","ngStyle","placeholder","title","ngClass","options","optionsTree","editable","showSearchField","model","multiSelectMode","showStar"],[3,"modelChange","multiSelectMode","ngStyle","placeholder","title","ngClass","optionsTree","options","model","showSearchField","showStar"],[3,"modelChange","ngStyle","placeholder","title","ngClass","options","model","optionsTree","showSearchField","multiSelectMode","showStar"],[3,"modelChange","ngStyle","placeholder","title","ngClass","options","model","optionsTree","showSearchField","showSelectedEmptyValue","multiSelectMode","showStar"]],template:function(n,o){n&1&&E(0,NRe,15,17,"div",0),n&2&&m("ngForOf",o.schema);},dependencies:[Je,ve,de,wn,fr,Qr,Me,Fo,pi,Se,Ee,Do,zn,gh,UA],styles:[".form_block.label_mode[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:10px}.form_block.label_mode[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:right}"]});let i=r;return i;})();var jW=i=>({active:i});function $Re(i,r){if(i&1){let t=O();u(0,"a",20),b("click",function(n){let o=C(t).$implicit,a=d(2);return n.preventDefault(),y(a.addAttribute(o.code,a.patient));}),T(1),p();}if(i&2){let t=r.$implicit;m("name",X(t.code)),c(),Yn("(",t.codeComma,") ",t.name);}}function LRe(i,r){if(i&1&&(u(0,"div",18),E(1,$Re,2,4,"a",19),$e(2,"search"),p()),i&2){let t=d();c(),m("ngForOf",pt(2,1,t.dropdown,t.addPatientAttribut));}}var WA=(()=>{let r=class r{constructor(e,n,o){this.dialogRef=e,this.mainservice=n,this.service=o,this.formMode=localStorage.getItem("patient_edit_mode")||"complex",this.opendropdown=!1,this.addPatientAttribut="",this.options=we.OPTIONS,this.DCM4CHE=DCM4CHE,this.simpleForm={schema:void 0,model:{}},setTimeout(()=>{this.simpleForm.schema=this.service.getSimpleFormSchema(),this.formMode=localStorage.getItem("patient_edit_mode")||"simple";},10);}onChange(e,n){Ue(this,n,e);}get iod(){return this._iod;}set iod(e){this._iod=e,this.service.iod=e;}get mode(){return this._mode;}set mode(e){this._mode=e;}get dropdown(){return this._dropdown;}set dropdown(e){this._dropdown=e;}get patient(){return this._patient;}set patient(e){this._patient=e;}get patientkey(){return this._patientkey;}set patientkey(e){this._patientkey=e;}get saveLabel(){return this._saveLabel;}set saveLabel(e){this._saveLabel=e;}get titleLabel(){return this._titleLabel;}set titleLabel(e){this._titleLabel=e;}get externalInternalAetMode(){return this._externalInternalAetMode;}set externalInternalAetMode(e){this._externalInternalAetMode=e;}dialogKeyHandler(e,n){let o=e.keyCode?e.keyCode:e.which;console.log("in dialogkeyhandler",o),o===13&&n.close(this._patient),o===27&&(this.opendropdown?this.opendropdown=!1:n.close(null));}getKeys(e){return pe(e)?e:Object.keys(e);}checkClick(e){console.log("e",e);let n=e.keyCode?e.keyCode:e.which;console.log("code in checkclick"),e.target.id==="dropdown"||e.target.id==="addPatientAttribut"||(this.opendropdown=!1);}pressedKey(e){this.opendropdown=!0;let n=e.keyCode?e.keyCode:e.which;if(console.log("in pressedkey",n),this.lastPressedCode=n,n===9&&(this.opendropdown=!1),n===13){let o=new yt().transform(this.dropdown,this.addPatientAttribut);o&&(this.opendropdown=!0),console.log("filtered",o);let a;Te.nativeWindow.document.getElementsByClassName("dropdown_element selected").length>0?a=window.document.getElementsByClassName("dropdown_element selected")[0].getAttribute("name"):a=o[0].code,console.log("patient_attrs not undefined",this._patient.attrs[a]),this._patient.attrs[a]!=null?this._iod[a].multi?(this._patient.attrs[a].Value.push(""),this.addPatientAttribut="",this.opendropdown=!1):this.mainservice.showWarning("Attribute already exists!"):(this.patient.attrs[a]=this._iod[a],this.opendropdown=!1),setTimeout(function(){this.lastPressedCode=0;},1e3);}if(n===40){this.opendropdown=!0;let o=0;for(;o<this.dropdown.length;)this.dropdown[o].selected?(this.dropdown[o].selected=!1,o===this.dropdown.length-1?this.dropdown[0].selected=!0:this.dropdown[o+1].selected=!0,o=this.dropdown.length):(o===this.dropdown.length-1&&(this.dropdown[0].selected=!0),o++);let a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0];try{setTimeout(()=>{a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0],Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0].scrollIntoView({behavior:"smooth",block:"start"});},10);}catch{}}if(n===38){this.opendropdown=!0;let o=0;for(;o<this.dropdown.length;){if(this.dropdown[o].selected){this.dropdown[o].selected=!1,o===0?this.dropdown[this.dropdown.length-1].selected=!0:this.dropdown[o-1].selected=!0;break;}else o===this.dropdown.length-1&&(this.dropdown[this.dropdown.length-1].selected=!0);o++;}let a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0];try{setTimeout(()=>{a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0],Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0].scrollIntoView({behavior:"smooth",block:"start"});},10);}catch{}}(n===27||n===9)&&(this.opendropdown=!1);}addAttribute(e,n){n.attrs[e]?this._iod[e].multi?(console.log("multi",this._iod[e]),n.attrs[e].vr==="PN"?n.attrs[e].Value.push({Alphabetic:""}):n.attrs[e].vr==="SQ"?n.attrs[e].Value.push(Oe(this._iod[e].Value[0])):n.attrs[e].Value.push(""),this.addPatientAttribut="",this.opendropdown=!1):(this.mainservice.showWarning("Attribute already exists!"),console.log("message attribute already exists")):(console.log("this.iodattrcod",this._iod[e]),n.attrs[e]=Oe(this._iod[e]),I.removeKeyFromObject(n.attrs[e],"multi"),I.removeKeyFromObject(n.attrs[e],"required"),console.log("patient=",n)),this.opendropdown=!1,console.log("patient after add ",n);}removeAttr(e){switch(arguments.length){case 2:this.patient.attrs[arguments[0]].Value.length===1?delete this.patient.attrs[arguments[0]]:this.patient.attrs[arguments[0]].Value.splice(arguments[1],1);break;default:delete this.patient.attrs[arguments[0]];break;}}onSimpleFormChange(e){console.log("event",e),console.log("mo",this.simpleForm.model);}changeFormMode(e){localStorage.setItem("patient_edit_mode",e),this.formMode=e;}};r.ɵfac=function(n){return new(n||r)(k(wt),k(le),k(NW));},r.ɵcmp=Z({type:r,selectors:[["app-edit-patient"]],standalone:!1,decls:22,vars:18,consts:()=>{let e;e="Add new attribute";let n;return n="CANCEL",[n,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","edit-patient"],[1,"vex-dialog-form",3,"click"],[3,"innerHtml"],[1,"modal_vertical_nav"],[3,"click","ngClass"],[1,"tabs_hide_layer"],[1,"form_content",3,"ngClass"],[1,"simple"],[3,"schema","showLabels","model"],[1,"complex"],["autocomplete","off","id","addPatientAttribut","placeholder",e,1,"addPatientAttribut",3,"ngModelChange","click","keydown","ngModel"],["id","dropdown","class","dropdown",4,"ngIf"],["mat-dialog-content",""],[3,"keydown","externalInternalAetMode","object","prefix","mode","iod"],[1,"dialogbuttons"],["type","button",1,"save",3,"click"],["type","button",1,"cancle",3,"click"],["id","dropdown",1,"dropdown"],["class","dropdown_element",3,"name","click",4,"ngFor","ngForOf"],[1,"dropdown_element",3,"click","name"]];},template:function(n,o){n&1&&(u(0,"div",1)(1,"div",2),b("click",function(s){return o.checkClick(s);}),$(2,"h3",3),u(3,"ul",4)(4,"li",5),b("click",function(){return o.changeFormMode("simple");}),T(5," Simple "),p(),u(6,"li",5),b("click",function(){return o.changeFormMode("complex");}),T(7," Technical "),p()(),u(8,"div",6)(9,"div",7)(10,"div",8),$(11,"form-generator",9),p(),u(12,"div",10)(13,"input",11),q("ngModelChange",function(s){return Y(o.addPatientAttribut,s)||(o.addPatientAttribut=s),s;}),b("click",function(){return o.opendropdown=!o.opendropdown;})("keydown",function(s){return o.pressedKey(s);}),p(),E(14,LRe,3,4,"div",12),u(15,"div",13)(16,"iod-form-generator",14),b("keydown",function(s){return o.dialogKeyHandler(s,o.dialogRef);}),p()()()()(),u(17,"div",15)(18,"button",16),b("click",function(){return o.dialogRef.close(o.patient);}),T(19),p(),u(20,"button",17),b("click",function(){return o.dialogRef.close(null);}),P(21,0),p()()()()),n&2&&(c(2),m("innerHtml",o.titleLabel,Re),c(2),m("ngClass",ne(14,jW,o.formMode==="simple")),c(2),m("ngClass",ne(16,jW,o.formMode==="complex")),c(3),m("ngClass",o.formMode),c(2),m("schema",o.simpleForm.schema)("showLabels",!0)("model",o.patient.attrs),c(2),H("ngModel",o.addPatientAttribut),c(),m("ngIf",o.opendropdown),c(2),m("externalInternalAetMode",o.externalInternalAetMode)("object",o.patient.attrs)("mode",o.mode)("iod",o.iod),c(3),z(o.saveLabel));},dependencies:[Je,ve,de,Me,Se,Ee,Kn,Fl,GW,yt],styles:[`.tabs_hide_layer{overflow-x:hidden;float:left;box-shadow:5px 3px 13px #444444ed;margin-top:10px;padding:15px 20px}.form_content{display:grid;position:relative;grid-template-columns:100% 100%;-webkit-transition:left .5s ease-in-out;-moz-transition:left .5s ease-in-out;-o-transition:left .5s ease-in-out;transition:left .5s ease-in-out;margin:0 25px;grid-gap:50px;left:0}.form_content.complex{left:-100%}.form_content>div{display:block;width:100%}.cdk-overlay-container .edit-patient .mat-mdc-dialog-content{margin:0}.modal_vertical_nav{padding:0;width:100%}.modal_vertical_nav li{float:left;min-width:120px;margin-right:5px;list-style:none;padding:7px 10px}.modal_vertical_nav li.active{box-shadow:5px 3px 13px #444444ed;font-weight:700}.modal_vertical_nav li:hover{cursor:pointer}.form_content .simple{margin-top:2rem}.form_content .simple .form_block.label_mode{border-bottom:1px solid #cccccc;margin-bottom:2px;height:36px;padding:3px 8px}.form_content .simple .form_block.label_mode:hover{background:#ccc}.form_content .simple .form_block.label_mode label{font-weight:400}.form_content .simple .form_block.label_mode input{height:30px}
`],encapsulation:2});let i=r;return i;})();var FRe=i=>({selected:i});function VRe(i,r){if(i&1){let t=O();u(0,"a",13),b("click",function(n){let o=C(t).$implicit,a=d(2);return n.preventDefault(),y(a.addAttribute(o.code));}),T(1),p();}if(i&2){let t=r.$implicit;m("name",X(t.code))("ngClass",ne(5,FRe,t.selected)),c(),Yn("(",t.codeComma,") ",t.name);}}function zRe(i,r){if(i&1){let t=O();u(0,"div",11),b("keydown",function(n){C(t);let o=d();return y(o.pressedKey(n));}),E(1,VRe,2,7,"a",12),$e(2,"search"),p();}if(i&2){let t=d();c(),m("ngForOf",pt(2,1,t.dropdown,t.addmwlAttribut));}}var BA=(()=>{let r=class r{constructor(e,n){this.dialogRef=e,this.mainservice=n,this.opendropdown=!1,this.addmwlAttribut="",this.options=we.OPTIONS,this.DCM4CHE=DCM4CHE;}onChange(e,n){Ue(this,n,e);}get mode(){return this._mode;}set mode(e){this._mode=e;}get iod(){return this._iod;}set iod(e){this._iod=e;}get dropdown(){return this._dropdown;}set dropdown(e){this._dropdown=e;}get mwl(){return this._mwl;}set mwl(e){this._mwl=e;}get mwlkey(){return this._mwlkey;}set mwlkey(e){this._mwlkey=e;}get saveLabel(){return this._saveLabel;}set saveLabel(e){this._saveLabel=e;}get titleLabel(){return this._titleLabel;}set titleLabel(e){this._titleLabel=e;}getKeys(e){return pe(e)?e:Object.keys(e);}dialogKeyHandler(e,n){let o=e.keyCode?e.keyCode:e.which;console.log("in modality keyhandler",o),o===13&&n.close(this._mwl),o===27&&(this.opendropdown?this.opendropdown=!1:n.close(null));}pressedKey(e){console.log("pressedkey");let n=e.keyCode?e.keyCode:e.which;if(this.lastPressedCode=n,n===9||n===27?this.opendropdown=!1:this.opendropdown=!0,n===13){let o=new yt().transform(this.dropdown,this.addmwlAttribut);o&&(this.opendropdown=!0),console.log("filtered",o);let a;Te.nativeWindow.document.getElementsByClassName("dropdown_element selected").length>0?a=window.document.getElementsByClassName("dropdown_element selected")[0].getAttribute("name"):a=o[0].code,this._mwl.attrs[a]!=null?this._iod[a].multi?(this._mwl.attrs[a].Value.push(""),this.addmwlAttribut="",this.opendropdown=!1):this.mainservice.showWarning("Attribute already exists!"):(this._mwl.attrs[a]=this.iod[a],this.opendropdown=!1),setTimeout(function(){this.lastPressedCode=0;},1e3);}if(n===40){this.opendropdown=!0;let o=0;for(;o<this.dropdown.length;)this.dropdown[o].selected?(this.dropdown[o].selected=!1,o===this.dropdown.length-1?this.dropdown[0].selected=!0:this.dropdown[o+1].selected=!0,o=this.dropdown.length):(o===this.dropdown.length-1&&(this.dropdown[0].selected=!0),o++);let a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0];try{setTimeout(()=>{a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0],Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0].scrollIntoView({behavior:"smooth",block:"start"});},10);}catch{}}if(n===38){this.opendropdown=!0;let o=0;for(;o<this.dropdown.length;){if(this.dropdown[o].selected){this.dropdown[o].selected=!1,o===0?this.dropdown[this.dropdown.length-1].selected=!0:this.dropdown[o-1].selected=!0;break;}else o===this.dropdown.length-1&&(this.dropdown[this.dropdown.length-1].selected=!0);o++;}let a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0];try{setTimeout(()=>{a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0],Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0].scrollIntoView({behavior:"smooth",block:"start"});},10);}catch{}}(n===27||n===9)&&(this.opendropdown=!1);}addAttribute(e){if(e.indexOf(":")>-1){let n=e.split(":");n[0]==="00400100"?this._mwl.attrs[n[0]].Value[0][n[1]]!=null?this.iod[n[0]].Value[0][n[1]].multi?(this.iod[n[0]].Value[0][n[1]].vr==="SQ"?this._mwl.attrs[n[0]].Value[0][n[1]].Value.push(this.iod[n[0]].Value[0][n[1]].Value[0]):(this._mwl.attrs[n[0]].Value[0][n[1]].Value=this._mwl.attrs[n[0]].Value[0][n[1]].Value||[],this._mwl.attrs[n[0]].Value[0][n[1]].Value.push("")),this.addmwlAttribut="",this.opendropdown=!1):this.mainservice.showWarning("Attribute already exists!"):this._mwl.attrs[n[0]].Value[0][n[1]]=this.iod[n[0]].Value[0][n[1]]:console.error("error, code 00400100 not found on the 0 position");}else this._mwl.attrs[e]!=null?this.iod[e].multi?(this._mwl.attrs[e].Value.push(""),this.addmwlAttribut="",this.opendropdown=!1):this.mainservice.showWarning("Attribute already exists!"):this._mwl.attrs[e]=this.iod[e];}removeAttr(e){switch(arguments.length){case 2:this._mwl.attrs[arguments[0]].Value.length===1?delete this._mwl.attrs[arguments[0]]:this._mwl.attrs[arguments[0]].Value.splice(arguments[1],1);break;default:delete this._mwl.attrs[arguments[0]];break;}}};r.ɵfac=function(n){return new(n||r)(k(wt),k(le));},r.ɵcmp=Z({type:r,selectors:[["app-edit-mwl"]],standalone:!1,decls:12,vars:6,consts:()=>{let e;e="Add new attribute";let n;return n="CANCEL",[n,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","edit-mwl","edit-patient"],[1,"vex-dialog-form"],[3,"innerHtml"],["autocomplete","off","id","addmwlAttribut","placeholder",e,1,"addmwlAttribut",3,"ngModelChange","click","keydown","ngModel"],["class","dropdown",3,"keydown",4,"ngIf"],["mat-dialog-content",""],[3,"keydown","object","prefix","mode"],[1,"dialogbuttons"],["type","button",1,"save",3,"click"],["type","button",1,"cancle",3,"click"],[1,"dropdown",3,"keydown"],["class","dropdown_element",3,"ngClass","name","click",4,"ngFor","ngForOf"],[1,"dropdown_element",3,"click","ngClass","name"]];},template:function(n,o){n&1&&(u(0,"div",1)(1,"div",2),$(2,"h3",3),u(3,"input",4),q("ngModelChange",function(s){return Y(o.addmwlAttribut,s)||(o.addmwlAttribut=s),s;}),b("click",function(){return o.opendropdown=!o.opendropdown;})("keydown",function(s){return o.pressedKey(s);}),p(),E(4,zRe,3,4,"div",5),u(5,"div",6)(6,"iod-form-generator",7),b("keydown",function(s){return o.dialogKeyHandler(s,o.dialogRef);}),p()(),u(7,"div",8)(8,"button",9),b("click",function(){return o.dialogRef.close(o.mwl);}),T(9),p(),u(10,"button",10),b("click",function(){return o.dialogRef.close(null);}),P(11,0),p()()()()),n&2&&(c(2),m("innerHtml",o.titleLabel,Re),c(),H("ngModel",o.addmwlAttribut),c(),m("ngIf",o.opendropdown),c(2),m("object",o.mwl.attrs)("mode",o.mode),c(3),z(o.saveLabel));},dependencies:[Je,ve,de,Me,Se,Ee,Kn,Fl,yt],styles:[".dropdown[_ngcontent-%COMP%]{margin-top:0}"]});let i=r;return i;})();function GRe(i,r){if(i&1){let t=O();u(0,"div",16),b("click",function(){C(t);let n=d();return y(n.opendropdown=!1);}),p();}}function jRe(i,r){if(i&1){let t=O();u(0,"a",19),b("click",function(n){let o=C(t).$implicit,a=d(2);return n.preventDefault(),y(a.addAttribute(o.code));}),T(1),p();}if(i&2){let t=r.$implicit;m("name",X(t.code)),c(),Yn("(",t.codeComma,") ",t.name);}}function URe(i,r){if(i&1&&(u(0,"div",17),E(1,jRe,2,4,"a",18),$e(2,"search"),p()),i&2){let t=d();c(),m("ngForOf",pt(2,1,t.dropdown,t.addStudyAttribut));}}function WRe(i,r){if(i&1){let t=O();u(0,"iod-form-generator",20),b("keydown",function(n){C(t);let o=d();return y(o.dialogKeyHandler(n,o.dialogRef));}),p();}if(i&2){let t=d();m("object",t._studyResult.study.attrs)("mode",t.mode);}}function BRe(i,r){if(i&1){let t=O();u(0,"div",23)(1,"label"),P(2,3),p(),u(3,"dcm-drop-down",24),q("modelChange",function(n){C(t);let o=d(2);return Y(o._studyResult.updatePolicyResult,n)||(o._studyResult.updatePolicyResult=n),y(n);}),b("modelChange",function(n){C(t);let o=d(2);return y(o._studyResult.updatePolicyResult=n);}),p()();}if(i&2){let t=d(2);c(3),m("options",t.updatePolicy),H("model",t._studyResult.updatePolicyResult),m("editable",!1)("showSearchField",!1)("multiSelectMode",!1)("showStar",!1);}}function HRe(i,r){if(i&1){let t=O();u(0,"div",21),E(1,BRe,4,6,"div",22),u(2,"div",23)(3,"label"),P(4,1),p(),u(5,"dcm-drop-down",24),q("modelChange",function(n){C(t);let o=d();return Y(o._studyResult.reasonForModificationResult,n)||(o._studyResult.reasonForModificationResult=n),y(n);}),b("modelChange",function(n){C(t);let o=d();return y(o._studyResult.reasonForModificationResult=n);}),p()(),u(6,"div",23)(7,"label"),P(8,2),p(),u(9,"input",25),q("ngModelChange",function(n){C(t);let o=d();return Y(o._studyResult.sourceOfPrevVals,n)||(o._studyResult.sourceOfPrevVals=n),y(n);}),p()()();}if(i&2){let t=d();c(),m("ngIf",t._studyResult.editMode!="single"),c(4),m("options",t.reasonForModification),H("model",t._studyResult.reasonForModificationResult),m("editable",!1)("showSearchField",!1)("multiSelectMode",!1)("showStar",!1),c(4),H("ngModel",t._studyResult.sourceOfPrevVals);}}var Kp=(()=>{let r=class r{get tagStudy(){return this._tagStudy;}set tagStudy(e){this._tagStudy=e,this.studyResult.study=e;}constructor(e,n){this.dialogRef=e,this.mainservice=n,this.opendropdown=!1,this.addStudyAttribut="",this.reasonForModification=[new G("COERCE","COERCE"),new G("CORRECT","CORRECT")],this.updatePolicy=[new G("SUPPLEMENT","SUPPLEMENT"),new G("MERGE","MERGE"),new G("OVERWRITE","OVERWRITE")],this._studyResult={editMode:"single",study:void 0,sourceOfPrevVals:"",reasonForModificationResult:void 0,updatePolicyResult:"OVERWRITE"},this.onChange=new ae(),this.options=we.OPTIONS,this.DCM4CHE=DCM4CHE,console.log("this.study",this._studyResult.study);}change(){this.onChange.emit(this.studyResult.study);}get mode(){return this._mode;}set mode(e){this._mode=e;}get saveLabel(){return this._saveLabel;}set saveLabel(e){this._saveLabel=e;}get titleLabel(){return this._titleLabel;}set titleLabel(e){this._titleLabel=e;}get dropdown(){return this._dropdown;}set dropdown(e){this._dropdown=e;}get studykey(){return this._studykey;}set studykey(e){this._studykey=e;}get studyResult(){return this._studyResult;}set studyResult(e){this._studyResult=e;}get iod(){return this._iod;}set iod(e){this._iod=e;}getKeys(e){return pe(e)?e:Object.keys(e);}checkClick(e){console.log("e",e);let n=e.keyCode?e.keyCode:e.which;console.log("code in checkclick"),e.target.id==="dropdown"||e.target.id==="addPatientAttribut"||(this.opendropdown=!1);}dialogKeyHandler(e,n){let o=e.keyCode?e.keyCode:e.which;console.log("in modality keyhandler",o),o===13&&n.close(this._studyResult.study),o===27&&(this.opendropdown?this.opendropdown=!1:n.close(null));}addAttribute(e){this._studyResult.study.attrs[e]!=null?this._iod[e].multi?(this._studyResult.study.attrs[e].Value.push(""),this.addStudyAttribut="",this.opendropdown=!1):this.mainservice.showWarning("Attribute already exists!"):this._studyResult.study.attrs[e]=this._iod[e];}pressedKey(e){console.log("in pressedkey"),this.opendropdown=!0;let n=e.keyCode?e.keyCode:e.which;this.lastPressedCode=n;let o;if(n===13){let a=new yt().transform(this.dropdown,this.addStudyAttribut);a&&(this.opendropdown=!0),Te.nativeWindow.document.getElementsByClassName("dropdown_element selected").length>0?o=window.document.getElementsByClassName("dropdown_element selected")[0].getAttribute("name"):o=a[0].code,this._studyResult.study.attrs[o]!=null?this._iod[o].multi?(this._studyResult.study.attrs[o].Value.push(""),this.addStudyAttribut="",this.opendropdown=!1):this.mainservice.showWarning("Attribute already exists!"):(this._studyResult.study.attrs[o]=this._iod[o],this.opendropdown=!1),setTimeout(function(){this.lastPressedCode=0;},1e3);}if(n===40){this.opendropdown=!0;let a=0;for(;a<this.dropdown.length;)this.dropdown[a].selected?(this.dropdown[a].selected=!1,a===this.dropdown.length-1?this.dropdown[0].selected=!0:this.dropdown[a+1].selected=!0,a=this.dropdown.length):(a===this.dropdown.length-1&&(this.dropdown[0].selected=!0),a++);let s=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],l=Te.nativeWindow.document.getElementsByClassName("dropdown")[0];try{setTimeout(()=>{s=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],l=Te.nativeWindow.document.getElementsByClassName("dropdown")[0],Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0].scrollIntoView({behavior:"smooth",block:"start"});},10);}catch{}}if(n===38){this.opendropdown=!0;let a=0;for(;a<this.dropdown.length;){if(this.dropdown[a].selected){this.dropdown[a].selected=!1,a===0?this.dropdown[this.dropdown.length-1].selected=!0:this.dropdown[a-1].selected=!0;break;}else a===this.dropdown.length-1&&(this.dropdown[this.dropdown.length-1].selected=!0);a++;}let s=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],l=Te.nativeWindow.document.getElementsByClassName("dropdown")[0];try{setTimeout(()=>{s=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],l=Te.nativeWindow.document.getElementsByClassName("dropdown")[0],Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0].scrollIntoView({behavior:"smooth",block:"start"});},10);}catch{}}(n===27||n===9)&&(this.opendropdown=!1);}removeAttr(e){switch(arguments.length){case 2:this._studyResult.study.attrs[arguments[0]].Value.length===1?delete this._studyResult.study.attrs[arguments[0]]:this._studyResult.study.attrs[arguments[0]].Value.splice(arguments[1],1);break;default:delete this._studyResult.study.attrs[arguments[0]];break;}}};r.ɵfac=function(n){return new(n||r)(k(wt),k(le));},r.ɵcmp=Z({type:r,selectors:[["edit-study"]],inputs:{tagStudy:"tagStudy",hideAdditionalParams:"hideAdditionalParams",mode:"mode",dropdown:"dropdown",studyResult:"studyResult",iod:"iod"},outputs:{onChange:"onChange"},standalone:!1,decls:14,vars:7,consts:()=>{let e;e="Add new attribute";let n;n="CANCEL";let o;o="Source of previous values";let a;a="Reason for modification:";let s;s="Source of previous values:";let l;return l="Update Policy :",[n,a,s,l,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","edit-study"],[1,"vex-dialog-form",3,"keyup"],[3,"innerHtml"],["class","overlay",3,"click",4,"ngIf"],["autocomplete","off","id","addStudyAttribut","placeholder",e,1,"addStudyAttribut",3,"ngModelChange","click","keydown","ngModel"],["class","dropdown study_edit",4,"ngIf"],["mat-dialog-content","",1,"iod_form_content"],[3,"object","prefix","mode","keydown",4,"ngIf"],["class","inputpart",4,"ngIf"],[1,"dialogbuttons"],["type","button",1,"save",3,"click"],["type","button",1,"cancle",3,"click"],[1,"overlay",3,"click"],[1,"dropdown","study_edit"],["class","dropdown_element",3,"name","click",4,"ngFor","ngForOf"],[1,"dropdown_element",3,"click","name"],[3,"keydown","object","prefix","mode"],[1,"inputpart"],["class","form_input",4,"ngIf"],[1,"form_input"],[3,"modelChange","options","model","editable","showSearchField","multiSelectMode","showStar"],["type","text","placeholder",o,3,"ngModelChange","ngModel"]];},template:function(n,o){n&1&&(u(0,"div",4)(1,"div",5),b("keyup",function(){return o.change();}),$(2,"h3",6),E(3,GRe,1,0,"div",7),u(4,"input",8),q("ngModelChange",function(s){return Y(o.addStudyAttribut,s)||(o.addStudyAttribut=s),s;}),b("click",function(){return o.opendropdown=!o.opendropdown;})("keydown",function(s){return o.pressedKey(s);}),p(),E(5,URe,3,4,"div",9),u(6,"div",10),E(7,WRe,1,2,"iod-form-generator",11),p(),E(8,HRe,10,8,"div",12),u(9,"div",13)(10,"button",14),b("click",function(){return o.dialogRef.close(o.studyResult);}),T(11),p(),u(12,"button",15),b("click",function(){return o.dialogRef.close(null);}),P(13,0),p()()()()),n&2&&(c(2),m("innerHtml",o.titleLabel,Re),c(),m("ngIf",o.opendropdown),c(),H("ngModel",o.addStudyAttribut),c(),m("ngIf",o.opendropdown),c(2),m("ngIf",o._studyResult.study&&o._studyResult.study.attrs),c(),m("ngIf",!o.hideAdditionalParams),c(3),z(o.saveLabel));},dependencies:[ve,de,Me,Se,Ee,Kn,zn,Fl,yt],styles:[".form_input[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1.36fr;margin-bottom:15px;grid-gap:12px;border-bottom:1px solid #ccc;padding-bottom:5px}.form_input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:right}.form_input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form_input[_ngcontent-%COMP%]   dcm-drop-down[_ngcontent-%COMP%]{width:96%;min-height:30px}.mdc-dialog__content[_ngcontent-%COMP%]{float:left}"]});let i=r;return i;})();function YRe(i,r){if(i&1){let t=O();u(0,"div",20),b("click",function(){C(t);let n=d();return y(n.opendropdown=!1);}),p();}}function XRe(i,r){if(i&1){let t=O();u(0,"a",23),b("click",function(n){let o=C(t).$implicit,a=d(2);return n.preventDefault(),y(a.addAttribute(o.code));}),T(1),p();}if(i&2){let t=r.$implicit;m("name",X(t.code)),c(),Yn("(",t.codeComma,") ",t.name);}}function KRe(i,r){if(i&1&&(u(0,"div",21),E(1,XRe,2,4,"a",22),$e(2,"search"),p()),i&2){let t=d();c(),m("ngForOf",pt(2,1,t.dropdown,t.addSeriesAttribut));}}function QRe(i,r){if(i&1){let t=O();u(0,"iod-form-generator",24),b("keydown",function(n){C(t);let o=d();return y(o.dialogKeyHandler(n,o.dialogRef));}),p();}if(i&2){let t=d();m("object",t._seriesResult.series.attrs)("mode",t.mode);}}function ZRe(i,r){if(i&1){let t=O();u(0,"div",14)(1,"label"),P(2,3),p(),u(3,"dcm-drop-down",15),q("modelChange",function(n){C(t);let o=d();return Y(o._seriesResult.updatePolicyResult,n)||(o._seriesResult.updatePolicyResult=n),y(n);}),b("modelChange",function(n){C(t);let o=d();return y(o._seriesResult.updatePolicyResult=n);}),p()();}if(i&2){let t=d();c(3),m("options",t.updatePolicy),H("model",t._seriesResult.updatePolicyResult),m("editable",!1)("showSearchField",!1)("multiSelectMode",!1)("showStar",!1);}}var Lv=(()=>{let r=class r{constructor(e,n){this.dialogRef=e,this.mainservice=n,this.opendropdown=!1,this.addSeriesAttribut="",this.sourceOfPrevVals="",this.reasonForModification=[new G("COERCE","COERCE"),new G("CORRECT","CORRECT")],this.updatePolicy=[new G("SUPPLEMENT","SUPPLEMENT"),new G("MERGE","MERGE"),new G("OVERWRITE","OVERWRITE")],this._seriesResult={editMode:"single",series:void 0,sourceOfPrevVals:"",reasonForModificationResult:void 0,updatePolicyResult:"OVERWRITE"},this.onChange=new ae(),this.options=we.OPTIONS,this.DCM4CHE=DCM4CHE,console.log("this.series",this._seriesResult.series);}change(){this.onChange.emit(this.seriesResult.series);}get mode(){return this._mode;}set mode(e){this._mode=e;}get saveLabel(){return this._saveLabel;}set saveLabel(e){this._saveLabel=e;}get titleLabel(){return this._titleLabel;}set titleLabel(e){this._titleLabel=e;}get dropdown(){return this._dropdown;}set dropdown(e){this._dropdown=e;}get seriesResult(){return this._seriesResult;}set seriesResult(e){this._seriesResult=e;}get serieskey(){return this._serieskey;}set serieskey(e){this._serieskey=e;}get iod(){return this._iod;}set iod(e){this._iod=e;}getKeys(e){return pe(e)?e:Object.keys(e);}checkClick(e){console.log("e",e);let n=e.keyCode?e.keyCode:e.which;console.log("code in checkclick"),e.target.id==="dropdown"||e.target.id==="addPatientAttribut"||(this.opendropdown=!1);}dialogKeyHandler(e,n){let o=e.keyCode?e.keyCode:e.which;console.log("in modality keyhandler",o),o===13&&n.close(this._seriesResult.series),o===27&&(this.opendropdown?this.opendropdown=!1:n.close(null));}addAttribute(e){this._seriesResult.series.attrs[e]!=null?this._iod[e].multi?(this._seriesResult.series.attrs[e].Value.push(""),this.addSeriesAttribut="",this.opendropdown=!1):this.mainservice.showWarning("Attribute already exists!"):this._seriesResult.series.attrs[e]=this._iod[e];}pressedKey(e){console.log("in pressedkey"),this.opendropdown=!0;let n=e.keyCode?e.keyCode:e.which;this.lastPressedCode=n;let o;if(n===13){let a=new yt().transform(this.dropdown,this.addSeriesAttribut);a&&(this.opendropdown=!0),Te.nativeWindow.document.getElementsByClassName("dropdown_element selected").length>0?o=window.document.getElementsByClassName("dropdown_element selected")[0].getAttribute("name"):o=a[0].code,this._seriesResult.series.attrs[o]!=null?this._iod[o].multi?(this._seriesResult.series.attrs[o].Value.push(""),this.addSeriesAttribut="",this.opendropdown=!1):this.mainservice.showWarning("Attribute already exists!"):(this._seriesResult.series.attrs[o]=this._iod[o],this.opendropdown=!1),setTimeout(function(){this.lastPressedCode=0;},1e3);}if(n===40){this.opendropdown=!0;let a=0;for(;a<this.dropdown.length;)this.dropdown[a].selected?(this.dropdown[a].selected=!1,a===this.dropdown.length-1?this.dropdown[0].selected=!0:this.dropdown[a+1].selected=!0,a=this.dropdown.length):(a===this.dropdown.length-1&&(this.dropdown[0].selected=!0),a++);let s=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],l=Te.nativeWindow.document.getElementsByClassName("dropdown")[0];try{setTimeout(()=>{s=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],l=Te.nativeWindow.document.getElementsByClassName("dropdown")[0],Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0].scrollIntoView({behavior:"smooth",block:"start"});},10);}catch{}}if(n===38){this.opendropdown=!0;let a=0;for(;a<this.dropdown.length;){if(this.dropdown[a].selected){this.dropdown[a].selected=!1,a===0?this.dropdown[this.dropdown.length-1].selected=!0:this.dropdown[a-1].selected=!0;break;}else a===this.dropdown.length-1&&(this.dropdown[this.dropdown.length-1].selected=!0);a++;}let s=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],l=Te.nativeWindow.document.getElementsByClassName("dropdown")[0];try{setTimeout(()=>{s=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],l=Te.nativeWindow.document.getElementsByClassName("dropdown")[0],Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0].scrollIntoView({behavior:"smooth",block:"start"});},10);}catch{}}(n===27||n===9)&&(this.opendropdown=!1);}removeAttr(e){switch(arguments.length){case 2:this._seriesResult.series.attrs[arguments[0]].Value.length===1?delete this._seriesResult.series.attrs[arguments[0]]:this._seriesResult.series.attrs[arguments[0]].Value.splice(arguments[1],1);break;default:delete this._seriesResult.series.attrs[arguments[0]];break;}}};r.ɵfac=function(n){return new(n||r)(k(wt),k(le));},r.ɵcmp=Z({type:r,selectors:[["edit-series"]],inputs:{mode:"mode",dropdown:"dropdown",iod:"iod"},outputs:{onChange:"onChange"},standalone:!1,decls:23,vars:14,consts:()=>{let e;e="Add new attribute";let n;n="Source of previous values";let o;o="Reason for modification:";let a;a="Source of previous values:";let s;s="CANCEL";let l;return l="Update Policy :",[o,a,s,l,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","edit-series"],[1,"vex-dialog-form",3,"keyup"],[3,"innerHtml"],["class","overlay",3,"click",4,"ngIf"],["autocomplete","off","id","addSeriesAttribut","placeholder",e,1,"addSeriesAttribut",3,"ngModelChange","click","keydown","ngModel"],["class","dropdown study_edit",4,"ngIf"],["mat-dialog-content",""],[3,"object","prefix","mode","keydown",4,"ngIf"],[1,"inputpart"],["class","form_input",4,"ngIf"],[1,"form_input"],[3,"modelChange","options","model","editable","showSearchField","multiSelectMode","showStar"],["type","text","placeholder",n,3,"ngModelChange","ngModel"],[1,"dialogbuttons"],["type","button",1,"save",3,"click"],["type","button",1,"cancle",3,"click"],[1,"overlay",3,"click"],[1,"dropdown","study_edit"],["class","dropdown_element",3,"name","click",4,"ngFor","ngForOf"],[1,"dropdown_element",3,"click","name"],[3,"keydown","object","prefix","mode"]];},template:function(n,o){n&1&&(u(0,"div",4)(1,"div",5),b("keyup",function(){return o.change();}),$(2,"h3",6),E(3,YRe,1,0,"div",7),u(4,"input",8),q("ngModelChange",function(s){return Y(o.addSeriesAttribut,s)||(o.addSeriesAttribut=s),s;}),b("click",function(){return o.opendropdown=!o.opendropdown;})("keydown",function(s){return o.pressedKey(s);}),p(),E(5,KRe,3,4,"div",9),u(6,"div",10),E(7,QRe,1,2,"iod-form-generator",11),p(),u(8,"div",12),E(9,ZRe,4,6,"div",13),u(10,"div",14)(11,"label"),P(12,0),p(),u(13,"dcm-drop-down",15),q("modelChange",function(s){return Y(o._seriesResult.reasonForModificationResult,s)||(o._seriesResult.reasonForModificationResult=s),s;}),b("modelChange",function(s){return o._seriesResult.reasonForModificationResult=s;}),p()(),u(14,"div",14)(15,"label"),P(16,1),p(),u(17,"input",16),q("ngModelChange",function(s){return Y(o._seriesResult.sourceOfPrevVals,s)||(o._seriesResult.sourceOfPrevVals=s),s;}),p()()(),u(18,"div",17)(19,"button",18),b("click",function(){return o.dialogRef.close(o.seriesResult);}),T(20),p(),u(21,"button",19),b("click",function(){return o.dialogRef.close(null);}),P(22,2),p()()()()),n&2&&(c(2),m("innerHtml",o.titleLabel,Re),c(),m("ngIf",o.opendropdown),c(),H("ngModel",o.addSeriesAttribut),c(),m("ngIf",o.opendropdown),c(2),m("ngIf",o._seriesResult.series&&o._seriesResult.series.attrs),c(2),m("ngIf",o._seriesResult.editMode!="single"),c(4),m("options",o.reasonForModification),H("model",o._seriesResult.reasonForModificationResult),m("editable",!1)("showSearchField",!1)("multiSelectMode",!1)("showStar",!1),c(4),H("ngModel",o._seriesResult.sourceOfPrevVals),c(3),z(o.saveLabel));},dependencies:[ve,de,Me,Se,Ee,Kn,zn,Fl,yt],styles:[".form_input[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1.36fr;margin-bottom:15px;grid-gap:12px;border-bottom:1px solid #ccc;padding-bottom:5px}.form_input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:right}.form_input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form_input[_ngcontent-%COMP%]   dcm-drop-down[_ngcontent-%COMP%]{width:96%;min-height:30px}"]});let i=r;return i;})();function JRe(i,r){if(i&1&&(u(0,"option",15),T(1),p()),i&2){let t=r.$implicit;m("title",X(t.codeMeaning))("value",ea("",t.codeValue,"^",t.codingSchemeDesignator)),c(),z(t.label);}}var HA=(()=>{let r=class r{constructor(e){this.dialogRef=e;}get rjnotes(){return this._rjnotes;}set rjnotes(e){this._rjnotes=e;}get results(){return this._results;}set results(e){this._results=e;}};r.ɵfac=function(n){return new(n||r)(k(wt));},r.ɵcmp=Z({type:r,selectors:[["app-delete-rejected-instances"]],standalone:!1,decls:20,vars:6,consts:()=>{let e;e="Delete all instances before this date";let n;n="Delete instances with rejected type";let o;o="Maximum reject date of instances to delete";let a;a=" if checked, keep rejection note instances - only delete rejected instances "+"\uFFFD#14\uFFFD\uFFFD/#14\uFFFD"+"";let s;return s="CANCEL",[n,o,a,s,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","confirm"],[1,"vex-dialog-form"],[1,"form-group"],["id","reject","name","reject",1,"form-control",3,"ngModelChange","ngModel"],[3,"title","value",4,"ngFor","ngForOf"],["dateFormat","yyyy-MM-dd","placeholder",e,3,"modelChange","model","datePickerMode"],[1,"checkbox"],["type","checkbox","name","keepRejectionNote",3,"ngModelChange","ngModel"],[1,"dialogbuttons"],["type","submit",1,"btn-danger","btn","vex-dialog-button","vex-first",3,"click","disabled"],["type","button",1,"cancle",3,"click"],[3,"title","value"]];},template:function(n,o){n&1&&(u(0,"div",4)(1,"div",5)(2,"div",6)(3,"label"),P(4,0),p(),u(5,"select",7),q("ngModelChange",function(s){return Y(o.results.reject,s)||(o.results.reject=s),s;}),E(6,JRe,2,6,"option",8),p()(),u(7,"div",6)(8,"label"),P(9,1),p(),u(10,"range-picker",9),b("modelChange",function(s){return o.results.rejectedBefore=s;}),p()(),u(11,"div",10)(12,"label"),n_(13,2),u(14,"input",11),q("ngModelChange",function(s){return Y(o.results.keepRejectionNote,s)||(o.results.keepRejectionNote=s),s;}),p(),r_(),p()(),u(15,"div",12)(16,"button",13),b("click",function(){return o.dialogRef.close(o.results);}),T(17,"Delete all"),p(),u(18,"button",14),b("click",function(){return o.dialogRef.close(null);}),P(19,3),p()()()()),n&2&&(c(5),H("ngModel",o.results.reject),c(),m("ngForOf",o.rjnotes),c(4),m("model",o.results.rejectedBefore)("datePickerMode",!0),c(4),H("ngModel",o.results.keepRejectionNote),c(2),m("disabled",!o.results.reject));},dependencies:[ve,_o,fo,pi,mo,Se,Ee,Do],encapsulation:2});let i=r;return i;})();var UW=(()=>{let r=class r{constructor(e,n,o){this.$http=e,this.appService=n,this.deviceConfigurator=o;}getPrimaryDeviceType(){return this.deviceConfigurator.getSchema("device.schema.json").pipe(me(e=>{try{return e.properties.dicomPrimaryDeviceType.items.enum;}catch(n){return console.log("could not extract from schema",n),["ARCHIVE","COMP","CAD","DSS","FILMD","M3D","MCD","PRINT","CAPTURE","LOG","RT","WSD","AR","BMD","BDUS","EPS","CR","CT","DX","ECG","ES","XC","GM","HD","IO","IVOCT","IVUS","KER","LEN","MR","MG","NM","OAM","OCT","OPM","OP","OPR","OPT","OPTBSV","OPTENF","OPV","OSS","PX","PT","RF","RG","SM","SRF","US","VA","XA"];}}));}getWebAppsSchema(){return[[[{tag:"input",type:"string",filterKey:"limit",description:"Name of the Web Application"},{tag:"multi-checkbox",options:[{text:"Test checkbox1",key:"testkey1"},{text:"Test checkbox2",key:"testkey2"}],description:"Name of the Web Application"}]]];}getSchema(){return{title:"Web Application",description:"Web Application information",type:"object",required:["dcmWebAppName","dcmWebServicePath","dcmWebServiceClass"],properties:{dcmWebAppName:{title:"Web Application name",description:"Name of the Web Application",type:"string",use:["$.dicomNetworkAE[*].dcmNetworkAE.dcmArchiveNetworkAE.dcmFallbackWadoURIWebAppName","$.dcmDevice.dcmArchiveDevice.dcmFallbackWadoURIWebAppName"]},dicomNetworkConnectionReference:{title:"Web Application Network Connection(s)",description:"Network Connection(s) on which the services of the Web application are available",type:"array",items:{type:"string"}},dicomDescription:{title:"Web Application Description",description:"Unconstrained text description of the Web Application",type:"string"},dcmWebServicePath:{title:"Web Service Path",description:"HTTP Path of the services of the Web application",type:"string"},dcmWebServiceClass:{title:"Web Service Class",description:"Web Service Classes provided by the Web application",type:"array",items:{type:"string",enum:["QIDO_RS","STOW_RS","WADO_RS","WADO_URI","UPS_RS","MWL_RS","MPPS_RS","QIDO_COUNT","DCM4CHEE_ARC","DCM4CHEE_ARC_AET","DCM4CHEE_ARC_AET_DIFF","PAM","REJECT","MOVE","MOVE_MATCHING","UPS_MATCHING","ELASTICSEARCH","XDS_RS","AGFA_BLOB"]}},dcmKeycloakClientID:{title:"Keycloak Client ID",description:"Keycloak Client ID for the Web application",type:"string",format:"dcmKeycloakClient"},dicomAETitle:{title:"AE Title",description:"AE title of Network AE associated with this Web Application",type:"string",format:"dcmArchiveAETitle"},dicomApplicationCluster:{title:"Application Cluster",description:"Locally defined names for a subset of related applications",type:"array",items:{type:"string"}},dcmProperty:{title:"Property",description:"Property in format <name>=<value>. E.g.: roles=<accepted-user-role>[,...], IID_PATIENT_URL=http(s)://<viewer-host>:<viewer-port>/IHEInvokeImageDisplay?requestType=PATIENT&patientID={{patientID}} or IID_STUDY_URL=http(s)://<viewer-host>:<viewer-port>/IHEInvokeImageDisplay?requestType=STUDY&studyUID={{studyUID}}, ( Other valid parameters are: 'patientBirthDate' and 'accessionNumber' ) , you could define the target of the Url by setting it to the parameter 'IID_URL_TARGET=_blank|_self'",type:"array",items:{type:"string"},format:"dcmProperty"},dicomInstalled:{title:"installed",description:"True if the Web Application is installed on network. If not present, information about the installed status of the Web Application is inherited from the device",type:"boolean"}}};}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le),K(Vn));},r.ɵprov=Q({token:r,factory:r.ɵfac,providedIn:"root"});let i=r;return i;})();var WW=i=>({active:i});function tNe(i,r){if(i&1&&(u(0,"span")(1,"b"),T(2),p()()),i&2){let t=d();c(2),z(t.newAetModel.dicomDeviceName);}}function iNe(i,r){if(i&1){let t=O();u(0,"div",104)(1,"input",88),q("ngModelChange",function(n){let o=C(t).index,a=d(2);return Y(a.newAetModel.dicomInstitutionName[o],n)||(a.newAetModel.dicomInstitutionName[o]=n),y(n);}),p(),u(2,"span",105),b("click",function(){let n=C(t).index,o=d(2);return y(o.removeElemnt(o.newAetModel.dicomInstitutionName,n));}),u(3,"i",94),T(4,"clear"),p()()();}if(i&2){let t=r.index,e=d(2);c(),H("ngModel",e.newAetModel.dicomInstitutionName[t]);}}function nNe(i,r){if(i&1){let t=O();u(0,"div",104)(1,"input",88),q("ngModelChange",function(n){let o=C(t).index,a=d(2);return Y(a.newAetModel.dicomInstitutionDepartmentName[o],n)||(a.newAetModel.dicomInstitutionDepartmentName[o]=n),y(n);}),p(),u(2,"span",105),b("click",function(){let n=C(t).index,o=d(2);return y(o.removeElemnt(o.newAetModel.dicomInstitutionDepartmentName,n));}),u(3,"i",94),T(4,"clear"),p()()();}if(i&2){let t=r.index,e=d(2);c(),H("ngModel",e.newAetModel.dicomInstitutionDepartmentName[t]);}}function rNe(i,r){if(i&1){let t=O();U(0),u(1,"label",106)(2,"input",107),b("change",function(){let n=C(t).$implicit,o=d(2);return y(o.togglePrimaryDeviceType(n));}),p(),u(3,"span"),T(4),p()(),$(5,"br"),W();}if(i&2){let t=r.$implicit;c(2),m("value",X(t)),c(2),z(t);}}function oNe(i,r){if(i&1){let t=O();u(0,"div",82)(1,"div",83)(2,"label",84),T(3,"Device name"),p(),u(4,"input",85),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomDeviceName,n)||(o.newAetModel.dicomDeviceName=n),y(n);}),b("keyup",function(n){C(t);let o=d();return y(o.updateAetFromDevicename(n));})("keydown",function(n){C(t);let o=d();return y(o.updateAetFromDevicename(n));})("keypress",function(n){C(t);let o=d();return y(o.updateAetFromDevicename(n));}),p(),u(5,"span",86),P(6,12),p()(),u(7,"div",83)(8,"label",84),P(9,13),p(),u(10,"textarea",87),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomDescription,n)||(o.newAetModel.dicomDescription=n),y(n);}),p(),u(11,"span",86),P(12,14),p()(),u(13,"div",83)(14,"label",84),P(15,15),p(),u(16,"input",88),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomStationName,n)||(o.newAetModel.dicomStationName=n),y(n);}),p(),u(17,"span",86),P(18,16),p()(),u(19,"div",89)(20,"div",84)(21,"label"),P(22,17),p()(),u(23,"div",90)(24,"div",91),E(25,iNe,5,1,"div",92),u(26,"div",93),b("click",function(){C(t);let n=d();return y(n.addArrayElement(n.newAetModel,"dicomInstitutionName"));}),u(27,"i",94),T(28,"add"),p(),u(29,"span"),P(30,18),p()()()(),u(31,"div",95)(32,"span",86),P(33,19),p()()(),u(34,"div",89)(35,"div",84)(36,"label"),P(37,20),p()(),u(38,"div",90)(39,"div",91),E(40,nNe,5,1,"div",92),u(41,"div",93),b("click",function(){C(t);let n=d();return y(n.addArrayElement(n.newAetModel,"dicomInstitutionDepartmentName"));}),u(42,"i",94),T(43,"add"),p(),u(44,"span"),P(45,21),p()()()(),u(46,"div",95)(47,"span",86),P(48,22),p()()(),u(49,"div",89)(50,"div",84)(51,"label"),P(52,23),p()(),u(53,"div",96)(54,"div",97)(55,"input",98),q("ngModelChange",function(n){C(t);let o=d();return Y(o.searchDeviceType,n)||(o.searchDeviceType=n),y(n);}),p(),$(56,"br"),E(57,rNe,6,3,"ng-container",99),$e(58,"search"),p()(),u(59,"div",95)(60,"span",86),P(61,24),p()()(),u(62,"div",83)(63,"label",84),P(64,25),p(),u(65,"div",100)(66,"label")(67,"input",101),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomInstalled,n)||(o.newAetModel.dicomInstalled=n),y(n);}),p(),u(68,"span"),P(69,26),p()()(),u(70,"div",100)(71,"label")(72,"input",102),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomInstalled,n)||(o.newAetModel.dicomInstalled=n),y(n);}),p(),u(73,"span"),P(74,27),p()()(),u(75,"span",103),P(76,28),p()()();}if(i&2){let t=d();c(4),H("ngModel",t.newAetModel.dicomDeviceName),c(6),H("ngModel",t.newAetModel.dicomDescription),c(6),H("ngModel",t.newAetModel.dicomStationName),c(9),m("ngForOf",t.newAetModel.dicomInstitutionName)("ngForTrackBy",t.trackByFn),c(15),m("ngForOf",t.newAetModel.dicomInstitutionDepartmentName)("ngForTrackBy",t.trackByFn),c(15),H("ngModel",t.searchDeviceType),c(2),m("ngForOf",pt(58,11,t.primaryDeviceType,t.searchDeviceType)),c(10),H("ngModel",t.newAetModel.dicomInstalled),c(5),H("ngModel",t.newAetModel.dicomInstalled);}}function aNe(i,r){if(i&1&&(u(0,"span")(1,"b"),T(2),p()()),i&2){let t=d();c(2),z(t.newAetModel.dicomNetworkConnection[0].cn);}}function sNe(i,r){if(i&1){let t=O();u(0,"div",82)(1,"div",83)(2,"label",84),P(3,29),p(),u(4,"input",88),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomNetworkConnection[0].cn,n)||(o.newAetModel.dicomNetworkConnection[0].cn=n),y(n);}),p(),u(5,"span",86),P(6,30),p()(),u(7,"div",83)(8,"label",84),P(9,31),p(),u(10,"input",88),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomNetworkConnection[0].dicomHostname,n)||(o.newAetModel.dicomNetworkConnection[0].dicomHostname=n),y(n);}),p(),u(11,"span",86),P(12,32),p()(),u(13,"div",83)(14,"label",84),P(15,33),p(),u(16,"input",108),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomNetworkConnection[0].dicomPort,n)||(o.newAetModel.dicomNetworkConnection[0].dicomPort=n),y(n);}),p(),u(17,"span",86),P(18,34),p()()();}if(i&2){let t=d();c(4),H("ngModel",t.newAetModel.dicomNetworkConnection[0].cn),c(6),H("ngModel",t.newAetModel.dicomNetworkConnection[0].dicomHostname),c(6),H("ngModel",t.newAetModel.dicomNetworkConnection[0].dicomPort);}}function lNe(i,r){if(i&1&&(u(0,"option",114),T(1),p()),i&2){let t=r.$implicit;m("value",t.dicomDeviceName),c(),z(t.dicomDeviceName);}}function cNe(i,r){if(i&1){let t=O();u(0,"div",82)(1,"div",109)(2,"div",110),P(3,35),p(),u(4,"div",111)(5,"select",112),b("ngModelChange",function(n){C(t);let o=d();return y(o.getDevice(n));}),E(6,lNe,2,2,"option",113),p()(),u(7,"span",86),P(8,36),p()()();}if(i&2){let t=d();c(5),m("ngModel",t.selectedDevice),c(),m("ngForOf",t.devices);}}function dNe(i,r){if(i&1){let t=O();u(0,"div",82)(1,"div",83)(2,"label",84),P(3,37),p(),u(4,"input",88),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomNetworkConnection[0].cn,n)||(o.newAetModel.dicomNetworkConnection[0].cn=n),y(n);}),p(),u(5,"span",86),P(6,38),p()(),u(7,"div",83)(8,"label",84),T(9,"Hostname"),p(),u(10,"input",88),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomNetworkConnection[0].dicomHostname,n)||(o.newAetModel.dicomNetworkConnection[0].dicomHostname=n),y(n);}),p(),u(11,"span",86),P(12,39),p()(),u(13,"div",83)(14,"label",84),P(15,40),p(),u(16,"input",108),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomNetworkConnection[0].dicomPort,n)||(o.newAetModel.dicomNetworkConnection[0].dicomPort=n),y(n);}),p(),u(17,"span",86),P(18,41),p()(),u(19,"div",115)(20,"button",116),b("click",function(){C(t);let n=d();return y(n.addNewConnectionToDevice());}),P(21,42),p(),u(22,"button",117),b("click",function(){C(t);let n=d();return y(n.removeNewConnectionFromDevice());}),P(23,43),p()()();}if(i&2){let t=d();c(4),H("ngModel",t.newAetModel.dicomNetworkConnection[0].cn),c(6),H("ngModel",t.newAetModel.dicomNetworkConnection[0].dicomHostname),c(6),H("ngModel",t.newAetModel.dicomNetworkConnection[0].dicomPort),c(4),m("disabled",!t._.hasIn(t.newAetModel,"dicomNetworkConnection[0].cn"));}}function uNe(i,r){i&1&&(u(0,"div",82),P(1,44),p());}function pNe(i,r){if(i&1){let t=O();u(0,"label",106)(1,"input",107),b("change",function(){let n=C(t).index,o=d(3);return y(o.toggleReference(o.newAetModel.dicomNetworkAE[0].dicomNetworkConnectionReference,"/dicomNetworkConnection/"+n));}),p(),u(2,"span"),T(3),p()();}if(i&2){let t=r.$implicit,e=r.index;c(),m("value",X("/dicomNetworkConnection/"+e)),c(2),z(t.cn);}}function mNe(i,r){if(i&1&&(U(0),u(1,"label",84),P(2,52),p(),E(3,pNe,4,3,"label",120),u(4,"span",103),P(5,53),p(),W()),i&2){let t=d(2);c(3),m("ngForOf",t.selctedDeviceObject.dicomNetworkConnection);}}function _Ne(i,r){if(i&1){let t=O();U(0),u(1,"label",84),P(2,54),p(),u(3,"label",106)(4,"input",121),b("change",function(){C(t);let n=d(2);return y(n.toggleReference(n.newAetModel.dicomNetworkAE[0].dicomNetworkConnectionReference,"/dicomNetworkConnection/0"));}),p(),u(5,"span"),T(6),p()(),u(7,"span",103),P(8,55),p(),W();}if(i&2){let t=d(2);c(6),z(t.newAetModel.dicomNetworkConnection[0].cn);}}function fNe(i,r){i&1&&(U(0),u(1,"div",122),P(2,56),p(),W());}function hNe(i,r){if(i&1){let t=O();u(0,"div",104)(1,"input",88),q("ngModelChange",function(n){let o=C(t).index,a=d(2);return Y(a.newAetModel.dicomNetworkAE[0].dicomApplicationCluster[o],n)||(a.newAetModel.dicomNetworkAE[0].dicomApplicationCluster[o]=n),y(n);}),p(),u(2,"span",105),b("click",function(){let n=C(t).index,o=d(2);return y(o.removeElemnt(o.newAetModel.dicomNetworkAE[0].dicomApplicationCluster,n));}),u(3,"i",94),T(4,"clear"),p()()();}if(i&2){let t=r.index,e=d(2);c(),H("ngModel",e.newAetModel.dicomNetworkAE[0].dicomApplicationCluster[t]);}}function gNe(i,r){if(i&1){let t=O();u(0,"div",118)(1,"div",83)(2,"label",84),P(3,45),p(),u(4,"input",88),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomNetworkAE[0].dicomAETitle,n)||(o.newAetModel.dicomNetworkAE[0].dicomAETitle=n),y(n);}),p(),u(5,"span",86),P(6,46),p()(),u(7,"div",83),E(8,mNe,6,1,"ng-container",74)(9,_Ne,9,1,"ng-container",74)(10,fNe,3,0,"ng-container",74),p(),u(11,"div",83)(12,"label",84),P(13,47),p(),u(14,"textarea",119),q("ngModelChange",function(n){C(t);let o=d();return Y(o.newAetModel.dicomNetworkAE[0].dicomDescription,n)||(o.newAetModel.dicomNetworkAE[0].dicomDescription=n),y(n);}),p(),u(15,"span",86),P(16,48),p()(),u(17,"div",89)(18,"div",84)(19,"label"),P(20,49),p()(),u(21,"div",90)(22,"div",91),E(23,hNe,5,1,"div",92),u(24,"div",93),b("click",function(){C(t);let n=d();return y(n.addArrayElement(n.newAetModel.dicomNetworkAE[0],"dicomApplicationCluster"));}),u(25,"i",94),T(26,"add"),p(),u(27,"span"),P(28,50),p()()()(),u(29,"div",95)(30,"span",86),P(31,51),p()()()();}if(i&2){let t=d();c(4),H("ngModel",t.newAetModel.dicomNetworkAE[0].dicomAETitle),c(4),m("ngIf",t._.hasIn(t.selctedDeviceObject,"dicomNetworkConnection[0]")&&t.activetab==="selectdevice"),c(),m("ngIf",t.activetab==="createdevice"),c(),m("ngIf",!t._.hasIn(t.selctedDeviceObject,"dicomNetworkConnection[0]")&&t.activetab==="selectdevice"),c(4),H("ngModel",t.newAetModel.dicomNetworkAE[0].dicomDescription),c(9),m("ngForOf",t.newAetModel.dicomNetworkAE[0].dicomApplicationCluster)("ngForTrackBy",t.trackByFn);}}function vNe(i,r){if(i&1){let t=O();u(0,"div",82)(1,"div",83)(2,"label",84),P(3,57),p(),u(4,"div",111)(5,"dcm-drop-down",123),q("modelChange",function(n){C(t);let o=d();return Y(o.selectedForAcceptedCallingAET,n)||(o.selectedForAcceptedCallingAET=n),y(n);}),p()(),u(6,"span",86)(7,"span"),P(8,58),p(),$(9,"br"),u(10,"span",124),P(11,59),p()()()();}if(i&2){let t=d();c(5),H("model",t.selectedForAcceptedCallingAET),m("placeholder","Select AET")("maxSelectedValueShown",1)("options",t.configuredAetList)("showSearchField",!0)("multiSelectMode",!0)("showStar",!0);}}function CNe(i,r){if(i&1&&(u(0,"mat-option",114),T(1),p()),i&2){let t=r.$implicit;m("value",t),c(),hc("",t.cn,"(",t.dicomHostname,":",t.dicomPort,")");}}function yNe(i,r){if(i&1){let t=O();u(0,"div",109)(1,"div",110),P(2,62),p(),u(3,"div",111)(4,"mat-select",87),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.selectedDicomConnection,n)||(o.selectedDicomConnection=n),y(n);}),u(5,"mat-option",128),T(6,"*"),p(),E(7,CNe,2,4,"mat-option",113),p()()();}if(i&2){let t=d(2);c(4),H("ngModel",t.selectedDicomConnection),c(3),m("ngForOf",t.dicomConnectionns);}}function bNe(i,r){if(i&1&&(u(0,"mat-option",114),T(1),p()),i&2){let t=r.$implicit;m("value",t.dicomAETitle),c(),z(t.dicomAETitle);}}function SNe(i,r){if(i&1){let t=O();u(0,"div",82),E(1,yNe,8,2,"div",125),u(2,"div",109)(3,"div",110),P(4,60),p(),u(5,"div",111)(6,"mat-select",87),q("ngModelChange",function(n){C(t);let o=d();return Y(o.selectedCallingAet,n)||(o.selectedCallingAet=n),y(n);}),E(7,bNe,2,2,"mat-option",113),p()(),u(8,"div",126)(9,"button",127),b("click",function(){C(t);let n=d();return y(n.testConnection());}),P(10,61),p()()()();}if(i&2){let t=d();c(),m("ngIf",t.dicomConnectionns.length>1),c(5),H("ngModel",t.selectedCallingAet),c(),m("ngForOf",t.aes),c(2),m("disabled",!t.selectedCallingAet);}}var qA=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f){this.$http=e,this.dialogRef=n,this.mainservice=o,this.cfpLoadingBar=a,this.httpErrorHandler=s,this.aeListService=l,this.service=_,this.deviceConfigService=f,this.showTestBlock=!0,this.showdevice=!1,this.showconn=!0,this.showselectdevice=!0,this.showconnselecteddevice=!1,this.showae=!0,this.activetab="createdevice",this.showAetList=!1,this._=ye,this.configuredAetList=[],this.selectedForAcceptedCallingAET=[],this.dicomConnectionns=[],this.selectedDicomConnection={},this.webApps={},this.showWebApp=!1,this.primaryDeviceType=[],this.searchDeviceType="";}ngOnInit(){this.cfpLoadingBar.complete(),A(this.mainservice.global,"uiConfig.dcmuiWidgetAets")?(this.configuredAetList=B(this.mainservice.global,"uiConfig.dcmuiWidgetAets").map(e=>new G(e,e)),A(this.mainservice.global,"uiConfig.dcmuiDefaultWidgetAets")&&(this.selectedForAcceptedCallingAET=B(this.mainservice.global,"uiConfig.dcmuiDefaultWidgetAets"))):this.aeListService.getAes().subscribe(e=>{this.configuredAetList=e.map(n=>new G(n.dicomAETitle,n.dicomAETitle));},e=>{this.httpErrorHandler.handleError(e);}),this.webAppSchema=this.service.getWebAppsSchema(),this.formObj=this.deviceConfigService.convertSchemaToForm({dicomNetworkConnection:{cn:"dicom",dcmNetworkConnection:{dcmBindAddress:"0.0.0.0",dcmClientBindAddress:"0.0.0.0",dcmMaxOpsPerformed:0,dcmMaxOpsInvoked:0},dicomHostname:"127.0.0.1",dicomPort:11112}},this.service.getSchema(),{},"attr"),this.service.getPrimaryDeviceType().subscribe(e=>{console.log("create ae-res",e),this.primaryDeviceType=e;});}get dicomconn(){return this._dicomconn;}set dicomconn(e){this._dicomconn=e;}get newAetModel(){return this._newAetModel;}set newAetModel(e){this._newAetModel=e;}get netAEModel(){return this._netAEModel;}set netAEModel(e){this._netAEModel=e;}onChange(e,n){Ue(this,n,e);}get devices(){return this._devices;}set devices(e){this._devices=e;}get aes(){return this._aes;}set aes(e){this._aes=e;}checkClick(e){console.log("e",e);let n=e.keyCode?e.keyCode:e.which;}getDevice(e){this.selectedDevice=e;let n=this;this.selectedDevice&&(this.selctedDeviceObject&&this.selctedDeviceObject.dicomDeviceName===this.selectedDevice?n.setReferencesFromDevice():(n.cfpLoadingBar.start(),n.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${this.selectedDevice}`).subscribe(o=>{n.selctedDeviceObject=o,console.log("this.selctedDeviceObject",n.selctedDeviceObject),n.setReferencesFromDevice(),n.cfpLoadingBar.complete();},o=>{n.httpErrorHandler.handleError(o),n.cfpLoadingBar.complete();})));}setReferencesFromDevice(){this.newAetModel.dicomNetworkAE[0].dicomNetworkConnectionReference=[];}getNameOfRefference(e){let n=To(mi(Cu(e,"/")));return console.log("refIndex",n),this.selctedDeviceObject&&A(this.selctedDeviceObject,"dicomNetworkConnection["+n+"].cn")?(console.log("cn",this.selctedDeviceObject.dicomNetworkConnection[n].cn),this.selctedDeviceObject.dicomNetworkConnection[n].cn):"";}toggleReference(e,n){e=e||[],this.inArray(n,e)?hu(e,o=>o===n):e.push(n),this.dicomConnectionns=this.getDicomConnections();}inArray(e,n){for(let o of n)if(e===o)return!0;return!1;}changeTabAERegister(e){this.activetab=e,e==="createdevice"?(this.dicomconn=[],this.newAetModel={dicomNetworkConnection:[{cn:"dicom",dicomHostname:"localhost",dicomPort:104}],dicomNetworkAE:[{dicomNetworkConnectionReference:["/dicomNetworkConnection/0"]}],dicomInstitutionName:[""]}):(this.getDevice(null),this.dicomconn=[],this.newAetModel={dicomNetworkConnection:[{cn:"dicom",dicomHostname:"localhost",dicomPort:104}],dicomNetworkAE:[{dicomNetworkConnectionReference:[]}]});}trackByFn(e,n){return e;}addArrayElement(e,n){A(e,n)&&pe(e[n])?e[n].push(""):e[n]=[""];}removeElemnt(e,n){e.splice(n,1);}updateAetFromDevicename(e){if((e.keyCode?e.keyCode:e.which)===8&&A(this.newAetModel,"dicomDeviceName")){let o=this.newAetModel.dicomDeviceName.toUpperCase();this.newAetModel.dicomNetworkAE[0].dicomAETitle.slice(0,-1)===o&&(this.newAetModel.dicomNetworkAE[0].dicomAETitle=o);}else if(A(this.newAetModel,"dicomNetworkAE[0].dicomAETitle")&&A(this.newAetModel,"dicomDeviceName")){let o=this.newAetModel.dicomDeviceName.toUpperCase();this.newAetModel.dicomNetworkAE[0].dicomAETitle===o.slice(0,-1)&&(this.newAetModel.dicomNetworkAE[0].dicomAETitle=o);}else this.newAetModel.dicomDeviceName&&(this.newAetModel.dicomNetworkAE[0].dicomAETitle=this.newAetModel.dicomDeviceName.toUpperCase());}addNewConnectionToDevice(){if(!this.newAetModel.dicomNetworkConnection[0].cn||this.newAetModel.dicomNetworkConnection[0].cn==="")this.mainservice.showError("Name of the new connection is empty!");else{let e=!1;he(this.selctedDeviceObject.dicomNetworkConnection,(n,o)=>{n.cn===this.newAetModel.dicomNetworkConnection[0].cn&&(e=!0);}),e?this.mainservice.showError("Connection with that name exist!"):A(this.selctedDeviceObject,"dicomNetworkConnection")?this.selctedDeviceObject.dicomNetworkConnection.push(Oe(this.newAetModel.dicomNetworkConnection[0])):(this.selctedDeviceObject.dicomNetworkConnection=[],this.selctedDeviceObject.dicomNetworkConnection.push(Oe(this.newAetModel.dicomNetworkConnection[0])));}}removeNewConnectionFromDevice(){A(this.newAetModel,"dicomNetworkConnection[0].cn")&&he(this.selctedDeviceObject.dicomNetworkConnection,(e,n)=>{A(this.newAetModel,"dicomNetworkConnection[0].cn")&&e.cn===this.newAetModel.dicomNetworkConnection[0].cn&&this.selctedDeviceObject.dicomNetworkConnection.splice(n,1),console.log("this.newAetModel.dicomNetworkConnection[0]",this.newAetModel.dicomNetworkConnection[0].cn);}),console.log("this.selctedDeviceObject=",this.selctedDeviceObject);}getDicomConnections(){try{if(A(this.newAetModel,"dicomNetworkAE.0.dicomNetworkConnectionReference")&&A(this.newAetModel,"dicomNetworkAE.0.dicomNetworkConnectionReference"))return this.selctedDeviceObject.dicomNetworkConnection.filter((e,n)=>this.newAetModel.dicomNetworkAE[0].dicomNetworkConnectionReference.indexOf(`/dicomNetworkConnection/${n}`)>-1&&(!A(e,"dcmNetworkConnection.dcmProtocol")||!e.dcmNetworkConnection.dcmProtocol||e.dcmNetworkConnection.dcmProtocol===""));}catch{return[];}return[];}testConnection(){if(this.selectedCallingAet&&this.newAetModel.dicomNetworkAE[0].dicomAETitle&&this.newAetModel.dicomNetworkConnection[0].dicomHostname&&this.newAetModel.dicomNetworkConnection[0].dicomPort){this.cfpLoadingBar.start();let e;if(this.activetab==="selectdevice"){if(this.dicomConnectionns.length>1){if(console.log("this.selectedDicomConnection",this.selectedDicomConnection),this.selectedDicomConnection)e={host:this.selectedDicomConnection.dicomHostname,port:this.selectedDicomConnection.dicomPort};else{this.mainservice.showError("Multiple DICOM connection selected!"),this.cfpLoadingBar.complete();return;}}else if(this.dicomConnectionns.length===0){this.mainservice.showError("No DICOM connection found!"),this.cfpLoadingBar.complete();return;}else e={host:this.dicomConnectionns[0].dicomHostname,port:this.dicomConnectionns[0].dicomPort};}else e={host:this.newAetModel.dicomNetworkConnection[0].dicomHostname,port:this.newAetModel.dicomNetworkConnection[0].dicomPort};e&&e.host&&e.port?this.aeListService.echoAe(this.selectedCallingAet,this.newAetModel.dicomNetworkAE[0].dicomAETitle,e).subscribe(n=>{this.cfpLoadingBar.complete();let o=this.aeListService.generateEchoResponseText(n);this.mainservice.setMessage({title:o.title,text:o.text,status:o.status}),this.dicomConnectionns=[];},n=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);}):this.mainservice.showError("No connection found");}else this.mainservice.showError("Parameter is missing, check the parameters Host, port, AE Title and Calling AET!");}validAeForm(){if(!A(this.newAetModel,"dicomNetworkAE[0].dicomAETitle")||this.newAetModel.dicomNetworkAE[0].dicomAETitle===""||!A(this.newAetModel,"dicomNetworkAE[0].dicomNetworkConnectionReference[0]")||this.newAetModel.dicomNetworkAE[0].dicomNetworkConnectionReference[0]==="")return!1;if(this.activetab==="createdevice"){if(!A(this.newAetModel,"dicomNetworkConnection[0]")||this.newAetModel.dicomNetworkConnection[0].cn&&this.newAetModel.dicomNetworkConnection[0].cn==="")return!1;}else if(!this.selctedDeviceObject)return!1;return!0;}submitFunction(e){console.log("e",e);}togglePrimaryDeviceType(e){this.newAetModel.dicomPrimaryDeviceType=this.newAetModel.dicomPrimaryDeviceType||[],this.newAetModel.dicomPrimaryDeviceType.indexOf(e)>-1?this.newAetModel.dicomPrimaryDeviceType.splice(this.newAetModel.dicomPrimaryDeviceType.indexOf(e),1):this.newAetModel.dicomPrimaryDeviceType.push(e);}};r.ɵfac=function(n){return new(n||r)(k(Fe),k(wt),k(le),k(ti),k(Pt),k(un),k(UW),k(Vn));},r.ɵcmp=Z({type:r,selectors:[["app-create-ae"]],standalone:!1,decls:51,vars:20,consts:()=>{let e;e="Register new Application Entity";let n;n="Create new device";let o;o="Select existing device";let a;a="New Device";let s;s="New Network Connection";let l;l="Select existing device";let _;_="New Network Connection to selected device";let f;f="Network AE";let g;g="Set the new Application Entity as 'Accepted Calling AE Title' to following AETs:";let S;S="Test Connection";let x;x="APPLY";let D;D="CANCEL";let R;R="Search...";let j;j="A unique name for this device";let V;V="Device Description";let ie;ie="Unconstrained text description of the device";let _e;_e="Station Name";let oe;oe="Should be the same as the value of Station Name (0008,1010) in SOP instances created by this device";let Ne;Ne="Institution Name";let Ce;Ce="Add";let Ge;Ge="Should be the same as the value of Institution Name (0008,0080) in SOP Instances created by this device";let dt;dt="Institution Department Name";let hi;hi="Add";let Vi;Vi="Should be the same as the value of Institutional Department Name (0008,1040) in SOP Instances created by this device";let gi;gi="Primary Device Type";let zi;zi="Represents the kind of device and is most applicable for acquisition modalities";let Dt;Dt="Installed";let Gn;Gn="True";let Qe;Qe="False";let Ie;Ie="Boolean to indicate whether this device is presently installed on the network";let _t;_t="Name";let Ae;Ae="Arbitrary/Meaningful name for the Network Connection object";let Ht;Ht="Hostname";let en;en="DNS name for this particular connection";let Br;Br="Port";let An;An="TCP/UDP port that a service is listening on. May be missing if this network connection is only used for outbound connections";let it;it=" Select device to connect the AE to: ";let Gi;Gi="Already existing devices";let Pu;Pu="Add the new connection to the selected device";let jl;jl="Name";let Nn;Nn="Arbitrary/Meaningful name for the Network Connection object";let Na;Na="DNS name for this particular connection";let Hr;Hr="Port";let Ul;Ul="TCP/UDP port that a service is listening on. May be missing if this network connection is only used for outbound connections";let Hc;Hc="Add connection";let qv;qv="Remove connection";let Yv;Yv=" Select first a device! ";let Xv;Xv="AE Title";let Kv;Kv="Unique AE title for this Network AE";let Qv;Qv="AE Description";let Zv;Zv="Unconstrained text description of the application entity";let Oh;Oh="Application Cluster";let Oo;Oo="Add";let rm;rm="Locally defined names for a subset of related applications";let Jv;Jv="Network Connection Reference";let e1;e1="JSON Pointers to the Network Connection objects for this AE";let Ph;Ph="Network Connection Reference";let to;to="JSON Pointers to the Network Connection objects for this AE";let Rh;Rh=" To be able to select the reference create first a network connection or select device with a network connection! ";let om;om="AE Title";let Ru;Ru="Already available AETs";let ji;ji="Warning: If configured, the VNA will reject associations from all other AETs apart from the configured ones!";let Nh;Nh="Verify AET, host and port before saving";let kh;kh=" Calling AET: ";let Nu;Nu="TEST";let am;return am=" Select one of the DICOM connections: ",[e,n,o,a,s,l,_,f,g,S,x,D,j,V,ie,_e,oe,Ne,Ce,Ge,dt,hi,Vi,gi,zi,Dt,Gn,Qe,Ie,_t,Ae,Ht,en,Br,An,it,Gi,jl,Nn,Na,Hr,Ul,Hc,qv,Yv,Xv,Kv,Qv,Zv,Oh,Oo,rm,Jv,e1,Ph,to,Rh,om,Ru,ji,kh,Nu,am,[1,"vex","vex-theme-os","registernewaet"],[1,"vex-content"],[1,"vex-dialog-form"],[1,"device"],[1,"vex-dialog-message"],[1,"nav","nav-tabs"],["role","presentation",3,"click","ngClass"],["mat-dialog-content",""],[1,"createdevice","tabcontain"],[1,"tab_body",3,"hidden"],[3,"click"],[4,"ngIf"],["class","content",4,"ngIf"],[1,"aet"],["id","networkae","class","content",4,"ngIf"],[1,"test"],[1,"dialogbuttons"],["type","button",1,"save",3,"click","disabled"],["type","button",1,"cancle",3,"click"],[1,"content"],[1,"inputblock"],[1,"title"],["type","text",3,"ngModelChange","keyup","keydown","keypress","ngModel"],[1,"description"],[3,"ngModelChange","ngModel"],["type","text",3,"ngModelChange","ngModel"],[1,"dynamicform"],[1,"form_content","arrayelement"],[1,"inputblock","array_parent"],["class","array_single",4,"ngFor","ngForOf","ngForTrackBy"],[1,"add",3,"click"],[1,"material-icons"],[1,"description_parent"],[1,"form_content","checkbox"],[1,"checkbox_parent","long_mode"],["type","text","placeholder",R,3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"radio"],["type","radio","name","dicomInstalled","checked","","value","true",3,"ngModelChange","ngModel"],["type","radio","name","dicomInstalled","value","false",3,"ngModelChange","ngModel"],[1,"description","checkbox"],[1,"array_single"],[1,"delete",3,"click"],[1,"checkbox"],["type","checkbox",3,"change","value"],["type","number",3,"ngModelChange","ngModel"],[1,"block"],[1,"label_part"],[1,"input_part"],["name","dicomDeviceName",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"vex-dialog-buttons","aet_buttons"],["type","button","title",Pu,1,"vex-dialog-button-primary","vex-dialog-button","vex-first",3,"click","disabled"],["type","button",1,"vex-dialog-button-secondary","vex-dialog-button","vex-last",3,"click"],["id","networkae",1,"content"],["name","dicomDescription",3,"ngModelChange","ngModel"],["class","checkbox",4,"ngFor","ngForOf"],["type","checkbox","value","/dicomNetworkConnection/0","checked","",3,"change"],[1,"helpvalue"],[3,"modelChange","model","placeholder","maxSelectedValueShown","options","showSearchField","multiSelectMode","showStar"],[1,"warning"],["class","block",4,"ngIf"],[1,"test_button"],["title",Nh,3,"click","disabled"],["value",""]];},template:function(n,o){n&1&&(u(0,"div",63)(1,"div",64)(2,"div",65)(3,"div",66)(4,"div",67),P(5,0),p(),u(6,"ul",68)(7,"li",69),b("click",function(){return o.changeTabAERegister("createdevice");}),u(8,"a"),P(9,1),p()(),u(10,"li",69),b("click",function(){return o.changeTabAERegister("selectdevice");}),u(11,"a"),P(12,2),p()()(),u(13,"div",70)(14,"div",71)(15,"div",72)(16,"h4",73),b("click",function(){return o.showdevice=!o.showdevice,o.showconn=!1;}),U(17),P(18,3),W(),E(19,tNe,3,1,"span",74),p(),E(20,oNe,77,14,"div",75),u(21,"h4",73),b("click",function(){return o.showconn=!o.showconn,o.showdevice=!1;}),U(22),P(23,4),W(),E(24,aNe,3,1,"span",74),p(),E(25,sNe,19,3,"div",75),p(),u(26,"div",72)(27,"h4",73),b("click",function(){return o.showselectdevice=!o.showselectdevice,o.showconnselecteddevice=!1;}),P(28,5),p(),E(29,cNe,9,2,"div",75),u(30,"h4",73),b("click",function(){return o.showconn=!o.showconn,o.showdevice=!1;}),P(31,6),p(),E(32,dNe,24,4,"div",75)(33,uNe,2,0,"div",75),p(),u(34,"div",76)(35,"h4",73),b("click",function(){return o.showae=!o.showae;}),P(36,7),p(),E(37,gNe,32,7,"div",77),p(),u(38,"div",72)(39,"h4",73),b("click",function(){return o.showAetList=!0,o.showae=!1,o.showselectdevice=!1,o.showconnselecteddevice=!1,o.showconn=!1,o.showdevice=!1;}),P(40,8),p(),E(41,vNe,12,7,"div",75),p(),u(42,"div",78)(43,"h4",73),b("click",function(){return o.showTestBlock=!o.showTestBlock;}),P(44,9),p(),E(45,SNe,11,4,"div",75),p()()()(),u(46,"div",79)(47,"button",80),b("click",function(){return o.dialogRef.close({device:o.selctedDeviceObject,newaetmodel:o.newAetModel,mode:o.activetab,selectedForAcceptedCallingAET:o.selectedForAcceptedCallingAET});}),P(48,10),p(),u(49,"button",81),b("click",function(){return o.dialogRef.close(null);}),P(50,11),p()()()()()),n&2&&(c(7),m("ngClass",ne(16,WW,o.activetab==="createdevice")),c(3),m("ngClass",ne(18,WW,o.activetab==="selectdevice")),c(5),m("hidden",o.activetab!=="createdevice"),c(4),m("ngIf",o.newAetModel.dicomDeviceName&&!o.showdevice),c(),m("ngIf",o.showdevice===!0),c(4),m("ngIf",o.newAetModel&&o.newAetModel.dicomNetworkConnection&&o.newAetModel.dicomNetworkConnection[0]&&o.newAetModel.dicomNetworkConnection[0].cn),c(),m("ngIf",o.showconn===!0),c(),m("hidden",o.activetab!=="selectdevice"),c(3),m("ngIf",o.showselectdevice===!0),c(3),m("ngIf",o.selctedDeviceObject&&o.showconn===!0),c(),m("ngIf",!o.selctedDeviceObject&&o.showconn===!0),c(4),m("ngIf",o.showae===!0),c(),m("hidden",o.activetab!=="createdevice"),c(3),m("ngIf",o.showAetList),c(4),m("ngIf",o.showTestBlock&&o.newAetModel.dicomNetworkAE[0].dicomAETitle&&o.newAetModel.dicomNetworkConnection[0].dicomHostname&&o.newAetModel.dicomNetworkConnection[0].dicomPort),c(2),m("disabled",!o.validAeForm()));},dependencies:[Je,ve,de,_o,fo,Me,Fo,mo,Sc,Se,Ee,fi,ii,Kn,zn,yt],styles:[".test_button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--backgroundHoverColor);color:#fff;width:130px;height:26px;border:none;margin-top:4px;margin-left:5px}.test_button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#061d2f}#networkae[_ngcontent-%COMP%]   .inputblock[_ngcontent-%COMP%]   label.checkbox[_ngcontent-%COMP%]{display:list-item;list-style:none;height:26px;line-height:26px;margin-bottom:0}#networkae[_ngcontent-%COMP%]   .inputblock[_ngcontent-%COMP%]   label.checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}"]});let i=r;return i;})();var YA=(()=>{let r=class r{constructor(e,n,o){this.$http=e,this.deviceConfiguratorService=n,this.appService=o,this.getDevice=a=>this.deviceConfiguratorService.getDevice(a),this.getQueue=()=>this.$http.get(`${I.addLastSlash(this.appService.baseUrl)}queue`),this.getExporterDescriptorSchema=()=>{let a=JSON.parse(localStorage.getItem("current_language"));return this.$http.get("./assets/schema/exporter.schema.json");};}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(Vn),K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var Vl=(()=>{let r=class r{static requiredArray(e){return n=>n.value===void 0||n.value===null||n.value===""||dn(n.value)<1||pe(n.value)&&n.value[0]===""?{msg:"This field is required!"}:null;}static required(e){return n=>{let o=!1;return he(e,(s,l)=>{s.active&&s.active===!0&&(o=!0);}),(n.value===void 0||n.value===null||n.value==="")&&!o?{msg:"This field is required!"}:null;};}static exclusiveMin(e,n){return o=>!o.value&&o.value!="0"?null:n&&n===!0&&o.value==e?{msg:"The given value "+o.value+" should be greater than the allowed exclusive minimum value "+e+"!"}:null;}static exclusiveMax(e,n){return o=>!o.value&&o.value!="0"?null:n&&n===!0&&o.value==e?{msg:"The given value "+o.value+" should be lesser than the allowed exclusive maximum value "+e+"!"}:null;}static min(e){return n=>!n.value&&n.value!="0"?null:n.value<e?{msg:"The given value "+n.value+" is smaller than the allowed min value "+e+"!"}:null;}static max(e){return n=>!n.value&&n.value!="0"?null:n.value>e?{msg:"The given value "+n.value+" is bigger than the allowed max value "+e+"!"}:null;}static regExp(e){return n=>!n.value||pe(n.value)&&(n.value.length===1&&n.value[0]===""||n.value.length===0)?null:new RegExp(e,"g").exec(n.value)===null?{msg:"The given value is not a valid string!"}:null;}};r.ɵfac=function(n){return new(n||r)();},r.ɵdir=Le({type:r,selectors:[["","appCustomValidator",""]],standalone:!1,features:[Qt([{provide:Ta,useExisting:r,multi:!0}])]});let i=r;return i;})();var bh=(()=>{let r=class r{constructor(e){this._fb=e;}toFormGroup(e){return this._fb.group(this.convertFormElement(e));}convertFormElement(e){let n={},o=this;return e.forEach(a=>{let s,l=0;if(A(a,"validation"))if(dn(a.validation)>1){let _=[],f=0,g=0;he(a.validation,(S,x)=>{switch(x){case"minimum":a.type==="string"&&a.controlType==="text"?_.push(Ci.minLength(S)):(f=S,_.push(Vl.min(S)));break;case"exclusiveMinimum":_.push(Vl.exclusiveMin(f,S));break;case"maximum":a.type==="string"&&a.controlType==="text"?_.push(Ci.maxLength(S)):(g=S,_.push(Vl.max(S)));break;case"maxLength":g=S,_.push(Ci.maxLength(S));break;case"minLength":g=S,_.push(Ci.minLength(S));break;case"exclusiveMaximum":_.push(Vl.exclusiveMax(g,S));break;case"pattern":_.push(Vl.regExp(S));break;default:x==="required"&&S===!0&&(_.push(Ci.required),A(a,"validation.required")&&a.validation.required&&(A(a,"options")?a.controlType==="checkbox"||a.controlType==="arrayelement"?_.push(Vl.requiredArray(a.options)):_.push(Vl.required(a.options)):_.push(Ci.required)));}}),s=Ci.compose(_);}else A(a,"validation.required")&&a.validation.required&&(A(a,"options")||a.controlType==="arrayelement"?a.controlType==="checkbox"||a.controlType==="arrayelement"?s=Vl.requiredArray(a.options):s=Vl.required(a.options):s=Ci.required);switch(a.controlType){case"arrayobject":let _=[],f={};a.options.forEach(x=>{x.element.forEach(D=>{if(D.controlType==="arrayobject"){let R=this.convertFormElement([D]);f[D.key]=R[D.key];}else D.controlType==="arrayelement"?f[D.key]=D.value||[""]:f[D.key]=D.value||"";}),_.push(o._fb.group(this.getFormControlObject(f)));}),n[a.key]=o._fb.array(_);break;case"arrayelement":let g=[];console.log("element.value",a.value),a.value?(a.type==="number"?he(a.value,x=>{g.push(o._fb.control(parseInt(x)));}):he(a.value,x=>{g.push(o._fb.control(x));}),n[a.key]=s?o._fb.array(g,s):o._fb.array(g)):a.type==="number"?n[a.key]=s?o._fb.array([o._fb.control(g)],s):o._fb.array([o._fb.control(g)]):n[a.key]=s?o._fb.array([o._fb.control("")],s):o._fb.array([o._fb.control("")]);break;case"checkbox":let S=[];a.options.forEach(x=>{x.active&&S.push(o._fb.control(x.value));}),n[a.key]=s?o._fb.array(S,s):o._fb.array(S);break;case"dynamiccheckbox":a.type==="array"?(a.value=a.value||[],n[a.key]=s?o._fb.array(a.value,s):o._fb.array(a.value)):(a.value=a.value||"",n[a.key]=s?o._fb.control(a.value,s):o._fb.control(a.value));break;default:if(a.key)if(a.type==="number"){let x;a.value||a.value===0?x=a.value:x=NaN,n[a.key]=s?o._fb.control(x,s):o._fb.control(x);}else{let x="";(a.value||a.value===!1)&&(x=a.value),n[a.key]=s?o._fb.control(x,s):o._fb.control(x);}}}),n;}getFormControlObject(e){let n={},o=this;return Object.keys(e).forEach(function(a){if(typeof e[a]!="object")n[a]=o._fb.control(e[a]);else if(Array.isArray(e[a])){let s=[];e[a].forEach(l=>{s.push(o._fb.control(l));}),n[a]=o._fb.array(s);}else n[a]=e[a];}),n;}};r.ɵfac=function(n){return new(n||r)(K(Ed));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();function TNe(i,r){if(i&1&&(u(0,"div",6),$(1,"df-element",7),p()),i&2){let t=r.$implicit,e=d();c(),m("formelement",t)("formelements",e.formelements)("form",e.form)("partSearch",e.partSearch)("readOnlyMode",e.readOnlyMode);}}function INe(i,r){if(i&1){let t=O();u(0,"div",8)(1,"fieldset",9)(2,"div",10),b("click",function(){C(t);let n=d();return y(n.onSubmit(n.form.valid));}),P(3,0),p()()();}if(i&2){let t=d();c(),m("disabled",!t.form.valid);}}var Qp=(()=>{let r=class r{constructor(e,n,o,a){this.formservice=e,this.mainservice=n,this.route=o,this.fb=a,this.formelements=[],this.submitFunction=new ae(),this.payLoad="",this.partSearch="",this.prevPartSearch="",this.pressedKey=[],this.exceptionValidation=!1;}ngOnInit(){this.initCheck(10);}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.init():e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){console.log("formelements",this.formelements);let e,n,o=0,a=0,s=0,l;n=new Ur().transform(this.formelements,"order"),e=Oe(n),e=new Ur().transform(e,"order"),he(n,(f,g)=>{if(o!=parseInt(f.order)){let S="";1<=f.order&&f.order<3?(S="Extensions",l="extension",a=0):3<=f.order&&f.order<4?(S="Child Objects",l="subdirectory_arrow_right",a=2):(S="Attributes",l="list",a=4),e.splice(g+s,0,{controlType:"togglebutton",title:S,orderId:a,order:a,materialIconName:l}),s++;}o=parseInt(f.order);}),this.formelements=e;let _=this.formservice.toFormGroup(e);this.form=_,console.log("hr",window.location),console.log("after convert form",this.form),console.log("this.model=",this.model),this.route.params.subscribe(f=>{console.log("params",f),console.log("this.model",this.model),f.devicereff==="dcmDevice.dcmArchiveDevice"&&(!this.model||this.model&&!A(this.model,"dcmDevice.dcmArchiveDevice"))&&(this.exceptionValidation=!0);}),console.log("form",this.form);}filterFormElements(){this.partSearch!=""?((this.partSearch.length===1&&this.prevPartSearch.length<this.partSearch.length||!this.prevPartSearch&&!this.listStateBeforeSearch)&&(this.listStateBeforeSearch=Oe(this.formelements)),this.formelements=new Ur().transform(this.listStateBeforeSearch,"order"),this.formelements=new yt().transform(this.formelements,this.partSearch)):dn(this.listStateBeforeSearch)>0&&(this.formelements=Oe(this.listStateBeforeSearch)),this.prevPartSearch=this.partSearch;}onSubmit(e){console.log("this.form.value",this.form.value),e&&(this.payLoad=JSON.stringify(this.form.value),this.submitFunction.emit(this.form.value));}getForm(){return this.form;}setFormModel(e){this.form.patchValue(e);}setForm(e){this.form=e;}keyDown(e){console.log("e2",e.keyCode),this.pressedKey.push(e.keyCode),this.pressedKey.indexOf(17)>-1&&e.keyCode===13&&(console.log("combinatnion pressed"),this.onSubmit(this.form.valid));}keyUp(e){console.log("e2",e.keyCode);let n=this.pressedKey.indexOf(e.keyCode);n>-1&&this.pressedKey.splice(n,1);}};r.ɵfac=function(n){return new(n||r)(k(bh),k(le),k(Dn),k(Ed));},r.ɵcmp=Z({type:r,selectors:[["dynamic-form"]],inputs:{formelements:"formelements",model:"model",dontShowSearch:"dontShowSearch",dontGroup:"dontGroup",readOnlyMode:"readOnlyMode"},outputs:{submitFunction:"submitFunction"},standalone:!1,features:[Qt([bh])],decls:5,vars:4,consts:()=>{let e;e="Search in this part...";let n;return n="Save",[n,[3,"keydown","keyup"],["placeholder",e,1,"search_form",3,"ngModelChange","keyup","ngModel"],[3,"formGroup"],["class","form-row",4,"ngFor","ngForOf"],["class","form-row submit_button_block",4,"ngIf"],[1,"form-row"],[3,"formelement","formelements","form","partSearch","readOnlyMode"],[1,"form-row","submit_button_block"],[3,"disabled"],["type","submit",1,"btn","btn-default","submit",3,"click"]];},template:function(n,o){n&1&&(u(0,"div",1),b("keydown",function(s){return o.keyDown(s);})("keyup",function(s){return o.keyUp(s);}),u(1,"input",2),q("ngModelChange",function(s){return Y(o.partSearch,s)||(o.partSearch=s),s;}),b("keyup",function(){return o.filterFormElements();}),p(),u(2,"form",3),E(3,TNe,2,5,"div",4)(4,INe,4,1,"div",5),p()()),n&2&&(c(),H("ngModel",o.partSearch),c(),m("formGroup",o.form),c(),m("ngForOf",o.formelements),c(),m("ngIf",!o.readOnlyMode));},encapsulation:2});let i=r;return i;})();function xNe(i,r){if(i&1){let t=O();u(0,"dynamic-form",6),b("submitFunction",function(n){C(t);let o=d();return y(o.submitFunction(n));}),p();}if(i&2){let t=d();m("formelements",t.formObj)("dontShowSearch",!0)("model",t.archive)("dontGroup",!0);}}function ANe(i,r){i&1&&$(0,"i",7);}var XA=(()=>{let r=class r{constructor(e,n,o,a,s,l,_){this.$http=e,this.dialogRef=n,this.mainservice=o,this.cfpLoadingBar=a,this.service=s,this.httpErrorHandler=l,this.deviceConfigService=_,this.showselectdevice=!0,this.showexternalae=!0,this.showexporter=!1,this.dcmExporter={dcmExporterID:void 0,dcmURI:void 0,dcmQueueName:void 0,dicomAETitle:void 0,dicomDescription:"",dcmStgCmtSCP:void 0,dcmInstanceAvailability:"ONLINE",dcmExportPriority:4},this.schema={title:"Exporter Descriptor",description:"Exporter Descriptor",type:"object",required:["dcmExporterID","dcmURI","dcmQueueName","dcmExportPriority","dcmInstanceAvailability","dicomAETitle"],properties:{dcmExporterID:{title:"Exporter ID",description:"Exporter ID",type:"string"},dcmURI:{title:"URI",description:"RFC2079: Uniform Resource Identifier",type:"string"},dcmQueueName:{title:"Queue Name",description:"Task Queue Name",type:"string",enum:["Export1","Export2","Export3","Export4","Export5"]},dcmExportPriority:{title:"Export Priority",description:"Task Priority Level for processing the Export Task from 0 (lowest) to 9 (highest).",type:"integer",default:4,minimum:0,maximum:9},dcmInstanceAvailability:{title:"Instance Availability",description:"Instance Availability",type:"string",default:"ONLINE",enum:["ONLINE","NEARLINE","OFFLINE"]},dicomAETitle:{title:"Application Entity (AE) title",description:"Application Entity (AE) title",type:"string",format:"dcmArchiveAETitle"}}},this._=ye;}ngOnInit(){this.cfpLoadingBar.complete();let e=this;this.service.getQueue().subscribe(n=>{e.queue=n;}),this.getArchiveDevice(2);}get aes(){return this._aes;}set aes(e){this._aes=e;}onChange(e,n){Ue(this,n,e);}get devices(){return this._devices;}set devices(e){this._devices=e;}setAe(e){this.dcmExporter.dicomAETitle=e;}setQueue(e){this.dcmExporter.dcmQueueName=e;}setDcmStgCmtSCP(e){this.dcmExporter.dcmStgCmtSCP=e.dicomAETitle,this.externalAeObject=e;}getSchema(){this.service.getExporterDescriptorSchema().subscribe(e=>{this.schema=e,this.formObj=this.deviceConfigService.convertSchemaToForm(this.archive,this.schema,{},"attr");},e=>{this.formObj=this.deviceConfigService.convertSchemaToForm(this.archive,this.schema,{},"attr");});}selectDevice(e){this.selectedDevice=e;let n=this;n.cfpLoadingBar.start(),this.service.getDevice(e).subscribe(o=>{n.selectedDeviceObject=o,n.showselectdevice=!1,n.externalAe&&n.selectedDeviceObject&&(n.showexporter=!0),n.cfpLoadingBar.complete();},o=>{n.httpErrorHandler.handleError(o),n.cfpLoadingBar.complete();});}getArchiveDevice(e){this.mainservice.archiveDeviceName?this.service.getDevice(this.mainservice.archiveDeviceName).subscribe(n=>{this.archive=n,this.getSchema();},n=>{e?this.getArchiveDevice(e-1):this.httpErrorHandler.handleError(n);}):e&&(console.log("retry",e),setTimeout(()=>{this.getArchiveDevice(e-1);},400));}submitFunction(e){console.log("e",e),this.dialogRef.close({device:this.archive,exporter:e});}validAeForm(){return!(!this.dcmExporter.dcmExporterID||this.dcmExporter.dcmExporterID===""||!this.dcmExporter.dcmURI||this.dcmExporter.dcmURI===""||!this.dcmExporter.dcmQueueName||this.dcmExporter.dcmQueueName===""||!this.dcmExporter.dicomAETitle||this.dcmExporter.dicomAETitle==="");}};r.ɵfac=function(n){return new(n||r)(k(Fe),k(wt),k(le),k(ti),k(YA),k(Pt),k(Vn));},r.ɵcmp=Z({type:r,selectors:[["app-create-exporter"]],standalone:!1,decls:7,vars:2,consts:()=>{let e;return e="Exporter",[e,[1,"dynamic_form_dialog"],[1,"dialog_content"],["mat-dialog-content",""],[3,"formelements","dontShowSearch","model","dontGroup","submitFunction",4,"ngIf"],["class","fa fa-circle-o-notch fa-spin",4,"ngIf"],[3,"submitFunction","formelements","dontShowSearch","model","dontGroup"],[1,"fa","fa-circle-o-notch","fa-spin"]];},template:function(n,o){n&1&&(u(0,"div",1)(1,"h2"),P(2,0),p(),u(3,"div",2)(4,"div",3),E(5,xNe,1,4,"dynamic-form",4)(6,ANe,1,0,"i",5),p()()()),n&2&&(c(5),m("ngIf",o.formObj),c(),m("ngIf",!o.formObj));},dependencies:[de,Kn,Qp],encapsulation:2});let i=r;return i;})();function wNe(i,r){if(i&1&&(u(0,"h6"),T(1),p()),i&2){let t=d();c(),z(t.subTitle);}}function DNe(i,r){if(i&1&&(u(0,"p"),T(1),U(2),P(3,1),W(),p()),i&2){let t=d();c(),ue("",t.count," ");}}function MNe(i,r){i&1&&(u(0,"label",32),$(1,"input",33),U(2),P(3,2),W(),p());}function ONe(i,r){if(i&1&&(u(0,"mat-option",39),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.id))("title",X(t.description)),c(),z(t.id);}}function PNe(i,r){if(i&1){let t=O();U(0),u(1,"div",34)(2,"p"),P(3,3),p(),u(4,"mat-select",35),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.result.selectedExporter,n)||(o.result.selectedExporter=n),y(n);}),E(5,ONe,2,5,"mat-option",36),p()(),$(6,"br"),u(7,"div")(8,"p")(9,"input",37),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.result.batchID,n)||(o.result.batchID=n),y(n);}),p()(),u(10,"range-picker",38),b("modelChange",function(n){C(t);let o=d(2);return y(o.result.scheduledTime=n);}),p()(),$(11,"br"),W();}if(i&2){let t=d(2);c(4),H("ngModel",t.result.selectedExporter),c(),m("ngForOf",t.noDicomExporters),c(4),H("ngModel",t.result.batchID),c(),m("model",t.result.scheduledTime)("datePickerMode",!0);}}function RNe(i,r){if(i&1&&(u(0,"div",30),E(1,MNe,4,0,"label",31)(2,PNe,12,5,"ng-container",25),p()),i&2){let t=d();c(),m("ngIf",t.noDicomExporters.length===0),c(),m("ngIf",t.noDicomExporters.length>0);}}function NNe(i,r){if(i&1){let t=O();u(0,"label")(1,"input",44),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.result.exportType,n)||(o.result.exportType=n),y(n);}),p(),U(2),P(3,7),W(),p();}if(i&2){let t=d(2);c(),H("ngModel",t.result.exportType);}}function kNe(i,r){i&1&&(u(0,"label",32),$(1,"input",33),U(2),P(3,8),W(),p());}function $Ne(i,r){if(i&1){let t=O();u(0,"div",45)(1,"p"),P(2,9),p(),u(3,"dcm-drop-down",46),q("modelChange",function(n){C(t);let o=d(2);return Y(o.result.selectedAet,n)||(o.result.selectedAet=n),y(n);}),b("modelChange",function(n){C(t);let o=d(2);return y(o.result.selectedAet=n);}),p()();}if(i&2){let t=d(2);c(3),m("options",t.aesOption),H("model",t.result.selectedAet),m("editable",!1)("showSearchField",!0)("multiSelectMode",!1)("showStar",!1);}}function LNe(i,r){if(i&1){let t=O();u(0,"div",45)(1,"p"),P(2,10),p(),u(3,"dcm-drop-down",46),q("modelChange",function(n){C(t);let o=d(2);return Y(o.result.selectedStowWebapp,n)||(o.result.selectedStowWebapp=n),y(n);}),b("modelChange",function(n){C(t);let o=d(2);return y(o.result.selectedStowWebapp=n);}),p()();}if(i&2){let t=d(2);c(3),m("options",t.stowWebAppsOption),H("model",t.result.selectedStowWebapp),m("editable",!1)("showSearchField",!0)("multiSelectMode",!1)("showStar",!1);}}function FNe(i,r){if(i&1&&(u(0,"mat-option",39),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.id))("title",X(t.description)),c(),z(t.id);}}function VNe(i,r){if(i&1){let t=O();u(0,"div",34)(1,"p"),P(2,11),p(),u(3,"mat-select",35),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.result.selectedExporter,n)||(o.result.selectedExporter=n),y(n);}),E(4,FNe,2,5,"mat-option",36),p()();}if(i&2){let t=d(2);c(3),H("ngModel",t.result.selectedExporter),c(),m("ngForOf",t.noDicomExporters);}}function zNe(i,r){if(i&1){let t=O();u(0,"div",30)(1,"p"),P(2,4),p(),u(3,"label")(4,"input",40),q("ngModelChange",function(n){C(t);let o=d();return Y(o.result.exportType,n)||(o.result.exportType=n),y(n);}),p(),U(5),P(6,5),W(),p(),$(7,"br"),u(8,"label")(9,"input",41),q("ngModelChange",function(n){C(t);let o=d();return Y(o.result.exportType,n)||(o.result.exportType=n),y(n);}),p(),U(10),P(11,6),W(),p(),$(12,"br"),E(13,NNe,4,1,"label",25)(14,kNe,4,0,"label",31)(15,$Ne,4,6,"div",42)(16,LNe,4,6,"div",42)(17,VNe,5,2,"div",43),p();}if(i&2){let t=d();c(4),H("ngModel",t.result.exportType),c(5),H("ngModel",t.result.exportType),c(4),m("ngIf",t.noDicomExporters.length>0),c(),m("ngIf",t.noDicomExporters.length===0),c(),m("ngIf",t.result.exportType=="dicom"),c(),m("ngIf",t.result.exportType=="stow"),c(),m("ngIf",t.result.exportType!="dicom"&&t.result.exportType!="stow");}}function GNe(i,r){i&1&&(u(0,"p"),P(1,12),p());}function jNe(i,r){i&1&&(u(0,"p"),P(1,13),p());}function UNe(i,r){if(i&1&&(u(0,"mat-option",39),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.dicomAETitle))("title",X(t.dicomDescription)),c(),z(t.dicomAETitle);}}function WNe(i,r){if(i&1){let t=O();u(0,"div",34)(1,"p"),U(2),P(3,14),W(),T(4,":"),p(),u(5,"input",49),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.result.batchID,n)||(o.result.batchID=n),y(n);}),p(),u(6,"range-picker",50),b("modelChange",function(n){C(t);let o=d(2);return y(o.result.scheduledTime=n);}),p()();}if(i&2){let t=d(2);c(5),H("ngModel",t.result.batchID),c(),m("model",t.result.scheduledTime)("datePickerMode",!0);}}function BNe(i,r){i&1&&(u(0,"p"),P(1,15),p());}function HNe(i,r){i&1&&(u(0,"p"),P(1,16),p());}function qNe(i,r){if(i&1&&(u(0,"mat-option",39),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.dicomAETitle))("title",X(t.dicomDescription)),c(),z(t.dicomAETitle);}}function YNe(i,r){if(i&1){let t=O();u(0,"mat-select",47),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.result.externalAET,n)||(o.result.externalAET=n),y(n);}),E(1,qNe,2,5,"mat-option",36),p();}if(i&2){let t=d(2);H("ngModel",t.result.externalAET),c(),m("ngForOf",t.aes);}}function XNe(i,r){if(i&1&&(u(0,"mat-option",39),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.value))("title",X(t.title)),c(),z(t.text);}}function KNe(i,r){if(i&1){let t=O();u(0,"div")(1,"p"),U(2),P(3,17),W(),T(4,":"),p(),u(5,"mat-select",47),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.result.dcmQueueName,n)||(o.result.dcmQueueName=n),y(n);}),u(6,"mat-option",51),T(7,"*"),p(),E(8,XNe,2,5,"mat-option",36),p()();}if(i&2){let t=d(2);c(5),H("ngModel",t.result.dcmQueueName),c(3),m("ngForOf",t.queues);}}function QNe(i,r){if(i&1&&(u(0,"mat-option",39),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.dicomAETitle))("title",X(t.dicomDescription)),c(),z(t.dicomAETitle);}}function ZNe(i,r){if(i&1){let t=O();U(0),u(1,"div",45)(2,"p"),P(3,18),p(),u(4,"mat-select",47),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.result.queryAET,n)||(o.result.queryAET=n),y(n);}),E(5,QNe,2,5,"mat-option",36),p()(),u(6,"div",45)(7,"p"),P(8,19),p(),u(9,"dcm-drop-down",46),q("modelChange",function(n){C(t);let o=d(2);return Y(o.result.destinationAET,n)||(o.result.destinationAET=n),y(n);}),b("modelChange",function(n){C(t);let o=d(2);return y(o.result.destinationAET=n);}),p()(),W();}if(i&2){let t=d(2);c(4),H("ngModel",t.result.queryAET),c(),m("ngForOf",t.aes),c(4),m("options",t.aesOption),H("model",t.result.destinationAET),m("editable",!1)("showSearchField",!0)("multiSelectMode",!1)("showStar",!1);}}function JNe(i,r){if(i&1){let t=O();u(0,"div",30)(1,"div",45),E(2,GNe,2,0,"p",25)(3,jNe,2,0,"p",25),u(4,"mat-select",47),q("ngModelChange",function(n){C(t);let o=d();return Y(o.result.selectedAet,n)||(o.result.selectedAet=n),y(n);}),E(5,UNe,2,5,"mat-option",36),p(),$(6,"br"),E(7,WNe,7,3,"div",43),$(8,"br"),p(),u(9,"div",45),E(10,BNe,2,0,"p",25)(11,HNe,2,0,"p",25)(12,YNe,2,2,"mat-select",48),p(),E(13,KNe,9,2,"div",25)(14,ZNe,10,8,"ng-container",25),p();}if(i&2){let t=d();c(2),m("ngIf",t.mode==="single"),c(),m("ngIf",t.mode==="multiple"),c(),H("ngModel",t.result.selectedAet),c(),m("ngForOf",t.aes),c(2),m("ngIf",t.mode==="multiple-retrieve"),c(3),m("ngIf",t.mode==="single"&&!t.newStudyPage),c(),m("ngIf",t.mode==="multiple"),c(),m("ngIf",!t.newStudyPage),c(),m("ngIf",t.mode==="single"),c(),m("ngIf",t.mode==="multiple");}}function eke(i,r){if(i&1&&(u(0,"mat-option",39),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.id))("title",X(t.id)),c(),z(t.id);}}function tke(i,r){if(i&1){let t=O();u(0,"div",30)(1,"div",45)(2,"p"),U(3),P(4,20),W(),T(5,":"),p(),u(6,"mat-select",47),q("ngModelChange",function(n){C(t);let o=d();return Y(o.result.selectedExporter,n)||(o.result.selectedExporter=n),y(n);}),E(7,eke,2,5,"mat-option",36),p()()();}if(i&2){let t=d();c(6),H("ngModel",t.result.selectedExporter),c(),m("ngForOf",t.noDicomExporters);}}function ike(i,r){if(i&1){let t=O();u(0,"div",30)(1,"p"),P(2,21),p(),u(3,"input",52),q("ngModelChange",function(n){C(t);let o=d();return Y(o.result.batchID,n)||(o.result.batchID=n),y(n);}),p(),u(4,"range-picker",53),b("modelChange",function(n){C(t);let o=d();return y(o.result.scheduledTime=n);}),p()();}if(i&2){let t=d();c(3),H("ngModel",t.result.batchID),c(),m("model",t.result.scheduledTime)("datePickerMode",!0);}}function nke(i,r){if(i&1){let t=O();u(0,"button",54),b("click",function(){C(t);let n=d();return y(n.dialogRef.close(n.result));}),P(1,22),p();}if(i&2){let t=d();m("disabled",!t.validForm());}}function rke(i,r){if(i&1){let t=O();u(0,"button",54),b("click",function(){C(t);let n=d();return y(n.dialogRef.close(n.result));}),T(1),p();}if(i&2){let t=d();m("disabled",!t.validForm()),c(),z(t.okButtonLabel);}}var KA=(()=>{let r=class r{constructor(e,n,o){this.dialogRef=e,this.$http=n,this.mainservice=o,this._=ye,this.newStudyPage=!1,this._result={exportType:"dicom",selectedAet:void 0,destinationAET:void 0,selectedStowWebapp:void 0,selectedExporter:void 0,queue:!1,externalAET:void 0,dicomPrefix:void 0,checkboxes:{"only-stgcmt":void 0,"only-ian":void 0}};}ngOnInit(){this.getAes(),this.getStowWebApps();}get subTitle(){return this._subTitle;}set subTitle(e){this._subTitle=e;}get preselectedAet(){return this._preselectedAet;}set preselectedAet(e){this._result.selectedAet=e,this._preselectedAet=e;}set preselectedExternalAET(e){this._result.externalAET=e;}get result(){return this._result;}set result(e){this._result=e;}get okButtonLabel(){return this._okButtonLabel;}set okButtonLabel(e){this._okButtonLabel=e;}get title(){return this._title;}set title(e){this._title=e;}get dicomPrefixes(){return this._dicomPrefixes;}set dicomPrefixes(e){this._dicomPrefixes=e;}get noDicomExporters(){return this._noDicomExporters;}set noDicomExporters(e){this._noDicomExporters=e;}get aes(){return this._aes;}set aes(e){this._aes=e;}get webapps(){return this._webapps;}set webapps(e){this._webapps=e;}get externalInternalAetMode(){return this._externalAetMode;}set externalInternalAetMode(e){this._externalAetMode=e;}get mode(){return this._mode;}set mode(e){this._mode=e;}get count(){return this._count;}set count(e){this._count=e;}getAes(){let e=this;this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}aes`).subscribe(n=>{e.aes=n,this.aesOption=this.aes.map(a=>new G(a.dicomAETitle,a.dicomAETitle,a.dicomDescription));let o=JSON.parse(localStorage.getItem("export_result"));if(o&&(e._result=o),e._result.selectedAet=e._result.selectedAet||e.aes[0].dicomAETitle,e._result.destinationAET=e._result.destinationAET||e.aes[0].dicomAETitle,e.mainservice.global&&!e.mainservice.global.aes){let a=Oe(e.mainservice.global);a.aes=n,e.mainservice.setGlobal(a);}else e.mainservice.global&&e.mainservice.global.aes?e.mainservice.global.aes=n:e.mainservice.setGlobal({aes:n});},n=>{});}getStowWebApps(){let e=this;this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}webapps?dcmWebServiceClass=STOW_RS`).subscribe(n=>{e.webapps=n,this.stowWebAppsOption=this.webapps.map(a=>new G(a.dcmWebAppName,a.dcmWebAppName,a.dicomDescription));let o=JSON.parse(localStorage.getItem("export_result"));if(o&&(e._result=o),e._result.selectedStowWebapp=e._result.selectedStowWebapp||e.webapps[0].dcmWebAppName,e.mainservice.global&&!e.mainservice.global.webapps){let a=Oe(e.mainservice.global);a.webapps=n,e.mainservice.setGlobal(a);}else e.mainservice.global&&e.mainservice.global.webapps?e.mainservice.global.webapps=n:e.mainservice.setGlobal({webapps:n});},n=>{});}validForm(){return this._mode==="reschedule"?!0:this._mode==="multipleExport"?A(this._result,"scheduledTime")&&A(this._result,"selectedExporter"):this._result&&A(this._result,"exportType")&&this._result.exportType==="dicom"?!!this._result.selectedAet:this._result&&A(this._result,"exportType")&&this._result.exportType==="stow"?!!this._result.selectedStowWebapp:!!(this._result&&this._result.selectedExporter);}dialogKeyHandler(e,n){let o=e.keyCode?e.keyCode:e.which;o===13&&n.close("ok"),o===27&&n.close(null);}get quantity(){return this._quantity;}set quantity(e){this._quantity=e;}ngOnDestroy(){localStorage.setItem("export_result",JSON.stringify(this._result));}};r.ɵfac=function(n){return new(n||r)(k(wt),k(Fe),k(le));},r.ɵcmp=Z({type:r,selectors:[["app-export"]],standalone:!1,decls:16,vars:10,consts:()=>{let e;e="CANCEL";let n;n="studies selected to be retrieved";let o;o="Create first an exporter!";let a;a="Batch ID";let s;s="Schedule at (if not set, schedule immediately)";let l;l="Select the exporter:";let _;_="Select the type of the exporter:";let f;f="Synchronised DICOM C-STORE exporter";let g;g="Synchronised DICOM STOW-RS exporter";let S;S="Queued exporter";let x;x="For queued exporter create an exporter first!";let D;D="Select the destination AETitle:";let R;R="Select STOW destination web application:";let j;j="Select the exporter:";let V;V="Select the destination AETitle (STORE-SCP):";let ie;ie="Select the calling AETitle:";let _e;_e="Batch ID";let oe;oe="Schedule at (if not set, schedule immediately)";let Ne;Ne="Batch ID";let Ce;Ce="Select the external AETitle (C-MOVE SCP):";let Ge;Ge="Select the external AETitle:";let dt;dt="Queue Name";let hi;hi="Select the query AETitle:";let Vi;Vi="Select the destination AETitle:";let gi;gi="Exporter ID";let zi;zi="Schedule at (if not set, schedule immediately)";let Dt;Dt="Batch ID";let Gn;return Gn="EXPORT",[e,n,o,l,_,f,g,S,x,D,R,j,V,ie,Ne,Ce,Ge,dt,hi,Vi,gi,Dt,Gn,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","export",3,"keydown"],[1,"vex-dialog-form"],[4,"ngIf"],["class","content",4,"ngIf"],[1,"dialogbuttons"],["class","save","type","button",3,"disabled","click",4,"ngIf"],["type","button",1,"cancle",3,"click"],[1,"content"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["type","radio","name","exportType","value","nonedicom","DISABLED",""],[1,"noneDicomBlock"],[3,"ngModelChange","ngModel"],[3,"value","title",4,"ngFor","ngForOf"],["type","text","placeholder",a,3,"ngModelChange","ngModel"],["dateFormat","YYYYMMDD","onlySingleMode","true","defaultTime","00:00:00","mode","single","placeholder",s,3,"modelChange","model","datePickerMode"],[3,"value","title"],["type","radio","name","exportType","value","dicom",3,"ngModelChange","ngModel"],["type","radio","name","exportType","value","stow",3,"ngModelChange","ngModel"],["class","dicomBlock",4,"ngIf"],["class","noneDicomBlock",4,"ngIf"],["type","radio","name","exportType","value","nonedicom",3,"ngModelChange","ngModel"],[1,"dicomBlock"],[3,"modelChange","options","model","editable","showSearchField","multiSelectMode","showStar"],[1,"aes",3,"ngModelChange","ngModel"],["class","aes",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder",_e,3,"ngModelChange","ngModel"],["dateFormat","YYYYMMDD","onlySingleMode","true","defaultTime","00:00:00","mode","single","placeholder",oe,3,"modelChange","model","datePickerMode"],["value",""],["type","text",3,"ngModelChange","ngModel"],["dateFormat","YYYYMMDD","onlySingleMode","true","defaultTime","00:00:00","mode","single","placeholder",zi,3,"modelChange","model","datePickerMode"],["type","button",1,"save",3,"click","disabled"]];},template:function(n,o){n&1&&(u(0,"div",23),b("keydown",function(s){return o.dialogKeyHandler(s,o.dialogRef);}),u(1,"div",24)(2,"h5"),T(3),p(),E(4,wNe,2,1,"h6",25)(5,DNe,4,1,"p",25)(6,RNe,3,2,"div",26)(7,zNe,18,7,"div",26)(8,JNe,15,10,"div",26)(9,tke,8,2,"div",26)(10,ike,5,3,"div",26),u(11,"div",27),E(12,nke,2,1,"button",28)(13,rke,2,2,"button",28),u(14,"button",29),b("click",function(){return o.dialogRef.close(null);}),P(15,0),p()()()()),n&2&&(c(3),z(o.title),c(),m("ngIf",o.subTitle),c(),m("ngIf",o.count&&o.mode==="multiple"),c(),m("ngIf",o.mode==="multipleExport"),c(),m("ngIf",o.externalInternalAetMode==="internal"&&o.mode==="single"),c(),m("ngIf",o.externalInternalAetMode==="external"||o.mode==="multiple"),c(),m("ngIf",o.mode==="reschedule"),c(),m("ngIf",o.result.exportType==="nonedicom"&&!(o.quantity&&o.quantity==="single")),c(2),m("ngIf",!o.okButtonLabel),c(),m("ngIf",o.okButtonLabel));},dependencies:[ve,de,Me,Sc,Se,Ee,fi,ii,Do,zn],encapsulation:2});let i=r;return i;})();function oke(i,r){if(i&1&&(u(0,"mat-option",11),T(1),p()),i&2){let t=r.$implicit;m("title",X(t.description))("value",t),c(),z(t.title);}}var qW=(()=>{let r=class r{constructor(e){this.dialogRef=e;}get toCloneElement(){return this._toCloneElement;}set toCloneElement(e){this._toCloneElement=e;}};r.ɵfac=function(n){return new(n||r)(k(wt));},r.ɵcmp=Z({type:r,selectors:[["app-clone-selector"]],standalone:!1,decls:12,vars:2,consts:()=>{let e;e="Select element for clone";let n;n="EDIT CLONE";let o;return o="CANCEL",[e,n,o,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","clone"],[1,"vex-dialog-form"],[1,"content"],[3,"ngModelChange","ngModel"],[3,"value","title",4,"ngFor","ngForOf"],[1,"dialogbuttons"],["type","button",1,"save",3,"click"],["type","button",1,"cancle",3,"click"],[3,"value","title"]];},template:function(n,o){n&1&&(u(0,"div",3)(1,"div",4)(2,"h5"),P(3,0),p(),u(4,"div",5)(5,"mat-select",6),q("ngModelChange",function(s){return Y(o.selectedOption,s)||(o.selectedOption=s),s;}),b("ngModelChange",function(s){return o.selectedOption=s;}),E(6,oke,2,4,"mat-option",7),p()(),u(7,"div",8)(8,"button",9),b("click",function(){return o.dialogRef.close(o.selectedOption);}),P(9,1),p(),u(10,"button",10),b("click",function(){return o.dialogRef.close(null);}),P(11,2),p()()()()),n&2&&(c(5),H("ngModel",o.selectedOption),c(),m("ngForOf",o.toCloneElement.options));},dependencies:[ve,Se,Ee,fi,ii],encapsulation:2});let i=r;return i;})();var QA=(()=>{let r=class r{constructor(e,n,o,a){this.dialogRef=e,this.$http=n,this.mainservice=o,this._keycloakService=a;}ngOnInit(){}setFile(e){this.selectedFile=e.target.files[0];}uploadFile(e){let n=this,o;this._keycloakService.getToken().subscribe(a=>{this.mainservice.global.notSecure||(o=a.token);let s=new XMLHttpRequest();s.open("PUT",`${I.addLastSlash(this.mainservice.baseUrl)}devices/${this._deviceName}/vendordata`,!0),s.setRequestHeader("Content-Type","application/zip"),this.mainservice.global.notSecure||s.setRequestHeader("Authorization",`Bearer ${o}`),s.upload.onloadend=l=>{e.close("ok");},s.send(n.selectedFile);});}get deviceName(){return this._deviceName;}set deviceName(e){this._deviceName=e;}};r.ɵfac=function(n){return new(n||r)(k(wt),k(Fe),k(le),k(Pe));},r.ɵcmp=Z({type:r,selectors:[["app-upload-files"]],standalone:!1,decls:11,vars:0,consts:()=>{let e;e="Upload vendor device data";let n;n="UPLOAD";let o;return o="CANCEL",[e,n,o,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","upload"],[1,"vex-dialog-form"],[1,"content"],["type","file",3,"change"],[1,"dialogbuttons"],[1,"save",3,"click"],["type","button",1,"cancle",3,"click"]];},template:function(n,o){n&1&&(u(0,"div",3)(1,"div",4)(2,"h5"),P(3,0),p(),u(4,"div",5)(5,"input",6),b("change",function(s){return o.setFile(s);}),p()(),u(6,"div",7)(7,"button",8),b("click",function(){return o.uploadFile(o.dialogRef);}),P(8,1),p(),u(9,"button",9),b("click",function(){return o.dialogRef.close(null);}),P(10,2),p()()()());},encapsulation:2});let i=r;return i;})();var Sh=(()=>{let r=class r{constructor(){this.progress$=new ct(e=>{this.progressObserver=e;}).pipe(gg());}makeFileRequest(e,n,o){return new ct(a=>{let s=new FormData(),l=new XMLHttpRequest();for(let f=0;f<o.length;f++){let g=o[f];s.append("{ size : "+g.size+" }",o[f].name);}l.onreadystatechange=()=>{l.readyState===4&&(l.status===200?(console.log("responseheader",l.getResponseHeader("Content-Type")),a.next(JSON.parse(l.response)),a.complete()):a.error(l.response));};let _=this;l.upload.onprogress=f=>{_.progress$=Math.round(f.loaded/f.total*100),_.progressObserver.next(_.progress$);},l.open("POST",e,!0),l.send(s);});}};r.ɵfac=function(n){return new(n||r)();},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var ZA=(()=>{let r=class r{constructor(e,n,o,a){this.$http=e,this.datePipe=n,this.mainservice=o,this.storageSystems=a,this.integerVr=["DS","FL","FD","IS","SL","SS","UL","US"];}get studyIod(){return this._studyIod;}set studyIod(e){this._studyIod=e;}get patientIod(){return this._patientIod;}get mwlIod(){return this._mwlIod;}set patientIod(e){this._patientIod=e;}set mwlIod(e){this._mwlIod=e;}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(Dr),K(le),K(wu));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();function ske(i,r){i&1&&$(0,"div",2);}var lke=new se("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var JA=(()=>{class i{_elementRef=N(ze);_ngZone=N(We);_changeDetectorRef=N($t);_renderer=N(Jt);_cleanupTransitionEnd;constructor(){let t=N(lke,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),this.mode=t.mode||this.mode);}_isNoopAnimation=qi();get color(){return this._color||this._defaultColor;}set color(t){this._color=t;}_color;_defaultColor="primary";get value(){return this._value;}set value(t){this._value=XW(t||0),this._changeDetectorRef.markForCheck();}_value=0;get bufferValue(){return this._bufferValue||0;}set bufferValue(t){this._bufferValue=XW(t||0),this._changeDetectorRef.markForCheck();}_bufferValue=0;animationEnd=new ae();get mode(){return this._mode;}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck();}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler);});}ngOnDestroy(){this._cleanupTransitionEnd?.();}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`;}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`;}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query";}_transitionendHandler=t=>{this.animationEnd.observers.length===0||!t.target||!t.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}));};static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(e,n){e&2&&(lt("aria-valuenow",n._isIndeterminate()?null:n.value)("mode",n.mode),be("mat-"+n.color),vt("_mat-animation-noopable",n._isNoopAnimation)("mdc-linear-progress--animation-ready",!n._isNoopAnimation)("mdc-linear-progress--indeterminate",n._isIndeterminate()));},inputs:{color:"color",value:[2,"value","value",wr],bufferValue:[2,"bufferValue","bufferValue",wr],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(e,n){e&1&&(u(0,"div",0),$(1,"div",1),Ti(2,ske,1,0,"div",2),p(),u(3,"div",3),$(4,"span",4),p(),u(5,"div",5),$(6,"span",4),p()),e&2&&(c(),Ar("flex-basis",n._getBufferBarFlexBasis()),c(),Ii(n.mode==="buffer"?2:-1),c(),Ar("transform",n._getPrimaryBarTransform()));},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0});}return i;})();function XW(i,r=0,t=100){return Math.max(r,Math.min(t,i));}var KW=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[qt]});}return i;})();function cke(i,r){if(i&1&&(u(0,"mat-option",16),T(1),p()),i&2){let t=r.$implicit;m("title",X(t.dicomDescription))("value",t.dicomAETitle),c(),z(t.dicomAETitle);}}function dke(i,r){if(i&1){let t=O();U(0),u(1,"label"),P(2,3),p(),u(3,"mat-select",14),b("ngModelChange",function(n){C(t);let o=d();return y(o.selectedAe=n);}),E(4,cke,2,4,"mat-option",15),p(),W();}if(i&2){let t=d();c(3),m("ngModel",t.selectedAe),c(),m("ngForOf",t.aes);}}function uke(i,r){if(i&1&&(u(0,"mat-option",16),T(1),p()),i&2){let t=r.$implicit;m("title",Xg("",t.dcmWebAppName,"(",t.dicomAETitle,",",t.dicomDeviceName,")"))("value",t),c(),z(t.dcmWebAppName);}}function pke(i,r){if(i&1){let t=O();U(0),u(1,"label"),P(2,4),p(),u(3,"mat-select",14),b("ngModelChange",function(n){C(t);let o=d();return y(o.selectedWebApp=n);}),E(4,uke,2,6,"mat-option",15),p(),W();}if(i&2){let t=d();c(3),m("ngModel",t.selectedWebApp),c(),m("ngForOf",t.webApps);}}function mke(i,r){if(i&1&&(u(0,"span",20),T(1),p()),i&2){let t=d().$implicit,e=d();c(),ue("Error ",e.percentComplete[t.name].status);}}function _ke(i,r){i&1&&(u(0,"span",21),$(1,"i",22),p());}function fke(i,r){i&1&&(u(0,"span",21)(1,"i",23),T(2,"check"),p()());}function hke(i,r){if(i&1&&(u(0,"div"),$(1,"mat-progress-bar",24),p()),i&2){let t=d().$implicit,e=d();c(),m("value",e.percentComplete[t.name].value);}}function gke(i,r){if(i&1&&(u(0,"div",17),T(1),E(2,mke,2,1,"span",18)(3,_ke,2,0,"span",19)(4,fke,3,0,"span",19)(5,hke,2,1,"div",8),p()),i&2){let t=r.$implicit,e=d();c(),ue(" ",t.name," "),c(),m("ngIf",e.percentComplete[t.name]&&e.percentComplete[t.name].status),c(),m("ngIf",e.percentComplete[t.name]&&e.percentComplete[t.name].showLoader&&!e.percentComplete[t.name].showTicker),c(),m("ngIf",e.percentComplete[t.name]&&e.percentComplete[t.name].showTicker),c(),m("ngIf",e.percentComplete&&e.percentComplete[t.name]&&e.percentComplete[t.name].value);}}var e2=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f){this.dialogRef=e,this.$http=n,this.service=o,this.mainservice=a,this.studieService=s,this.studyService=l,this.httpErrorHandler=_,this._keycloakService=f,this.service.progress$.subscribe(g=>{console.log("progress = "+g);});}ngOnInit(){this.percentComplete={},this.getWebApps();}addFileNameHeader(e){}getToken(){return this.selectedWebApp&&A(this.selectedWebApp,"dcmKeycloakClientID")?this.$http.getRealm(this.selectedWebApp):this._keycloakService.getToken();}fileChange(e){let n=this,o=Math.random().toString().substr(2),a,s;this.fileList=e.target.files,this.fileList&&(console.log("getToken",this.getToken()),this.getToken().subscribe(l=>{this.mainservice.global.notSecure||(s=l.token),he(this.fileList,(_,f)=>{if(_.type&&_.type!="application/dicom")n.mainservice.showError("Filetype \""+_.type+"\n\" not allowed!"),n.fileList=[],e=null,n.file=null;else{console.log("file",_),console.log("filetype",_.type),this.percentComplete[_.name]={},this.percentComplete[_.name].value=0,n.percentComplete[_.name].showTicker=!1,n.percentComplete[_.name].showLoader=!0;let g=new XMLHttpRequest(),S;this.selectedWebApp?S=this.studyService.getDicomURL("study",this.selectedWebApp):S=`${I.addLastSlash(this.mainservice.baseUrl)}aets/${n._selectedAe}/rs/studies`,g.open("POST",S,!0);let x="--",D=`\r
`;_.type==""?a="application/dicom":a=_.type;let R=x+o+D+'Content-Disposition: form-data;name="file";filename="'+encodeURIComponent(_.name)+'"'+D+"Content-Type: "+a+D+D,j=D+x+o+x;g.setRequestHeader("Content-Type",'multipart/related;type="application/dicom";boundary='+o),g.setRequestHeader("Accept","application/dicom+json"),this.mainservice.global.notSecure||g.setRequestHeader("Authorization",`Bearer ${s}`),g.upload.onprogress=function(V){V.lengthComputable&&(n.percentComplete[_.name].value=V.loaded/V.total*100);},g.onreadystatechange=()=>{if(g.readyState===4)if(g.status===200)console.log("in response",JSON.parse(g.response)),n.percentComplete[_.name].showLoader=!1,n.percentComplete[_.name].showTicker=!0;else{console.log("in respons error",g.status),console.log("statusText",g.statusText),n.percentComplete[_.name].showLoader=!1,n.percentComplete[_.name].value=0,n.percentComplete[_.name].status=g.status+" "+g.statusText;let V=JSON.parse(g.response);n.httpErrorHandler.handleError(V||g.response);}},g.upload.onloadstart=function(V){n.percentComplete[_.name].value=0;},g.upload.onloadend=function(V){g.status===200&&(n.percentComplete[_.name].showLoader=!1,n.percentComplete[_.name].value=100);},g.send(new Blob([new Blob([R]),_,new Blob([j])]));}});}));}uploadFile(e){}close(e){e.close(null);}get selectedAe(){return this._selectedAe;}set selectedAe(e){this._selectedAe=e;}get aes(){return this._aes;}set aes(e){this._aes=e;}getWebApps(){let e={dcmWebServiceClass:"STOW_RS"};this.studyService.getWebApps(e).subscribe(n=>{this.webApps=n,this.webApps.forEach(o=>{(o.dicomAETitle===this._selectedAe||this.selectedWebApp&&this.selectedWebApp.dcmWebAppName===o.dcmWebAppName)&&(this.selectedWebApp=o);});},n=>{I.log("Something went wrong on getting webApps",n),this.httpErrorHandler.handleError(n);});}};r.ɵfac=function(n){return new(n||r)(k(wt),k(Fe),k(Sh),k(le),k(ZA),k(wo),k(Pt),k(Pe));},r.ɵcmp=Z({type:r,selectors:[["app-upload-dicom"]],standalone:!1,decls:15,vars:4,consts:()=>{let e;e="Choose DICOM files to upload";let n;n="Upload file";let o;o="Upload DICOM data";let a;a="Choose DICOM Files to upload:";let s;s="CLOSE";let l;l="Select the ae title:";let _;return _="Select the STOW-RS server:",[o,a,s,l,_,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","upload"],[1,"vex-dialog-form"],[1,"content"],[4,"ngIf"],["type","file","title",e,"placeholder",n,"multiple","",3,"ngModelChange","change","ngModel"],["mat-dialog-content",""],["class","upload_state",4,"ngFor","ngForOf"],[1,"dialogbuttons"],["type","button",1,"cancle",3,"click"],[3,"ngModelChange","ngModel"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],[1,"upload_state"],["class","text-danger",4,"ngIf"],["class","upload_ticker",4,"ngIf"],[1,"text-danger"],[1,"upload_ticker"],[1,"fa","fa-circle-o-notch","fa-spin"],[1,"material-icons"],["color","primary","mode","determinate",3,"value"]];},template:function(n,o){n&1&&(u(0,"div",5)(1,"div",6)(2,"h5"),P(3,0),p(),u(4,"div",7),E(5,dke,5,2,"ng-container",8)(6,pke,5,2,"ng-container",8),u(7,"label"),P(8,1),p(),u(9,"input",9),q("ngModelChange",function(s){return Y(o.file,s)||(o.file=s),s;}),b("change",function(s){return o.fileChange(s);}),p(),u(10,"div",10),E(11,gke,6,5,"div",11),p()(),u(12,"div",12)(13,"button",13),b("click",function(){return o.close(o.dialogRef);}),P(14,2),p()()()()),n&2&&(c(5),m("ngIf",!o.selectedWebApp),c(),m("ngIf",o.selectedWebApp),c(3),H("ngModel",o.file),c(2),m("ngForOf",o.fileList));},dependencies:[ve,de,Me,Se,Ee,fi,ii,JA,Kn],encapsulation:2});let i=r;return i;})();function vke(i,r){if(i&1&&(u(0,"mat-option",11),T(1),p()),i&2){let t=r.$implicit;m("title",X(t.description))("value",t),c(),z(t.title);}}var ZW=(()=>{let r=class r{constructor(e){this.dialogRef=e;}get toRemoveElement(){return this._toRemoveElement;}set toRemoveElement(e){this._toRemoveElement=e;}};r.ɵfac=function(n){return new(n||r)(k(wt));},r.ɵcmp=Z({type:r,selectors:[["app-remove-part-selector"]],standalone:!1,decls:12,vars:2,consts:()=>{let e;e="Select element to remove from device";let n;n="REMOVE FROM DEVICE";let o;return o="CANCEL",[e,n,o,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","clone"],[1,"vex-dialog-form"],[1,"content"],[3,"ngModelChange","ngModel"],[3,"value","title",4,"ngFor","ngForOf"],[1,"dialogbuttons"],["type","button",1,"save",3,"click"],["type","button",1,"cancle",3,"click"],[3,"value","title"]];},template:function(n,o){n&1&&(u(0,"div",3)(1,"div",4)(2,"h5"),P(3,0),p(),u(4,"div",5)(5,"mat-select",6),q("ngModelChange",function(s){return Y(o.selectedOption,s)||(o.selectedOption=s),s;}),b("ngModelChange",function(s){return o.selectedOption=s;}),E(6,vke,2,4,"mat-option",7),p()(),u(7,"div",8)(8,"button",9),b("click",function(){return o.dialogRef.close(o.selectedOption);}),P(9,1),p(),u(10,"button",10),b("click",function(){return o.dialogRef.close(null);}),P(11,2),p()()()()),n&2&&(c(5),H("ngModel",o.selectedOption),c(),m("ngForOf",o.toRemoveElement.options));},dependencies:[ve,Se,Ee,fi,ii],encapsulation:2});let i=r;return i;})();var Zp=(()=>{let r=class r{transform(e,n){let o={},a={},s,l="simple";return n instanceof Array&&n.length===2?(s=n[0],l=n[1]||"simple"):s=n,Object.keys(e).filter(_=>{this.isInIod(_,s)?(o[_]={},o[_]=e[_]):l!="simple"&&(a[_]=a[_]||{},a[_]=e[_]);}),l==="rest-only"?a:l==="both"?[o,a]:o;}isInIod(e,n){for(let o in n)if(e===o)return!0;return!1;}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"comparewithiod",type:r,pure:!0,standalone:!1});let i=r;return i;})();var t2=(()=>{let r=class r{constructor(){}fileTypeFromExt(e){switch(e){case"mtl":return"model/mtl";case"stl":return"model/stl";case"obj":return"model/obj";case"genozip":return"application/vnd.genozip";case"vcf.bz2":case"vcfbzip2":case"vcfbz2":case"application/prs.vcfbzip2":return"application/prs.vcfbzip2";case"boz":case"bz2":case"application/x-bzip2":return"application/x-bzip2";case"jph":return"image/jph";case"jhc":return"image/jphc";case"j2c":case"image/x-jp2-codestream":return"image/j2c";default:return e;}}fixFileSpecificEntries(e,n){A(n,"00420011.BulkDataURI")&&Ue(n,"00420011.BulkDataURI",`file/${e.name}`),A(n,"7FE00010.BulkDataURI")&&Ue(n,"7FE00010.BulkDataURI",`file/${e.name}`),A(n,"00080018.Value[0]")&&Ue(n,"00080018.Value[0]",I.generateOIDFromUUID());}fileTypeOrExt(e){return new ct(n=>{try{let o=e.type,a=e.name.indexOf(".")>-1?e.name.substr(e.name.lastIndexOf(".")+1):void 0;if(o&&o!=""||a&&a!="")n.next(o.length==0?a:o),n.complete();else{let s=new FileReader(),l=e.slice(128,132);s.readAsArrayBuffer(l),s.onload=function(){let _=new Uint8Array(s.result),f="";_.forEach(g=>{f=f+String.fromCharCode(g);}),f==="DICM"?n.next("application/dicom"):n.next("NO_TYPE_FOUND"),n.complete();};}}catch{n.next("NO_TYPE_FOUND"),n.complete();}});}};r.ɵfac=function(n){return new(n||r)();},r.ɵprov=Q({token:r,factory:r.ɵfac,providedIn:"root"});let i=r;return i;})();function yke(i,r){if(i&1&&(u(0,"mat-option",24),T(1),p()),i&2){let t=r.$implicit;m("title",Xg("",t.dcmWebAppName,"(",t.dicomAETitle,",",t.dicomDeviceName,")"))("value",t),c(),z(t.dcmWebAppName);}}function bke(i,r){if(i&1){let t=O();U(0),u(1,"label"),P(2,3),p(),u(3,"mat-select",22),b("ngModelChange",function(n){C(t);let o=d();return y(o.selectedWebApp=n);}),E(4,yke,2,6,"mat-option",23),p(),W();}if(i&2){let t=d();c(3),m("ngModel",t.selectedWebApp),c(),m("ngForOf",t.webApps);}}function Ske(i,r){i&1&&(u(0,"label"),P(1,4),p());}function Eke(i,r){i&1&&(u(0,"label"),P(1,5),p());}function Tke(i,r){if(i&1){let t=O();u(0,"input",25),q("ngModelChange",function(n){C(t);let o=d();return Y(o.file,n)||(o.file=n),y(n);}),b("change",function(n){C(t);let o=d();return y(o.fileChange(n));}),p();}if(i&2){let t=d();H("ngModel",t.file);}}function Ike(i,r){if(i&1){let t=O();u(0,"input",26),q("ngModelChange",function(n){C(t);let o=d();return Y(o.file,n)||(o.file=n),y(n);}),b("change",function(n){C(t);let o=d();return y(o.fileChange(n));}),p();}if(i&2){let t=d();H("ngModel",t.file);}}function xke(i,r){if(i&1){let t=O();U(0),u(1,"label"),T(2,"Type could not be be detected, select a file group"),p(),u(3,"mat-select",22),q("ngModelChange",function(n){C(t);let o=d();return Y(o.isDicomModel,n)||(o.isDicomModel=n),y(n);}),b("ngModelChange",function(n){C(t);let o=d();return y(o.onDicomCheck(n));}),u(4,"mat-option",27),T(5,"DICOM type"),p(),u(6,"mat-option",28),T(7,"images, videos or pdf "),p()(),W();}if(i&2){let t=d();c(3),H("ngModel",t.isDicomModel),c(),m("value","application/dicom"),c(2),m("value","");}}function Ake(i,r){if(i&1){let t=O();U(0),u(1,"label"),T(2,"Source of Previous Value"),p(),u(3,"input",29),q("ngModelChange",function(n){C(t);let o=d();return Y(o.sourceOfPreviousValues,n)||(o.sourceOfPreviousValues=n),y(n);}),p(),W();}if(i&2){let t=d();c(3),H("ngModel",t.sourceOfPreviousValues);}}function wke(i,r){if(i&1){let t=O();U(0),u(1,"label",30)(2,"input",13),q("ngModelChange",function(n){C(t);let o=d();return Y(o.coerceStudyCheckboxValue,n)||(o.coerceStudyCheckboxValue=n),y(n);}),p(),u(3,"span"),T(4,"Coerce Study"),p()(),W();}if(i&2){let t=d();c(2),H("ngModel",t.coerceStudyCheckboxValue);}}function Dke(i,r){if(i&1&&(u(0,"mat-option",24),T(1),p()),i&2){let t=r.$implicit;m("title",X(t.description))("value",t),c(),z(t.title);}}function Mke(i,r){if(i&1){let t=O();U(0),u(1,"label"),P(2,6),p(),u(3,"mat-select",22),b("ngModelChange",function(n){C(t);let o=d();return y(o.selectedSopClass=n);}),E(4,Dke,2,4,"mat-option",23),p(),W();}if(i&2){let t=d();c(3),m("ngModel",t.selectedSopClass),c(),m("ngForOf",t.imageType);}}function Oke(i,r){if(i&1){let t=O();u(0,"button",31),b("click",function(){C(t);let n=d();return y(n.showMoreAttributes());}),P(1,7),p();}}function Pke(i,r){if(i&1){let t=O();u(0,"div",32)(1,"edit-study",33),b("onChange",function(n){C(t);let o=d();return y(o.onStudyChange(n));}),p()();}if(i&2){let t=d();c(),m("tagStudy",t.tempAttributes)("iod",t.iod)("mode","edit")("dropdown",t.dropdown)("hideAdditionalParams",!0);}}function Rke(i,r){if(i&1&&(u(0,"span",38),T(1),p()),i&2){let t=d().$implicit,e=d(2);c(),ue("Error ",e.percentComplete[t.name].status);}}function Nke(i,r){i&1&&(u(0,"span",39),$(1,"i",40),p());}function kke(i,r){i&1&&(u(0,"span",39)(1,"i",41),T(2,"check"),p()());}function $ke(i,r){if(i&1&&(u(0,"div"),$(1,"mat-progress-bar",42),p()),i&2){let t=d().$implicit,e=d(2);c(),m("value",e.percentComplete[t.name].value);}}function Lke(i,r){if(i&1&&(u(0,"div",35),T(1),$e(2,"trim"),E(3,Rke,2,1,"span",36)(4,Nke,2,0,"span",37)(5,kke,3,0,"span",37)(6,$ke,2,1,"div",11),p()),i&2){let t=r.$implicit,e=d(2);c(),ue(" ",pt(2,5,t.name,62)," "),c(2),m("ngIf",e.percentComplete[t.name]&&e.percentComplete[t.name].status),c(),m("ngIf",e.percentComplete[t.name]&&e.percentComplete[t.name].showLoader&&!e.percentComplete[t.name].showTicker),c(),m("ngIf",e.percentComplete[t.name]&&e.percentComplete[t.name].showTicker),c(),m("ngIf",e.percentComplete[t.name]);}}function Fke(i,r){if(i&1&&(U(0),E(1,Lke,7,8,"div",34),W()),i&2){let t=d();c(),m("ngForOf",t.fileList);}}var i2=(()=>{let r=class r{get mode(){return this._mode;}set mode(e){this._mode=e,e==="patient"&&(this.title="Upload bulkdata files to patient"),e==="study"&&(this.title="Upload bulkdata files to study"),e==="series"&&(this.title="Upload bulkdata files to series"),e==="mwl"&&(this.title="Upload bulkdata files to MWL");}constructor(e,n,o,a,s,l,_){this.dialogRef=e,this.mainservice=n,this.$http=o,this.studyService=a,this.uploadDicomService=s,this._keycloakService=l,this.service=_,this.uploadFolder=!1,this.title="Upload bulkdata files to patient",this.showFileList=!1,this.isImage=!1,this.seriesNumber=0,this.moreAttributes=!1,this.tempAttributes=[],this.iodFileNameFromMode={patient:"study",study:"series",mwl:"mwl"},this.imageType=[{title:"Screenshots",description:"Secondary Capture Image Storage",value:"1.2.840.10008.5.1.4.1.1.7",modality:"OT"},{title:"Photographs",description:"VL Photographic Image Storage",value:"1.2.840.10008.5.1.4.1.1.77.1.4",modality:"XC"},{title:"Animated gif",description:"Gif with multi frames in it",value:"1.2.840.10008.5.1.4.1.1.77.1.4.1",modality:"XC"}],this.sourceOfPreviousValues="",this.sourceOfPreviousValuesBlock=!1,this.coerceStudyCheckbox=!1,this.isDicomCheckbox=!1,this.neededClassMissing=!1,this.mwlMap=[["00200010","00401001"],["00081030","00321060"],["00081032","00321064"],["00401012","0040100A"],["00081050","00400100.Value[0][00400006]"],["00400275.Value[0].00080050","00080050"],["00400275.Value[0].00080051","00080051"],["00400275.Value[0].0020000D","0020000D"],["00400275.Value[0].00321032","00321032"],["00400275.Value[0].00321031","00321031"],["00400275.Value[0].00081110","00081110"],["00400275.Value[0].00321033","00321033"],["00400275.Value[0].00321034","00321034"],["00400275.Value[0].00401001","00401001"],["00400275.Value[0].00321060","00321060"],["00400275.Value[0].00321064","00321064"],["00400275.Value[0].00401002","00401002"],["00400275.Value[0].0040100A","0040100A"],["00400275.Value[0].00400007","00400100.Value[0].00400007"],["00400275.Value[0].00400008","00400100.Value[0].00400008"],["00400275.Value[0].00400009","00400100.Value[0].00400009"]];}ngOnInit(){this.percentComplete={},this.tempAttributes=void 0,this.tempIods=void 0,this.iod=void 0,this.selectedSopClass=this.imageType[0],this._fromExternalWebApp?this.selectedWebApp=this._fromExternalWebApp:this.getWebApps();}fileChange(e){this.fileList=e.target.files;let n=this.fileList[0];this.service.fileTypeOrExt(n).subscribe(o=>{o==="NO_TYPE_FOUND"?this.isDicomCheckbox=!0:this.setDicomObject(o,n);});}onDicomCheck(e){e!="application/dicom"&&(this.isDicomCheckbox=!1,this.isDicomModel=""),this.setDicomObject(this.isDicomModel,this.fileList[0]);}setDicomObject(e,n){e==="application/dicom"&&this.selectedWebApp&&this.selectedWebApp.dcmWebServiceClass&&this.selectedWebApp.dcmWebServiceClass.indexOf("DCM4CHEE_ARC_AET")===-1?(this.neededClassMissing=!0,this.mainservice.showError("The selected WebApp doesn't have the webapp class "+"DCM4CHEE_ARC_AET"+"")):(n&&(n.type==="image/jpeg"||n.type==="image/jp2"||n.type==="image/j2c"||n.type==="image/x-jp2-codestream"||n.type==="image/jph"||n.type==="image/jphc"||n.type==="image/png"||n.type==="image/gif"||n.type==="image/tiff")&&(this.isImage=!0),e==="application/dicom"&&(this.sourceOfPreviousValuesBlock=!0,this._mode==="mwl"&&(this.coerceStudyCheckbox=!0)),this.studyService.getIodFromContext(e,this._mode).subscribe(o=>{console.log("iods",o),this._dicomObject||(this._dicomObject={attrs:[]}),this._dicomObject.attrs["00081030"]={vr:"LO",Value:[""]},this._dicomObject.attrs["0008103E"]={vr:"LO",Value:[""]},this._dicomObject.attrs["00080018"]={vr:"UI",Value:[I.generateOIDFromUUID()]},A(this._dicomObject.attrs,"00080020.Value[0]")||(this._dicomObject.attrs["00080020"]={vr:"DA",Value:[""]}),A(this._dicomObject.attrs,"00080030.Value[0]")||(this._dicomObject.attrs["00080030"]={vr:"TM",Value:[""]}),A(this._dicomObject.attrs,"00080090.Value[0]")||(this._dicomObject.attrs["00080090"]={vr:"PN",Value:[""]}),A(this._dicomObject.attrs,"00200010.Value[0]")||(this._dicomObject.attrs["00200010"]={vr:"SH",Value:[""]}),A(this._dicomObject.attrs,"00080050.Value[0]")||(this._dicomObject.attrs["00080050"]={vr:"SH",Value:[""]}),e==="application/pdf"||e==="pdf"?(this.supplementEncapsulatedDocumentAttrs(),this.supplementEncapsulatedPDFAttrs()):e==="text/xml"||e==="xml"?(this.supplementEncapsulatedDocumentAttrs(),this.supplementEncapsulatedCDAAttrs()):e==="mtl"||e==="model/mtl"?(this.supplementEncapsulated3DAttrs(),this.supplementEncapsulatedMTLAttrs()):e==="obj"||e==="application/x-tgif"||e==="model/obj"?(this.supplementEncapsulated3DAttrs(),this.supplementEncapsulatedOBJAttrs()):e==="model/stl"||e==="model/x.stl-binary"||e==="application/sla"||e==="stl"?(this.supplementEncapsulated3DAttrs(),this.supplementEncapsulatedSTLAttrs(n.type)):e==="genozip"||e==="application/vnd.genozip"?this.supplementEncapsulatedGENOZIPAttrs():e==="vcf.bz2"||e==="vcfbzip2"||e==="vcfbz2"||e==="application/prs.vcfbzip2"?this.supplementEncapsulatedBzip2VCFStorageAttrs():e==="boz"||e==="bz2"||e==="application/x-bzip2"?this.supplementEncapsulatedBzip2DocumentStorageAttrs():(n.type.indexOf("video")>-1?this._dicomObject.attrs["00080016"]={vr:"UI",Value:["1.2.840.10008.5.1.4.1.1.77.1.4.1"]}:this._dicomObject.attrs["00080016"]={vr:"UI",Value:[this.selectedSopClass.value]},this._dicomObject.attrs["7FE00010"]={vr:"OB",BulkDataURI:"file/"+n.name}),(n.type==="image/jpeg"||n.type==="image/jp2"||n.type==="image/j2c"||n.type==="image/x-jp2-codestream"||n.type==="image/jph"||n.type==="image/jphc"||n.type==="image/png"||n.type==="image/gif"||n.type==="image/tiff")&&(this._dicomObject.attrs["00080008"]={vr:"CS",Value:["ORIGINAL","PRIMARY"]},this.selectedSopClass.value==="1.2.840.10008.5.1.4.1.1.7"&&(this._dicomObject.attrs["00080064"]={vr:"CS",Value:["SI"]},this._dicomObject.attrs["00200020"]={vr:"CS"})),this.tempIods=o,this.tempAttributes=Oe(this._dicomObject),this.tempAttributes.attrs=ua(this._dicomObject.attrs,(a,s)=>s.toString().indexOf("777")===-1);}));}supplementEncapsulatedDocumentAttrs(){this._dicomObject.attrs["00420011"]={vr:"OB",BulkDataURI:"file/"+this.fileList[0].name},this._dicomObject.attrs["00280301"]={vr:"CS",Value:["YES"]},this._dicomObject.attrs["00420010"]={vr:"ST",Value:[""]},this._dicomObject.attrs["00080070"]={vr:"LO",Value:[""]};}supplementEncapsulatedPDFAttrs(){this._dicomObject.attrs["00080016"]={vr:"UI",Value:["1.2.840.10008.5.1.4.1.1.104.1"]},this._dicomObject.attrs["00420012"]={vr:"LO",Value:["application/pdf"]},this._dicomObject.attrs["00080064"]={vr:"CS",Value:["SD"]};}supplementEncapsulatedCDAAttrs(){this._dicomObject.attrs["00080016"]={vr:"UI",Value:["1.2.840.10008.5.1.4.1.1.104.2"]},this._dicomObject.attrs["00420012"]={vr:"LO",Value:["text/XML"]},this._dicomObject.attrs["00080064"]={vr:"CS",Value:["WSD"]};}supplementEncapsulated3DAttrs(){this._dicomObject.attrs["00420011"]={vr:"OB",BulkDataURI:"file/"+this.fileList[0].name},this._dicomObject.attrs["00280301"]={vr:"CS",Value:["YES"]},this._dicomObject.attrs["00420010"]={vr:"ST",Value:[""]},this._dicomObject.attrs["00201040"]={vr:"LO",Value:[""]},this._dicomObject.attrs["00080070"]={vr:"LO",Value:[""]};let e={attrs:[]};e.attrs["00080100"]={vr:"SH",Value:["mm"]},e.attrs["00080102"]={vr:"SH",Value:["UCUM"]},e.attrs["00080104"]={vr:"LO",Value:["mm"]};}supplementEncapsulatedMTLAttrs(){this._dicomObject.attrs["00080016"]={vr:"UI",Value:["1.2.840.10008.5.1.4.1.1.104.5"]},this._dicomObject.attrs["00420012"]={vr:"LO",Value:["model/mtl"]};}supplementEncapsulatedOBJAttrs(){this._dicomObject.attrs["00080016"]={vr:"UI",Value:["1.2.840.10008.5.1.4.1.1.104.4"]},this._dicomObject.attrs["00420012"]={vr:"LO",Value:["model/obj"]};}supplementEncapsulatedSTLAttrs(e){this._dicomObject.attrs["00080016"]={vr:"UI",Value:["1.2.840.10008.5.1.4.1.1.104.3"]},this._dicomObject.attrs["00420012"]={vr:"LO",Value:[e]};}supplementEncapsulatedGENOZIPAttrs(){this._dicomObject.attrs["00420011"]={vr:"OB",BulkDataURI:"file/"+this.fileList[0].name},this._dicomObject.attrs["00080016"]={vr:"UI",Value:["1.2.40.0.13.1.5.1.4.1.1.104.1"]},this._dicomObject.attrs["00420012"]={vr:"LO",Value:["application/vnd.genozip"]},this._dicomObject.attrs["00080070"]={vr:"LO",Value:[""]};}supplementEncapsulatedBzip2VCFStorageAttrs(){this._dicomObject.attrs["00420011"]={vr:"OB",BulkDataURI:"file/"+this.fileList[0].name},this._dicomObject.attrs["00080016"]={vr:"UI",Value:["1.2.40.0.13.1.5.1.4.1.1.104.2"]},this._dicomObject.attrs["00420012"]={vr:"LO",Value:["application/prs.vcfbzip2"]},this._dicomObject.attrs["00080070"]={vr:"LO",Value:[""]};}supplementEncapsulatedBzip2DocumentStorageAttrs(){this._dicomObject.attrs["00420011"]={vr:"OB",BulkDataURI:"file/"+this.fileList[0].name},this._dicomObject.attrs["00080016"]={vr:"UI",Value:["1.2.40.0.13.1.5.1.4.1.1.104.3"]},this._dicomObject.attrs["00420012"]={vr:"LO",Value:["application/x-bzip2"]},this._dicomObject.attrs["00080070"]={vr:"LO",Value:[""]};}showMoreAttributes(){console.log("this.dicomObject",this.dicomObject),this._dicomObject||(this._dicomObject={attrs:[]}),this.tempAttributes.attrs=new Zp().transform(this.tempAttributes.attrs,this.tempIods),this.studyService.initEmptyValue(this.tempAttributes.attrs),this.iod=this.studyService.replaceKeyInJson(this.tempIods,"items","Value"),console.log("dicomOjbect",this.dicomObject),this.dropdown=this.studyService.getArrayFromIod(this.tempIods),this.moreAttributes=!this.moreAttributes;}onStudyChange(e){console.log("e",e),console.log("this._dicomObject.attrs",this._dicomObject.attrs);}getToken(){return this.selectedWebApp&&A(this.selectedWebApp,"dcmKeycloakClientID")?this.$http.getRealm(this.selectedWebApp):this._keycloakService.getToken();}upload(){if(!this.neededClassMissing){let e;this.showFileList=!0;let n;this.getToken().subscribe(o=>{this.mainservice.global.notSecure||(e=o.token),!this.seriesNumber&&this.seriesNumber!=0&&(this.seriesNumber=0),this.fileList&&(n=I.generateOIDFromUUID(),he(this.fileList,(a,s)=>{this.service.fileTypeOrExt(a).subscribe(l=>{l==="NO_TYPE_FOUND"?this.isDicomModel&&this.triggerUpload(a,s,e,n,this.isDicomModel):this.triggerUpload(a,s,e,n,l);});}));});}}triggerUpload(e,n,o,a,s){let l=this,_,f=Math.random().toString().substr(2);switch(s){case"image/jpeg":case"image/jp2":case"image/j2c":case"image/x-jp2-codestream":case"j2c":case"image/jph":case"jph":case"image/jphc":case"jhc":case"image/png":case"image/tiff":l.modality=l.selectedSopClass.modality,_="Image";break;case"image/gif":l.modality=l.selectedSopClass.modality,_="GIF";break;case"video/mpeg":case"video/mp4":case"video/quicktime":_="Video",l.modality="XC";break;case"application/pdf":_="PDF",l.modality="DOC";break;case"text/xml":_="CDA",l.modality="SR";break;case"model/mtl":case"mtl":_="MTL",l.modality="M3D";break;case"model/obj":case"application/x-tgif":case"obj":_="OBJ",l.modality="M3D";break;case"stl":case"model/stl":case"model/x.stl-binary":case"application/sla":_="STL",l.modality="M3D";break;case"genozip":case"application/vnd.genozip":_="GENOZIP",l.modality="DNA";break;case"vcf.bz2":case"vcfbzip2":case"vcfbz2":case"application/prs.vcfbzip2":_="Bzip2 compressed genomic data VCF file",l.modality="DNA";break;case"boz":case"bz2":case"application/x-bzip2":_="Bzip2 compressed genomic data Document file",l.modality="OT";break;}let g=new XMLHttpRequest();console.log("mode",this._mode);let S=this.getUrl();if(console.log("url",S),S){this.percentComplete[e.name]={},l.percentComplete[e.name].showTicker=!1,l.percentComplete[e.name].showLoader=!0;let x="--",D=`\r
`;I.is(this.tempAttributes,"attrs")&&Object.keys(this.tempAttributes.attrs).forEach(oe=>{this._dicomObject.attrs[oe]=this.tempAttributes.attrs[oe];});let R=ua(this._dicomObject.attrs,(oe,Ne)=>Ne.toString().indexOf("777")===-1);if(s==="application/dicom"){console.log("mode",this._mode);let oe={sourceOfPreviousValues:this.sourceOfPreviousValues};this._mode==="mwl"?(this.coerceStudyCheckboxValue?oe.irwf="SCHEDULED_COERCE_STUDY":oe.irwf="SCHEDULED",I.hasSet(R,"0020000D.Value[0]")&&(oe["0020000D"]=B(R,"0020000D.Value[0]")),I.hasSet(R,"00400100.Value[0]")&&I.hasSet(R,'["00400100"].Value[0]["00400009"].Value[0]')&&(oe["00400100.00400009"]=B(R,'["00400100"].Value[0]["00400009"].Value[0]'))):(oe.irwf="UNSCHEDULED",I.hasSet(R,"00100020.Value[0]")&&(oe["00100020"]=B(R,"00100020.Value[0]")),I.hasSet(R,"00100021.Value[0]")&&(oe["00100021"]=B(R,"00100021.Value[0]")),I.hasSet(R,"00100024.Value[0]")&&I.hasSet(R,'["00100024"].Value[0]["00400032"].Value[0]')&&(oe["00100024.00400032"]=B(R,'["00100024"].Value[0]["00400032"].Value[0]')),I.hasSet(R,"00100024.Value[0]")&&I.hasSet(R,'["00100024"].Value[0]["00400033"].Value[0]')&&(oe["00100024.00400033"]=B(R,'["00100024"].Value[0]["00400033"].Value[0]'))),oe&&Object.keys(oe).length>0&&(S=S+I.objToUrlParams(oe,!0));}else A(R,"00400100")&&delete R["00400100"];if(this._mode=="mwl"){let oe={AccessionNumber:B(this._dicomObject,"attrs[00080050].Value[0]")};S=S+I.objToUrlParams(oe,!0);}g.open("POST",S,!0),(!A(R,"0008103E.Value[0]")||B(R,"0008103E.Value[0]")==="")&&(R["0008103E"]={vr:"LO",Value:["Imported "+_]}),R["00200013"]={vr:"IS",Value:[n+1]},this._mode==="series"&&A(R,"00201209.Value[0]")?(R["00200011"]=R["00200011"]||{vr:"IS",Value:[B(R,"00201209.Value[0]")*1+1]},R["00200013"]=R["00200013"]||{vr:"IS",Value:[B(R,"00201209.Value[0]")*1+n*1+1]}):(R["00200011"]=R["00200011"]||{vr:"IS",Value:[this.seriesNumber||0]},R["00200013"]={vr:"IS",Value:[n+1]}),A(R,"0020000D.Value[0]")&&this._mode!="series"?R["0020000E"]=R["0020000E"]||{vr:"UI",Value:[a]}:A(R,"0020000E.Value[0]")||(R["0020000D"]=R["0020000D"]||{vr:"UI",Value:[a]}),R["00080060"]=R["00080060"]||{vr:"CS",Value:[l.modality]};let j=[{}];this.service.fixFileSpecificEntries(e,R),Object.keys(R).forEach(oe=>{["00080054","00080056","00080061","00080062","00081190","00201200","00201206","00201208"].indexOf(oe)===-1&&(j[0][oe]=R[oe]);});let V=x+f+D+"Content-Type: application/dicom+json"+D+D+JSON.stringify(I.removeKeyFromObject(j,["required","enum","multi"]))+D,ie=x+f+D+"Content-Type: "+this.service.fileTypeFromExt(s)+D+"Content-Location: file/"+e.name+D+D;s==="application/dicom"?g.setRequestHeader("Content-Type",'multipart/related;type="application/dicom";boundary='+f):(g.setRequestHeader("Content-Type",'multipart/related;type="application/dicom+json";boundary='+f),ie=V+ie);let _e=D+x+f+x;g.setRequestHeader("Accept","application/dicom+json"),this.mainservice.global.notSecure||g.setRequestHeader("Authorization",`Bearer ${o}`),g.upload.onprogress=function(oe){oe.lengthComputable&&(l.percentComplete[e.name].value=oe.loaded/oe.total*100);},g.onreadystatechange=()=>{g.readyState===4&&(g.status===200?(l.percentComplete[e.name].showLoader=!1,l.percentComplete[e.name].showTicker=!0,console.log("in response",JSON.parse(g.response))):(l.percentComplete[e.name].showLoader=!1,console.log("in response error",g.status),console.log("statusText",g.statusText),l.percentComplete[e.name].value=0,l.percentComplete[e.name].status=g.status+" "+g.statusText));},g.upload.onloadstart=function(oe){l.percentComplete[e.name].value=1;},g.upload.onloadend=function(oe){g.status===200&&(l.percentComplete[e.name].showLoader=!1,l.percentComplete[e.name].showTicker=!0,l.percentComplete[e.name].value=100);},g.send(new Blob([new Blob([ie]),e,new Blob([_e])]));}else this.mainservice.showError("A STOW-RS server is missing!");}close(e){this.xmlHttpRequest&&this.xmlHttpRequest.abort(),e.close(null);}onChange(e){this._selectedAe=e.dicomAETitle;}get dicomObject(){return this._dicomObject;}set dicomObject(e){this._dicomObject=e;}get selectedAe(){return this._selectedAe;}set selectedAe(e){this._selectedAe=e;}get aes(){return this._aes;}set aes(e){this._aes=e;}get fromExternalWebApp(){return this._fromExternalWebApp;}set fromExternalWebApp(e){this._fromExternalWebApp=e;}get preselectedWebApp(){return this._preselectedWebApp;}set preselectedWebApp(e){this._preselectedWebApp=e;}getWebApps(){console.log("_preselectedWebApp",this._preselectedWebApp);let e={dcmWebServiceClass:"STOW_RS"};this._preselectedWebApp&&A(this._preselectedWebApp,"dicomDeviceName")&&(e.dicomDeviceName=this._preselectedWebApp.dicomDeviceName),this.studyService.getWebApps(e).subscribe(n=>{n&&n.length>0?(this.webApps=n,this.webApps.forEach(o=>{this._preselectedWebApp?o.dcmWebAppName===this._preselectedWebApp.dcmWebAppName&&(this.selectedWebApp=o):o.dicomAETitle===this._selectedAe&&(this.selectedWebApp=o);}),!this.selectedWebApp&&this.webApps&&this.webApps.length>0&&(this.selectedWebApp=this.webApps[0])):(this.mainservice.showError("No Web Application with the Web Service Class \"STOW_RS\" found in this device"),this.dialogRef.close(null));},n=>{});}getUrl(){try{return I.hasSet(this._dicomObject,"attrs")&&this.selectedWebApp?this.studyService.getStudyInstanceUID(this._dicomObject.attrs)?`${this.studyService.getDicomURL("study",this.selectedWebApp)}/${this.studyService.getStudyInstanceUID(this._dicomObject.attrs)}`:this.studyService.getDicomURL("study",this.selectedWebApp):void 0;}catch{return;}}addMwlMapAttributesOnIOD(e){this.mwlMap.forEach(([n,o])=>{A(e,o)||(o.indexOf("Value")>-1?Ue(e,o,{}):Ue(e,o+".Value[0]",{}));});}mapMwlAttributes(e){let n={};return this._mode=="mwl"?(this.mwlMap.forEach(([o,a])=>{A(e,a)&&(Ue(n,o,B(e,a)),o.indexOf("00400275")>-1&&(n["00400275"].vr="SQ"));}),n):e;}};r.ɵfac=function(n){return new(n||r)(k(wt),k(le),k(Fe),k(wo),k(Sh),k(Pe),k(t2));},r.ɵcmp=Z({type:r,selectors:[["app-upload-files"]],standalone:!1,decls:29,vars:15,consts:()=>{let e;e="Choose JPEG, PNG, TIFF or GIF Images; or MPEG2, MPEG4 or Quicktime Videos; or PDF or CDA Documents; or MTL, OBJ, STL files; or Genozip compressed genomic files or Bzip2 compressed genomic data VCF files or Bzip2 compressed genomic data Document files to upload";let n;n="Upload file";let o;o="Choose JPEG, PNG, TIFF or GIF Images; or MPEG2, MPEG4 or Quicktime Videos; or PDF or CDA Documents; or MTL, OBJ, STL files; or Genozip compressed genomic files or Bzip2 compressed genomic data VCF files or Bzip2 compressed genomic data Document files to upload";let a;a="Upload file";let s;s="Upload Folders";let l;l="START UPLOADING";let _;_="CLOSE";let f;f="Select the STOW-RS server:";let g;g="Choose Bulkdata Files to upload:";let S;S="Choose Bulkdata Folder to upload:";let x;x="Captured Image Type:";let D;return D="Edit Attributes",[s,l,_,f,g,S,x,D,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","upload"],[1,"vex-dialog-form"],[1,"content"],[4,"ngIf"],[1,"simple_label"],["type","checkbox",3,"ngModelChange","ngModel"],["type","file","title",e,"placeholder",n,"webkitdirectory","","directory","","multiple","",3,"ngModel","ngModelChange","change",4,"ngIf"],["type","file","title",o,"placeholder",a,"multiple","",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","edit_attribute_button",3,"click",4,"ngIf"],["class","edit_attribute_block",4,"ngIf"],["mat-dialog-content",""],[1,"dialogbuttons"],["type","button",1,"save",3,"click","disabled"],["type","button",1,"cancle",3,"click"],[3,"ngModelChange","ngModel"],[3,"value","title",4,"ngFor","ngForOf"],[3,"value","title"],["type","file","title",e,"placeholder",n,"webkitdirectory","","directory","","multiple","",3,"ngModelChange","change","ngModel"],["type","file","title",o,"placeholder",a,"multiple","",3,"ngModelChange","change","ngModel"],["title","The file is a DICOM type",3,"value"],["title","images, videos or pdf ",3,"value"],["type","text",3,"ngModelChange","ngModel"],[1,"checkbox_form"],[1,"edit_attribute_button",3,"click"],[1,"edit_attribute_block"],[3,"onChange","tagStudy","iod","mode","dropdown","hideAdditionalParams"],["class","upload_state",4,"ngFor","ngForOf"],[1,"upload_state"],["class","text-danger",4,"ngIf"],["class","upload_ticker",4,"ngIf"],[1,"text-danger"],[1,"upload_ticker"],[1,"fa","fa-circle-o-notch","fa-spin"],[1,"material-icons"],["color","primary","mode","determinate",3,"value"]];},template:function(n,o){n&1&&(u(0,"div",8)(1,"div",9)(2,"h5"),T(3),p(),u(4,"div",10),E(5,bke,5,2,"ng-container",11),u(6,"label",12),U(7),P(8,0),W(),u(9,"input",13),q("ngModelChange",function(s){return Y(o.uploadFolder,s)||(o.uploadFolder=s),s;}),p()(),E(10,Ske,2,0,"label",11),$(11,"br"),E(12,Eke,2,0,"label",11),$(13,"br"),E(14,Tke,1,1,"input",14)(15,Ike,1,1,"input",15)(16,xke,8,3,"ng-container",11)(17,Ake,4,1,"ng-container",11)(18,wke,5,1,"ng-container",11)(19,Mke,5,2,"ng-container",11)(20,Oke,2,0,"button",16)(21,Pke,2,5,"div",17),u(22,"div",18),E(23,Fke,2,1,"ng-container",11),p()(),u(24,"div",19)(25,"button",20),b("click",function(){return o.upload();}),P(26,1),p(),u(27,"button",21),b("click",function(){return o.close(o.dialogRef);}),P(28,2),p()()()()),n&2&&(c(3),z(o.title),c(2),m("ngIf",!o.fromExternalWebApp),c(4),H("ngModel",o.uploadFolder),c(),m("ngIf",!o.uploadFolder),c(2),m("ngIf",o.uploadFolder),c(2),m("ngIf",o.uploadFolder),c(),m("ngIf",!o.uploadFolder),c(),m("ngIf",o.isDicomCheckbox),c(),m("ngIf",o.sourceOfPreviousValuesBlock),c(),m("ngIf",o.coerceStudyCheckbox),c(),m("ngIf",o.isImage),c(),m("ngIf",o.file),c(),m("ngIf",o.moreAttributes&&o.file),c(2),m("ngIf",o.showFileList),c(2),m("disabled",o.neededClassMissing));},dependencies:[ve,de,Me,pi,Se,Ee,fi,ii,JA,Kn,Kp,vh],styles:[".upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:left;width:100%}.edit_attribute_button[_ngcontent-%COMP%]{margin-top:15px;overflow:auto;max-height:32vh}input[type=checkbox][_ngcontent-%COMP%]{clear:both;width:auto;height:20px;margin-top:0;margin-right:7px}label.simple_label[_ngcontent-%COMP%]{vertical-align:middle;height:26px;margin-top:35px}.mat-mdc-dialog-content.mdc-dialog__content[_ngcontent-%COMP%]{float:left}.edit_attribute_block[_ngcontent-%COMP%]{max-height:32vh}"]});let i=r;return i;})();function Vke(i,r){i&1&&(u(0,"span"),T(1,":"),p());}function zke(i,r){if(i&1){let t=O();u(0,"li",11),b("click",function(){let n=C(t).$implicit,o=d();return y(o.addSelectedElement(n));}),$(1,"span",12),E(2,Vke,2,0,"span",13),$(3,"span",12),p();}if(i&2){let t=r.$implicit,e=d();m("title",X(t.description)),c(),m("innerHTML",t.key,Re),c(),m("ngIf",!e.hideDots),c(),m("innerHTML",t.text,Re);}}function Gke(i,r){if(i&1){let t=O();u(0,"button",14),b("click",function(){C(t);let n=d();return y(n.loadMore());}),U(1),P(2,0),W(),p();}}function jke(i,r){i&1&&(u(0,"div",15),P(1,1),p());}var n2=(()=>{let r=class r{constructor(e){this.deviceConfiguratorService=e,this.Object=Object,this.onValueSet=new ae(),this.filter="",this.dcmTags=[],this.dcmTagsFiltered=[],this.sliceTo=20,this.scrollTop=0,this.search=new yt();}ngOnInit(){switch(this.dictionary){case"dcmTag":he(DCM4CHE.elementName.forTag("all"),(o,a)=>{this.dcmTags.push({key:a,text:o}),this.dcmTagsFiltered.push({key:a,text:o});});break;case"dcmTransferSyntax":he(DCM4CHE.TransferSyntax.nameOf("all"),(o,a)=>{this.dcmTags.push({key:a,text:o}),this.dcmTagsFiltered.push({key:a,text:o});});break;case"dcmProperty":this.hideDots=!0;let e=document.location.pathname.split(".").pop(),n=B(this.deviceConfiguratorService.device,"dcmDevice.dcmuiConfig[0]");if(e==="dcmWebApp"){let o=[{key:"IID_PATIENT_URL=[VIEWER_URL]"},{key:"IID_STUDY_URL=[VIEWER_URL]"},{key:"IID_ENCODE=false"},{key:"IID_URL_TARGET=_self"},{key:"IID_URL_TARGET=_blank"},{key:"MWLAccessionNumberGenerator=[name-of-cd-import-acc-no-id-generator]"},{key:"allow-any-hostname=true"},{key:"disable-trust-manager=true"},{key:"allow-any-hostname=true"},{key:"disable-trust-manager=true"},{key:"bearer-token=[bearer-token]"},{key:"basic-auth=[basic-auth]"},{key:"basic-auth=[basic-auth]"},{key:"content-type=true"},{key:"content-type=false"},{key:"chunked=true"},{key:"transfer-syntax=[transfer-syntax]"},{key:"concurrency=[concurrency]"},{key:"WebAppDropdownLabel=[custom_label]"}];this.dcmTags=o,this.dcmTagsFiltered=Wo(o);}A(n,"dcmuiMWLWorklistLabel")&&n.dcmuiMWLWorklistLabel.length>0&&n.dcmuiMWLWorklistLabel.forEach(o=>{this.dcmTags.push({text:"",key:`MWLWorklistLabel=${o}`,description:"Configured Worklist label that is in UI config configured, will be used in the Navigation page"}),this.dcmTagsFiltered.push({text:"",key:`MWLWorklistLabel=${o}`,description:"Configured Worklist label that is in UI config configured, will be used in the Navigation page"});}),A(this.deviceConfiguratorService.device,"dcmDevice.dcmWebApp")&&B(this.deviceConfiguratorService.device,"dcmDevice.dcmWebApp").forEach(a=>{A(a,"dcmWebServiceClass")&&a.dcmWebServiceClass.indexOf("STOW_RS")>-1&&(this.dcmTags.push({text:"",key:`STOWWebApp=${a.dcmWebAppName}`,description:a.description}),this.dcmTagsFiltered.push({text:"",key:`STOWWebApp=${a.dcmWebAppName}`,description:a.description}));}),A(this.deviceConfiguratorService.device,"dcmDevice.dcmWebApp")&&B(this.deviceConfiguratorService.device,"dcmDevice.dcmWebApp").forEach(a=>{A(a,"dcmWebServiceClass")&&a.dcmWebServiceClass.indexOf("PAM")>-1&&(this.dcmTags.push({text:"",key:`PAMWebApp=${a.dcmWebAppName}`,description:a.description}),this.dcmTagsFiltered.push({text:"",key:`PAMWebApp=${a.dcmWebAppName}`,description:a.description}));});break;case"dcmSOPClass":he(DCM4CHE.SOPClass.nameOf("all"),(o,a)=>{this.dcmTags.push({key:a,text:o}),this.dcmTagsFiltered.push({key:a,text:o});});break;}}ngAfterViewInit(){Te.nativeWindow.document.getElementsByClassName("dictionary_widget_search")[0].focus();}addSelectedElement(e){this.onValueSet.emit(e.key);}keyDown(e){if(e.keyCode===13){let n=new yt().transform(this.dcmTags,this.filter);n.length>0&&this.onValueSet.emit(n[0].key);}}onScroll(e){let n=e.target.scrollTop+e.target.offsetHeight;this.scrollTop<e.target.scrollTop&&n+20>e.target.scrollHeight&&(this.scrollTop=e.target.scrollTop,this.loadMore());}onSearch(){this.sliceTo=20,this.scrollTop=0,this.dcmTagsFiltered=this.search.transform(this.dcmTags,this.filter);}loadMore(){this.sliceTo+=20;}close(){this.onValueSet.emit("");}};r.ɵfac=function(n){return new(n||r)(k(Vn));},r.ɵcmp=Z({type:r,selectors:[["dictionary-picker"]],inputs:{dictionary:"dictionary",formelement:"formelement",hideDots:"hideDots"},outputs:{onValueSet:"onValueSet"},standalone:!1,decls:11,vars:11,consts:()=>{let e;e="  Search..";let n;n="More";let o;return o="Searched element not found!",[n,o,[1,"widghet_content",3,"keydown"],[1,"close",3,"click"],[1,"glyphicon","glyphicon-remove"],["placeholder",e,1,"dictionary_widget_search",3,"ngModelChange","keyup","ngModel"],[1,"dictionary_widget",3,"scroll"],[1,"list"],[3,"title","click",4,"ngFor","ngForOf"],["class","load_more",3,"click",4,"ngIf"],["class","no_result",4,"ngIf"],[3,"click","title"],[3,"innerHTML"],[4,"ngIf"],[1,"load_more",3,"click"],[1,"no_result"]];},template:function(n,o){n&1&&(u(0,"div",2),b("keydown",function(s){return o.keyDown(s);}),u(1,"div",3),b("click",function(){return o.close();}),$(2,"span",4),p(),u(3,"input",5),q("ngModelChange",function(s){return Y(o.filter,s)||(o.filter=s),s;}),b("keyup",function(){return o.onSearch();}),p(),u(4,"div",6),b("scroll",function(s){return o.onScroll(s);}),u(5,"ul",7),E(6,zke,4,5,"li",8),$e(7,"slice"),E(8,Gke,3,0,"button",9),p(),E(9,jke,2,0,"div",10),$e(10,"search"),p()()),n&2&&(c(3),H("ngModel",o.filter),c(3),m("ngForOf",ba(7,4,o.dcmTagsFiltered,0,o.sliceTo)),c(2),m("ngIf",o.sliceTo<=o.dcmTags.length&&(!o.filter||o.filter==="")),c(),m("ngIf",pt(10,8,o.dcmTags,o.filter).length===0));},dependencies:[ve,de,Me,Se,Ee,Rs,yt],styles:[".dictionary_widget_search[_ngcontent-%COMP%]{position:absolute;z-index:99999;margin-left:15px;margin-top:7px;min-width:175px}.dictionary_widget[_ngcontent-%COMP%]{max-height:300px;overflow:auto;position:absolute;z-index:9999;background:#fff;-webkit-box-shadow:3px 4px 8px 6px #cccccc;-moz-box-shadow:3px 4px 8px 6px #cccccc;box-shadow:3px 4px 8px 6px #ccc;width:650px}.dictionary_widget[_ngcontent-%COMP%]   .no_result[_ngcontent-%COMP%]{padding:0 15px 30px;min-width:205px;font-size:18px;color:#914f4f}.dictionary_widget[_ngcontent-%COMP%]   ul.list[_ngcontent-%COMP%]{list-style:none;padding:10px 15px;margin-top:30px}.dictionary_widget[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#ccc;cursor:pointer}.close[_ngcontent-%COMP%]{position:absolute;z-index:999999;margin-left:610px;margin-top:8px}"]});let i=r;return i;})();function Wke(i,r){i&1&&(u(0,"div",42),P(1,6),p());}function Bke(i,r){if(i&1){let t=O();u(0,"div",47)(1,"select",48),q("ngModelChange",function(n){C(t);let o=d().$implicit;return Y(o.model,n)||(o.model=n),y(n);}),u(2,"option",49),T(3,"*"),p(),u(4,"option",50),T(5,"00"),p(),u(6,"option",51),T(7,"01"),p(),u(8,"option",52),T(9,"02"),p(),u(10,"option",53),T(11,"03"),p(),u(12,"option",54),T(13,"04"),p(),u(14,"option",55),T(15,"05"),p(),u(16,"option",56),T(17,"06"),p(),u(18,"option",57),T(19,"07"),p(),u(20,"option",58),T(21,"08"),p(),u(22,"option",59),T(23,"09"),p(),u(24,"option",60),T(25,"10"),p(),u(26,"option",61),T(27,"11"),p(),u(28,"option",62),T(29,"12"),p(),u(30,"option",63),T(31,"13"),p(),u(32,"option",64),T(33,"14"),p(),u(34,"option",65),T(35,"15"),p(),u(36,"option",66),T(37,"16"),p(),u(38,"option",67),T(39,"17"),p(),u(40,"option",68),T(41,"18"),p(),u(42,"option",69),T(43,"19"),p(),u(44,"option",70),T(45,"20"),p(),u(46,"option",71),T(47,"21"),p(),u(48,"option",72),T(49,"22"),p(),u(50,"option",73),T(51,"23"),p(),u(52,"option",74),T(53,"24"),p()()();}if(i&2){let t=d().$implicit;c(),H("ngModel",t.model);}}function Hke(i,r){if(i&1){let t=O();u(0,"div",75)(1,"select",76),q("ngModelChange",function(n){C(t);let o=d().$implicit;return Y(o.model.model1,n)||(o.model.model1=n),y(n);}),u(2,"option",50),T(3,"00"),p(),u(4,"option",51),T(5,"01"),p(),u(6,"option",52),T(7,"02"),p(),u(8,"option",53),T(9,"03"),p(),u(10,"option",54),T(11,"04"),p(),u(12,"option",55),T(13,"05"),p(),u(14,"option",56),T(15,"06"),p(),u(16,"option",57),T(17,"07"),p(),u(18,"option",58),T(19,"08"),p(),u(20,"option",59),T(21,"09"),p(),u(22,"option",60),T(23,"10"),p(),u(24,"option",61),T(25,"11"),p(),u(26,"option",62),T(27,"12"),p(),u(28,"option",63),T(29,"13"),p(),u(30,"option",64),T(31,"14"),p(),u(32,"option",65),T(33,"15"),p(),u(34,"option",66),T(35,"16"),p(),u(36,"option",67),T(37,"17"),p(),u(38,"option",68),T(39,"18"),p(),u(40,"option",69),T(41,"19"),p(),u(42,"option",70),T(43,"20"),p(),u(44,"option",71),T(45,"21"),p(),u(46,"option",72),T(47,"22"),p(),u(48,"option",73),T(49,"23"),p(),u(50,"option",74),T(51,"24"),p()(),u(52,"span",77),T(53,"-"),p(),u(54,"select",78),q("ngModelChange",function(n){C(t);let o=d().$implicit;return Y(o.model.model2,n)||(o.model.model2=n),y(n);}),u(55,"option",50),T(56,"00"),p(),u(57,"option",51),T(58,"01"),p(),u(59,"option",52),T(60,"02"),p(),u(61,"option",53),T(62,"03"),p(),u(63,"option",54),T(64,"04"),p(),u(65,"option",55),T(66,"05"),p(),u(67,"option",56),T(68,"06"),p(),u(69,"option",57),T(70,"07"),p(),u(71,"option",58),T(72,"08"),p(),u(73,"option",59),T(74,"09"),p(),u(75,"option",60),T(76,"10"),p(),u(77,"option",61),T(78,"11"),p(),u(79,"option",62),T(80,"12"),p(),u(81,"option",63),T(82,"13"),p(),u(83,"option",64),T(84,"14"),p(),u(85,"option",65),T(86,"15"),p(),u(87,"option",66),T(88,"16"),p(),u(89,"option",67),T(90,"17"),p(),u(91,"option",68),T(92,"18"),p(),u(93,"option",69),T(94,"19"),p(),u(95,"option",70),T(96,"20"),p(),u(97,"option",71),T(98,"21"),p(),u(99,"option",72),T(100,"22"),p(),u(101,"option",73),T(102,"23"),p(),u(103,"option",74),T(104,"24"),p()()();}if(i&2){let t=d().$implicit;c(),H("ngModel",t.model.model1),c(53),H("ngModel",t.model.model2);}}function qke(i,r){if(i&1){let t=O();u(0,"div",47)(1,"select",79),q("ngModelChange",function(n){C(t);let o=d().$implicit;return Y(o.model,n)||(o.model=n),y(n);}),u(2,"option",49),T(3,"*"),p(),u(4,"option",51),P(5,7),p(),u(6,"option",52),P(7,8),p(),u(8,"option",53),P(9,9),p(),u(10,"option",54),P(11,10),p(),u(12,"option",55),P(13,11),p(),u(14,"option",56),P(15,12),p(),u(16,"option",50),P(17,13),p()()();}if(i&2){let t=d().$implicit;c(),H("ngModel",t.model);}}function Yke(i,r){if(i&1){let t=O();u(0,"div",75)(1,"select",80),q("ngModelChange",function(n){C(t);let o=d().$implicit;return Y(o.model.model1,n)||(o.model.model1=n),y(n);}),u(2,"option",51),P(3,14),p(),u(4,"option",52),P(5,15),p(),u(6,"option",53),P(7,16),p(),u(8,"option",54),P(9,17),p(),u(10,"option",55),P(11,18),p(),u(12,"option",56),P(13,19),p(),u(14,"option",50),P(15,20),p()(),u(16,"span",77),T(17,"-"),p(),u(18,"select",81),q("ngModelChange",function(n){C(t);let o=d().$implicit;return Y(o.model.model2,n)||(o.model.model2=n),y(n);}),u(19,"option",51),P(20,21),p(),u(21,"option",52),P(22,22),p(),u(23,"option",53),P(24,23),p(),u(25,"option",54),P(26,24),p(),u(27,"option",55),P(28,25),p(),u(29,"option",56),P(30,26),p(),u(31,"option",50),P(32,27),p()()();}if(i&2){let t=d().$implicit;c(),H("ngModel",t.model.model1),c(17),H("ngModel",t.model.model2);}}function Xke(i,r){if(i&1){let t=O();u(0,"div",43),E(1,Bke,54,1,"div",44)(2,Hke,105,2,"div",45)(3,qke,18,1,"div",44)(4,Yke,33,2,"div",45),u(5,"div",46),b("click",function(){let n=C(t).index,o=d();return y(o.deleteDropped(n));}),$(6,"i",30),p()();}if(i&2){let t=r.$implicit;be(Ct("dragged_elements ",t.mode)),m("ngSwitch",t.mode),c(),m("ngSwitchCase","single_hour"),c(),m("ngSwitchCase","hour_range"),c(),m("ngSwitchCase","single_day"),c(),m("ngSwitchCase","day_range");}}var r2=(()=>{let r=class r{constructor(){this.onValueSet=new ae(),this.draggedElements=[];}ngOnInit(){let e,n=[],o,a=/(hour)=([\d|\d-\d|\*|\,]*)|(dayOfWeek)=([\d|\d-\d|\*|\,]*)/g,s=/(\d+)-(\d+)|(\d+)|\*/g;try{for(;(e=a.exec(this.value))!=null;)n.push(e);if(A(n,"[0][1]")&&n[0][1])for(;(o=s.exec(n[0][2]))!=null;){if(o[1]&&o[2]){let l=this.generateDraggableObject(n[0][1],o);l&&this.draggedElements.push(l);}if(o[3]&&!o[1]&&!o[2]){let l=this.generateDraggableObject(n[0][1],o);l&&this.draggedElements.push(l);}}if(A(n,"[1][3]")&&n[1][3])for(;(o=s.exec(n[1][4]))!=null;){if(o[1]&&o[2]){let l=this.generateDraggableObject(n[1][3],o);l&&this.draggedElements.push(l);}if(o[3]&&!o[1]&&!o[2]){let l=this.generateDraggableObject(n[1][3],o);l&&this.draggedElements.push(l);}}}catch(l){console.error("error parsing data!",l);}document.addEventListener("dragend",function(l){console.log("in addevent dragend");},!1);}generateDraggableObject(e,n){return n[1]&&n[2]?{mode:e==="hour"?"hour_range":"day_range",model:{model1:n[1],model2:n[2]}}:n[3]&&!n[1]&&!n[2]?{mode:e==="hour"?"single_hour":"single_day",model:n[3]}:null;}addSchedule(){this.onValueSet.emit(this.generateSchedule());}close(){this.onValueSet.emit("");}generateSchedule(){let e={hour:"",dayOfWeek:""};return he(this.draggedElements,(n,o)=>{switch(n.mode){case"single_hour":Ln(n.model)&&(e.hour=e.hour+(e.hour!=""?",":"")+n.model);break;case"single_day":Ln(n.model)&&(e.dayOfWeek=e.dayOfWeek+(e.dayOfWeek!=""?",":"")+n.model);break;case"hour_range":Ln(n.model.model1)&&Ln(n.model.model2)&&(e.hour=e.hour+(e.hour!=""?",":"")+n.model.model1+"-"+n.model.model2);break;case"day_range":Ln(n.model.model1)&&Ln(n.model.model2)&&(e.dayOfWeek=e.dayOfWeek+(e.dayOfWeek!=""?",":"")+n.model.model1+"-"+n.model.model2);break;}}),(e.hour?`hour=${e.hour}`:"")+(e.hour&&e.dayOfWeek?" ":"")+(e.dayOfWeek?`dayOfWeek=${e.dayOfWeek}`:"");}dragleave(e){console.log("dropleave",e),this.currentDraggedElement!=""&&(this.draggedElements.push(this.currentDraggedElement),this.currentDraggedElement="");}dragstart(e,n){e.dataTransfer.setData("text","foo"),this.currentDraggedElement={mode:n,model:{}};}deleteDropped(e){this.draggedElements.splice(e,1);}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["schedule-picker"]],inputs:{value:"value"},outputs:{onValueSet:"onValueSet"},standalone:!1,decls:24,vars:2,consts:()=>{let e;e="Schedule picker";let n;n="Single hour";let o;o="Hour range";let a;a="Single day";let s;s="Day range";let l;l="Add";let _;_="Drop here some element to edit";let f;f="Monday";let g;g="Tuesday";let S;S="Wednesday";let x;x="Thursday";let D;D="Friday";let R;R="Saturday";let j;j="Sunday";let V;V="Monday";let ie;ie="Tuesday";let _e;_e="Wednesday";let oe;oe="Thursday";let Ne;Ne="Friday";let Ce;Ce="Saturday";let Ge;Ge="Sunday";let dt;dt="Monday";let hi;hi="Tuesday";let Vi;Vi="Wednesday";let gi;gi="Thursday";let zi;zi="Friday";let Dt;Dt="Saturday";let Gn;return Gn="Sunday",[e,n,o,a,s,l,_,f,g,S,x,D,R,j,V,ie,_e,oe,Ne,Ce,Ge,dt,hi,Vi,gi,zi,Dt,Gn,[1,"schedulepicker"],[1,"close",3,"click"],[1,"glyphicon","glyphicon-remove"],[1,"dropped_schedules",3,"dragleave"],["class","drop_info",4,"ngIf"],[3,"class","ngSwitch",4,"ngFor","ngForOf"],[1,"schedule_drodown_buttons"],["draggable","true",1,"button","clock",3,"dragstart"],[1,"text"],["draggable","true",1,"button","clock_range",3,"dragstart"],["draggable","true",1,"button","calendar",3,"dragstart"],["draggable","true",1,"button","range_calendar",3,"dragstart"],[1,"btn_content"],[1,"btn",3,"click"],[1,"drop_info"],[3,"ngSwitch"],["class","element single",4,"ngSwitchCase"],["class","element range",4,"ngSwitchCase"],[1,"delete_schedule",3,"click"],[1,"element","single"],["name","single_hour","id","single_hour",3,"ngModelChange","ngModel"],["value","*"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["value","13"],["value","14"],["value","15"],["value","16"],["value","17"],["value","18"],["value","19"],["value","20"],["value","21"],["value","22"],["value","23"],["value","24"],[1,"element","range"],["name","hour_range1","id","hour_range1",3,"ngModelChange","ngModel"],[1,"split"],["name","hour_range2","id","hour_range2",3,"ngModelChange","ngModel"],["name","single_day","id","single_day",3,"ngModelChange","ngModel"],["name","day_range1","id","day_range1",3,"ngModelChange","ngModel"],["name","day_range2","id","day_range2",3,"ngModelChange","ngModel"]];},template:function(n,o){n&1&&(u(0,"div",28)(1,"div",29),b("click",function(){return o.close();}),$(2,"span",30),p(),u(3,"h4"),P(4,0),p(),u(5,"div",31),b("dragleave",function(s){return o.dragleave(s);}),E(6,Wke,2,0,"div",32)(7,Xke,7,8,"div",33),p(),u(8,"div",34)(9,"div",35),b("dragstart",function(s){return o.dragstart(s,"single_hour");}),u(10,"div",36),P(11,1),p()(),u(12,"div",37),b("dragstart",function(s){return o.dragstart(s,"hour_range");}),u(13,"div",36),P(14,2),p()(),u(15,"div",38),b("dragstart",function(s){return o.dragstart(s,"single_day");}),u(16,"div",36),P(17,3),p()(),u(18,"div",39),b("dragstart",function(s){return o.dragstart(s,"day_range");}),u(19,"div",36),P(20,4),p()()(),u(21,"div",40)(22,"button",41),b("click",function(){return o.addSchedule();}),P(23,5),p()()()),n&2&&(c(6),m("ngIf",o.draggedElements.length==0),c(),m("ngForOf",o.draggedElements));},dependencies:[ve,de,fr,Qr,_o,fo,mo,Se,Ee],styles:['.schedulepicker[_ngcontent-%COMP%]{max-height:500px;overflow:auto;position:absolute;z-index:1001;background:#fff;-webkit-box-shadow:3px 4px 8px 6px #cccccc;-moz-box-shadow:3px 4px 8px 6px #cccccc;box-shadow:3px 4px 8px 6px #ccc;padding:20px 30px;width:635px}.schedulepicker[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{float:left;margin:20px 0 0;width:100%;font-size:12px}.schedulepicker[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;font-size:13px}.schedulepicker[_ngcontent-%COMP%]   .btn_content[_ngcontent-%COMP%]{width:100%}.schedulepicker[_ngcontent-%COMP%]   .schedule_table[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px 5px}.schedulepicker[_ngcontent-%COMP%]   .schedule_table[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{float:right;color:#777;width:100%;border:1px solid #ccc;margin-top:2px;height:30px;vertical-align:middle;line-height:30px;text-align:center;position:relative}.schedulepicker[_ngcontent-%COMP%]   .schedule_table[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:38%;top:2px}.schedulepicker[_ngcontent-%COMP%]   .schedule_table[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]:hover{cursor:pointer;background:#061d2fd6;color:#fff}.schedulepicker[_ngcontent-%COMP%]   .form_block[_ngcontent-%COMP%]{width:81%;float:left}.schedulepicker[_ngcontent-%COMP%]   .form_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:49%;float:left}.schedulepicker[_ngcontent-%COMP%]   .form_block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .input_block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:49%}.schedulepicker[_ngcontent-%COMP%]   .schedule_table[_ngcontent-%COMP%]   .change_buttons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-weight:600;background:#ddd;text-align:center;padding:5px 10px;margin-bottom:5px}.schedulepicker[_ngcontent-%COMP%]   .schedule_table[_ngcontent-%COMP%]   .change_buttons[_ngcontent-%COMP%]{width:17%;padding:0;float:left}.schedulepicker[_ngcontent-%COMP%]   .schedule_table[_ngcontent-%COMP%]   .change_buttons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background:#aaa;cursor:pointer}.schedulepicker[_ngcontent-%COMP%]   .form_block[_ngcontent-%COMP%] > .hour_block[_ngcontent-%COMP%], .schedulepicker[_ngcontent-%COMP%]   .form_block[_ngcontent-%COMP%] > .single_block[_ngcontent-%COMP%]{padding:9px 7px}.schedulepicker[_ngcontent-%COMP%]   .dropped_schedules[_ngcontent-%COMP%]{float:left;width:450px;padding:15px 10px;margin-right:10px;height:360px;border:1px solid #cccccc}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]{display:block;width:100px;float:left}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100px;display:block;height:80px;position:relative;margin-bottom:10px;border:1px solid transparent}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab;-webkit-box-shadow:2px 2px 11px 1px rgba(0,0,0,.42);-moz-box-shadow:2px 2px 11px 1px rgba(0,0,0,.42);box-shadow:2px 2px 11px 1px #0000006b}.schedulepicker[_ngcontent-%COMP%]   .dragged_elements[_ngcontent-%COMP%]   .delete_schedule[_ngcontent-%COMP%]{float:right;display:block;text-align:center;width:5%;padding-left:5px}.schedulepicker[_ngcontent-%COMP%]   .dragged_elements[_ngcontent-%COMP%]   .delete_schedule[_ngcontent-%COMP%]:hover{cursor:pointer}.schedulepicker[_ngcontent-%COMP%]   .dragged_elements[_ngcontent-%COMP%]{float:left;width:100%;background:#061d2fd6;padding:5px;margin-bottom:5px;color:#fff}.schedulepicker[_ngcontent-%COMP%]   .dragged_elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .schedulepicker[_ngcontent-%COMP%]   .dragged_elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#fff;color:#000}.schedulepicker[_ngcontent-%COMP%]   .dragged_elements[_ngcontent-%COMP%]   .element.single[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}.schedulepicker[_ngcontent-%COMP%]   .dragged_elements[_ngcontent-%COMP%]   .element.range[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:48%;float:left}.schedulepicker[_ngcontent-%COMP%]   .dragged_elements[_ngcontent-%COMP%]   .element.range[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%]{width:4%;float:left;display:inline-block;text-align:center}.schedulepicker[_ngcontent-%COMP%]   .dragged_elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{width:95%;float:left}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;bottom:0;text-align:center;width:100%;color:#000}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button.calendar[_ngcontent-%COMP%]{background:url("./media/calendar-K2WFJECL.png");background-repeat:no-repeat;background-position:center 5px}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button.calendar[_ngcontent-%COMP%]:hover{background:url("./media/calendar_hover-F3R7BRTR.png");background-repeat:no-repeat;background-position:center 5px}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button.clock[_ngcontent-%COMP%]{background:url("./media/clock-NUNXN3PD.png");background-repeat:no-repeat;background-position:center 5px}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button.clock[_ngcontent-%COMP%]:hover{background:url("./media/clock_hover-BUPBD45S.png");background-repeat:no-repeat;background-position:center 5px}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button.range_calendar[_ngcontent-%COMP%]{background:url("./media/range_calendar-S33UDVXW.png");background-repeat:no-repeat;background-position:center 5px}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button.range_calendar[_ngcontent-%COMP%]:hover{background:url("./media/range_calendar_hover-ZTZVB2Z3.png");background-repeat:no-repeat;background-position:center 5px}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button.clock_range[_ngcontent-%COMP%]{background:url("./media/range_clock-D34M6PKG.png");background-repeat:no-repeat;background-position:center 5px}.schedulepicker[_ngcontent-%COMP%]   .schedule_drodown_buttons[_ngcontent-%COMP%]   .button.clock_range[_ngcontent-%COMP%]:hover{background:url("./media/range_clock_hover-4YEWQFEG.png");background-repeat:no-repeat;background-position:center 5px}.schedulepicker[_ngcontent-%COMP%]   .drop_info[_ngcontent-%COMP%]{font-size:20px;color:#777;width:100%;height:100%;text-align:center;vertical-align:middle;line-height:300px}']});let i=r;return i;})();var o2=(()=>{let r=class r{constructor(){}ngOnInit(){switch(this.dictionary){case"dcmTag":this.attributeName=DCM4CHE.elementName.forTag(this.value);break;case"dcmTransferSyntax":this.attributeName=DCM4CHE.TransferSyntax.nameOf(this.value);break;case"dcmSOPClass":this.attributeName=DCM4CHE.SOPClass.nameOf(this.value);break;}}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["attribute-info"]],inputs:{value:"value",dictionary:"dictionary"},standalone:!1,decls:2,vars:1,consts:[[1,"attribute_info"]],template:function(n,o){n&1&&(u(0,"span",0),T(1),p()),n&2&&(c(),z(o.attributeName));},styles:[".attribute_info[_ngcontent-%COMP%]{background:#000000bf;color:#fff;padding:3px 10px;font-size:12px;position:absolute;left:0;bottom:33px;-webkit-box-shadow:2px 4px 4px #ccc;-moz-box-shadow:2px 4px 4px #ccc;box-shadow:2px 4px 4px #ccc}"]});let i=r;return i;})();function Zke(i,r){if(i&1&&(u(0,"span",8),T(1),p()),i&2){let t=d();c(),Yn("",t.view," / ",t.views.length);}}function Jke(i,r){if(i&1){let t=O();u(0,"div",9),b("click",function(){C(t);let n=d();return y(n.changeImage("prev"));}),$(1,"span",10),p();}}function e3e(i,r){if(i&1&&$(0,"img",11),i&2){let t=d();m("src",X(t.renderedUrl),Ko);}}function t3e(i,r){if(i&1&&(u(0,"video",12),$(1,"source",13),p()),i&2){let t=d();c(),m("src",X(t.renderedUrl),Ko);}}function i3e(i,r){if(i&1){let t=O();u(0,"div",14),b("click",function(){C(t);let n=d();return y(n.changeImage("next"));}),$(1,"span",15),p();}}function n3e(i,r){i&1&&(u(0,"div",16),$(1,"mat-progress-spinner",17),p());}var a2=(()=>{let r=class r{constructor(e,n,o,a,s,l,_){this.dialogRef=e,this.j4care=n,this.mainservice=o,this.$http=a,this.httpErrorHandler=s,this._keycloakService=l,this.studyService=_,this.xhr=new XMLHttpRequest();}ngOnInit(){console.log("url",this._url),console.log("_views",this._views),this.loadImage();}loadImage(){let e,n=this;this.studyService.getTokenService(this.studyWebService).subscribe(o=>{this.mainservice.global.notSecure||(e=o.token),this.showLoader=!0;let a=this._url;this._contentType!="video/mpeg"&&this._view&&(a=this._url+`&frameNumber=${this._view}`),this._contentType||(this._contentType="image/jpeg"),n.xhr.open("GET",a,!0),n.xhr.overrideMimeType("text/plain; charset=x-user-defined"),this.mainservice.global.notSecure||n.xhr.setRequestHeader("Authorization",`Bearer ${e}`),n.xhr.send(null),n.xhr.onloadstart=l=>{console.log("onloade res",l);},n.xhr.onreadystatechange=function(){n.xhr.readyState==4&&(n.xhr.status==200||n.xhr.status==0?(n.renderedUrl=`data:${n.contentType};base64,`+s(n.xhr.responseText),n.showLoader=!1):(n.httpErrorHandler.handleError(n.xhr),n.showLoader=!1,n.dialogRef.close(null)));};function s(l){for(var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="",g=0;g<l.length;){var S=l.charCodeAt(g++)&255,x=l.charCodeAt(g++)&255,D=l.charCodeAt(g++)&255,R=S>>2,j=(S&3)<<4|x>>4,V,ie;isNaN(x)?V=ie=64:(V=(x&15)<<2|D>>6,isNaN(D)?ie=64:ie=D&63),f+=_.charAt(R)+_.charAt(j)+_.charAt(V)+_.charAt(ie);}return f;}});}changeImage(e){e==="prev"&&this._view>1&&this.view--,e==="next"&&this._view<this._views.length&&this.view++,this.loadImage();}get url(){return this._url;}set url(e){this._url=e;}get views(){return this._views;}set views(e){this._views=e;}get view(){return this._view;}set view(e){this._view=e;}get contentType(){return this._contentType;}set contentType(e){this._contentType=e;}};r.ɵfac=function(n){return new(n||r)(k(wt),k(I),k(le),k(Fe),k(Pt),k(Pe),k(wo));},r.ɵcmp=Z({type:r,selectors:[["app-viewer"]],standalone:!1,decls:8,vars:6,consts:[[1,"viewer"],["class","pull-right",4,"ngIf"],["class","arrow left",3,"click",4,"ngIf"],[1,"content"],[3,"src",4,"ngIf"],["autoplay","",4,"ngIf"],["class","arrow right",3,"click",4,"ngIf"],["class","spinner-icon",4,"ngIf"],[1,"pull-right"],[1,"arrow","left",3,"click"],[1,"glyphicon","glyphicon-chevron-left"],[3,"src"],["autoplay",""],["type","video/mpeg",3,"src"],[1,"arrow","right",3,"click"],[1,"glyphicon","glyphicon-chevron-right"],[1,"spinner-icon"],["mode","indeterminate"]],template:function(n,o){n&1&&(u(0,"div",0),E(1,Zke,2,2,"span",1)(2,Jke,2,0,"div",2),u(3,"div",3),E(4,e3e,1,2,"img",4)(5,t3e,2,2,"video",5),p(),E(6,i3e,2,0,"div",6)(7,n3e,2,0,"div",7),p()),n&2&&(c(),m("ngIf",o.views.length>1),c(),m("ngIf",o.views.length>1),c(2),m("ngIf",o.contentType==="image/jpeg"),c(),m("ngIf",o.contentType==="video/mpeg"),c(),m("ngIf",o.views.length>1),c(),m("ngIf",o.showLoader));},dependencies:[de,Ao],styles:["img[_ngcontent-%COMP%]{max-height:90vh!important;max-width:100%!important}"]});let i=r;return i;})();var JW=i=>({width:i});function r3e(i,r){if(i&1&&(u(0,"div",8),T(1),p()),i&2){let t=r.$implicit;be(Ct("th ",t.cssClass)),m("title",X(t.description))("ngStyle",ne(7,JW,t.calculatedWidth)),c(),z(t.title);}}function o3e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d().$implicit,e=d().$implicit;c(),z((e[t.code]==null?null:e[t.code].Value[0].Alphabetic)||"");}}function a3e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d().$implicit,e=d().$implicit;c(),z((e[t.code]==null?null:e[t.code].Value[0])||"");}}function s3e(i,r){if(i&1&&(u(0,"div",11),E(1,o3e,2,1,"span",12)(2,a3e,2,1,"span",12),p()),i&2){let t=r.$implicit,e=d().$implicit,n=d();be(Ct("td ",t.cssClass)),m("ngStyle",ne(6,JW,t.calculatedWidth)),c(),m("ngIf",n._.hasIn(e[t.code],"Value[0].Alphabetic")),c(),m("ngIf",!n._.hasIn(e[t.code],"Value[0].Alphabetic")&&n._.hasIn(e[t.code],"Value[0]"));}}function l3e(i,r){if(i&1&&(u(0,"div",9),E(1,s3e,3,8,"div",10),p()),i&2){let t=d();c(),m("ngForOf",t.table);}}function c3e(i,r){i&1&&$(0,"i",15);}function d3e(i,r){if(i&1){let t=O();u(0,"button",13),b("click",function(){C(t);let n=d();return y(n.loadMoreStudiesOnScroll());}),E(1,c3e,1,0,"i",14),U(2),P(3,0),W(),p();}if(i&2){let t=d();c(),m("ngIf",t.moreStudies.loaderActive);}}var eB=(()=>{let r=class r{constructor(){this._=ye,this.table=[{title:"Patient's Name",code:"00100010",description:"Patient's Name",widthWeight:1,calculatedWidth:"20%"},{title:"Patient ID",code:"00100020",description:"Patient ID",widthWeight:1,calculatedWidth:"20%",cssClass:"hideMobile"},{title:"Birth Date",code:"00100030",description:"Patient's Birth Date",widthWeight:1,calculatedWidth:"20%",cssClass:"hideOn1000px"},{title:"Sex",code:"00100040",description:"Patient's Sex",widthWeight:1,calculatedWidth:"20%",cssClass:"hideOn800px"},{title:"Issuer of PID",code:"00100021",description:"Issuer of Patient ID",widthWeight:1,calculatedWidth:"20%",cssClass:"hideOn1100px"},{title:"Study ID",code:"00200010",description:"Study ID",widthWeight:1,calculatedWidth:"20%",cssClass:"hideOn800px"},{title:"Acc. Nr.",code:"00080050",description:"Accession Number",widthWeight:1,calculatedWidth:"20%",cssClass:"hideOn1400px"},{title:"Modality",code:"00080061",description:"Modalities in Study",widthWeight:.6,calculatedWidth:"20%",cssClass:"hideMobile"},{title:"#S",code:"00201206",description:"Number of Study Related Series",widthWeight:.2,calculatedWidth:"20%"},{title:"#I",code:"00201208",description:"Number of Study Related Instances",widthWeight:.2,calculatedWidth:"20%"}],this.moreStudies={limit:30,start:0,loaderActive:!1};}onResize(e){this.width?Math.abs(this.width-e.target.innerWidth)>10&&this.calculateWidthOfTable():this.width=e.target.innerWidth;}loadMoreStudiesOnScroll(e){this.loadMoreCheck(),this.resetMoreCheck();}loadMoreCheck(){let e=Te.nativeWindow.document.getElementsByClassName("load_more")[0]?I.offset(Te.nativeWindow.document.getElementsByClassName("load_more")[0]).top:0,n=Te.nativeWindow.document.getElementsByClassName("load_more")[0].offsetHeight,o=Te.nativeWindow.innerHeight;Te.nativeWindow.pageYOffset>e+n-o&&this.loadMoreStudies();}resetMoreCheck(){let e=Te.nativeWindow.document.getElementsByClassName("load_more_start")[0]?I.offset(Te.nativeWindow.document.getElementsByClassName("load_more_start")[0]).top:0,n=Te.nativeWindow.document.getElementsByClassName("load_more_start")[0].offsetHeight,o=window.pageYOffset;console.log("reset (hT + hH - wH)",e+n),console.log("reset wS",o),e+n>o&&this.resetMore();}resetMore(){this.moreStudies={limit:30,start:0,loaderActive:!1};}loadMoreStudies(){this.moreStudies.loaderActive=!0,this.moreStudies.limit+=20,this.moreStudies.loaderActive=!1;}ngOnInit(){this.calculateWidthOfTable();}calculateWidthOfTable(){let e=0;he(this.table,(n,o)=>{e+=n.widthWeight;}),he(this.table,(n,o)=>{n.calculatedWidth=n.widthWeight*100/e+"%";});}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["dicom-list"]],hostBindings:function(n,o){n&1&&b("resize",function(s){return o.onResize(s);},Qo)("scroll",function(s){return o.loadMoreStudiesOnScroll(s);},Qo);},inputs:{dicomObject:"dicomObject"},standalone:!1,decls:8,vars:7,consts:()=>{let e;return e="More",[e,[1,"dynamic_table"],[1,"table_header"],[1,"tr"],[3,"class","title","ngStyle",4,"ngFor","ngForOf"],[1,"table_body"],["class","tr load_more_start",4,"ngFor","ngForOf"],["class","load_more",3,"click",4,"ngIf"],[3,"title","ngStyle"],[1,"tr","load_more_start"],[3,"class","ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[4,"ngIf"],[1,"load_more",3,"click"],["class","fa fa-spinner fa-spin fa-3x fa-fw",4,"ngIf"],[1,"fa","fa-spinner","fa-spin","fa-3x","fa-fw"]];},template:function(n,o){n&1&&(u(0,"div",1)(1,"div",2)(2,"div",3),E(3,r3e,2,9,"div",4),p()(),u(4,"div",5),E(5,l3e,2,1,"div",6),$e(6,"slice"),E(7,d3e,4,1,"button",7),p()()),n&2&&(c(3),m("ngForOf",o.table),c(2),m("ngForOf",ba(6,3,o.dicomObject,o.moreStudies.start,o.moreStudies.limit)),c(2),m("ngIf",o.dicomObject&&o.moreStudies.limit<=o.dicomObject.length));},dependencies:[ve,de,wn,Rs],encapsulation:2});let i=r;return i;})();var s2=(()=>{let r=class r{constructor(e,n,o,a,s){this.mainservice=e,this.deviceService=n,this.aeListService=o,this.hl7service=a,this.webAppListService=s;}getDevice(){return A(this.mainservice.global,"devices")?ge(this.mainservice.global.devices):this.deviceService.getDevices();}getAets(){return A(this.mainservice.global,"aes")?ge(this.mainservice.global.aes):this.aeListService.getAes();}getHl7(){return A(this.mainservice.global,"hl7")?ge(this.mainservice.global.hl7):this.hl7service.getHl7ApplicationsList("");}getWebApp(){return A(this.mainservice.global,"webApp")?ge(this.mainservice.global.webApp):this.webAppListService.getWebApps();}};r.ɵfac=function(n){return new(n||r)(K(le),K(Xt),K(un),K(rs),K(os));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var p3e=["checkboxes"],m3e=i=>({long_mode:i});function _3e(i,r){i&1&&(u(0,"p"),P(1,1),p());}function f3e(i,r){if(i&1){let t=O();u(0,"input",11),q("ngModelChange",function(n){C(t);let o=d(3);return Y(o.search,n)||(o.search=n),y(n);}),p();}if(i&2){let t=d(3);H("ngModel",t.search);}}function h3e(i,r){if(i&1){let t=O();u(0,"div")(1,"input",12),q("ngModelChange",function(n){let o=C(t).$implicit,a=d(3);return Y(a.model[o[a.key]],n)||(a.model[o[a.key]]=n),y(n);}),b("change",function(){C(t);let n=d(3);return y(n.valueChanged());}),p(),T(2),$(3,"br"),p();}if(i&2){let t=r.$implicit,e=d(3);c(),H("ngModel",e.model[t[e.key]]),c(),ue(" ",t[e.key]);}}function g3e(i,r){if(i&1){let t=O();u(0,"span",13),b("click",function(){C(t);let n=d(3);return y(n.showRawValues());}),p();}}function v3e(i,r){if(i&1){let t=O();U(0),u(1,"div",16),T(2),p(),u(3,"div",17)(4,"div",18)(5,"a",19),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.deleteElement(n));}),$(6,"i",20),p()()(),$(7,"br"),W();}if(i&2){let t=r.$implicit;c(2),ue('"',t,'",');}}function C3e(i,r){if(i&1&&(u(0,"div",14)(1,"p"),P(2,2),p(),u(3,"div",15),E(4,v3e,8,1,"ng-container",8),p()()),i&2){let t=d(3);c(4),m("ngForOf",t.Object.keys(t.model));}}function y3e(i,r){if(i&1&&(u(0,"div",6,0),E(2,f3e,1,1,"input",7)(3,h3e,4,2,"div",8),$e(4,"search"),E(5,g3e,1,0,"span",9)(6,C3e,5,1,"div",10),p()),i&2){let t=d(2);m("ngClass",ne(8,m3e,t.longMode)),c(2),m("ngIf",t.longMode),c(),m("ngForOf",pt(4,5,t.elements,t.search)),c(2),m("ngIf",t.warning),c(),m("ngIf",t.showRaw);}}function b3e(i,r){if(i&1&&(u(0,"option",25),T(1),p()),i&2){let t=r.$implicit,e=d(3);m("value",X(t[e.key])),c(),z(t[e.key]);}}function S3e(i,r){if(i&1){let t=O();u(0,"div",21)(1,"select",22),b("change",function(){C(t);let n=d(2);return y(n.valueChanged());}),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.model,n)||(o.model=n),y(n);}),u(2,"option",23),T(3,"-"),p(),E(4,b3e,2,3,"option",24),p()();}if(i&2){let t=d(2);c(),H("ngModel",t.model),c(3),m("ngForOf",t.elements);}}function E3e(i,r){if(i&1&&(u(0,"div"),E(1,y3e,7,10,"div",4)(2,S3e,5,2,"div",5),p()),i&2){let t=d();c(),m("ngIf",t.type==="array"),c(),m("ngIf",t.type==="string");}}var l2=(()=>{let r=class r{constructor(e,n){this.service=e,this.ref=n,this.loader=!1,this.model={},this.key="",this.longMode=!1,this.search="",this.warning=!1,this.showRaw=!1,this.Object=Object,this.onValueChange=new ae();}ngOnInit(){switch(this.mode){case"dcmAETitle":this.key="dicomAETitle",this.getObject("getAets");break;case"webApp":this.key="dcmWebAppName",this.getObject("getWebApp");break;case"dicomDeviceName":this.key="dicomDeviceName",this.getObject("getDevice");break;case"hl7ApplicationName":this.key="hl7ApplicationName",this.getObject("getHl7");break;}console.log("elements",this.elements);}valueChanged(){this.type==="array"?this.onValueChange.emit(Object.keys(this.model).filter(e=>this.model[e])):this.onValueChange.emit(this.model);}showRawValues(){this.showRaw=!this.showRaw;}getObject(e){Array.isArray(this.checked)?(this.checked=this.checked||[],this.checked.forEach(n=>{n!=""&&(this.model[n]=!0);}),this.type="array"):(this.checked=this.checked||"",this.model=this.checked,this.type="string"),this.loader=!0,this.service[e]().subscribe(n=>{this.elements=n,this.loader=!1,console.log("element",this.elements),console.log("element",this.model),console.log("checked",this.checked),this.checked&&pe(this.checked)&&this.checked.length>1&&this.checked.forEach(o=>{let a=!1;this.elements.forEach(s=>{o===s[this.key]&&(a=!0);}),a||(this.warning=!0);}),this.type==="array"&&pe(this.elements)&&this.elements.length>5&&(this.longMode=!0),this.detectChanges(),this.type==="array"&&this.elementView&&this.elementView.nativeElement&&this.elementView.nativeElement.offsetHeight>200&&(this.longMode=!0,this.detectChanges());},n=>{this.loader=!1;});}detectChanges(){A(this.ref,"destroyed")&&B(this.ref,"destroyed")||this.ref.detectChanges();}deleteElement(e){var n=this.checked.indexOf(e);n!==-1&&this.checked.splice(n,1),delete this.model[e],this.valueChanged();}};r.ɵfac=function(n){return new(n||r)(k(s2),k($t));},r.ɵcmp=Z({type:r,selectors:[["dynamic-field"]],viewQuery:function(n,o){if(n&1&&Et(p3e,7),n&2){let a;qe(a=Ye())&&(o.elementView=a.first);}},inputs:{checked:"checked",mode:"mode",type:"type"},outputs:{onValueChange:"onValueChange"},standalone:!1,decls:2,vars:2,consts:()=>{let e;e=" loading...\n";let n;n="Search list...";let o;return o="Daemon value found, you can remove it manually from the value array:",[["checkboxes",""],e,o,[4,"ngIf"],["class","checkbox_parent",3,"ngClass",4,"ngIf"],["class","dropdown_parent",4,"ngIf"],[1,"checkbox_parent",3,"ngClass"],["type","text","placeholder",n,3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngFor","ngForOf"],["class","glyphicon glyphicon-exclamation-sign raw_warning_button",3,"click",4,"ngIf"],["class","raw_array_edit",4,"ngIf"],["type","text","placeholder",n,3,"ngModelChange","ngModel"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"glyphicon","glyphicon-exclamation-sign","raw_warning_button",3,"click"],[1,"raw_array_edit"],[1,"array_body"],[1,"array_element"],[1,"button"],[1,"button_content"],[1,"delete","button",3,"click"],[1,"glyphicon","glyphicon-remove"],[1,"dropdown_parent"],[1,"dropdown",3,"change","ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]];},template:function(n,o){n&1&&E(0,_3e,2,0,"p",3)(1,E3e,3,2,"div",3),n&2&&(m("ngIf",o.loader),c(),m("ngIf",!o.loader&&o.elements));},dependencies:[Je,ve,de,_o,fo,Me,pi,mo,Se,Ee,yt],styles:[".raw_array_edit[_ngcontent-%COMP%]   .array_element[_ngcontent-%COMP%]{width:calc(100% - 42px);float:left;padding-left:15px;border-bottom:1px solid #ccc;height:30px;margin-bottom:5px;line-height:30px}.raw_warning_button[_ngcontent-%COMP%]:hover{cursor:pointer}.array_body[_ngcontent-%COMP%]{border:1px solid #cccccc;padding:10px 10px 5px;float:left;width:100%}"]});let i=r;return i;})();var I3e=()=>["toggle_button","option"],x3e=i=>({select:i});function A3e(i,r){if(i&1){let t=O();u(0,"input",6),q("ngModelChange",function(n){C(t);let o=d(2);return Y(o.search,n)||(o.search=n),y(n);}),p();}if(i&2){let t=d(2);H("ngModel",t.search);}}function w3e(i,r){if(i&1){let t=O();u(0,"span",8),b("click",function(){C(t);let n=d().$implicit,o=d(2);return y(o.selectedElement=n.value);}),T(1),p();}if(i&2){let t=d().$implicit;c(),z(t.title);}}function D3e(i,r){if(i&1&&(u(0,"li"),E(1,w3e,2,1,"ng-template",7),p()),i&2){let t=r.$implicit,e=d(2);c(),m("ngTemplateOutlet",e.templ)("ngTemplateOutletContext",ne(2,x3e,t));}}function M3e(i,r){if(i&1){let t=O();u(0,"div",3),b("clickOutside",function(){C(t);let n=d();return y(n.selectOpen=!n.selectOpen);}),E(1,A3e,1,1,"input",4),u(2,"ul"),E(3,D3e,2,4,"li",5),$e(4,"search"),p()();}if(i&2){let t=d();m("clickOutsideExceptionClass",Ke(6,I3e)),c(),m("ngIf",t.options&&t.options.length>6),c(2),m("ngForOf",pt(4,3,t.options,t.search));}}var c2=(()=>{let r=class r{constructor(){this.selectOpen=!1,this.search="";}ngOnInit(){}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["dcm-select"]],contentQueries:function(n,o,a){if(n&1&&on(a,Hn,7),n&2){let s;qe(s=Ye())&&(o.templ=s.first);}},inputs:{options:"options",placeholder:"placeholder"},standalone:!1,decls:3,vars:4,consts:()=>{let e;return e="Search...",[[1,"option"],[1,"toggle_button",3,"ngModelChange","click","ngModel","placeholder"],["class","toggle_block",3,"clickOutsideExceptionClass","clickOutside",4,"ngIf"],[1,"toggle_block",3,"clickOutside","clickOutsideExceptionClass"],["type","text","placeholder",e,3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngFor","ngForOf"],["type","text","placeholder",e,3,"ngModelChange","ngModel"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"]];},template:function(n,o){n&1&&(u(0,"div",0)(1,"input",1),q("ngModelChange",function(s){return Y(o.selectedElement,s)||(o.selectedElement=s),s;}),b("click",function(){return o.selectOpen=!o.selectOpen;}),p(),E(2,M3e,5,7,"div",2),p()),n&2&&(c(),m("placeholder",X(o.placeholder)),H("ngModel",o.selectedElement),c(),m("ngIf",o.selectOpen));},dependencies:[ve,de,_p,Me,Se,Ee,ma,yt],styles:["dcm-select[_ngcontent-%COMP%]{display:inline-block}.option[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%}.option[_ngcontent-%COMP%]   .toggle_button[_ngcontent-%COMP%]{height:26px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0 7px;color:#ccc;line-height:26px;font-style:italic;color:#666;width:100%;height:100%;border:none;background:transparent;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.option[_ngcontent-%COMP%]   .toggle_button[_ngcontent-%COMP%]:hover{cursor:pointer}.option[_ngcontent-%COMP%]   .toggle_block[_ngcontent-%COMP%]{background:#fff;z-index:999;min-width:100%;-webkit-box-shadow:1px 1px 4px 0px rgba(0,0,0,.78);-moz-box-shadow:1px 1px 4px 0px rgba(0,0,0,.78);box-shadow:1px 1px 4px #000000c7;position:absolute}.option[_ngcontent-%COMP%]   .toggle_block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:5px 7px}.option[_ngcontent-%COMP%]   .toggle_block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{max-height:200px;overflow:auto;padding:0;list-style:none;margin:0}.option[_ngcontent-%COMP%]   .toggle_block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding:0 0 0 7px;width:100%;height:30px}.option[_ngcontent-%COMP%]   .toggle_block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:var(--lightBlueNoTransparence);color:#fff;cursor:pointer}"]});let i=r;return i;})();var d2=(()=>{let r=class r{constructor(e,n,o){this.$http=e,this.mainservice=n,this._keycloakService=o;}uploadCSV(e,n,o,a,s){let l=new XMLHttpRequest();l.open("POST",e,!0);let _;this._keycloakService.getToken().subscribe(f=>{this.mainservice.global.notSecure||(_=f.token);let g="text/csv";o&&(g+=";delimiter=semicolon"),l.setRequestHeader("Content-Type",g),this.mainservice.global.notSecure||l.setRequestHeader("Authorization",`Bearer ${_}`),l.onreadystatechange=function(){l.readyState==XMLHttpRequest.DONE&&a.call(this,l);},l.onerror=S=>{s.call(this,S);},l.send(n);});}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le),K(Pe));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();function R3e(i,r){i&1&&(u(0,"mat-option",19),T(1,"*"),p());}function N3e(i,r){if(i&1&&(u(0,"mat-option",20),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.value)),c(),z(t.text);}}function k3e(i,r){if(i&1&&(u(0,"mat-select",16),E(1,R3e,2,0,"mat-option",17)(2,N3e,2,3,"mat-option",18),p()),i&2){let t=d().$implicit;m("formControlName",X(t.filterKey))("placeholder",X(t.placeholder)),c(),m("ngIf",t.showStar),c(),m("ngForOf",t.options);}}function $3e(i,r){if(i&1){let t=O();u(0,"input",21),b("change",function(n){C(t);let o=d().$implicit,a=d();return y(a.inputChanged(o,n));}),p();}if(i&2){let t=d().$implicit;m("formControlName",X(t.filterKey))("type",X(t.type))("placeholder",X(t.placeholder));}}function L3e(i,r){if(i&1){let t=O();u(0,"range-picker",22),b("modelChange",function(n){C(t);let o=d().$implicit,a=d();return y(a.dateChanged(o.filterKey,n));}),p();}if(i&2){let t=d().$implicit,e=d();m("placeholder",X(t.description||t.placeholder))("title",X(t.description))("ngStyle",t.style)("onlyDate",t.onlyDate)("model",e.model[t.filterKey]);}}function F3e(i,r){if(i&1&&(u(0,"div",7)(1,"label"),T(2),p(),U(3,12),E(4,k3e,3,6,"mat-select",13)(5,$3e,1,6,"input",14)(6,L3e,1,7,"range-picker",15),W(),p()),i&2){let t=r.$implicit;c(2),z(t.description),c(),m("ngSwitch",t.tag),c(),m("ngSwitchCase","select"),c(),m("ngSwitchCase","input"),c(),m("ngSwitchCase","range-picker-time");}}function V3e(i,r){i&1&&$(0,"span",23);}var Du=(()=>{let r=class r{constructor(e,n,o,a){this.dialogRef=e,this._fb=n,this.service=o,this.appService=a,this.params={formSchema:[],prepareUrl:void 0},this.showLoader=!1,this.model={};}inputChanged(e,n){console.log("form",e),console.log("this.fomr",this.form),console.log("e",n),console.log("e",n.target.checked),e.type==="checkbox"&&this.form.controls[e.filterKey].setValue(n.target.checked);}ngOnInit(){console.log("formSchema",this.params);let e={};this.params.formSchema.forEach(n=>{n.type==="checkbox"?e[n.filterKey]=[null]:e[n.filterKey]=[I.getValue(n.filterKey,this.params,n.defaultValue),n.validation];}),this.form=this._fb.group(e);}submit(){this.showLoader=!0;let e=!1,n=this.params.prepareUrl(this.form.value);A(this.form.value,"semicolon")&&this.form.value.semicolon&&(e=!0),this.service.uploadCSV(n,this.csvFile,e,o=>{if(this.showLoader=!1,o.status>=199&&o.status<300){let a={msg:"",status:"info"};try{if(o.response){let s=JSON.parse(o.response);a.msg=""+s.count+" tasks created successfully!";}else{let s=o.getResponseHeader("warning");a.status="warning",s?a.msg=s:a.msg="Count could not be extracted";}}catch(s){console.log("Count could not be extracted",s);}a.msg||(a.msg="Tasks created successfully!"),this.appService.setMessage({text:a.msg,status:a.status}),this.dialogRef.close(this.form.value);}else{let a={msg:"",status:"error"},s=o.getResponseHeader("warning");if(s)a.msg=s;else if(o.response)try{let l=JSON.parse(o.response);a.msg=l.errorMessage;}catch(l){console.log("Count could not be extracted",l);}a.msg||(a.msg="Upload failed, please try again later!"),this.appService.setMessage({text:a.msg,status:"error"}),this.dialogRef.close(null);}},o=>{this.showLoader=!1,this.appService.showError("Upload failed, please try again later!"),this.dialogRef.close(null);});}dateChanged(e,n){this.form.controls[e].setValue(n),n?this.model[e]=n:delete this.model[e];}onFileChange(e){console.log("e",e.target.files[0]),this.csvFile=e.target.files[0];}};r.ɵfac=function(n){return new(n||r)(k(wt),k(Ed),k(d2),k(le));},r.ɵcmp=Z({type:r,selectors:[["csv-upload"]],standalone:!1,decls:15,vars:4,consts:()=>{let e;e="Upload csv file with Study Instance UIDs";let n;n="Select CSV-File:";let o;return o="Upload",[e,n,o,[1,"modal_form"],[1,"content"],[3,"formGroup"],["class","form_control",4,"ngFor","ngForOf"],[1,"form_control"],["type","file",1,"form-control",3,"change"],[1,"dialogbuttons"],[1,"save",3,"click","disabled"],["class","fa fa-circle-o-notch fa-spin csv_upload_loader",4,"ngIf"],[3,"ngSwitch"],["class","form-control",3,"formControlName","placeholder",4,"ngSwitchCase"],["class","form-control",3,"formControlName","type","placeholder","change",4,"ngSwitchCase"],["class","form-control","dateFormat","YYYYMMDD","onlySingleMode","true","defaultTime","00:00:00","mode","single",3,"ngStyle","onlyDate","model","placeholder","title","modelChange",4,"ngSwitchCase"],[1,"form-control",3,"formControlName","placeholder"],["value","*",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["value","*"],[3,"value"],[1,"form-control",3,"change","formControlName","type","placeholder"],["dateFormat","YYYYMMDD","onlySingleMode","true","defaultTime","00:00:00","mode","single",1,"form-control",3,"modelChange","ngStyle","onlyDate","model","placeholder","title"],[1,"fa","fa-circle-o-notch","fa-spin","csv_upload_loader"]];},template:function(n,o){n&1&&(u(0,"div",3)(1,"h5"),P(2,0),p(),u(3,"div",4)(4,"form",5),E(5,F3e,7,5,"div",6),u(6,"div",7)(7,"label"),P(8,1),p(),u(9,"input",8),b("change",function(s){return o.onFileChange(s);}),p()(),u(10,"div",9)(11,"button",10),b("click",function(){return o.submit();}),E(12,V3e,1,0,"span",11),U(13),P(14,2),W(),p()()()()()),n&2&&(c(4),m("formGroup",o.form),c(),m("ngForOf",o.params.formSchema),c(6),m("disabled",!o.form.valid||!o.csvFile),c(),m("ngIf",o.showLoader));},dependencies:[ve,de,wn,fr,Qr,cb,Me,Se,h_,fi,ii,cl,T0,Do],styles:[".modal_form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:var(--backgroundHoverColor)}.modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]{padding:2px 0;margin-bottom:0;float:left;width:100%}.modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:40%;float:left;text-align:right;padding-right:10px}.modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%], .modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .mat-mdc-select[_ngcontent-%COMP%], .modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   range-picker[_ngcontent-%COMP%], .modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   dcm-drop-down[_ngcontent-%COMP%]{width:60%;float:right}.modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:15px;float:left;height:25px;margin:0;padding:0}.modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%], .modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .mat-mdc-select[_ngcontent-%COMP%]{border:none;border-radius:0;padding:0}.modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #cccccc}.modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .mat-select-placeholder[_ngcontent-%COMP%], .modal_form[_ngcontent-%COMP%]   .form_control[_ngcontent-%COMP%]   .mat-mdc-select-placeholder[_ngcontent-%COMP%]{padding-left:7px}.dialogbuttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative}.dialogbuttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .csv_upload_loader[_ngcontent-%COMP%]{position:absolute;left:7px}.csv_preview[_ngcontent-%COMP%]{width:100%;display:block;max-height:183px;float:left;overflow:auto;border:1px solid #5b5b5b;margin:10px 0}.csv_preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse}.csv_preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .csv_preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .csv_preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #cccccc}.csv_preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 2px}.csv_preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.active[_ngcontent-%COMP%]{background:#999}.csv_preview[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{cursor:pointer}"]});let i=r;return i;})();var u2=(()=>{let r=class r{constructor(){}getTableSchema(e,n,o){switch(o){case"patient":return[new J({type:"value",header:"Patient's Name",pathToValue:"00100010.Value[0].Alphabetic",headerDescription:"Patient's Name",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"Patient ID",pathToValue:"00100020.Value[0]",headerDescription:"Patient ID",widthWeight:1,calculatedWidth:"20%"}),new J({type:"pipe",header:"Issuer of Patient",headerDescription:"Issuer of Patient",widthWeight:1,calculatedWidth:"20%",pipe:new Di(xu,void 0)}),new J({type:"value",header:"B. Date",pathToValue:"00100030.Value[0]",headerDescription:"Patient's Birth Date",widthWeight:.5,calculatedWidth:"20%"}),new J({type:"value",header:"Sex",pathToValue:"00100040.Value[0]",headerDescription:"Patient's Sex",widthWeight:.2,calculatedWidth:"20%"}),new J({type:"value",header:"#S",pathToValue:"00201200.Value[0]",headerDescription:"Number of Patient Related Studies",widthWeight:.2,calculatedWidth:"20%"}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove",text:""},click:a=>{n.call(e,a);},title:"Remove from selection"}],headerDescription:"Actions",pxWidth:40})];case"study":return[new J({type:"value",header:"Study ID",pathToValue:"[00200010].Value[0]",headerDescription:"Study ID",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"value",header:"Study Instance UID",pathToValue:"[0020000D].Value[0]",headerDescription:"Study Instance UID",widthWeight:2,calculatedWidth:"20%"}),new J({type:"value",header:"Accession Number",pathToValue:"[00080050].Value[0]",headerDescription:"Accession Number",widthWeight:1.5,calculatedWidth:"20%"}),new J({type:"value",header:"Study Desc",pathToValue:"[00081030].Value[0]",headerDescription:"Study Description",widthWeight:2,calculatedWidth:"20%"}),new J({type:"value",header:"Study Date",pathToValue:"[00080020].Value[0]",headerDescription:"Study Date",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"#S",pathToValue:"[00201206].Value[0]",headerDescription:"Number of Study Related Series",widthWeight:.3,calculatedWidth:"20%"}),new J({type:"value",header:"#I",pathToValue:"[00201208].Value[0]",headerDescription:"Number of Study Related Instances",widthWeight:.3,calculatedWidth:"20%"}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove",text:""},click:a=>{n.call(e,a);},title:"Remove from selection"}],headerDescription:"Actions",pxWidth:40})];case"series":return[new J({type:"value",header:"Station Name",pathToValue:"00081010.Value[0]",headerDescription:"Station Name",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"value",header:"Series Number",pathToValue:"00200011.Value[0]",headerDescription:"Series Number",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"value",header:"Body Part",pathToValue:"00180015.Value[0]",headerDescription:"Body Part Examined",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"value",header:"Modality",pathToValue:"00080060.Value[0]",headerDescription:"Modality",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"value",header:"#I",pathToValue:"00201209.Value[0]",headerDescription:"Number of Series Related Instances",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove",text:""},click:a=>{n.call(e,a);},title:"Remove from selection"}],headerDescription:"Actions",pxWidth:40})];case"instance":return[new J({type:"value",header:"SOP Class UID",pathToValue:"00080016.Value[0]",headerDescription:"SOP Class UID",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"value",header:"Instance Number",pathToValue:"00200013.Value[0]",headerDescription:"Instance Number",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"value",header:"Content Date",pathToValue:"00080023.Value[0]",headerDescription:"Content Date",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"value",header:"#F",pathToValue:"00280008.Value[0]",headerDescription:"Number of Frames",widthWeight:.3,calculatedWidth:"20%"}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove",text:""},click:a=>{n.call(e,a);},title:"Remove from selection"}],headerDescription:"Actions",pxWidth:40})];default:return[new J({type:"value",header:"Patient's Name",pathToValue:"00100010.Value[0].Alphabetic",headerDescription:"Patient's Name",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"Patient ID",pathToValue:"00100020.Value[0]",headerDescription:"Patient ID",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",header:"Study ID",pathToValue:"[00200010].Value[0]",headerDescription:"Study ID",widthWeight:.9,calculatedWidth:"20%"}),new J({type:"actions",header:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove",text:""},click:a=>{n.call(e,a);},title:"Remove from selection"}],headerDescription:"Actions",pxWidth:40})];}}};r.ɵfac=function(n){return new(n||r)();},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var Mu=(()=>{let r=class r{constructor(e){this.injector=e;}transform(e,n,o,...a){try{return e&&(n&&A(n,"pipeToken")?this.injector.get(n.pipeToken).transform(e,...(n.pipeArgs||[])):o.call(this,e,a));}catch{return e;}}};r.ɵfac=function(n){return new(n||r)(k(tt,16));},r.ɵpipe=Kt({name:"dynamicPipe",type:r,pure:!0,standalone:!1});let i=r;return i;})();var tB=i=>({width:i});function G3e(i,r){if(i&1&&(u(0,"div",6),T(1),p()),i&2){let t=r.$implicit;be(Ct("th ",t.cssClass)),m("title",X(t.headerDescription))("ngStyle",ne(7,tB,t.calculatedWidth)),c(),z(t.header);}}function j3e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function U3e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function W3e(i,r){if(i&1){let t=O();u(0,"a",13),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit,s=d();return n.preventDefault(),y(o.click(s.selectionsDicomObjects[a]));}),E(1,j3e,2,3,"span",14)(2,U3e,2,3,"i",14),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function B3e(i,r){if(i&1&&(U(0),E(1,W3e,3,4,"a",12),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d();c(),m("ngIf",!t.showIf||t.showIf(n.selectionsDicomObjects[e],n.config));}}function H3e(i,r){if(i&1&&(U(0),E(1,B3e,2,1,"ng-container",11),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function q3e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d().$implicit,e=d().$implicit,n=d();c(),z(n._.get(n.selectionsDicomObjects[e].object.attrs,t.pathToValue)||"\xA0");}}function Y3e(i,r){if(i&1&&(U(0),T(1),$e(2,"dynamicPipe"),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d();c(),ue(" ",pt(2,1,n._.get(n.selectionsDicomObjects[e].object.attrs,t.pathToValue),t.pipe)," ");}}function X3e(i,r){if(i&1&&(U(0),T(1),$e(2,"dynamicPipe"),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d();c(),ue(" ",pt(2,1,n.selectionsDicomObjects[e].object.attrs,t.pipe)," ");}}function K3e(i,r){if(i&1&&(U(0),E(1,Y3e,3,4,"ng-container",15)(2,X3e,3,4,"ng-container",15),W()),i&2){let t=d().$implicit;c(),m("ngIf",t.pathToValue),c(),m("ngIf",!t.pathToValue);}}function Q3e(i,r){if(i&1&&(u(0,"div",9),E(1,H3e,2,1,"ng-container",10)(2,q3e,2,1,"span",10)(3,K3e,3,2,"ng-container",10),p()),i&2){let t=r.$implicit;be(Ct("td ",t.cssClass)),m("ngStyle",ne(8,tB,t.calculatedWidth))("ngSwitch",t.type),c(),m("ngSwitchCase","actions"),c(),m("ngSwitchCase","value"),c(),m("ngSwitchCase","pipe");}}function Z3e(i,r){if(i&1&&(u(0,"div",7),E(1,Q3e,4,10,"div",8),p()),i&2){let t=d();c(),m("ngForOf",t.tableSchema);}}var p2=(()=>{let r=class r{get selectionsDicomObjects(){return this._selectionsDicomObjects;}set selectionsDicomObjects(e){this._selectionsDicomObjects=e;}constructor(e){this.service=e,this.Object=Object,this._=ye,this.dicomObject=[],this.onRemoveFromSelection=new ae();}ngOnInit(){this.tableSchema=I.calculateWidthOfTable(this.service.getTableSchema(this,this.actions,this.dicomLevel));}actions(e){console.log("model",e),this.onRemoveFromSelection.emit(e);}};r.ɵfac=function(n){return new(n||r)(k(u2));},r.ɵcmp=Z({type:r,selectors:[["selections-dicom-view"]],inputs:{dicomLevel:"dicomLevel",hideHeader:"hideHeader",selectionsDicomObjects:"selectionsDicomObjects"},outputs:{onRemoveFromSelection:"onRemoveFromSelection"},standalone:!1,decls:9,vars:5,consts:[[1,"dynamic_table"],[1,"table_header"],[1,"tr"],[3,"class","title","ngStyle",4,"ngFor","ngForOf"],[1,"table_body"],["class","tr load_more_start",4,"ngFor","ngForOf"],[3,"title","ngStyle"],[1,"tr","load_more_start"],[3,"class","ngStyle","ngSwitch",4,"ngFor","ngForOf"],[3,"ngStyle","ngSwitch"],[4,"ngSwitchCase"],[4,"ngFor","ngForOf"],["class","pointer dicom_table_buttons",3,"title","click",4,"ngIf"],[1,"pointer","dicom_table_buttons",3,"click","title"],[3,"class",4,"ngIf"],[4,"ngIf"]],template:function(n,o){n&1&&(u(0,"h5"),T(1),$e(2,"uppercase"),p(),u(3,"div",0)(4,"div",1)(5,"div",2),E(6,G3e,2,9,"div",3),p()(),u(7,"div",4),E(8,Z3e,2,1,"div",5),p()()),n&2&&(c(),z(ta(2,3,o.dicomLevel)),c(5),m("ngForOf",o.tableSchema),c(2),m("ngForOf",o.Object.keys(o.selectionsDicomObjects)));},dependencies:[ve,de,wn,fr,Qr,s0,Mu],styles:[".dynamic_table[_ngcontent-%COMP%]{float:left;width:calc(100% - 12px);margin:4px 0 10px 4px;-webkit-box-shadow:2px 2px 9px 0px #000000;-moz-box-shadow:2px 2px 9px 0px #000000;box-shadow:2px 2px 9px #000}"]});let i=r;return i;})();var J3e=()=>["patient","study","series","instance","mwl"];function e4e(i,r){if(i&1&&(u(0,"option",24),T(1),p()),i&2){let t=r.$implicit;m("title",X(t.title))("value",X(t.value)),c(),z(t.text);}}function t4e(i,r){if(i&1){let t=O();u(0,"div")(1,"div",20)(2,"span",21),U(3),P(4,2),W(),T(5,":"),p(),u(6,"select",22),q("ngModelChange",function(n){C(t);let o=d();return Y(o.reject,n)||(o.reject=n),y(n);}),E(7,e4e,2,5,"option",23),p()()();}if(i&2){let t=d();c(6),H("ngModel",t.reject),c(),m("ngForOf",t.rjnotes);}}function i4e(i,r){if(i&1&&(u(0,"span")(1,"b"),T(2),p(),T(3," with the Patient ID "),u(4,"b"),$(5,"span",26),$e(6,"patientIssuer"),p()()),i&2){let t,e=d(2);c(2),z(e.target.object.attrs["00100010"].Value[0].Alphabetic),c(3),m("innerHTML",(t=ta(6,2,e.target.object.attrs))==null?null:t.html,Re);}}function n4e(i,r){if(i&1&&(T(0,"Patient ID "),u(1,"b"),$(2,"span",26),$e(3,"patientIssuer"),p()),i&2){let t,e=d(2);c(2),m("innerHTML",(t=ta(3,1,e.target.object.attrs))==null?null:t.html,Re);}}function r4e(i,r){i&1&&(u(0,"div"),T(1," ( "),U(2),P(3,4),W(),T(4," ) "),p());}function o4e(i,r){if(i&1&&(u(0,"div")(1,"h3"),P(2,3),p(),E(3,i4e,7,4,"span",25),$(4,"br"),E(5,n4e,4,3,"ng-template",null,0,ia)(7,r4e,5,0,"div",11),p()),i&2){let t=Pi(6),e=d();c(3),m("ngIf",e.target&&e.target.object.attrs&&e.target.object.attrs["00100010"]&&e.target.object.attrs["00100010"].Value&&e.target.object.attrs["00100010"].Value[0].Alphabetic)("ngIfElse",t),c(4),m("ngIf",e.selectedElements.action!="merge");}}function a4e(i,r){if(i&1&&(u(0,"span"),T(1,"Patient Name:"),u(2,"b"),T(3),p()()),i&2){let t=d(2);c(3),z(t.target.object.attrs["00100010"].Value[0].Alphabetic);}}function s4e(i,r){if(i&1&&(T(0,"Patient ID: "),u(1,"b"),$(2,"span",26),$e(3,"patientIssuer"),p()),i&2){let t,e=d(2);c(2),m("innerHTML",(t=ta(3,1,e.target.object.attrs))==null?null:t.html,Re);}}function l4e(i,r){if(i&1&&(u(0,"span"),U(1),P(2,6),W(),T(3),p()),i&2){let t=d(2);c(3),ue(": ",t.target.object.attrs["00400100"].Value[0]["00400001"].Value[0]);}}function c4e(i,r){if(i&1&&(u(0,"div",27)(1,"h3"),P(2,5),p(),E(3,a4e,4,1,"span",25),$(4,"br"),E(5,s4e,4,3,"ng-template",null,0,ia)(7,l4e,4,1,"span",11),$(8,"br"),p()),i&2){let t=Pi(6),e=d();c(3),m("ngIf",e.target&&e.target.object.attrs&&e.target.object.attrs["00100010"]&&e.target.object.attrs["00100010"].Value&&e.target.object.attrs["00100010"].Value[0].Alphabetic)("ngIfElse",t),c(4),m("ngIf",e.target&&e.target.object.attrs&&e.target.object.attrs["00400100"]&&e.target.object.attrs["00400100"].Value&&e.target.object.attrs["00400100"].Value[0]&&e.target.object.attrs["00400100"].Value[0]["00400001"]&&e.target.object.attrs["00400100"].Value[0]["00400001"].Value&&e.target.object.attrs["00400100"].Value[0]["00400001"].Value[0]);}}function d4e(i,r){if(i&1&&(u(0,"div")(1,"h3"),P(2,7),p(),U(3),P(4,8),W(),T(5,": "),u(6,"b"),T(7),p(),$(8,"br"),U(9),P(10,9),W(),T(11,": "),u(12,"b"),T(13),p(),$(14,"br"),U(15),P(16,10),W(),T(17,": "),u(18,"b"),$(19,"span",26),$e(20,"patientIssuer"),p(),$(21,"br"),p()),i&2){let t,e=d();c(7),z(e.target.object.attrs["0020000D"].Value[0]),c(6),z(e.target.object.attrs["00100010"].Value[0].Alphabetic),c(6),m("innerHTML",(t=ta(20,3,e.target.object.attrs))==null?null:t.html,Re);}}function u4e(i,r){if(i&1){let t=O();u(0,"selections-dicom-view",29),b("onRemoveFromSelection",function(n){C(t);let o=d(2);return y(o.onRemoveFromSelection(n));}),p();}if(i&2){let t=d().$implicit,e=d();m("selectionsDicomObjects",e.selectedElements.preActionElements[t])("dicomLevel",t);}}function p4e(i,r){if(i&1&&(U(0),E(1,u4e,1,2,"selections-dicom-view",28),W()),i&2){let t=r.$implicit,e=d();c(),m("ngIf",e.selectedElements.preActionElements[t]&&e.Object.keys(e.selectedElements.preActionElements[t])&&e.Object.keys(e.selectedElements.preActionElements[t]).length>0);}}var m2=(()=>{let r=class r{constructor(e){this.dialogRef=e,this.title="Move",this.Object=Object;}ngOnInit(){this.selectedElements.action==="link"&&(this.reject="113038^DCM");}onRemoveFromSelection(e){this._selectedElements.toggle(e.dicomLevel,e.uniqueSelectIdObject,e.object,"preActionElements");}get selectedElements(){return this._selectedElements;}set selectedElements(e){this.target=e.postActionElements.getAllAsArray()[0],this._selectedElements=e;}};r.ɵfac=function(n){return new(n||r)(k(wt));},r.ɵcmp=Z({type:r,selectors:[["app-study-transferring-overview"]],standalone:!1,decls:14,vars:11,consts:()=>{let e;e="CANCEL";let n;n="Select Rejection Note type";let o;o="Selected target patient";let a;a="An empty study will be automatically created, so it can be used as target study!";let s;s="Selected target MWL";let l;l="Scheduled Station AE Title";let _;_="Selected target study";let f;f="Study Instance UID";let g;g="Patient Name";let S;return S="Patient Identifiers",[["noname",""],e,n,o,a,s,l,_,f,g,S,[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","targetobject",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngFor","ngForOf"],[1,"dialogbuttons"],["type","button",1,"save",3,"click","disabled"],["type","button",1,"cancle",3,"click"],[1,"line_block"],[1,"line_element"],["id","reject","name","reject",1,"line_element",3,"ngModelChange","ngModel"],[3,"title","value",4,"ngFor","ngForOf"],[3,"title","value"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],[1,"targetobject"],[3,"selectionsDicomObjects","dicomLevel","onRemoveFromSelection",4,"ngIf"],[3,"onRemoveFromSelection","selectionsDicomObjects","dicomLevel"]];},template:function(n,o){n&1&&(u(0,"h3"),T(1),p(),E(2,t4e,8,2,"div",11),U(3,12),E(4,o4e,8,3,"div",13)(5,c4e,9,3,"div",14)(6,d4e,22,5,"div",15),W(),E(7,p4e,2,1,"ng-container",16),u(8,"div",17)(9,"button",18),b("click",function(){return o.dialogRef.close({selectedElements:o.selectedElements,reject:o.reject});}),T(10),$e(11,"uppercase"),p(),u(12,"button",19),b("click",function(){return o.dialogRef.close(null);}),P(13,1),p()()),n&2&&(c(),z(o.title),c(),m("ngIf",o.selectedElements.action==="move"||o.selectedElements.action==="link"),c(),m("ngSwitch",o.target.dicomLevel),c(),m("ngSwitchCase","patient"),c(),m("ngSwitchCase","mwl"),c(2),m("ngForOf",Ke(10,J3e)),c(2),m("disabled",(o.selectedElements.action==="move"||o.selectedElements.action==="link")&&!o.reject),c(),z(ta(11,8,o.selectedElements.action)));},dependencies:[ve,de,fr,Qr,aR,_o,fo,mo,Se,Ee,p2,s0,xu],styles:["selections-dicom-view[_ngcontent-%COMP%]{float:left;width:100%;margin:10px 0;max-height:300px;overflow:auto;border-top:1px solid #cccccc}"]});let i=r;return i;})();function m4e(i,r){if(i&1&&(u(0,"h4"),T(1),p()),i&2){let t=d();c(),z(t.title);}}function _4e(i,r){if(i&1&&$(0,"img",10),i&2){let t=d();m("src",X(t.url),Ko);}}function f4e(i,r){if(i&1){let t=O();u(0,"video",11),b("mouseenter",function(n){C(t);let o=d();return y(o.onVideoMouseEnter(n));})("mouseleave",function(n){C(t);let o=d();return y(o.onVideoMouseLeave(n));}),$(1,"source",12),U(2),P(3,0),W(),p();}if(i&2){let t=d();c(),m("src",X(t.url),Ko)("type",X(t.contentType));}}function h4e(i,r){if(i&1&&$(0,"object",13),i&2){let t=d();m("data",t.pdfUrl,ZC);}}function g4e(i,r){if(i&1&&(u(0,"audio",14),$(1,"source",12),U(2),P(3,1),W(),p()),i&2){let t=d();c(),m("src",X(t.url),Ko)("type",X(t.contentType));}}function v4e(i,r){if(i&1){let t=O();u(0,"a",15),b("click",function(){C(t);let n=d();return y(n.printIframe());}),$(1,"i",16),p();}}var nB=(()=>{let r=class r{constructor(e,n,o,a){this.dialogRef=e,this.sanitizer=n,this.$http=o,this.$nativeHttp=a;}ngOnInit(){this.contentType.indexOf("xml")>-1?this.loadXML():this.setPDFUrl();}onVideoMouseEnter(e){console.log("e",e),e.target.setAttribute("controls",!0);}onVideoMouseLeave(e){console.log("e",e),e.target.setAttribute("controls",!1);}setPDFUrl(){this.pdfUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.url);}printIframe(){this.iframe.contentWindow.focus(),this.iframe.contentWindow.print();}loadXML(){try{let e=l=>{let _=new XMLHttpRequest();return _.open("GET",l,!1),_.send(""),_.responseXML;},n=e(this.url),o=e("./assets/xsl/cda_nojs.xsl"),a,s;if(document.implementation&&document.implementation.createDocument){a=new XSLTProcessor(),a.importStylesheet(o),s=a.transformToFragment(n,document),this.iframe=document.createElement("iframe"),this.iframe.style.width="100%",this.iframe.style.height="100%",document.getElementById("container").appendChild(this.iframe);let l=this.iframe.contentDocument||this.iframe.contentWindow.document;l.body.appendChild(s);let _=l.getElementsByClassName("cda-render");for(let f=0;f<_.length;f++)_[f].addEventListener("click",g=>{g.preventDefault(),l.getElementById(g.target.hash.replace(/#/g,"")).scrollIntoView();});}}catch(e){I.log("Error on loading xml",e);}}};r.ɵfac=function(n){return new(n||r)(k(wt),k(yp),k(Fe),k(uo));},r.ɵcmp=Z({type:r,selectors:[["app-media-viewer"]],standalone:!1,decls:8,vars:7,consts:()=>{let e;e="Your browser does not support the video element.";let n;return n="Your browser does not support the audio element.",[e,n,[4,"ngIf"],[1,"content"],[3,"src",4,"ngIf"],["autoplay","",3,"mouseenter","mouseleave",4,"ngIf"],["type","application/pdf","style","width:100%;height:80vh;",3,"data",4,"ngIf"],["controls","",4,"ngIf"],["class","btn btn-default print_button",3,"click",4,"ngIf"],["id","container",2,"width","100%","height","80vh",3,"hidden"],[3,"src"],["autoplay","",3,"mouseenter","mouseleave"],[3,"src","type"],["type","application/pdf",2,"width","100%","height","80vh",3,"data"],["controls",""],[1,"btn","btn-default","print_button",3,"click"],[1,"glyphicon","glyphicon-print"]];},template:function(n,o){n&1&&(E(0,m4e,2,1,"h4",2),u(1,"div",3),E(2,_4e,1,2,"img",4)(3,f4e,4,4,"video",5)(4,h4e,1,1,"object",6)(5,g4e,4,4,"audio",7)(6,v4e,2,0,"a",8),$(7,"div",9),p()),n&2&&(m("ngIf",o.title),c(2),m("ngIf",o.contentType&&o.contentType.indexOf("image")>-1),c(),m("ngIf",o.contentType&&o.contentType.indexOf("video")>-1),c(),m("ngIf",o.contentType&&o.contentType.indexOf("pdf")>-1&&o.pdfUrl),c(),m("ngIf",o.contentType&&o.contentType.indexOf("audio")>-1),c(),m("ngIf",o.contentType&&o.contentType.indexOf("xml")>-1),c(),m("hidden",o.contentType.indexOf("xml")===-1));},dependencies:[de],styles:["#container[_ngcontent-%COMP%]{width:100%;height:80vh;float:left}.print_button[_ngcontent-%COMP%]{float:right}"]});let i=r;return i;})();function C4e(i,r){if(i&1){let t=O();u(0,"li",9),b("click",function(){let n=C(t).$implicit,o=d();return y(o.addSelectedElement(n));}),$(1,"span",10),p();}if(i&2){let t=r.$implicit;c(),m("innerHTML",t.text,Re);}}function y4e(i,r){i&1&&(u(0,"div",11),P(1,0),p());}var _2=(()=>{let r=class r{constructor(){this.Object=Object,this.onValueSet=new ae(),this.filter="",this.dcmTags=[];}ngOnInit(){he(we.LANGUAGES.getAllLanguages,(e,n)=>{this.dcmTags.push({key:`${n}|${e.name}|${e.nativeName}|${e.flag}`,text:`<img src="${e.flag}" width="15"/> ${e.name} - ${e.nativeName}(${n})`});});}addSelectedElement(e){this.onValueSet.emit(e.key);}keyDown(e){if(e.keyCode===13){let n=new yt().transform(this.dcmTags,this.filter);n.length>0&&this.onValueSet.emit(n[0].key);}}close(){this.onValueSet.emit("");}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["language-picker"]],inputs:{dictionary:"dictionary",formelement:"formelement"},outputs:{onValueSet:"onValueSet"},standalone:!1,decls:10,vars:9,consts:()=>{let e;e="  Search..";let n;return n="Searched element not found!",[n,[1,"widghet_content",3,"keydown"],[1,"close",3,"click"],[1,"glyphicon","glyphicon-remove"],["placeholder",e,1,"language_widget_search",3,"ngModelChange","ngModel"],[1,"language_widget"],[1,"list"],[3,"click",4,"ngFor","ngForOf"],["class","no_result",4,"ngIf"],[3,"click"],[3,"innerHTML"],[1,"no_result"]];},template:function(n,o){n&1&&(u(0,"div",1),b("keydown",function(s){return o.keyDown(s);}),u(1,"div",2),b("click",function(){return o.close();}),$(2,"span",3),p(),u(3,"input",4),q("ngModelChange",function(s){return Y(o.filter,s)||(o.filter=s),s;}),p(),u(4,"div",5)(5,"ul",6),E(6,C4e,2,1,"li",7),$e(7,"search"),p(),E(8,y4e,2,0,"div",8),$e(9,"search"),p()()),n&2&&(c(3),H("ngModel",o.filter),c(3),m("ngForOf",pt(7,3,o.dcmTags,o.filter)),c(2),m("ngIf",pt(9,6,o.dcmTags,o.filter).length===0));},dependencies:[ve,de,Me,Se,Ee,yt],styles:[".language_widget_search[_ngcontent-%COMP%]{position:absolute;z-index:99999;margin-left:15px;margin-top:7px;min-width:175px;left:0}.language_widget[_ngcontent-%COMP%]{max-height:300px;overflow:auto;position:absolute;z-index:9999;background:#fff;-webkit-box-shadow:3px 4px 8px 6px #cccccc;-moz-box-shadow:3px 4px 8px 6px #cccccc;box-shadow:3px 4px 8px 6px #ccc;width:650px}.language_widget[_ngcontent-%COMP%]   .no_result[_ngcontent-%COMP%]{padding:0 15px 30px;min-width:205px;font-size:18px;color:#914f4f}.language_widget[_ngcontent-%COMP%]   ul.list[_ngcontent-%COMP%]{list-style:none;padding:10px 15px;margin-top:30px}.language_widget[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#ccc;cursor:pointer}.close[_ngcontent-%COMP%]{position:absolute;z-index:999999;margin-left:610px;margin-top:8px}"]});let i=r;return i;})();function S4e(i,r){if(i&1){let t=O();u(0,"input",16),q("ngModelChange",function(n){C(t);let o=d();return Y(o.addPatientAttribut,n)||(o.addPatientAttribut=n),y(n);}),b("click",function(){C(t);let n=d();return y(n.opendropdown=!n.opendropdown);})("keydown",function(n){C(t);let o=d();return y(o.pressedKey(n));}),p();}if(i&2){let t=d();H("ngModel",t.addPatientAttribut);}}function E4e(i,r){if(i&1){let t=O();u(0,"div",17),b("click",function(){C(t);let n=d();return y(n.opendropdown=!1);}),p();}}function T4e(i,r){if(i&1){let t=O();u(0,"a",20),b("click",function(n){let o=C(t).$implicit,a=d(2);return n.preventDefault(),y(a.addAttribute(o.code,a.ups));}),T(1),p();}if(i&2){let t=r.$implicit;m("name",X(t.code)),c(),Yn("(",t.codeComma,") ",t.name);}}function I4e(i,r){if(i&1&&(u(0,"div",18),E(1,T4e,2,4,"a",19),$e(2,"search"),p()),i&2){let t=d();c(),m("ngForOf",pt(2,1,t.dropdown,t.addPatientAttribut));}}function x4e(i,r){if(i&1){let t=O();u(0,"div",21)(1,"iod-form-generator",22),b("keydown",function(n){C(t);let o=d();return y(o.dialogKeyHandler(n,o.dialogRef));}),p()();}if(i&2){let t=d();c(),m("externalInternalAetMode",t.externalInternalAetMode)("object",t.ups.attrs)("mode",t.mode)("iod",t.iod);}}function A4e(i,r){if(i&1){let t=O();u(0,"div",23)(1,"label",24)(2,"input",25),q("ngModelChange",function(n){C(t);let o=d();return Y(o.templateParameter,n)||(o.templateParameter=n),y(n);}),p(),T(3," Don't create template "),p(),u(4,"label",26)(5,"input",27),q("ngModelChange",function(n){C(t);let o=d();return Y(o.templateParameter,n)||(o.templateParameter=n),y(n);}),p(),T(6," Create template too "),p(),u(7,"label",28)(8,"input",29),q("ngModelChange",function(n){C(t);let o=d();return Y(o.templateParameter,n)||(o.templateParameter=n),y(n);}),p(),T(9," Create only template "),p()();}if(i&2){let t=d();c(2),H("ngModel",t.templateParameter),c(3),H("ngModel",t.templateParameter),c(3),H("ngModel",t.templateParameter);}}function w4e(i,r){if(i&1){let t=O();u(0,"div",23)(1,"label",30)(2,"input",31),q("ngModelChange",function(n){C(t);let o=d();return Y(o.result.subscribeMode,n)||(o.result.subscribeMode=n),y(n);}),p(),T(3," Subscribe to UPS Global Subscription "),p(),u(4,"label",32)(5,"input",33),q("ngModelChange",function(n){C(t);let o=d();return Y(o.result.subscribeMode,n)||(o.result.subscribeMode=n),y(n);}),p(),T(6," Subscribe to UPS Filtered Global Subscription "),p()();}if(i&2){let t=d();c(2),H("ngModel",t.result.subscribeMode),c(3),H("ngModel",t.result.subscribeMode);}}function D4e(i,r){if(i&1){let t=O();u(0,"div",34)(1,"label"),n_(2,1),u(3,"input",35),q("ngModelChange",function(n){C(t);let o=d();return Y(o.result.deletionlock,n)||(o.result.deletionlock=n),y(n);}),p(),r_(),p()();}if(i&2){let t=d();c(3),H("ngModel",t.result.deletionlock);}}function M4e(i,r){if(i&1){let t=O();u(0,"div",36)(1,"p"),P(2,2),p(),u(3,"dcm-drop-down",37),q("modelChange",function(n){C(t);let o=d();return Y(o.result.subscriberAET,n)||(o.result.subscriberAET=n),y(n);}),b("modelChange",function(n){C(t);let o=d();return y(o.result.subscriberAET=n);}),p()();}if(i&2){let t=d();c(3),m("options",t.aesOption),H("model",t.result.subscriberAET),m("editable",!1)("showSearchField",!0)("multiSelectMode",!1)("showStar",!1);}}function O4e(i,r){if(i&1){let t=O();u(0,"button",38),b("click",function(){C(t);let n=d();return y(n.dialogRef.close({object:n.ups,templateParameter:n.templateParameter}));}),T(1),p();}if(i&2){let t=d();c(),z(t.saveLabel);}}function P4e(i,r){if(i&1){let t=O();u(0,"button",38),b("click",function(){C(t);let n=d();return y(n.dialogRef.close({object:n.ups,result:n.result}));}),T(1),p();}if(i&2){let t=d();c(),z(t.saveLabel);}}var f2=(()=>{let r=class r{constructor(e,n,o){this.dialogRef=e,this.$http=n,this.mainservice=o,this.opendropdown=!1,this.addPatientAttribut="",this.options=we.OPTIONS,this.DCM4CHE=DCM4CHE,this.templateParameter="no_template",this._result={subscribeMode:"filtered",subscriberAET:void 0,deletionlock:!1};}onChange(e,n){Ue(this,n,e);}get mode(){return this._mode;}set mode(e){this._mode=e;}get subscribeType(){return this._subscribeType;}set subscribeType(e){this._subscribeType=e;}get dropdown(){return this._dropdown;}set dropdown(e){this._dropdown=e;}get ups(){return this._ups;}set ups(e){this._ups=e;}get upskey(){return this._upskey;}set upskey(e){this._upskey=e;}get saveLabel(){return this._saveLabel;}set saveLabel(e){this._saveLabel=e;}get titleLabel(){return this._titleLabel;}set titleLabel(e){this._titleLabel=e;}get externalInternalAetMode(){return this._externalInternalAetMode;}set externalInternalAetMode(e){this._externalInternalAetMode=e;}dialogKeyHandler(e,n){let o=e.keyCode?e.keyCode:e.which;console.log("in dialogkeyhandler",o),o===13&&n.close(this._ups),o===27&&(this.opendropdown?this.opendropdown=!1:n.close(null));}getKeys(e){return pe(e)?e:Object.keys(e);}checkClick(e){console.log("e",e);let n=e.keyCode?e.keyCode:e.which;console.log("code in checkclick"),e.target.id==="dropdown"||e.target.id==="addPatientAttribut"||(this.opendropdown=!1);}pressedKey(e){this.opendropdown=!0;let n=e.keyCode?e.keyCode:e.which;if(console.log("in pressedkey",n),this.lastPressedCode=n,n===9&&(this.opendropdown=!1),n===13){let o=new yt().transform(this.dropdown,this.addPatientAttribut);o&&(this.opendropdown=!0),console.log("filtered",o);let a;Te.nativeWindow.document.getElementsByClassName("dropdown_element selected").length>0?a=window.document.getElementsByClassName("dropdown_element selected")[0].getAttribute("name"):a=o[0].code,console.log("ups_attrs not undefined",this._ups.attrs[a]),this._ups.attrs[a]!=null?this.iod[a].multi?(this._ups.attrs[a].Value.push(""),this.addPatientAttribut="",this.opendropdown=!1):this.mainservice.showWarning("Attribute already exists!"):(this.ups.attrs[a]=this.iod[a],this.opendropdown=!1),setTimeout(function(){this.lastPressedCode=0;},1e3);}if(n===40){this.opendropdown=!0;let o=0;for(;o<this.dropdown.length;)this.dropdown[o].selected?(this.dropdown[o].selected=!1,o===this.dropdown.length-1?this.dropdown[0].selected=!0:this.dropdown[o+1].selected=!0,o=this.dropdown.length):(o===this.dropdown.length-1&&(this.dropdown[0].selected=!0),o++);let a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0];try{setTimeout(()=>{a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0],Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0].scrollIntoView({behavior:"smooth",block:"start"});},10);}catch{}}if(n===38){this.opendropdown=!0;let o=0;for(;o<this.dropdown.length;){if(this.dropdown[o].selected){this.dropdown[o].selected=!1,o===0?this.dropdown[this.dropdown.length-1].selected=!0:this.dropdown[o-1].selected=!0;break;}else o===this.dropdown.length-1&&(this.dropdown[this.dropdown.length-1].selected=!0);o++;}let a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0];try{setTimeout(()=>{a=Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0],s=Te.nativeWindow.document.getElementsByClassName("dropdown")[0],Te.nativeWindow.document.getElementsByClassName("dropdown_element selected")[0].scrollIntoView({behavior:"smooth",block:"start"});},10);}catch{}}(n===27||n===9)&&(this.opendropdown=!1);}addAttribute(e,n){n.attrs[e]?this.iod[e].multi?(console.log("multi",this.iod[e]),n.attrs[e].vr==="PN"?n.attrs[e].Value.push({Alphabetic:""}):n.attrs[e].vr==="SQ"?n.attrs[e].Value.push(Oe(this.iod[e].Value[0])):n.attrs[e].Value.push(""),this.addPatientAttribut="",this.opendropdown=!1):(this.mainservice.showWarning("Attribute already exists!"),console.log("message attribute already exists")):(console.log("this.iodattrcod",this.iod[e]),n.attrs[e]=Oe(this.iod[e]),delete n.attrs[e].multi,delete n.attrs[e].required,console.log("ups=",n)),this.opendropdown=!1,console.log("ups after add ",n);}removeAttr(e){switch(arguments.length){case 2:this.ups.attrs[arguments[0]].Value.length===1?delete this.ups.attrs[arguments[0]]:this.ups.attrs[arguments[0]].Value.splice(arguments[1],1);break;default:delete this.ups.attrs[arguments[0]];break;}}get aes(){return this._aes;}set aes(e){this._aes=e;}ngOnInit(){this.getAes();}get result(){return this._result;}set result(e){this._result=e;}getAes(){let e=this;this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}aes`).subscribe(n=>{if(e.aes=n,this.aesOption=this.aes.map(o=>new G(o.dicomAETitle,o.dicomAETitle,o.dicomDescription)),e._result.subscriberAET=e._result.subscriberAET||e.aes[0].dicomAETitle,e.mainservice.global&&!e.mainservice.global.aes){let o=Oe(e.mainservice.global);o.aes=n,e.mainservice.setGlobal(o);}else e.mainservice.global&&e.mainservice.global.aes?e.mainservice.global.aes=n:e.mainservice.setGlobal({aes:n});},n=>{});}};r.ɵfac=function(n){return new(n||r)(k(wt),k(Fe),k(le));},r.ɵcmp=Z({type:r,selectors:[["modify-ups"]],standalone:!1,decls:16,vars:11,consts:()=>{let e;e="Add new attribute";let n;n="CANCEL";let o;o=""+"\uFFFD#3\uFFFD\uFFFD/#3\uFFFD"+" Deletion Lock - persist UPS / UWL until Subscriber has been able to retrieve final state information and remove the lock. ";let a;return a="Select the Subscriber AETitle:",[n,o,a,["xmlns","http://www.w3.org/1999/html",1,"vex","vex-theme-os","edit-ups"],[1,"vex-dialog-form",3,"click"],[3,"innerHtml"],["autocomplete","off","id","addPatientAttribut","class","addPatientAttribut","placeholder",e,3,"ngModel","ngModelChange","click","keydown",4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],["id","dropdown","class","dropdown study_edit",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["class","template_checkboxes",4,"ngIf"],["class","checkbox",4,"ngIf"],["class","dicomBlock",4,"ngIf"],[1,"dialogbuttons"],["class","save","type","button",3,"click",4,"ngIf"],["type","button",1,"cancle",3,"click"],["autocomplete","off","id","addPatientAttribut","placeholder",e,1,"addPatientAttribut",3,"ngModelChange","click","keydown","ngModel"],[1,"overlay",3,"click"],["id","dropdown",1,"dropdown","study_edit"],["class","dropdown_element",3,"name","click",4,"ngFor","ngForOf"],[1,"dropdown_element",3,"click","name"],["mat-dialog-content",""],[3,"keydown","externalInternalAetMode","object","prefix","mode","iod"],[1,"template_checkboxes"],["for","no_template"],["id","no_template","type","radio","name","template_radio","value","no_template",3,"ngModelChange","ngModel"],["for","template_too"],["id","template_too","type","radio","name","template_radio","value","template_too",3,"ngModelChange","ngModel"],["for","only_template"],["id","only_template","type","radio","name","template_radio","value","only_template",3,"ngModelChange","ngModel"],["for","subscribe_global"],["id","subscribe_global","type","radio","name","template_radio","value","global",3,"ngModelChange","ngModel"],["for","subscribe_filtered"],["id","subscribe_filtered","type","radio","name","template_radio","value","filtered",3,"ngModelChange","ngModel"],[1,"checkbox"],["type","checkbox","name","deletionlock",3,"ngModelChange","ngModel"],[1,"dicomBlock"],[3,"modelChange","options","model","editable","showSearchField","multiSelectMode","showStar"],["type","button",1,"save",3,"click"]];},template:function(n,o){n&1&&(u(0,"div",3)(1,"div",4),b("click",function(s){return o.checkClick(s);}),$(2,"h3",5),E(3,S4e,1,1,"input",6)(4,E4e,1,0,"div",7)(5,I4e,3,4,"div",8)(6,x4e,2,4,"div",9)(7,A4e,10,3,"div",10)(8,w4e,7,2,"div",10)(9,D4e,4,1,"div",11)(10,M4e,4,6,"div",12),u(11,"div",13),E(12,O4e,2,1,"button",14)(13,P4e,2,1,"button",14),u(14,"button",15),b("click",function(){return o.dialogRef.close(null);}),P(15,0),p()()()()),n&2&&(c(2),m("innerHtml",o.titleLabel,Re),c(),m("ngIf",o.mode!="subscribe"||o.result.subscribeMode!="global"),c(),m("ngIf",o.opendropdown&&(o.mode!="subscribe"||o.result.subscribeMode!="global")),c(),m("ngIf",o.opendropdown&&(o.mode!="subscribe"||o.result.subscribeMode!="global")),c(),m("ngIf",o.mode!="subscribe"||o.result.subscribeMode!="global"),c(),m("ngIf",o.mode==="create"||o.mode==="clone"),c(),m("ngIf",o.mode==="subscribe"&&o.subscribeType==="uwl"),c(),m("ngIf",o.mode==="subscribe"),c(),m("ngIf",o.mode==="subscribe"),c(2),m("ngIf",o.mode==="create"||o.mode==="edit"||o.mode==="clone"),c(),m("ngIf",o.mode==="subscribe"));},dependencies:[ve,de,Me,pi,Sc,Se,Ee,Kn,zn,Fl,yt],styles:[".template_checkboxes[_ngcontent-%COMP%]{margin:10px 0;float:left;width:100%;border:1px solid #ccc;padding:10px}.template_checkboxes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:left;width:100%}.checkbox[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}"]});let i=r;return i;})();var h2=(()=>{let r=class r{constructor(e){this.dialogRef=e;}ngOnInit(){}};r.ɵfac=function(n){return new(n||r)(k(wt));},r.ɵcmp=Z({type:r,selectors:[["app-create-webapp"]],standalone:!1,decls:2,vars:0,template:function(n,o){n&1&&(u(0,"p"),T(1,"create-webapp works!"),p());},encapsulation:2});let i=r;return i;})();function R4e(i,r){if(i&1){let t=O();U(0),u(1,"div",5),$(2,"div",10),u(3,"div",10),T(4),p(),u(5,"div",10),T(6),p()(),u(7,"div",11)(8,"div",10),T(9),p(),u(10,"div",10),$(11,"input",12),p(),u(12,"div",10)(13,"input",13),q("ngModelChange",function(n){C(t);let o=d();return Y(o.clonedDevice.dicomDeviceName,n)||(o.clonedDevice.dicomDeviceName=n),y(n);}),p()()(),W();}if(i&2){let t=d();c(4),z(t.texts.current_device),c(2),z(t.texts.clone),c(3),ue("",t.texts.device_name,":"),c(2),m("value",X(t._.get(t.device,"dicomDeviceName"))),c(2),H("ngModel",t.clonedDevice.dicomDeviceName);}}function N4e(i,r){if(i&1&&(u(0,"div",15)(1,"label"),T(2),p(),u(3,"label"),T(4),p(),u(5,"label"),T(6),p()()),i&2){let t=d(3);c(2),ue(" ",t.texts.network_connection_name," "),c(2),ue(" ",t.texts.hostname," "),c(2),ue(" ",t.texts.port," ");}}function k4e(i,r){if(i&1){let t=O();u(0,"div",15)(1,"input",16),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.cn,n)||(o.cn=n),y(n);}),p(),u(2,"input",16),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.dicomHostname,n)||(o.dicomHostname=n),y(n);}),p(),u(3,"input",17),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.dicomPort,n)||(o.dicomPort=n),y(n);}),p()();}if(i&2){let t=r.$implicit;c(),H("ngModel",t.cn),c(),H("ngModel",t.dicomHostname),c(),H("ngModel",t.dicomPort);}}function $4e(i,r){if(i&1){let t=O();u(0,"div",15)(1,"input",13),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.cn,n)||(o.cn=n),y(n);}),p(),u(2,"input",13),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.dicomHostname,n)||(o.dicomHostname=n),y(n);}),p(),u(3,"input",18),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.dicomPort,n)||(o.dicomPort=n),y(n);}),p()();}if(i&2){let t=r.$implicit;c(),H("ngModel",t.cn),c(),H("ngModel",t.dicomHostname),c(),H("ngModel",t.dicomPort);}}function L4e(i,r){if(i&1&&(U(0),u(1,"div",5),$(2,"div",10),u(3,"div",10),T(4),p(),u(5,"div",10),T(6),p()(),u(7,"div",11)(8,"div",10),E(9,N4e,7,3,"div",14),p(),u(10,"div",10),E(11,k4e,4,3,"div",14),p(),u(12,"div",10),E(13,$4e,4,3,"div",14),p()(),W()),i&2){let t=d(2);c(4),z(t.texts.current_device),c(2),z(t.texts.clone),c(3),m("ngForOf",t.device.dicomNetworkConnection),c(2),m("ngForOf",t.device.dicomNetworkConnection),c(2),m("ngForOf",t.clonedDevice.dicomNetworkConnection);}}function F4e(i,r){if(i&1){let t=O();U(0),u(1,"div",5)(2,"div",6),b("click",function(){C(t);let n=d();return y(n.toggle="connections");}),T(3),p()(),E(4,L4e,14,5,"ng-container",7),W();}if(i&2){let t=d();c(3),z(t.texts.dicom_network_connection),c(),m("ngIf",t.toggle==="connections");}}function V4e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(5);c(),ue(" ",t.texts.network_connection_reference,": ");}}function z4e(i,r){if(i&1&&(u(0,"label"),E(1,V4e,2,1,"ng-container",7),p()),i&2){let t=r.index;c(),m("ngIf",t===0);}}function G4e(i,r){if(i&1&&(u(0,"div",15)(1,"label"),T(2),p(),E(3,z4e,2,1,"label",19),p()),i&2){let t=d(3);c(2),ue(" ",t.texts.ae_title,": "),c(),m("ngForOf",t.device.dicomNetworkConnection);}}function j4e(i,r){if(i&1&&(u(0,"label"),$(1,"input",20),T(2),p()),i&2){let t=r.$implicit,e=r.index,n=d().$implicit,o=d(3);c(),m("checked",o._.get(n,"dicomNetworkConnectionReference").indexOf("/dicomNetworkConnection/"+e)>-1),c(),ue(" ",o._.get(t,"cn")," ");}}function U4e(i,r){if(i&1){let t=O();u(0,"div",15)(1,"input",16),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.dicomAETitle,n)||(o.dicomAETitle=n),y(n);}),p(),E(2,j4e,3,2,"label",19),p();}if(i&2){let t=r.$implicit,e=d(3);c(),H("ngModel",t.dicomAETitle),c(),m("ngForOf",e.device.dicomNetworkConnection);}}function W4e(i,r){if(i&1){let t=O();u(0,"label")(1,"input",21),b("change",function(n){let o=C(t).index,a=d().$implicit,s=d(3);return y(s.onConnectionReffChange(a,o,n));}),p(),T(2),p();}if(i&2){let t=r.$implicit,e=r.index,n=d().$implicit,o=d(3);c(),m("checked",o._.get(n,"dicomNetworkConnectionReference").indexOf("/dicomNetworkConnection/"+e)>-1),c(),ue(" ",o._.get(t,"cn")," ");}}function B4e(i,r){if(i&1){let t=O();u(0,"div",15)(1,"input",2),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.dicomAETitle,n)||(o.dicomAETitle=n),y(n);}),b("keyup",function(){let n=C(t),o=n.$implicit,a=n.index,s=d(3);return y(s.onAetChange(a,o));}),p(),E(2,W4e,3,2,"label",19),p();}if(i&2){let t=r.$implicit,e=d(3);c(),H("ngModel",t.dicomAETitle),c(),m("ngForOf",e.clonedDevice.dicomNetworkConnection);}}function H4e(i,r){if(i&1&&(U(0),u(1,"div",5),$(2,"div",10),u(3,"div",10),T(4),p(),u(5,"div",10),T(6),p()(),u(7,"div",11)(8,"div",10),E(9,G4e,4,2,"div",14),p(),u(10,"div",10),E(11,U4e,3,2,"div",14),p(),u(12,"div",10),E(13,B4e,3,2,"div",14),p()(),W()),i&2){let t=d(2);c(4),z(t.texts.current_device),c(2),z(t.texts.clone),c(3),m("ngForOf",t.device.dicomNetworkAE),c(2),m("ngForOf",t.device.dicomNetworkAE),c(2),m("ngForOf",t.clonedDevice.dicomNetworkAE);}}function q4e(i,r){if(i&1){let t=O();U(0),u(1,"div",5)(2,"div",6),b("click",function(){C(t);let n=d();return y(n.toggle="aets");}),T(3),p()(),E(4,H4e,14,5,"ng-container",7),W();}if(i&2){let t=d();c(3),z(t.texts.network_aes),c(),m("ngIf",t.toggle==="aets");}}function Y4e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(5);c(),ue(" ",t.texts.network_connection_reference,": ");}}function X4e(i,r){if(i&1&&(u(0,"label"),E(1,Y4e,2,1,"ng-container",7),p()),i&2){let t=r.index;c(),m("ngIf",t===0);}}function K4e(i,r){if(i&1&&(u(0,"div",15)(1,"label"),T(2),p(),E(3,X4e,2,1,"label",19),u(4,"label"),T(5),p()()),i&2){let t=d(3);c(2),ue(" ",t.texts.web_app_name,": "),c(),m("ngForOf",t.device.dicomNetworkConnection),c(2),ue(" ",t.texts.web_service_path,": ");}}function Q4e(i,r){if(i&1&&(u(0,"label"),$(1,"input",20),T(2),p()),i&2){let t=r.$implicit,e=r.index,n=d().$implicit,o=d(3);c(),m("checked",o._.get(n,"dicomNetworkConnectionReference").indexOf("/dicomNetworkConnection/"+e)>-1),c(),ue(" ",o._.get(t,"cn")," ");}}function Z4e(i,r){if(i&1){let t=O();u(0,"div",15)(1,"input",16),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.dcmWebAppName,n)||(o.dcmWebAppName=n),y(n);}),p(),E(2,Q4e,3,2,"label",19),u(3,"input",16),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.dcmWebServicePath,n)||(o.dcmWebServicePath=n),y(n);}),p()();}if(i&2){let t=r.$implicit,e=d(3);c(),H("ngModel",t.dcmWebAppName),c(),m("ngForOf",e.device.dicomNetworkConnection),c(),H("ngModel",t.dcmWebServicePath);}}function J4e(i,r){if(i&1){let t=O();u(0,"label")(1,"input",21),b("change",function(n){let o=C(t).index,a=d().$implicit,s=d(3);return y(s.onConnectionReffChange(a,o,n));}),p(),T(2),p();}if(i&2){let t=r.$implicit,e=r.index,n=d().$implicit,o=d(3);c(),m("checked",o._.get(n,"dicomNetworkConnectionReference").indexOf("/dicomNetworkConnection/"+e)>-1),c(),ue(" ",o._.get(t,"cn")," ");}}function e8e(i,r){if(i&1){let t=O();u(0,"div",15)(1,"input",13),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.dcmWebAppName,n)||(o.dcmWebAppName=n),y(n);}),p(),E(2,J4e,3,2,"label",19),u(3,"input",13),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.dcmWebServicePath,n)||(o.dcmWebServicePath=n),y(n);}),p()();}if(i&2){let t=r.$implicit,e=d(3);c(),H("ngModel",t.dcmWebAppName),c(),m("ngForOf",e.clonedDevice.dicomNetworkConnection),c(),H("ngModel",t.dcmWebServicePath);}}function t8e(i,r){if(i&1&&(U(0),u(1,"div",5),$(2,"div",10),u(3,"div",10),T(4),p(),u(5,"div",10),T(6),p()(),u(7,"div",11)(8,"div",10),E(9,K4e,6,3,"div",14),p(),u(10,"div",10),E(11,Z4e,4,3,"div",14),p(),u(12,"div",10),E(13,e8e,4,3,"div",14),p()(),W()),i&2){let t=d(2);c(4),z(t.texts.current_device),c(2),z(t.texts.clone),c(3),m("ngForOf",t.device.dcmDevice.dcmWebApp),c(2),m("ngForOf",t.device.dcmDevice.dcmWebApp),c(2),m("ngForOf",t.clonedDevice.dcmDevice.dcmWebApp);}}function i8e(i,r){if(i&1){let t=O();U(0),u(1,"div",5)(2,"div",6),b("click",function(){C(t);let n=d();return y(n.toggle="webapps");}),T(3),p()(),E(4,t8e,14,5,"ng-container",7),W();}if(i&2){let t=d();c(3),z(t.texts.web_apps),c(),m("ngIf",t.toggle==="webapps");}}function n8e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(5);c(),ue(" ",t.texts.network_connection_reference,": ");}}function r8e(i,r){if(i&1&&(u(0,"label"),E(1,n8e,2,1,"ng-container",7),p()),i&2){let t=r.index;c(),m("ngIf",t===0);}}function o8e(i,r){if(i&1&&(u(0,"div",15)(1,"label"),T(2),p(),E(3,r8e,2,1,"label",19),p()),i&2){let t=d(3);c(2),ue(" ",t.texts.hl7_application_name,": "),c(),m("ngForOf",t.device.dicomNetworkConnection);}}function a8e(i,r){if(i&1&&(u(0,"label"),$(1,"input",20),T(2),p()),i&2){let t=r.$implicit,e=r.index,n=d().$implicit,o=d(3);c(),m("checked",o._.get(n,"dicomNetworkConnectionReference").indexOf("/dicomNetworkConnection/"+e)>-1),c(),ue(" ",o._.get(t,"cn")," ");}}function s8e(i,r){if(i&1){let t=O();u(0,"div",15)(1,"input",16),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.hl7ApplicationName,n)||(o.hl7ApplicationName=n),y(n);}),p(),E(2,a8e,3,2,"label",19),p();}if(i&2){let t=r.$implicit,e=d(3);c(),H("ngModel",t.hl7ApplicationName),c(),m("ngForOf",e.device.dicomNetworkConnection);}}function l8e(i,r){if(i&1){let t=O();u(0,"label")(1,"input",21),b("change",function(n){let o=C(t).index,a=d().$implicit,s=d(3);return y(s.onConnectionReffChange(a,o,n));}),p(),T(2),p();}if(i&2){let t=r.$implicit,e=r.index,n=d().$implicit,o=d(3);c(),m("checked",o._.get(n,"dicomNetworkConnectionReference").indexOf("/dicomNetworkConnection/"+e)>-1),c(),ue(" ",o._.get(t,"cn")," ");}}function c8e(i,r){if(i&1){let t=O();u(0,"div",15)(1,"input",13),q("ngModelChange",function(n){let o=C(t).$implicit;return Y(o.hl7ApplicationName,n)||(o.hl7ApplicationName=n),y(n);}),p(),E(2,l8e,3,2,"label",19),p();}if(i&2){let t=r.$implicit,e=d(3);c(),H("ngModel",t.hl7ApplicationName),c(),m("ngForOf",e.clonedDevice.dicomNetworkConnection);}}function d8e(i,r){if(i&1&&(U(0),u(1,"div",5),$(2,"div",10),u(3,"div",10),T(4),p(),u(5,"div",10),T(6),p()(),u(7,"div",11)(8,"div",10),E(9,o8e,4,2,"div",14),p(),u(10,"div",10),E(11,s8e,3,2,"div",14),p(),u(12,"div",10),E(13,c8e,3,2,"div",14),p()(),W()),i&2){let t=d(2);c(4),z(t.texts.current_device),c(2),z(t.texts.clone),c(3),m("ngForOf",t.device.dcmDevice.hl7Application),c(2),m("ngForOf",t.device.dcmDevice.hl7Application),c(2),m("ngForOf",t.clonedDevice.dcmDevice.hl7Application);}}function u8e(i,r){if(i&1){let t=O();U(0),u(1,"div",5)(2,"div",6),b("click",function(){C(t);let n=d();return y(n.toggle="hl7");}),T(3),p()(),E(4,d8e,14,5,"ng-container",7),W();}if(i&2){let t=d();c(3),z(t.texts.hl7_applications),c(),m("ngIf",t.toggle==="hl7");}}var g2=(()=>{let r=class r{constructor(e,n){this.dialogRef=e,this.appService=n,this.validationDetailMessage="",this.toggle="name",this._=ye,this.j4care=I,this.previousAetState={},this.texts={use_this_prefix_suffix:"Use this Suffix ( You can use * to make more complex Prefix and Suffix )",device_base_data:"Device base data",current_device:"Current Device",clone:"Clone",device_name:"Device Name",dicom_network_connection:"Dicom Network Connection",network_connection_name:"Network Connection Name",hostname:"Hostname",port:"Port",network_aes:"Network AEs",ae_title:"AE Title",network_connection_reference:"Network Connection Reference",web_apps:"Web Apps",web_app_name:"Web App Name",web_service_path:"Web Service Path",hl7_applications:"Hl7 Applications",hl7_application_name:"Hl7 Application Name"},this.keys=[{path:"dicomNetworkAE",name:"dicomAETitle"},{path:"dcmDevice.dcmWebApp",name:"dcmWebAppName"},{path:"dcmDevice.hl7Application",name:"hl7ApplicationName"}];}ngOnInit(){this.clonedDevice=Oe(this.device);}networkReferenceMatchNetworkConnection(e,n){}clone(){this.valid()?this.dialogRef.close(this.clonedDevice):this.appService.showError("You have to make sure that the names of the new device, AETs, Web Applications and HL7 are not the same as the current device ( You can use the Prefix/Suffix input field ) "+this.validationDetailMessage+"");}valid(){try{let e=!0;return this.device.dicomDeviceName===this.clonedDevice.dicomDeviceName&&(e=e&&!1),this.keys.forEach(n=>{B(this.device,n.path)&&B(this.device,n.path).forEach((o,a)=>{B(this.clonedDevice,`${n.path}[${a}][${n.name}]`)===o[n.name]?(console.groupCollapsed("Following part was not changed in the clone object:"),console.log("In path:",n.path),console.log("In original device:",B(this.clonedDevice,`${n.path}[${a}][${n.name}]`)),console.log("In clone device:",o[n.name]),console.groupEnd(),this.validationDetailMessage=this.validationDetailMessage||" <br/>("+B(this.clonedDevice,`${n.path}[${a}][${n.name}]`)+" in "+n.path+"\n, was not changed)",e=e&&!1):e=e&&!0;});}),e;}catch(e){return console.error(e),!1;}}onConnectionReffChange(e,n,o){try{if(o.target.checked)e.dicomNetworkConnectionReference.push(`/dicomNetworkConnection/${n}`);else{let a=e.dicomNetworkConnectionReference.indexOf(`/dicomNetworkConnection/${n}`);a>-1&&e.dicomNetworkConnectionReference.splice(a,1);}}catch(a){I.log("trying to toggle netwock reference",a);}}onSufficePrefixChange(){console.log("this.suffixPrefix",this.suffixPrefix),this.keys.forEach(e=>{B(this.device,e.path).forEach((n,o)=>{this.suffixPrefix&&this.suffixPrefix.indexOf("*")>-1?Ue(this.clonedDevice,`${e.path}[${o}][${e.name}]`,this.suffixPrefix.toUpperCase().replace(/\*/i,n[e.name])):Ue(this.clonedDevice,`${e.path}[${o}][${e.name}]`,B(this.device,`${e.path}[${o}][${e.name}]`)+this.suffixPrefix.toUpperCase()),e.path==="dicomNetworkAE"&&this.onAetChange(o,B(this.clonedDevice,`${e.path}[${o}]`));});}),this.suffixPrefix&&this.suffixPrefix.indexOf("*")>-1?this.clonedDevice.dicomDeviceName=this.suffixPrefix.replace(/\*/i,this.device.dicomDeviceName):this.clonedDevice.dicomDeviceName=this.device.dicomDeviceName+this.suffixPrefix;}onAetChange(e,n){try{let o=B(this.device,`dicomNetworkAE[${e}].dicomAETitle`),a=B(this.clonedDevice,`dicomNetworkAE[${e}].dicomAETitle`),s=n.dicomAETitle,l=new RegExp(`/${o}/`,"gm"),_=new RegExp(`/${a}/`,"gm"),f,g;this.previousAetState[e]&&(g=this.previousAetState[e],f=new RegExp(`/${g}/`,"gm")),this.clonedDevice.dcmDevice.dcmWebApp.forEach(S=>{(S.dcmWebServicePath.indexOf(`/${o}/`)>-1||S.dcmWebServicePath.indexOf(`/${a}/`)>-1||g&&S.dcmWebServicePath.indexOf(`/${g}/`)>-1)&&(_.test(S.dcmWebServicePath)&&(S.dcmWebServicePath=S.dcmWebServicePath.replace(_,`/${s}/`),this.replaceOtherAetRef(a,s)),l.test(S.dcmWebServicePath)&&(S.dcmWebServicePath=S.dcmWebServicePath.replace(l,`/${s}/`),this.replaceOtherAetRef(o,s)),this.previousAetState[e]&&f&&f.test(S.dcmWebServicePath)&&(S.dcmWebServicePath=S.dcmWebServicePath.replace(f,`/${s}/`),this.replaceOtherAetRef(g,s)),this.previousAetState[e]=s);});}catch{}}replaceOtherAetRef(e,n){I.traverse(this.clonedDevice,(o,a,s)=>(o===e&&(s[a]=n),s[a]));}};r.ɵfac=function(n){return new(n||r)(k(wt),k(le));},r.ɵcmp=Z({type:r,selectors:[["app-device-clone"]],standalone:!1,decls:18,vars:9,consts:()=>{let e;return e="CLONE",[e,[1,"content"],["type","text",3,"ngModelChange","keyup","ngModel"],[1,"dynamic_table"],[1,"table_body"],[1,"tr"],[1,"bluebar",3,"click"],[4,"ngIf"],[1,"dialogbuttons"],["type","button",1,"save",3,"click"],[1,"td"],[1,"tr","scrollable_block"],["type","text","disabled","",3,"value"],["type","text",3,"ngModelChange","ngModel"],["class","td_block",4,"ngFor","ngForOf"],[1,"td_block"],["type","text","disabled","",3,"ngModelChange","ngModel"],["type","number","disabled","",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],["type","checkbox","disabled","",3,"checked"],["type","checkbox",3,"change","checked"]];},template:function(n,o){n&1&&(u(0,"h3"),T(1),p(),u(2,"div",1),T(3),u(4,"input",2),q("ngModelChange",function(s){return Y(o.suffixPrefix,s)||(o.suffixPrefix=s),s;}),b("keyup",function(){return o.onSufficePrefixChange();}),p(),u(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),b("click",function(){return o.toggle="name";}),T(9),p()(),E(10,R4e,14,6,"ng-container",7)(11,F4e,5,2,"ng-container",7)(12,q4e,5,2,"ng-container",7)(13,i8e,5,2,"ng-container",7)(14,u8e,5,2,"ng-container",7),p()()(),u(15,"div",8)(16,"button",9),b("click",function(){return o.clone();}),P(17,0),p()()),n&2&&(c(),ue("Clone Device ",o._.get(o.device,"dicomDeviceName")),c(2),ue(" ",o.texts.use_this_prefix_suffix,": "),c(),H("ngModel",o.suffixPrefix),c(5),z(o.texts.device_base_data),c(),m("ngIf",o.toggle==="name"),c(),m("ngIf",o._.hasIn(o.device,"dicomNetworkConnection")),c(),m("ngIf",o._.hasIn(o.device,"dicomNetworkAE")),c(),m("ngIf",o._.hasIn(o.device,"dcmDevice.dcmWebApp")),c(),m("ngIf",o._.hasIn(o.device,"dcmDevice.hl7Application")));},dependencies:[ve,de,Me,Fo,Se,Ee],styles:[".content[_ngcontent-%COMP%]   .content_child[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border:1px solid #2b343b}.content[_ngcontent-%COMP%]   .content_child[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block_item[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.content[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{flex:1;padding:5px 0}.content[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .td_block[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc;float:left;width:99%;padding:5px 0}.content[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .td_block[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .td_block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin:0;height:25px;float:left}.content[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .td_block[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{float:left;width:15px;height:15px;margin:2px 6px}.content[_ngcontent-%COMP%]   .scrollable_block[_ngcontent-%COMP%]{max-height:45vh;overflow:auto}"]});let i=r;return i;})();var rB=(()=>{let r=class r{};r.ɵprov=Q({token:r,factory:r.ɵfac}),r.ɵfac=function(n){return new(n||r)();},r.ɵmod=He({type:r}),r.ɵinj=Be({providers:[F_],imports:[Cc,hp,pb,F_]});let i=r;return i;})(),oB=[bu,WA,BA,Kp,Lv,f2,qA,h2,Ei,HA,sA,XA,KA,qW,QA,e2,ZW,cS,i2,yh,n2,_h,RA,fh,r2,o2,a2,eB,PA,Do,l2,c2,Du,kA,$A,Hp,zn,m2,nB,VA,gh,_2,g2,zA,GA,UA];var n3=()=>({id:"action-devicelist-device_configuration",param:"visible"});function p8e(i,r){if(i&1){let t=O();u(0,"div",29)(1,"div",20)(2,"filter-generator",30),b("submit",function(n){C(t);let o=d();return y(o.searchDevices(n));}),p()()();}if(i&2){let t=d();c(2),m("filterIdTemplate","device-list")("filterID","device-list")("schema",t.filterSchema)("model",t.filter)("filterTreeHeight",t.filterHeight);}}function m8e(i,r){if(i&1){let t=O();u(0,"a",31),b("click",function(n){C(t);let o=d();return n.preventDefault(),y(o.advancedConfig=!0);}),U(1),P(2,9),W(),$(3,"i",32),p();}}function _8e(i,r){if(i&1){let t=O();u(0,"a",33),b("click",function(n){C(t);let o=d();return n.preventDefault(),y(o.advancedConfig=!1);}),U(1),P(2,10),W(),$(3,"i",34),p();}}function f8e(i,r){if(i&1){let t=O();u(0,"div")(1,"a",44),b("click",function(n){C(t);let o=d().$implicit,a=d();return n.preventDefault(),y(a.editDevice(o.dicomDeviceName));}),Jo(2,14),T(3),p()();}if(i&2){let t=d().$implicit;c(),Kr(t.dicomDeviceName),lo(2),c(2),ue(" ",t.dicomDeviceName," ");}}function h8e(i,r){if(i&1&&(u(0,"div"),T(1),p()),i&2){let t=d().$implicit;c(),z(t.dicomInstitutionDepartmentName[0]);}}function g8e(i,r){if(i&1&&(u(0,"div"),T(1),p()),i&2){let t=d().$implicit,e=d();c(),z(e._.get(t,"dicomDescription"));}}function v8e(i,r){if(i&1&&(u(0,"div"),T(1),p()),i&2){let t=d().$implicit,e=d();c(),z(e._.get(t,"dicomManufacturer"));}}function C8e(i,r){if(i&1&&(u(0,"div"),T(1),p()),i&2){let t=d().$implicit,e=d();c(),z(e._.get(t,"dicomManufacturerModelName"));}}function y8e(i,r){if(i&1&&(u(0,"div"),T(1),p()),i&2){let t=d().$implicit,e=d();c(),z(e._.get(t,"dicomPrimaryDeviceType[0]"));}}function b8e(i,r){if(i&1&&(u(0,"div"),T(1),p()),i&2){let t=d().$implicit;c(),z(t.dicomStationName);}}function S8e(i,r){i&1&&(u(0,"td"),P(1,11),p());}function E8e(i,r){i&1&&(u(0,"td"),P(1,12),p());}function T8e(i,r){if(i&1){let t=O();u(0,"tr")(1,"td",35)(2,"span",36),T(3),p(),u(4,"a",37),b("click",function(n){let o=C(t).$implicit,a=d();return n.preventDefault(),y(a.editDevice(o.dicomDeviceName));}),$(5,"span",38),p(),u(6,"a",39),b("click",function(n){let o=C(t).$implicit,a=d();return n.preventDefault(),y(a.deleteDevice(o));}),$(7,"span",40),p(),u(8,"a",41),b("click",function(n){let o=C(t).$implicit,a=d();return n.preventDefault(),y(a.cloneDevice(o));}),$(9,"span",42),p()(),u(10,"td"),E(11,f8e,4,2,"div",43),p(),u(12,"td"),E(13,h8e,2,1,"div",43),p(),u(14,"td"),E(15,g8e,2,1,"div",43),p(),u(16,"td"),E(17,v8e,2,1,"div",43),p(),u(18,"td"),E(19,C8e,2,1,"div",43),p(),u(20,"td"),E(21,y8e,2,1,"div",43),p(),u(22,"td"),E(23,b8e,2,1,"div",43),p(),E(24,S8e,2,0,"td",43)(25,E8e,2,0,"td",43),p();}if(i&2){let t=r.$implicit,e=r.index,n=d();c(3),ue("",e+1,"."),c(),m("permission",Ke(13,n3)),c(2),m("permission",Ke(14,n3)),c(2),m("permission",Ke(15,n3)),c(3),m("ngIf",t.dicomDeviceName),c(2),m("ngIf",n._.hasIn(t,"dicomInstitutionDepartmentName[0]")),c(2),m("ngIf",n._.hasIn(t,"dicomDescription")),c(2),m("ngIf",n._.hasIn(t,"dicomManufacturer")),c(2),m("ngIf",n._.hasIn(t,"dicomManufacturerModelName")),c(2),m("ngIf",n._.hasIn(t,"dicomPrimaryDeviceType[0]")),c(2),m("ngIf",n._.hasIn(t,"dicomStationName")),c(),m("ngIf",t.dicomInstalled===!1),c(),m("ngIf",t.dicomInstalled!=!1);}}function I8e(i,r){i&1&&$(0,"i",47);}function x8e(i,r){if(i&1){let t=O();u(0,"button",45),b("click",function(){C(t);let n=d();return y(n.loadMoreDevices());}),E(1,I8e,1,0,"i",46),U(2),P(3,13),W(),p();}if(i&2){let t=d();c(),m("ngIf",t.moreDevices.loaderActive);}}var aB=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f,g,S,x){this.$http=e,this.cfpLoadingBar=n,this.mainservice=o,this.viewContainerRef=a,this.dialog=s,this.service=l,this.router=_,this.hl7service=f,this.httpErrorHandler=g,this.deviceConfigurator=S,this.webAppListService=x,this.debugpre=!1,this._=ye,this.advancedConfig=!1,this.filterHeight=2,this.showDeviceList=!0,this.devicefilter="",this.filter={},this.moreDevices={limit:30,start:0,loaderActive:!1},this.w=2,this.moreFunctionConfig={placeholder:"More functions",options:[new G("create_exporter","Create exporter"),new G("create_device","Create device")],model:void 0};}ngOnInit(){this.initCheck(10),this.filterSchema=this.service.getFiltersSchema();}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.init():e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){this.getDevices(),this.getAes(),this.getHl7ApplicationsList(2),this.getWebApps(2),console.log("deviceconfiguratorservice paginantion",this.deviceConfigurator.breadcrumbs),this.deviceConfigurator.breadcrumbs&&(this.deviceConfigurator.breadcrumbs=[{url:"/device/devicelist",title:"devicelist",devicereff:void 0}]);}loadMoreDeviceOnScroll(e){let n=Te.nativeWindow.document.getElementsByClassName("load_more")[0]?I.offset(Te.nativeWindow.document.getElementsByClassName("load_more")[0]).top:0,o=Te.nativeWindow.document.getElementsByClassName("load_more")[0].offsetHeight,a=Te.nativeWindow.innerHeight;window.pageYOffset>n+o-a&&this.loadMoreDevices();}moreFunctionChanged(e){e==="create_exporter"&&this.createExporter(),e==="create_device"&&this.createDevice(),setTimeout(()=>{this.moreFunctionConfig.model=void 0;},1);}editDevice(e){e&&e!=""&&this.router.navigateByUrl("/device/edit/"+e);}loadMoreDevices(){this.moreDevices.loaderActive=!0,this.moreDevices.limit+=20,this.moreDevices.loaderActive=!1;}searchDevices(e){this.cfpLoadingBar.start();let n=this;this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}devices${I.param(this.filter)}`).subscribe(o=>{n.devices=o,n.cfpLoadingBar.complete();},function(a){});}clearForm(){let e=this;he(e.filter,(n,o)=>{e.filter[o]="";}),this.searchDevices();}confirm(e){return this.dialogRef=this.dialog.open(Ei,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}deleteDevice(e){if(e&&e.dicomDeviceName){let n=this;this.confirm({content:"Are you sure you want to delete the device "+e.dicomDeviceName+"\n?"}).subscribe(o=>{o&&(n.cfpLoadingBar.start(),n.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${e.dicomDeviceName}`).subscribe(a=>{n.mainservice.showMsg("Device deleted successfully!"),n.getDevices(),n.cfpLoadingBar.complete();},a=>{n.httpErrorHandler.handleError(a),n.cfpLoadingBar.complete();}));});}}cloneDevice(e){let n=this;this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${e.dicomDeviceName}`).subscribe(o=>{let a=new At({"Content-Type":"application/json"}),s=this.devices.map(l=>l.dicomDeviceName);this.dialogRef=this.dialog.open(g2,{height:"auto",width:"90vw"}),this.dialogRef.componentInstance.device=o,this.dialogRef.afterClosed().subscribe(l=>{console.log("cloneDevice",l),l&&(this.cfpLoadingBar.start(),this.service.createDevice(B(l,"dicomDeviceName"),l).subscribe(_=>{console.log("res succes",_),n.cfpLoadingBar.complete(),n.mainservice.showMsg("Device cloned successfully!"),n.cloneVendorData(e.dicomDeviceName,B(l,"dicomDeviceName")),n.service.getAes().subscribe(f=>{if(n.aes=f,n.mainservice.global&&!n.mainservice.global.aes){let g=Oe(n.mainservice.global);g.aes=f,n.mainservice.setGlobal(g);}else n.mainservice.global&&n.mainservice.global.aes?n.mainservice.global.aes=f:n.mainservice.setGlobal({aes:f});}),n.cfpLoadingBar.complete(),n.getWebApps(0);},_=>{console.log("error"),n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(_);}));});},o=>{this.httpErrorHandler.handleError(o),this.cfpLoadingBar.complete();});}cloneVendorData(e,n){this.cfpLoadingBar.start(),this.service.cloneVendorData(e,n).subscribe(o=>{this.cfpLoadingBar.complete(),this.mainservice.showMsg("Vendor data cloned successfully"),this.getDevices();},o=>{this.cfpLoadingBar.complete(),this.mainservice.showError("Error on cloning vendor data!"),I.log("Error on cloning vendordata",o),this.getDevices();});}createExporter(){this.dialogRef=this.dialog.open(XA,{height:"auto",width:"90%"});let e=this;this.dialogRef.componentInstance.devices=this.devices.filter(n=>A(n,"hasArcDevExt")&&n.hasArcDevExt===!0),this.dialogRef.componentInstance.aes=this.aes,this.dialogRef.afterClosed().subscribe(n=>{if(console.log("re",n),n&&n.device&&n.device.dicomDeviceName&&n.exporter){let o=new At({"Content-Type":"application/json"}),a=0;A(n.device,we.EXPORTER_CONFIG_PATH)&&(a=B(n.device,we.EXPORTER_CONFIG_PATH).length),this.deviceConfigurator.addChangesToDevice(n.exporter,`${we.EXPORTER_CONFIG_PATH}[${a}]`,n.device),e.$http.put(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${n.device.dicomDeviceName}`,n.device,o).subscribe(s=>{e.mainservice.showMsg("The new exporter description appended successfully to the device: "+n.device.dicomDeviceName+"\n"),e.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}ctrl/reload`,{},o).subscribe(l=>{e.mainservice.showMsg("Archive reloaded successfully!");});},s=>{e.httpErrorHandler.handleError(s);});}});}getAes(){let e=this;e.mainservice.global&&e.mainservice.global.aes?this.aes=this.mainservice.global.aes:this.service.getAes().subscribe(n=>{if(e.aes=n,e.mainservice.global&&!e.mainservice.global.aes){let o=Oe(e.mainservice.global);o.aes=n,e.mainservice.setGlobal(o);}else e.mainservice.global&&e.mainservice.global.aes?e.mainservice.global.aes=n:e.mainservice.setGlobal({aes:n});},n=>{});}createDevice(){this.router.navigateByUrl("/device/edit/[new_device]");}getDevices(){let e=this;this.service.getDevices().subscribe(n=>{if(console.log("getdevices response",n),console.log("global",e.mainservice.global),e.devices=n,e.mainservice.global&&!e.mainservice.global.devices){let o=Oe(e.mainservice.global);o.devices=n,e.mainservice.setGlobal(o);}else e.mainservice.global&&e.mainservice.global.devices?e.mainservice.global.devices=n:e.mainservice.setGlobal({devices:n});},n=>{});}getHl7ApplicationsList(e){let n=this;this.hl7service.getHl7ApplicationsList("").subscribe(o=>{if(n.mainservice.global&&!n.mainservice.global.hl7){let a=Oe(n.mainservice.global);a.hl7=o,n.mainservice.setGlobal(a);}else n.mainservice.global&&n.mainservice.global.hl7?n.mainservice.global.hl7=o:n.mainservice.setGlobal({hl7:o});},o=>{e&&n.getHl7ApplicationsList(e-1);});}getWebApps(e){let n=this;this.webAppListService.getWebApps().subscribe(o=>{if(n.mainservice.global&&!n.mainservice.global.webApps){let a=Oe(n.mainservice.global);a.webApps=o,n.mainservice.setGlobal(a);}else n.mainservice.global&&n.mainservice.global.webApps?n.mainservice.global.webApps=o:n.mainservice.setGlobal({webApps:o});},o=>{e&&n.getWebApps(e-1);});}};r.ɵfac=function(n){return new(n||r)(k(Fe),k(ti),k(le),k(Mt),k(ri),k(Xt),k(Hi),k(rs),k(Pt),k(Vn),k(os));},r.ɵcmp=Z({type:r,selectors:[["app-devices"]],hostBindings:function(n,o){n&1&&b("scroll",function(s){return o.loadMoreDeviceOnScroll(s);},Qo);},standalone:!1,decls:41,vars:20,consts:()=>{let e;e="Search device";let n;n="Devices";let o;o="Device Name";let a;a="Department Name";let s;s="Device Description";let l;l="Manufacturer";let _;_="Model Name";let f;f="Primary Device Type";let g;g="Station Name";let S;S="Installed";let x;x="Extended search";let D;D="Extended search";let R;R="Edit device";let j;j="Delete device";let V;V="Clone device";let ie;ie="Edit "+"\uFFFD0\uFFFD"+"";let _e;_e="false";let oe;oe="true";let Ne;return Ne="More",[n,o,a,s,l,_,f,g,S,x,D,_e,oe,Ne,["title",ie],[1,"main_content","float_content","white_design"],[1,"tab-content"],["class","filter_line",4,"ngIf"],[1,"filter_line","more_function_block"],[1,"filter","single_block"],[1,"filter_block"],[1,"line"],["href","","class","more",3,"click",4,"ngIf"],["href","","class","more ng-hide",3,"click",4,"ngIf"],[3,"modelChange","placeholder","options","editable","model","showSearchField","multiSelectMode","showStar"],["autocomplete","off","id","devicefilter","placeholder",e,1,"devicefilter",3,"ngModelChange","ngModel"],[1,"j4care-table"],[4,"ngFor","ngForOf"],["class","load_more",3,"click",4,"ngIf"],[1,"filter_line"],[3,"submit","filterIdTemplate","filterID","schema","model","filterTreeHeight"],["href","",1,"more",3,"click"],[1,"glyphicon","glyphicon-triangle-bottom"],["href","",1,"more","ng-hide",3,"click"],[1,"glyphicon","glyphicon-triangle-top"],[1,"buttons_td"],[1,"numbers"],["title",R,"href","",1,"table_btn",3,"click","permission"],[1,"glyphicon","glyphicon-pencil"],["title",j,"href","",1,"table_btn",3,"click","permission"],[1,"glyphicon","glyphicon-remove"],["title",V,"href","",1,"table_btn",3,"click","permission"],[1,"glyphicon","glyphicon-duplicate"],[4,"ngIf"],["href","",3,"click",6,"title"],[1,"load_more",3,"click"],["class","fa fa-spinner fa-spin fa-3x fa-fw",4,"ngIf"],[1,"fa","fa-spinner","fa-spin","fa-3x","fa-fw"]];},template:function(n,o){n&1&&(u(0,"div",15),$(1,"config-tab"),u(2,"div",16)(3,"h2"),P(4,0),p(),E(5,p8e,3,5,"div",17),u(6,"div",18)(7,"div",19)(8,"div",20)(9,"div",21),E(10,m8e,4,0,"a",22)(11,_8e,4,0,"a",23),u(12,"dcm-drop-down",24),q("modelChange",function(s){return Y(o.moreFunctionConfig.model,s)||(o.moreFunctionConfig.model=s),s;}),b("modelChange",function(s){return o.moreFunctionChanged(s);}),p()()(),u(13,"div",20)(14,"div",21)(15,"input",25),q("ngModelChange",function(s){return Y(o.devicefilter,s)||(o.devicefilter=s),s;}),p()()()()(),u(16,"table",26)(17,"thead")(18,"tr"),$(19,"th"),u(20,"th"),P(21,1),p(),u(22,"th"),P(23,2),p(),u(24,"th"),P(25,3),p(),u(26,"th"),P(27,4),p(),u(28,"th"),P(29,5),p(),u(30,"th"),P(31,6),p(),u(32,"th"),P(33,7),p(),u(34,"th"),P(35,8),p()()(),u(36,"tbody"),E(37,T8e,26,16,"tr",27),$e(38,"search"),$e(39,"slice"),p()(),E(40,x8e,4,1,"button",28),p()()),n&2&&(c(5),m("ngIf",o.advancedConfig),c(5),m("ngIf",!o.advancedConfig),c(),m("ngIf",o.advancedConfig),c(),m("placeholder",o.moreFunctionConfig.placeholder)("options",o.moreFunctionConfig.options)("editable",!1),H("model",o.moreFunctionConfig.model),m("showSearchField",!1)("multiSelectMode",!1)("showStar",!1),c(3),H("ngModel",o.devicefilter),c(22),m("ngForOf",ba(39,16,pt(38,13,o.devices,o.devicefilter),o.moreDevices.start,o.moreDevices.limit)),c(3),m("ngIf",o.devices&&o.moreDevices.limit<=o.devices.length));},dependencies:[ve,de,Me,Se,Ee,zn,Yi,xn,Ml,Rs,yt],encapsulation:2});let i=r;return i;})();var sB=i=>({visible_input:i});function A8e(i,r){if(i&1){let t=O();u(0,"a",9),b("click",function(){C(t);let n=d();return y(n.fireBreadcrumb(n.params[n.params.length-2]));}),u(1,"i",10),T(2,"chevron_left"),p(),u(3,"span"),P(4,0),p()();}}function w8e(i,r){if(i&1){let t=O();u(0,"li")(1,"input",20),q("ngModelChange",function(n){C(t);let o=d(3).index,a=d();return Y(a.searchBreadcrum[o],n)||(a.searchBreadcrum[o]=n),y(n);}),p()();}if(i&2){let t=d(3).index,e=d();c(),H("ngModel",e.searchBreadcrum[t]);}}function D8e(i,r){if(i&1){let t=O();u(0,"li",21),b("mouseenter",function(){let n=C(t).$implicit,o=d(4);return y(o.hoveredElement(n));}),u(1,"a",22),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.fireBreadcrumb(n));}),T(2),p(),u(3,"span",23),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.compare(n));}),u(4,"i",10),T(5,"compare_arrows"),p()()();}if(i&2){let t=r.$implicit;c(2),z(t.title);}}function M8e(i,r){if(i&1){let t=O();u(0,"li",21),b("mouseenter",function(){let n=C(t).$implicit,o=d(4);return y(o.hoveredElement(n));}),u(1,"a",22),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.fireBreadcrumb(n));}),T(2),p(),u(3,"span",23),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.compare(n));}),u(4,"i",10),T(5,"compare_arrows"),p()()();}if(i&2){let t=r.$implicit;c(2),z(t.title);}}function O8e(i,r){if(i&1&&(u(0,"ul",16),E(1,w8e,2,1,"li",17)(2,D8e,6,1,"li",18),$e(3,"search"),u(4,"li",19),T(5),p(),E(6,M8e,6,1,"li",18),$e(7,"search"),p()),i&2){let t=d(2),e=t.$implicit,n=t.index,o=d();m("ngClass",ne(11,sB,e.allArray&&e.allArray.length>9)),c(),m("ngIf",e.allArray&&e.allArray.length>9),c(),m("ngForOf",pt(3,5,e.prefixArray,o.searchBreadcrum[n])),c(3),z(e.title),c(),m("ngForOf",pt(7,8,e.suffixArray,o.searchBreadcrum[n]));}}function P8e(i,r){if(i&1){let t=O();u(0,"a",13),b("click",function(){C(t);let n=d().$implicit,o=d();return y(o.fireBreadcrumb(n));}),u(1,"i",14),T(2),p(),u(3,"span"),T(4),p(),E(5,O8e,8,13,"ul",15),p();}if(i&2){let t=d().$implicit;m("title",X(t.materialIconName==="subdirectory_arrow_right"?t.childObjectTitle:"")),c(2),z(t.materialIconName),c(2),z(t.title),c(),m("ngIf",t.allArray&&t.allArray.length>0);}}function R8e(i,r){if(i&1){let t=O();u(0,"li")(1,"input",26),q("ngModelChange",function(n){C(t);let o=d(3).index,a=d();return Y(a.searchBreadcrum[o],n)||(a.searchBreadcrum[o]=n),y(n);}),p()();}if(i&2){let t=d(3).index,e=d();c(),H("ngModel",e.searchBreadcrum[t]);}}function N8e(i,r){if(i&1){let t=O();u(0,"li",21),b("mouseenter",function(){let n=C(t).$implicit,o=d(4);return y(o.hoveredElement(n));}),u(1,"a",22),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.fireBreadcrumb(n));}),T(2),p(),u(3,"span",23),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.compare(n));}),u(4,"i",10),T(5,"compare_arrows"),p()()();}if(i&2){let t=r.$implicit;c(2),z(t.title);}}function k8e(i,r){if(i&1&&(u(0,"li",19),T(1),p()),i&2){let t=d(3).$implicit;c(),z(t.title);}}function $8e(i,r){if(i&1){let t=O();u(0,"li",21),b("mouseenter",function(){let n=C(t).$implicit,o=d(4);return y(o.hoveredElement(n));}),u(1,"a",22),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.fireBreadcrumb(n));}),T(2),p(),u(3,"span",23),b("click",function(){let n=C(t).$implicit,o=d(4);return y(o.compare(n));}),u(4,"i",10),T(5,"compare_arrows"),p()()();}if(i&2){let t=r.$implicit;c(2),z(t.title);}}function L8e(i,r){if(i&1&&(u(0,"ul",16),E(1,R8e,2,1,"li",17)(2,N8e,6,1,"li",18),$e(3,"search"),E(4,k8e,2,1,"li",25)(5,$8e,6,1,"li",18),$e(6,"search"),p()),i&2){let t=d(2),e=t.$implicit,n=t.index,o=d();m("ngClass",ne(11,sB,e.allArray&&e.allArray.length>9)),c(),m("ngIf",e.allArray&&e.allArray.length>9),c(),m("ngForOf",pt(3,5,e.prefixArray,o.searchBreadcrum[n])),c(2),m("ngIf",!e.clone),c(),m("ngForOf",pt(6,8,e.suffixArray,o.searchBreadcrum[n]));}}function F8e(i,r){if(i&1){let t=O();u(0,"a",24),b("click",function(n){return C(t),y(n.preventDefault());}),u(1,"i",14),T(2),p(),u(3,"span"),T(4),p(),E(5,L8e,7,13,"ul",15),p();}if(i&2){let t=d().$implicit;m("title",X(t.materialIconName==="subdirectory_arrow_right"?t.childObjectTitle:"")),c(2),z(t.materialIconName),c(2),z(t.title),c(),m("ngIf",t.allArray&&t.allArray.length>0);}}function V8e(i,r){if(i&1&&(U(0),E(1,P8e,6,5,"a",11)(2,F8e,6,5,"a",12),W()),i&2){let t=r.index,e=d();c(),m("ngIf",t!=e.params.length-1),c(),m("ngIf",t==e.params.length-1);}}function z8e(i,r){if(i&1){let t=O();u(0,"div",27)(1,"dynamic-form",28),b("submitFunction",function(n){C(t);let o=d();return y(o.submitFunction(n));}),p()();}if(i&2){let t=d();vt("compare_mode",t.showCompare),c(),m("formelements",t.formObj)("model",t.model)("readOnlyMode",!1);}}function G8e(i,r){if(i&1){let t=O();u(0,"div",29)(1,"div",30),b("click",function(){C(t);let n=d();return y(n.showCompare=!1);}),$(2,"span",31),p(),u(3,"dynamic-form",28),b("submitFunction",function(n){C(t);let o=d();return y(o.submitFunction(n));}),p()();}if(i&2){let t=d();vt("compare_mode",t.showCompare),c(3),m("formelements",t.toCompareFormelement)("model",t.toCompareObject)("readOnlyMode",!0);}}var Eh=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f,g,S,x){this.route=e,this.router=n,this.service=o,this.$http=a,this.mainservice=s,this.controlService=l,this.cfpLoadingBar=_,this.httpErrorHandler=f,this.aeService=g,this.hl7Service=S,this.devicesService=x,this.params=[],this.pressedKey=[],this.isNew=!1,this.searchBreadcrum=[],this.emptyExtension=!1,this.showCompare=!1;}addModel(){let e=this.params.device.split("|");this.model=this.device[e[1]];}submitFunction(e){let n=!1,o;console.log("in submit");let a=this;this.cfpLoadingBar.start();let s=Oe(this.service.device);if(this.isNew&&this.service.checkIfDuplicatedChild(e,this.recentParams))a.mainservice.showError("Child already exist, change some value and try saving again!"),a.cfpLoadingBar.complete();else{if(this.inClone){let l=Oe(B(this.service.device,this.recentParams.clone));this.service.replaceOldAETitleWithTheNew(l,e.dicomAETitle),Ue(this.service.device,this.recentParams.devicereff,l);}if(this.service.addChangesToDevice(e,this.recentParams.devicereff),A(this.recentParams,"schema")){let l=this.service.getSchemaFromPath(this.service.schema,this.recentParams.schema),_=this.service.getBreadcrumbTitleFromModel(e,l);this.service.breadcrumbs[this.service.breadcrumbs.length-1].title=_;let f,g=I.diffObjects(B(s,this.recentParams.devicereff),e,!0,!0);(A(l,"properties")||A(l,"items.properties"))&&(A(l,"properties")&&(f="properties"),A(l,"items.properties")&&(f="items.properties"));let S=B(l,f);Object.keys(S).forEach(x=>{A(S[x],"use")&&A(g,`diff.${x}`)&&this.service.setValueToReferences(B(g,`first.${x}`),e[x],S[x].use);}),A(this.service.device,"dcmArchiveDevice")&&this.recentParams.schema==="properties.dicomNetworkAE"&&A(this.service.device,"dicomNetworkAE")&&this.service.device.dicomNetworkAE.length>0&&he(this.service.device.dicomNetworkAE,(x,D)=>{A(x,"dcmArchiveNetworkAE")||(this.service.device.dicomNetworkAE[D].dcmArchiveNetworkAE={},n=!0);});}if(A(this.service.breadcrumbs,"[1].title")&&this.service.breadcrumbs[1].title==="[new_device]"){let l=this.service.createDevice();l?l.subscribe(_=>{console.log("succes",_),a.mainservice.showMsg("Device created successfully!");try{a.recentParams={},a.service.breadcrumbs=a.params=[{url:"/device/devicelist",title:"devicelist",prefixArray:[],suffixArray:[],allArray:[],devicereff:void 0,childObjectTitle:"",clone:this.inClone}];}catch(f){console.warn("error on chagning breadcrumbs",f);}a.service.reloadArchive().subscribe(f=>{console.log("res",f),a.mainservice.showMsg("Reload successful"),a.cfpLoadingBar.complete();},f=>{a.cfpLoadingBar.complete();}),setTimeout(()=>{a.router.navigateByUrl(`/device/edit/${e.dicomDeviceName}`);},200);},_=>{$r(a.service.device,s),console.log("error",_),a.httpErrorHandler.handleError(_),a.cfpLoadingBar.complete();}):($r(a.service.device,s),console.warn("devicename is missing",this.service.device),a.mainservice.showError("Device name is missing!"));}else{let l=this.service.updateDevice();l?l.subscribe(_=>{if(console.log("succes",_),a.mainservice.showMsg("Device saved successfully!"),n){a.deleteForm(),a.showForm=!1;let f=window.location.hash.substr(1);f&&setTimeout(()=>{a.router.navigateByUrl("blank").then(()=>{a.router.navigateByUrl(f),a.showForm=!0;});});}a.service.reloadArchive().subscribe(f=>{if(console.log("res",f),a.mainservice.showMsg("Reload successful"),this.mainservice.deviceName===this.service.device.dicomDeviceName)try{let g=Oe(this.mainservice.global);g.uiConfig=B(a.service.device,"dcmDevice.dcmuiConfig[0]"),this.mainservice.setGlobal(g);}catch(g){console.error("Ui Config could not be updated",g);}a.cfpLoadingBar.complete();},f=>{a.cfpLoadingBar.complete();}),a.refreshExternalReferences();},_=>{$r(a.service.device,s),console.log("error",_),a.httpErrorHandler.handleError(_),a.cfpLoadingBar.complete();}):($r(a.service.device,s),a.mainservice.showError("Device name is missing!"),console.warn("devicename is missing",this.service.device),a.cfpLoadingBar.complete());}}}refreshExternalReferences(){this.getAes(),this.getHl7ApplicationsList(),this.getDevices();}getAes(){let e=this;this.aeService.getAes().subscribe(n=>{if(e.mainservice.global&&!e.mainservice.global.aes){let o=Oe(e.mainservice.global);o.aes=n,e.mainservice.setGlobal(o);}else e.mainservice.global&&e.mainservice.global.aes?e.mainservice.global.aes=n:e.mainservice.setGlobal({aes:n});},n=>{});}getHl7ApplicationsList(){let e=this;this.hl7Service.getHl7ApplicationsList("").subscribe(n=>{if(e.mainservice.global&&!e.mainservice.global.hl7){let o=Oe(e.mainservice.global);o.hl7=n,e.mainservice.setGlobal(o);}else e.mainservice.global&&e.mainservice.global.hl7?e.mainservice.global.hl7=n:e.mainservice.setGlobal({hl7:n});},n=>{});}getDevices(){let e=this;this.devicesService.getDevices().subscribe(n=>{if(e.mainservice.global&&!e.mainservice.global.devices){let o=Oe(e.mainservice.global);o.devices=n,e.mainservice.setGlobal(o);}else e.mainservice.global&&e.mainservice.global.devices?e.mainservice.global.devices=n:e.mainservice.setGlobal({devices:n});},n=>{});}ngOnInit(){this.currentSavedLanguageCode=localStorage.getItem("current_language"),this.initCheck(10);}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.init():e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){let e=this,n;this.params=e.service.breadcrumbs,this.inClone=!1,this.service.breadcrumbs.forEach((o,a)=>{this.searchBreadcrum[a]="";}),e.cfpLoadingBar.start(),this.route.params.subscribe(o=>{if(this.service.device&&!A(this.service.device,o.devicereff)&&(console.log("this.service.device",this.service.device),this.emptyExtension=!0),console.log("allOptions",this.service.allOptions),e.service.breadcrumbs.length<3||dn(o.devicereff)<dn(e.service.breadcrumbs[e.service.breadcrumbs.length-1].devicereff)||e.service.breadcrumbs.length>2&&A(e.service.breadcrumbs,[e.service.breadcrumbs.length-1,"devicereff"])&&e.service.breadcrumbs[e.service.breadcrumbs.length-1].devicereff&&A(this.service.device,e.service.breadcrumbs[e.service.breadcrumbs.length-1].devicereff)){if(e.recentParams=o,!(A(o,"devicereff")&&A(o,"schema"))||!e.service.schema){let a={url:"/device/edit/"+o.device,title:o.device,prefixArray:[],suffixArray:[],allArray:[],devicereff:"",childObjectTitle:"",clone:this.inClone},s=da(e.service.breadcrumbs,_=>_.url===a.url);if(s>-1){let _=au(e.service.breadcrumbs,e.service.breadcrumbs.length-s-1);e.service.breadcrumbs=_,e.params=_;}else e.service.breadcrumbs.push(a);let l="./assets/schema/device.schema.json";o.device=="[new_device]"?e.$http.get(l).subscribe(_=>{e.showForm=!1,e.device={},e.service.device={},e.schema=_,e.service.schema=_;let f=e.service.convertSchemaToForm(e.device,e.schema,o,"attr");e.formObj=f,e.model={},setTimeout(()=>{e.showForm=!0,e.cfpLoadingBar.complete();},1);}):_s(e.service.getDevice(o.device),e.$http.get(l)).subscribe(_=>{if(e.service.device=_[0],e.service.schema=_[1],A(o,"devicereff")&&A(o,"schema"))this.setFormFromParameters(o,n);else{e.showForm=!1,console.log("deviceschema",_),e.device=_[0],e.schema=_[1];let f=e.service.convertSchemaToForm(e.device,e.schema,o,this.inClone||this.isNew||this.emptyExtension?"attr":"ext");e.formObj=f,e.model={},setTimeout(()=>{e.cfpLoadingBar.complete(),e.showForm=!0;},1);}},_=>{console.log("error",_),e.cfpLoadingBar.complete(),e.httpErrorHandler.handleError(_);});}else this.setFormFromParameters(o,n);}else e.mainservice.showError("Parent didn't exist, save first the parent"),e.router.navigateByUrl(e.service.breadcrumbs[e.service.breadcrumbs.length-1].url),e.cfpLoadingBar.complete();});}setFormFromParameters(e,n){let o=this,a={},s=o.service.getSchemaFromPath(o.service.schema,e.schema);if(A(e,"clone")?(a=B(this.service.device,e.clone),e.schema,this.inClone=!0):a=B(this.service.device,e.devicereff),s===null)this.service.getSchemaDeep(o.service.schema,e.schema).subscribe(l=>{o.service.schema=l,s=B(l,e.schema);let _=o.service.getBreadcrumbTitleFromModel(a,s);_=="[NEW]"?this.isNew=!0:this.isNew=!1;let f,g="/device/edit/"+e.device+"/"+e.devicereff+"/"+e.schema;this.inClone?f=this.service.getPrefixAndSuffixArray(g,this.service.allOptions[e.clone]):f=this.service.getPrefixAndSuffixArray(g,this.service.allOptions[e.schema]);let S={url:g,title:_,prefixArray:f.prefix,suffixArray:f.suffix,allArray:[...f.prefix,...f.suffix],devicereff:e.devicereff,materialIconName:this.service.getMaterialIconNameForBreadcrumbs(e.devicereff),childObjectTitle:s&&s.title?s.title:"",clone:this.inClone};this.service.breadcrumbs=[...this.service.breadcrumbs,...this.service.getMissingBreadcrumbObjects(S,[])];let x=da(o.service.breadcrumbs,D=>this.service.isSameSiblingUrl(D.url,S.url));if(x>-1){let D=au(o.service.breadcrumbs,o.service.breadcrumbs.length-x-1);this.service.isSameSiblingUrl(g,D[D.length-1].url)&&g!==D[D.length-1].url&&(D[D.length-1]=S),o.service.breadcrumbs=D,o.params=D;}else this.service.isSameSiblingUrl(this.service.breadcrumbs[this.service.breadcrumbs.length-1].url,S.url)?(this.service.breadcrumbs[this.service.breadcrumbs.length-1]=S,o.params=this.service.breadcrumbs):(o.service.breadcrumbs.push(S),o.params=this.service.breadcrumbs);if(o.deleteForm(),o.showForm=!1,o.model=a,A(s,"$ref")||A(s,"items.$ref")||A(s,"properties.$ref")){let D,R,j="";A(s,"properties.$ref")&&(D=s.properties.$ref,j="properties",R=()=>{delete s.properties.$ref;}),A(s,"items.$ref")&&(D=s.items.$ref,j="items",R=()=>{delete s.items.$ref;}),A(s,"$ref")&&(D=s.$ref,R=()=>{delete s.$ref;}),o.service.getSchema(D).subscribe(V=>{R(),j===""?zr(s,V):(Ue(s,j,V),j="."+j),this.inClone,Ue(o.service.schema,e.schema,s),n=o.service.convertSchemaToForm(o.model,s,e,this.inClone||this.isNew||this.emptyExtension?"attr":"ext"),o.formObj=n,setTimeout(()=>{o.showForm=!0,o.cfpLoadingBar.complete();},1);},V=>{o.cfpLoadingBar.complete();});}else n=o.service.convertSchemaToForm(a,s,e,this.inClone||this.isNew||this.emptyExtension?"attr":"ext"),Ue(o.service.schema,e.schema,s),o.formObj=n,setTimeout(()=>{o.showForm=!0,o.cfpLoadingBar.complete();},1);});else{let l=o.service.getBreadcrumbTitleFromModel(a,s);l=="[NEW]"?this.isNew=!0:this.isNew=!1;let _,f="/device/edit/"+e.device+"/"+e.devicereff+"/"+e.schema;this.inClone?_=this.service.getPrefixAndSuffixArray(f,this.service.allOptions[e.clone]):_=this.service.getPrefixAndSuffixArray(f,this.service.allOptions[e.schema]);let g={url:f,title:l,prefixArray:_.prefix,suffixArray:_.suffix,allArray:[..._.prefix,..._.suffix],devicereff:e.devicereff,materialIconName:this.service.getMaterialIconNameForBreadcrumbs(e.devicereff),childObjectTitle:s&&s.title?s.title:"",clone:this.inClone},S=da(o.service.breadcrumbs,x=>this.service.isSameSiblingUrl(x.url,g.url));if(S>-1){let x=au(o.service.breadcrumbs,o.service.breadcrumbs.length-S-1);this.service.isSameSiblingUrl(f,x[x.length-1].url)&&f!==x[x.length-1].url&&(x[x.length-1]=g),o.service.breadcrumbs=x,o.params=x;}else this.service.isSameSiblingUrl(this.service.breadcrumbs[this.service.breadcrumbs.length-1].url,g.url)?(this.service.breadcrumbs[this.service.breadcrumbs.length-1]=g,o.params=this.service.breadcrumbs):(o.service.breadcrumbs.push(g),o.params=this.service.breadcrumbs);if(o.deleteForm(),o.showForm=!1,o.model=a,A(s,"$ref")||A(s,"items.$ref")||A(s,"properties.$ref")){let x,D,R="";A(s,"properties.$ref")&&(x=s.properties.$ref,R="properties",D=()=>{delete s.properties.$ref;}),A(s,"items.$ref")&&(x=s.items.$ref,R="items",D=()=>{delete s.items.$ref;}),A(s,"$ref")&&(x=s.$ref,D=()=>{delete s.$ref;}),o.service.getSchema(x).subscribe(j=>{D(),R===""?zr(s,j):(Ue(s,R,j),R="."+R),this.inClone,Ue(o.service.schema,e.schema,s),n=o.service.convertSchemaToForm(o.model,s,e,this.inClone||this.isNew||this.emptyExtension?"attr":"ext"),o.formObj=n,setTimeout(()=>{o.showForm=!0,o.cfpLoadingBar.complete();},1);},j=>{o.cfpLoadingBar.complete();});}else n=o.service.convertSchemaToForm(a,s,e,this.inClone||this.isNew||this.emptyExtension?"attr":"ext"),Ue(o.service.schema,e.schema,s),o.formObj=n,setTimeout(()=>{o.showForm=!0,o.cfpLoadingBar.complete();},1);}}deleteForm(){this.model={},this.formObj=[];}clearSearch(){this.searchBreadcrum.forEach((e,n)=>{this.searchBreadcrum[n]="";});}fireBreadcrumb(e){this.clearSearch(),e.url==="/device/devicelist"&&(this.params=this.service.breadcrumbs=[{url:"/device/devicelist",title:"devicelist",prefixArray:[],suffixArray:[],allArray:[],devicereff:void 0,childObjectTitle:"",clone:this.inClone}]),this.router.navigateByUrl(e.url);}hoveredElement(e){console.log("element",e),console.log("device",this.service.device),console.log("obj",this.service.getObjectsFromPath(e.url));}compare(e){console.log("param",this.params),this.showCompare=!1,this.toCompareObject=void 0,this.toCompareObject=void 0,setTimeout(()=>{let n=this.service.getObjectsFromPath(e.url);this.toCompareFormelement=this.service.convertSchemaToForm(n.model,n.schemaObject,{device:"dcm4chee-arc",devicereff:n.devicereff,schema:n.schema},this.inClone||this.isNew||this.emptyExtension?"attr":"ext"),this.toCompareObject=n.model,this.showCompare=!0;},1);}ngOnDestroy(){console.log("param",this.recentParams),console.log("ondestroy",this.service.breadcrumbs);}};r.ɵfac=function(n){return new(n||r)(k(Dn),k(Hi),k(Vn),k(Fe),k(le),k(Dl),k(ti),k(Pt),k(un),k(rs),k(Xt));},r.ɵcmp=Z({type:r,selectors:[["app-device-configurator"]],standalone:!1,decls:9,vars:4,consts:()=>{let e;e="back";let n;n="Search...";let o;return o="Search...",[e,[1,"main_content","deviceconfig"],["class","device_config_back",3,"click",4,"ngIf"],[1,"breadcrumb_container"],[1,"row"],[1,"btn-group","btn-breadcrumb"],[4,"ngFor","ngForOf"],["class","first_block",3,"compare_mode",4,"ngIf"],["class","second_block",3,"compare_mode",4,"ngIf"],[1,"device_config_back",3,"click"],[1,"material-icons"],["class","btn btn-default prev_breadcrumb",3,"title","click",4,"ngIf"],["class","current_title btn btn-default",3,"title","click",4,"ngIf"],[1,"btn","btn-default","prev_breadcrumb",3,"click","title"],[1,"material-icons","breadcrumb_icon"],["class","suffix_breadcrumb",3,"ngClass",4,"ngIf"],[1,"suffix_breadcrumb",3,"ngClass"],[4,"ngIf"],[3,"mouseenter",4,"ngFor","ngForOf"],[1,"active_breadcrumb"],["type","text","placeholder",n,3,"ngModelChange","ngModel"],[3,"mouseenter"],[3,"click"],[1,"compare_button",3,"click"],[1,"current_title","btn","btn-default",3,"click","title"],["class","active_breadcrumb",4,"ngIf"],["type","text","placeholder",o,3,"ngModelChange","ngModel"],[1,"first_block"],[3,"submitFunction","formelements","model","readOnlyMode"],[1,"second_block"],[1,"close",3,"click"],[1,"glyphicon","glyphicon-remove"]];},template:function(n,o){n&1&&(u(0,"div",1),E(1,A8e,5,0,"a",2),$(2,"br"),u(3,"div",3)(4,"div",4)(5,"div",5),E(6,V8e,3,2,"ng-container",6),p()()(),E(7,z8e,2,5,"div",7)(8,G8e,4,5,"div",8),p()),n&2&&(c(),m("ngIf",o.params.length>1),c(5),m("ngForOf",o.params),c(),m("ngIf",o.formObj&&o.showForm),c(),m("ngIf",o.showCompare&&o.toCompareObject&&o.toCompareFormelement));},encapsulation:2});let i=r;return i;})();var j8e=i=>({hiddencontent:i}),U8e=i=>({format:i}),W8e=i=>({long_mode:i}),B8e=i=>({picker:i}),Wc=i=>({disabled:i}),H8e=i=>[i],q8e=i=>({empty:i});function Y8e(i,r){if(i&1&&(u(0,"div",19)(1,"label"),T(2),p(),$(3,"br"),p()),i&2){let t=d();c(),lt("for",t.formelement.key),c(),z(t.formelement.label);}}function X8e(i,r){if(i&1){let t=O();u(0,"a",29),b("click",function(n){C(t);let o=d(3);return n.preventDefault(),y(o.downloadFile(o.formelement.downloadUrl));}),P(1,0),p();}}function K8e(i,r){if(i&1){let t=O();u(0,"a",30),b("click",function(n){C(t);let o=d(3);return n.preventDefault(),y(o.deleteFile(o.formelement.deviceName,o.formelement));}),u(1,"i",31),T(2,"clear"),p()();}}function Q8e(i,r){if(i&1){let t=O();u(0,"a",32),b("click",function(n){C(t);let o=d(3);return n.preventDefault(),y(o.replaceFile(o.formelement.deviceName));}),u(1,"i",31),T(2,"edit"),p()();}}function Z8e(i,r){i&1&&(u(0,"div",25),E(1,X8e,2,0,"a",26)(2,K8e,3,0,"a",27)(3,Q8e,3,0,"a",28),p()),i&2&&(c(),m("ngSwitchCase","filedownload"),c(),m("ngSwitchCase","filedownload"),c(),m("ngSwitchCase","filedownload"));}function J8e(i,r){if(i&1){let t=O();u(0,"a",29),b("click",function(n){C(t);let o=d(3);return n.preventDefault(),y(o.uploadVendor(o.formelement.deviceName));}),P(1,1),p();}}function e$e(i,r){i&1&&(u(0,"div"),E(1,J8e,2,0,"a",26),p()),i&2&&(c(),m("ngSwitchCase","fileupload"));}function t$e(i,r){if(i&1&&$(0,"input",34),i&2){let t=d(3);m("value",X(t.formelement.value));}}function i$e(i,r){i&1&&(u(0,"div"),E(1,t$e,1,2,"input",33),p()),i&2&&(c(),m("ngSwitchCase","constantField"));}function n$e(i,r){if(i&1){let t=O();u(0,"input",42),b("click",function(){C(t);let n=d(3);return y(n.onFocuse(n.formelement));})("mouseenter",function(){C(t);let n=d(3);return y(n.onMouseEnter(n.formelement));})("mouseleave",function(){C(t);let n=d(3);return y(n.onMouseLeave(n.formelement));}),p();}if(i&2){let t=d(3);m("formControlName",t.formelement.key)("id",t.formelement.key)("type",t.formelement.type);}}function r$e(i,r){if(i&1){let t=O();u(0,"dictionary-picker",43),b("onValueSet",function(n){C(t);let o=d(3);return y(o.onValueChange(n,o.formelement,o.form.controls[o.formelement.key],null));}),p();}if(i&2){let t=d(3);m("dictionary",t.formelement.format)("formelement",t.formelement);}}function o$e(i,r){if(i&1){let t=O();u(0,"language-picker",43),b("onValueSet",function(n){C(t);let o=d(3);return y(o.onValueChange(n,o.formelement,o.form.controls[o.formelement.key],null));}),p();}if(i&2){let t=d(3);m("dictionary",t.formelement.format)("formelement",t.formelement);}}function a$e(i,r){if(i&1&&$(0,"attribute-info",44),i&2){let t=d(3);m("dictionary",t.formelement.format)("value",t.form.controls[t.formelement.key].value);}}function s$e(i,r){if(i&1){let t=O();u(0,"time-picker",45),b("onValueSet",function(n){C(t);let o=d(3);return y(o.onValueChange(n,o.formelement,o.form.controls[o.formelement.key],null));}),p();}}function l$e(i,r){if(i&1){let t=O();u(0,"duration-picker",46),b("onValueSet",function(n){C(t);let o=d(3);return y(o.onValueChange(n,o.formelement,o.form.controls[o.formelement.key],null));}),p();}if(i&2){let t=d(3);m("value",t.form.controls[t.formelement.key].value)("mode",t.formelement.format);}}function c$e(i,r){if(i&1){let t=O();u(0,"schedule-picker",47),b("onValueSet",function(n){C(t);let o=d(3);return y(o.onValueChange(n,o.formelement,o.form.controls[o.formelement.key],null));}),p();}if(i&2){let t=d(3);m("value",t.form.controls[t.formelement.key].value);}}function d$e(i,r){if(i&1){let t=O();u(0,"specific-char-picker",48),b("onValueSet",function(n){C(t);let o=d(3);return y(o.onValueChange(n,o.formelement,o.form.controls[o.formelement.key],null));}),p();}if(i&2){let t=d(3);m("format",t.formelement.format)("mode","configurator")("value",t.form.controls[t.formelement.key].value);}}function u$e(i,r){if(i&1&&(u(0,"div"),E(1,n$e,1,3,"input",35)(2,r$e,1,2,"dictionary-picker",36)(3,o$e,1,2,"language-picker",36)(4,a$e,1,2,"attribute-info",37)(5,s$e,1,0,"time-picker",38)(6,l$e,1,2,"duration-picker",39)(7,c$e,1,1,"schedule-picker",40)(8,d$e,1,3,"specific-char-picker",41),p()),i&2){let t=d(2);c(),m("ngSwitchCase","text"),c(),m("ngIf",t.formelement.controlType==="text"&&t.formelement.format&&t.formelement.showPicker),c(),m("ngIf",t.formelement.controlType==="text"&&t.formelement.format&&t.formelement.showLanguagePicker),c(),m("ngIf",t.formelement.controlType==="text"&&t.formelement.format&&t.formelement.showPickerTooltipp&&t.form.controls[t.formelement.key].value),c(),m("ngIf",t.formelement.controlType==="text"&&t.formelement.format&&t.formelement.showTimePicker),c(),m("ngIf",t.formelement.controlType==="text"&&t.formelement.format&&t.formelement.showDurationPicker),c(),m("ngIf",t.formelement.controlType==="text"&&t.formelement.format&&t.formelement.showSchedulePicker),c(),m("ngIf",t.formelement.controlType==="text"&&t.formelement.format&&t.formelement.showCharSetPicker);}}function p$e(i,r){if(i&1){let t=O();u(0,"dynamic-field",50),b("onValueChange",function(n){C(t);let o=d(3);return y(o.onValueChange(n,o.formelement,o.form.controls[o.formelement.key].controls,null));}),p();}if(i&2){let t=d(3);m("mode",t.formelement.format)("checked",t.formelement.value)("type",t.formelement.type);}}function m$e(i,r){i&1&&(u(0,"div"),E(1,p$e,1,3,"dynamic-field",49),p()),i&2&&(c(),m("ngSwitchCase","dynamiccheckbox"));}function _$e(i,r){if(i&1&&$(0,"input",52),i&2){let t=d(3);m("formControlName",t.formelement.key)("id",t.formelement.key);}}function f$e(i,r){i&1&&(u(0,"div"),E(1,_$e,1,2,"input",51),p()),i&2&&(c(),m("ngSwitchCase","number"));}function h$e(i,r){i&1&&(u(0,"mat-option",58),T(1,"-"),p());}function g$e(i,r){if(i&1&&(u(0,"mat-option",59),T(1),p()),i&2){let t=r.$implicit;m("value",t.value)("title",t.description),c(),z(t.label);}}function v$e(i,r){if(i&1){let t=O();u(0,"mat-select",55),b("change",function(){C(t);let n=d(3);return y(n.dropdownChange(n.formelement,n.form.controls[n.formelement.key]));}),E(1,h$e,2,0,"mat-option",56)(2,g$e,2,3,"mat-option",57),p();}if(i&2){let t=d(3);m("id",t.formelement.key)("formControlName",t.formelement.key),c(),m("ngIf",!t.formelement.validation.required),c(),m("ngForOf",t.formelement.options);}}function C$e(i,r){i&1&&(u(0,"div",53),E(1,v$e,3,4,"mat-select",54),p()),i&2&&(c(),m("ngSwitchCase","dropdown"));}function y$e(i,r){if(i&1&&(u(0,"div",63),$(1,"input",64),T(2),$(3,"br"),p()),i&2){let t=r.$implicit,e=d(4);m("title",t.description||""),c(),m("id",e.formelement.key)("formControlName",e.formelement.key)("value",t.value)("checked",t.active),c(),z(t.key);}}function b$e(i,r){if(i&1&&(u(0,"div",61),E(1,y$e,4,6,"div",62),p()),i&2){let t=d(3);c(),m("ngForOf",t.formelement.options);}}function S$e(i,r){i&1&&(u(0,"div"),E(1,b$e,2,1,"div",60),p()),i&2&&(c(),m("ngSwitchCase","radio"));}function E$e(i,r){if(i&1&&$(0,"input",68),i&2){let t=d(4);m("formControl",t.search);}}function T$e(i,r){if(i&1){let t=O();u(0,"div",63)(1,"input",69),b("change",function(n){let o=C(t).$implicit,a=d(4);return a.checkboxChange(n,a.formelement),y(o.active=!o.active);}),p(),T(2),$(3,"br"),p();}if(i&2){let t=r.$implicit,e=d(4);m("title",t.description||""),c(),m("id",e.formelement.key)("name",t.value)("value",t.value)("checked",t.active),c(),z(t.key);}}function I$e(i,r){if(i&1&&(u(0,"div",66),E(1,E$e,1,1,"input",67)(2,T$e,4,6,"div",62),$e(3,"search"),p()),i&2){let t=d(3);m("formArrayName",t.formelement.key)("ngClass",ne(7,W8e,t.formelement.options&&t.formelement.options.length&&t.formelement.options.length>9)),c(),m("ngIf",t.formelement.controlType==="checkbox"&&t.formelement.options&&t.formelement.options.length&&t.formelement.options.length>9),c(),m("ngForOf",pt(3,4,t.formelement.options,t.search.value));}}function x$e(i,r){i&1&&(u(0,"div"),E(1,I$e,4,9,"div",65),p()),i&2&&(c(),m("ngSwitchCase","checkbox"));}function A$e(i,r){if(i&1&&(u(0,"div"),$(1,"df-element",76),p()),i&2){let t=r.$implicit,e=d().index,n=d(4);c(),m("formelement",t)("form",n.form.controls[n.formelement.key].controls[e])("formelements",n.formelements);}}function w$e(i,r){if(i&1&&(u(0,"div",74),E(1,A$e,2,3,"div",75),p()),i&2){let t=r.$implicit,e=r.index;m("formGroupName",e.toString()),c(),m("ngForOf",t.element);}}function D$e(i,r){if(i&1){let t=O();u(0,"div",71),E(1,w$e,2,2,"div",72),u(2,"div",73),b("click",function(){C(t);let n=d(3);return y(n.addElement(n.formelement.options,n.formelement,n.form.controls[n.formelement.key].controls));}),P(3,2),p()();}if(i&2){let t=d(3);m("formArrayName",t.formelement.key),c(),m("ngForOf",t.formelement.options);}}function M$e(i,r){i&1&&(u(0,"div"),E(1,D$e,4,2,"div",70),p()),i&2&&(c(),m("ngSwitchCase","arrayobject"));}function O$e(i,r){if(i&1&&$(0,"input",86),i&2){let t=d().index;m("formControlName",X(t));}}function P$e(i,r){if(i&1){let t=O();u(0,"input",87),b("click",function(){C(t);let n=d().index,o=d(4);return y(o.onFocuse(o.formelement,n));})("mouseenter",function(){C(t);let n=d().index,o=d(4);return y(o.onMouseEnter(o.formelement,n));})("mouseleave",function(){C(t);let n=d(5);return y(n.onMouseLeave(n.formelement));}),p();}if(i&2){let t=d().index,e=d(4);m("formControlName",X(t))("type",e.formelement.type);}}function R$e(i,r){if(i&1&&$(0,"attribute-info",44),i&2){let t=d().$implicit,e=d(4);m("dictionary",e.formelement.format)("value",t);}}function N$e(i,r){if(i&1){let t=O();u(0,"dictionary-picker",43),b("onValueSet",function(n){C(t);let o=d().index,a=d(4);return y(a.onValueChange(n,a.formelement,a.form.controls[a.formelement.key].controls,o));}),p();}if(i&2){let t=d(5);m("dictionary",t.formelement.format)("formelement",t.formelement);}}function k$e(i,r){if(i&1){let t=O();u(0,"language-picker",43),b("onValueSet",function(n){C(t);let o=d().index,a=d(4);return y(a.onValueChange(n,a.formelement,a.form.controls[a.formelement.key].controls,o));}),p();}if(i&2){let t=d(5);m("dictionary",t.formelement.format)("formelement",t.formelement);}}function $$e(i,r){if(i&1){let t=O();u(0,"time-picker",45),b("onValueSet",function(n){C(t);let o=d().index,a=d(4);return y(a.onValueChange(n,a.formelement,a.form.controls[a.formelement.key].controls,o));}),p();}}function L$e(i,r){if(i&1){let t=O();u(0,"schedule-picker",47),b("onValueSet",function(n){C(t);let o=d().index,a=d(4);return y(a.onValueChange(n,a.formelement,a.form.controls[a.formelement.key].controls,o));}),p();}if(i&2){let t=d().$implicit;m("value",t);}}function F$e(i,r){if(i&1){let t=O();u(0,"specific-char-picker",88),b("onValueSet",function(n){C(t);let o=d().index,a=d(4);return y(a.onValueChange(n,a.formelement,a.form.controls[a.formelement.key].controls,o));}),p();}if(i&2){let t=d().$implicit;m("mode","configurator")("value",t);}}function V$e(i,r){if(i&1){let t=O();u(0,"div",81),E(1,O$e,1,2,"input",82)(2,P$e,1,3,"input",83),u(3,"span",84),b("click",function(){let n=C(t).index,o=d(4);return y(o.removeArrayElement(o.formelement,n,o.form));}),u(4,"i",31),T(5,"clear"),p()(),E(6,R$e,1,2,"attribute-info",37)(7,N$e,1,2,"dictionary-picker",36)(8,k$e,1,2,"language-picker",36)(9,$$e,1,0,"time-picker",38)(10,L$e,1,1,"schedule-picker",40)(11,F$e,1,2,"specific-char-picker",85),p();}if(i&2){let t=r.$implicit,e=r.index,n=d(4);m("ngClass",ne(9,B8e,n.formelement.showDurationPicker&&n.formelement.showDurationPicker[e])),c(),m("ngIf",n.formelement.type=="number"),c(),m("ngIf",n.formelement.type!="number"),c(4),m("ngIf",n.formelement.controlType==="arrayelement"&&n.formelement.format&&n.formelement.showPickerTooltipp&&n.formelement.showPickerTooltipp[e]&&t),c(),m("ngIf",n.formelement.controlType==="arrayelement"&&n.formelement.format&&n.formelement.showPicker&&n.formelement.showPicker[e]),c(),m("ngIf",n.formelement.controlType==="arrayelement"&&n.formelement.format&&n.formelement.showLanguagePicker&&n.formelement.showLanguagePicker[e]),c(),m("ngIf",n.formelement.controlType==="arrayelement"&&n.formelement.format&&n.formelement.showTimePicker&&n.formelement.showTimePicker[e]),c(),m("ngIf",n.formelement.controlType==="arrayelement"&&n.formelement.format&&n.formelement.showSchedulePicker&&n.formelement.showSchedulePicker[e]),c(),m("ngIf",n.formelement.controlType==="arrayelement"&&n.formelement.format&&n.formelement.showCharSetPicker&&n.formelement.showCharSetPicker[e]);}}function z$e(i,r){if(i&1){let t=O();u(0,"div",78),E(1,V$e,12,11,"div",79),u(2,"div",80),b("click",function(){C(t);let n=d(3);return y(n.addArrayElement(n.formelement.value,n.form.controls[n.formelement.key].controls,n.form));}),u(3,"i",31),T(4,"add"),p(),u(5,"span"),P(6,3),p()()();}if(i&2){let t=d(3);m("formArrayName",t.formelement.key),c(),m("ngForOf",t.formelement.value);}}function G$e(i,r){i&1&&(u(0,"div"),E(1,z$e,7,2,"div",77),p()),i&2&&(c(),m("ngSwitchCase","arrayelement"));}function j$e(i,r){if(i&1){let t=O();u(0,"div",92)(1,"a",93),b("click",function(n){C(t);let o=d(4);return n.preventDefault(),y(o.navigateTo(o.formelement.url));}),u(2,"i",31),T(3,"mode_edit"),p(),u(4,"span",94),P(5,4),p()(),u(6,"a",95),b("click",function(n){C(t);let o=d(4);return n.preventDefault(),y(o.removeObject(o.formelement,o.form.controls[o.formelement.key]));}),u(7,"i",31),T(8,"clear"),p()()();}if(i&2){let t=d(4);c(),m("title",X(t.formelement.description))("ngClass",ne(6,Wc,!t.form.valid)),c(5),m("title",X(t.formelement.description||t.getTitleBackup("remove",t.formelement.title)))("ngClass",ne(8,Wc,!t.form.valid));}}function U$e(i,r){if(i&1){let t=O();u(0,"div",92)(1,"a",96),b("click",function(n){return C(t),y(n.preventDefault());}),P(2,5),p(),u(3,"a",97)(4,"i",31),T(5,"add"),p()()();}if(i&2){let t=d(4);c(),m("title",X(t.formelement.description))("ngClass",ne(7,Wc,!t.form.valid)),c(2),m("title",X(t.formelement.description||t.getTitleBackup("append",t.formelement.title)))("ngClass",ne(9,Wc,!t.form.valid))("routerLink",ne(11,H8e,t.formelement.url));}}function W$e(i,r){if(i&1&&(u(0,"div",90),E(1,j$e,9,10,"div",91)(2,U$e,6,13,"div",91),p()),i&2){let t=d(3);c(),m("ngIf",t.formelement.value>0),c(),m("ngIf",t.formelement.value===0);}}function B$e(i,r){i&1&&(u(0,"div"),E(1,W$e,3,2,"div",89),p()),i&2&&(c(),m("ngSwitchCase","button"));}function H$e(i,r){if(i&1){let t=O();u(0,"a",106),b("click",function(n){C(t);let o=d().select,a=d(4);return n.preventDefault(),y(a.clone(a.formelement,o,a.formelement.options));}),Jo(1,9),u(2,"i",31),T(3,"content_copy"),p()();}if(i&2){let t=d(5);Kr(t.formelement.label),lo(1),m("ngClass",ne(2,Wc,!t.form.valid));}}function q$e(i,r){if(i&1){let t=O();u(0,"a",107),b("click",function(n){C(t);let o=d().select,a=d(4);return n.preventDefault(),y(a.removePart(a.formelement,o));}),Jo(1,10),u(2,"i",31),T(3,"clear"),p()();}if(i&2){let t=d(5);Kr(t.formelement.label),lo(1),m("ngClass",ne(2,Wc,!t.form.valid));}}function Y$e(i,r){if(i&1){let t=O();u(0,"div",103),b("click",function(){let n=C(t).select,o=d(4);return y(o.navigateTo(n.url,o.formelement.options));}),T(1),p(),E(2,H$e,4,4,"a",104)(3,q$e,4,4,"a",105);}if(i&2){let t=r.select,e=d(4);c(),z(t.title),c(),m("ngIf",e.formelement.options&&e.formelement.options.length>0),c(),m("ngIf",e.formelement.options&&e.formelement.options.length>0);}}function X$e(i,r){if(i&1){let t=O();u(0,"a",108),b("click",function(n){C(t);let o=d(4);return n.preventDefault(),y(o.navigateTo(o.formelement.addUrl,o.formelement.options));}),Jo(1,11),u(2,"i",31),T(3,"add"),p()();}if(i&2){let t=d(4);Kr(t.formelement.label),lo(1),m("ngClass",ne(2,Wc,!t.form.valid));}}function K$e(i,r){if(i&1){let t=O();u(0,"a",109),b("click",function(n){C(t);let o=d(4);return n.preventDefault(),y(o.navigateTo(o.formelement.addUrl));}),Jo(1,12),u(2,"i",31),T(3,"add"),p(),T(4," Add"),p();}if(i&2){let t=d(4);Kr(t.formelement.label),lo(1),m("ngClass",ne(2,Wc,!t.form.valid));}}function Q$e(i,r){if(i&1&&(u(0,"div",99)(1,"dcm-select",100),E(2,Y$e,4,3,"ng-template"),p(),E(3,X$e,4,4,"a",101)(4,K$e,5,4,"a",102),p()),i&2){let t=d(3);m("ngClass",ne(5,q8e,!t.formelement.options||!t.formelement.options.length||t.formelement.options.length===0)),c(),m("options",t.formelement.options)("placeholder",t.formelement.options&&t.formelement.options.length&&t.formelement.options.length>0?"Select a "+t.formelement.label:"No child found"),c(2),m("ngIf",t.formelement.options&&t.formelement.options.length>0),c(),m("ngIf",!(t.formelement.options&&t.formelement.options.length>0));}}function Z$e(i,r){i&1&&(u(0,"div"),E(1,Q$e,5,7,"div",98),p()),i&2&&(c(),m("ngSwitchCase","buttondropdown"));}function J$e(i,r){if(i&1&&(u(0,"div",111)(1,"span",112),T(2),p()()),i&2){let t=d(3);c(2),z(t.formelement.msg);}}function eLe(i,r){i&1&&(u(0,"div"),E(1,J$e,3,1,"div",110),p()),i&2&&(c(),m("ngSwitchCase","message"));}function tLe(i,r){i&1&&(u(0,"span",112),U(1),P(2,6),W(),p());}function iLe(i,r){i&1&&(u(0,"span",112),U(1),P(2,7),W(),p());}function nLe(i,r){i&1&&(u(0,"span",112),U(1),P(2,8),W(),p());}function rLe(i,r){if(i&1&&(u(0,"span",112),T(1),p()),i&2){let t=d(3);c(),ue(" ",t.form.controls[t.formelement.key].errors.msg," ");}}function oLe(i,r){if(i&1&&(u(0,"div",113),E(1,tLe,3,0,"span",114)(2,iLe,3,0,"span",114)(3,nLe,3,0,"span",114)(4,rLe,2,1,"span",114),p()),i&2){let t=d(2);c(),m("ngIf",t.form.controls[t.formelement.key].errors&&t.form.controls[t.formelement.key].errors.required),c(),m("ngIf",t.form.controls[t.formelement.key].errors&&t.form.controls[t.formelement.key].errors.maxlength),c(),m("ngIf",t.form.controls[t.formelement.key].errors&&t.form.controls[t.formelement.key].errors.minlength),c(),m("ngIf",t.form.controls[t.formelement.key].errors&&t.form.controls[t.formelement.key].errors.msg);}}function aLe(i,r){if(i&1&&(u(0,"div",20),E(1,Z8e,4,3,"div",21)(2,e$e,2,1,"div",22)(3,i$e,2,1,"div",22)(4,u$e,9,8,"div",22)(5,m$e,2,1,"div",22)(6,f$e,2,1,"div",22)(7,C$e,2,1,"div",23)(8,S$e,2,1,"div",22)(9,x$e,2,1,"div",22)(10,M$e,2,1,"div",22)(11,G$e,2,1,"div",22)(12,B$e,2,1,"div",22)(13,Z$e,2,1,"div",22)(14,eLe,2,1,"div",22)(15,oLe,5,4,"div",24),p()),i&2){let t=d();m("ngClass",ne(16,U8e,t.formelement.format)),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",t.formelement.show||t.partSearch!=""),c(),m("ngIf",(t.formelement.show||t.partSearch!="")&&t.form.controls[t.formelement.key]&&t.form.controls[t.formelement.key].errors);}}function sLe(i,r){if(i&1&&(u(0,"i",31),T(1),p()),i&2){let t=d(2);c(),z(t.formelement.materialIconName);}}function lLe(i,r){if(i&1){let t=O();u(0,"div",115)(1,"h4",116),b("click",function(){C(t);let n=d();return y(n.toggleTab(n.formelement.order));}),E(2,sLe,2,1,"i",117),T(3),p()();}if(i&2){let t=d();c(),m("ngClass",ne(3,Wc,!t.form.valid)),c(),m("ngIf",t.formelement.materialIconName),c(),ue(" ",t.formelement.title);}}function cLe(i,r){if(i&1&&(u(0,"div",118),$(1,"span",119),p()),i&2){let t=d();c(),m("innerHtml",t.formelement.description,Re);}}var lB=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f,g,S,x,D,R,j){this.formservice=e,this.formcomp=n,this.router=a,this.deviceConfiguratorService=s,this.dialog=l,this.viewContainerRef=_,this.$http=f,this.ref=g,this.mainservice=S,this.controlService=x,this.j4care=D,this._fb=R,this._keycloakService=j,this.search=new lb(""),this.$localize=$localize,this.partRemoved=!1;}get isValid(){return this.form.controls[this.formelement.key].valid;}confirm(e){return this.dialogRef=this.dialog.open(Ei,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}downloadFile(e){if(!this.readOnlyMode){let n;this.mainservice.global.notSecure?Te.nativeWindow.open(e):this._keycloakService.getToken().subscribe(o=>{n=o.token,Te.nativeWindow.open(e+`?access_token=${n}`);});}}deleteFile(e,n){if(!this.readOnlyMode){let o=this;this.confirm({content:"Are you sure you want to delete the vendor data of this device?"}).subscribe(a=>{a&&(console.log("delete file form device",e),o.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${e}/vendordata`).subscribe(s=>{console.log("deleted successfully"),console.log("formelements",o.formelements),console.log("formelement",o.formelement);let l={controlType:"filedownload",description:"Device specific vendor configuration information",deviceName:"Testdevi2",downloadUrl:"../devices/Testdevi2/vendordata",key:"dicomVendorData",label:"Vendor Device Data",order:5.02,show:!0},_={controlType:"fileupload",description:"Device specific vendor configuration information",deviceName:"Testdevi2",key:"dicomVendorData",label:"Vendor Device Data",modus:"upload",order:5.02,show:!0};console.log(n),o.deviceConfiguratorService.device={},o.deviceConfiguratorService.schema={},o.router.navigateByUrl("blank").then(()=>{o.router.navigateByUrl(`/device/edit/${e}`);});}));});}}replaceFile(e){if(!this.readOnlyMode){let n=this;this.confirm({content:"Are you sure you want to replace the vendor data of this device?"}).subscribe(o=>{o&&this.uploadVendor(e);});}}uploadVendor(e){if(!this.readOnlyMode){let n=this;this.dialogRef=this.dialog.open(QA,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.deviceName=e,this.dialogRef.afterClosed().subscribe(o=>{o&&(console.log(n.formelements),n.deviceConfiguratorService.device={},n.deviceConfiguratorService.schema={},n.controlService.reloadArchive().subscribe(a=>{n.mainservice.showMsg("Archive reloaded successfully!"),n.router.navigateByUrl("blank").then(()=>{n.router.navigateByUrl(`/device/edit/${e}`);});},a=>{n.router.navigateByUrl("blank").then(()=>{n.router.navigateByUrl(`/device/edit/${e}`);});}));});}}addElement(e,n,o){if(!this.readOnlyMode){let s=this.formcomp.getForm().value;e.push(e[0]),n.options.push(n.options[0]),this.form=this.formservice.toFormGroup(this.formelements),this.formcomp.setForm(this.form),this.formcomp.setFormModel(s);}}removeObject(e,n){if(!this.readOnlyMode){let o=this;this.confirm({content:"Are you sure you want to remove this extension and all of its child objects?"}).subscribe(a=>{a&&(o.deviceConfiguratorService.removeExtensionFromDevice(e.devicereff),he(o.formelements,(s,l)=>{s.controlType==="button"&&s.devicereff===e.devicereff&&(s.value=0);}),o.ref.detectChanges());});}}extractIndexFromPath(e){if($c(e,"]"))try{let n=e.lastIndexOf("["),o=e.substring(n);o=Pn(o,"[",""),o=Pn(o,"]","");let a=e.substring(0,n);return{index:o,path:a};}catch{return null;}else if(ih(e,"/dicomNetworkConnection/"))try{let n=e.lastIndexOf("/"),o=e.substring(n);return o=Pn(o,"/",""),o;}catch{return null;}}removePart(e,n){if(!this.readOnlyMode){let o=this,a=this.formcomp.getForm();this.confirm({content:"Are you sure you want to remove this part from device?"}).subscribe(s=>{if(s){let l;if(new Ur().transform(e.options,"refString"),he(e.options,(_,f)=>{_.title===n.title&&(l=f);}),e.key==="dicomNetworkConnection"&&o.isReferenceUsed(o.deviceConfiguratorService.device,l))o.mainservice.showWarning("This element is referenced, remove references first then you can delete this element!");else{let _=e.options[e.options.length-1].url;e.options.splice(l,1),o.deviceConfiguratorService.removePartFromDevice(o.extractIndexFromPath(n.currentElementUrl))&&(o.partRemoved=!0,o.mainservice.showMsg("Element removed from object successfully!"),o.mainservice.setMessage({title:"Click to save",text:"Click save if you want to remove \""+n.title+"\n\" permanently!",status:"warning"}),e.addUrl=_,e.key==="dicomNetworkConnection"&&o.updateReferences(o.deviceConfiguratorService.device,l)),e.options.forEach((g,S)=>{if(l<=S){let x=Ve(S),D=o.extractIndexFromPath(e.options[x].currentElementUrl),R=e.options[x].currentElementUrl;e.options[x].currentElementUrl=`${D.path}[${D.index-1}]`,e.options[x].url=Pn(e.options[x].url,R,e.options[x].currentElementUrl),e.key==="dicomNetworkConnection"&&(e.options[x].refString=`/dicomNetworkConnection/${D.index-1}`);}});}new Ur().transform(e.options,"title"),o.ref.detectChanges();}});}}updateReferences(e,n){for(let o in e){if(o==="dicomNetworkConnectionReference")for(let a in e[o]){let s=this.extractIndexFromPath(e[o][a]);s>n&&(e[o][a]=`/dicomNetworkConnection/${parseInt(s)-1}`);}e[o]!==null&&typeof e[o]=="object"&&this.updateReferences(e[o],n);}}isReferenceUsed(e,n){let o={used:!1};return this._isReferenceUsed(e,n,o),o.used;}_isReferenceUsed(e,n,o){for(let a in e){if(a==="dicomNetworkConnectionReference")for(let s in e[a])this.extractIndexFromPath(e[a][s])==n&&(o.used=!0);e[a]!==null&&typeof e[a]=="object"&&this._isReferenceUsed(e[a],n,o);}}clone(e,n,o){if(!this.readOnlyMode){let a=e.addUrl+"/"+n.currentElementUrl;this.navigateTo(a,o);}}addArrayElement(e,n,o){if(!this.readOnlyMode){n=n||[],e=e||[],e.push("");let a=this.formcomp.getForm();n.push(new lb(""));let s=a.value;this.form=this.formservice.toFormGroup(this.formelements),this.form.patchValue(s),this.formcomp.setForm(this.form),this.formcomp.setFormModel(s),this.ref.detectChanges();}}removeArrayElement(e,n,o){this.readOnlyMode||e.value.length>n&&(this.form.controls[e.key].removeAt(n),he(this.formelements,(a,s)=>{a.key===e.key&&(this.formelements[s].value=this.form.value[e.key]);}),this.ref.detectChanges());}checkboxChange(e,n){this.readOnlyMode||(e.target.checked&&!A(this.form.controls[n.key].value,e.target.defaultValue)&&!A(this.form.controls[n.key].getRawValue(),e.target.defaultValue)?this.form.controls[n.key].insert(this.form.controls[n.key].value.length,new lb(this.tryToConvertValueToInt(e.target.defaultValue))):this.form.controls[n.key].removeAt(Jr(this.form.controls[n.key].value,this.tryToConvertValueToInt(e.target.defaultValue))));}tryToConvertValueToInt(e){try{let n=e*1;if(!isNaN(n)&&typeof n=="number")return e*1;}catch{}return e;}navigateTo(e,n){if(!this.readOnlyMode){let o=/\/\S*\/\S*\/(\S*)/,a;e!="-"&&((a=o.exec(e))!==null&&a[1]&&(this.deviceConfiguratorService.allOptions[a[1]]=new Ur().transform(n,"title")),this.router.navigateByUrl(e));}}toggleTab(e){if(this.form.valid){let o=this.formcomp.getForm().value;he(this.formelements,(a,s)=>{Math.floor(a.order)===e+1?a.show===!0?a.show=!1:a.show=!0:a.show=!1;}),this.form=this.formservice.toFormGroup(this.formelements),this.form.patchValue(o),this.formcomp.setForm(this.form),this.formcomp.setFormModel(o);}}onValueChange(e,n,o,a){try{console.log("trying to set the new value",e),n.controlType==="dynamiccheckbox"?n.type==="array"?this.form.setControl(n.key,this._fb.array(e)):this.form.controls[n.key].setValue(e):e&&e!=""&&(n.controlType==="arrayelement"?(o[a].setValue(e),n.value[a]=e):e==="empty"?(o.setValue(""),n.value=""):(o.setValue(e),n.value=e));}catch(s){console.error("error setting changed value",s);}n.showPicker=!1,n.showTimePicker=!1,n.showLanguagePicker=!1,n.showPropertyPicker=!1,n.showDurationPicker=!1,n.showSchedulePicker=!1,n.showCharSetPicker=!1;}dropdownChange(e,n){if(e.options&&e.options.length>0){let o=!1;he(e.options,(a,s)=>{a.value===n.value?(o=!0,a.active=!0):a.active=!1;}),!o&&n.value===""&&n.setValue("");}}getTitleBackup(e,n){switch(e){case"remove":return"Remove "+n+" extension from device";case"append":return"Append "+n+" extension to device";}return"";}onFocuse(e,n=null){e.format&&(e.format==="dcmLanguageChooser"&&(n!=null?(e.showLanguagePicker=e.showLanguagePicker||{},e.showLanguagePicker[n]=!0):e.showLanguagePicker=!0),(e.format==="dcmTag"||e.format==="dcmTransferSyntax"||e.format==="dcmSOPClass"||e.format==="dcmProperty")&&(n!=null?(e.showPicker=e.showPicker||{},e.showPicker[n]=!0):e.showPicker=!0),e.format==="dcmTime"&&(n!=null?(e.showTimePicker=e.showTimePicker||{},e.showTimePicker[n]=!0):e.showTimePicker=!0),(e.format==="dcmDuration"||e.format==="dcmPeriod")&&(n!=null?(e.showDurationPicker=e.showDurationPicker||{},e.showDurationPicker[n]=!0):e.showDurationPicker=!0),(e.format==="dcmCharset"||e.format==="hl7Charset")&&(n!=null?(e.showCharSetPicker=e.showCharSetPicker||{},e.showCharSetPicker[n]=!0):e.showCharSetPicker=!0),e.format==="dcmSchedule"&&(n!=null?(e.showSchedulePicker=e.showSchedulePicker||{},e.showSchedulePicker[n]=!0):e.showSchedulePicker=!0));}onMouseEnter(e,n=null){e.format==="dcmLanguageChooser"&&(n!=null?(e.showPickerTooltipp=e.showPickerTooltipp||{},e.showPickerTooltipp[n]=!0):e.showPickerTooltipp=!0),e.format&&(e.format==="dcmTag"||e.format==="dcmTransferSyntax"||e.format==="dcmSOPClass"||e.format==="dcmLanguageChooser")&&(n!=null?(e.showPickerTooltipp=e.showPickerTooltipp||{},e.showPickerTooltipp[n]=!0):e.showPickerTooltipp=!0);}onMouseLeave(e){e.showPickerTooltipp=!1;}ngOnDestroy(){this.ref.detach();}};r.ɵfac=function(n){return new(n||r)(k(bh),k(Qp),k(ze),k(Hi),k(Vn),k(ri),k(Mt),k(Fe),k($t),k(le),k(Dl),k(I),k(Ed),k(Pe));},r.ɵcmp=Z({type:r,selectors:[["df-element"]],inputs:{formelement:"formelement",formelements:"formelements",form:"form",partSearch:"partSearch",readOnlyMode:"readOnlyMode"},standalone:!1,decls:6,vars:13,consts:()=>{let e;e="Delete File";let n;n="Replace File";let o;o="Download";let a;a="Upload";let s;s="Search...";let l;l="add";let _;_="Add";let f;f="Remove this value from the array";let g;g="Edit extension";let S;S="Extension is not present";let x;x="Add new "+"\uFFFD0\uFFFD"+"";let D;D="Add new "+"\uFFFD0\uFFFD"+"";let R;R="Clone this "+"\uFFFD0\uFFFD"+" part";let j;j="Delete this "+"\uFFFD0\uFFFD"+" part";let V;V="This field is required!";let ie;ie="The text is too long!";let _e;return _e="The text is too short!",[o,a,l,_,g,S,V,ie,_e,["title",R],["title",j],["title",x],["title",D],[3,"formGroup","ngClass"],["class","title",4,"ngIf"],[1,"form_content",3,"ngSwitch","ngClass"],["class","content",3,"ngClass",4,"ngIf"],["class","toggle",4,"ngSwitchCase"],["class","description_parent",4,"ngIf"],[1,"title"],[1,"content",3,"ngClass"],["class","download_content",4,"ngIf"],[4,"ngIf"],["class","dropdown_parent",4,"ngIf"],["class","error_msg",4,"ngIf"],[1,"download_content"],["class","vendordata_button",3,"click",4,"ngSwitchCase"],["class","vendordata_delete","title",e,3,"click",4,"ngSwitchCase"],["class","vendordata_replace","title",n,3,"click",4,"ngSwitchCase"],[1,"vendordata_button",3,"click"],["title",e,1,"vendordata_delete",3,"click"],[1,"material-icons"],["title",n,1,"vendordata_replace",3,"click"],["class","simple_input text disabled","disabled","","type","text",3,"value",4,"ngSwitchCase"],["disabled","","type","text",1,"simple_input","text","disabled",3,"value"],["class","simple_input text",3,"formControlName","id","type","click","mouseenter","mouseleave",4,"ngSwitchCase"],[3,"dictionary","formelement","onValueSet",4,"ngIf"],[3,"dictionary","value",4,"ngIf"],[3,"onValueSet",4,"ngIf"],[3,"value","mode","onValueSet",4,"ngIf"],[3,"value","onValueSet",4,"ngIf"],[3,"format","mode","value","onValueSet",4,"ngIf"],[1,"simple_input","text",3,"click","mouseenter","mouseleave","formControlName","id","type"],[3,"onValueSet","dictionary","formelement"],[3,"dictionary","value"],[3,"onValueSet"],[3,"onValueSet","value","mode"],[3,"onValueSet","value"],[3,"onValueSet","format","mode","value"],[3,"mode","checked","type","onValueChange",4,"ngSwitchCase"],[3,"onValueChange","mode","checked","type"],["class","simple_input number","type","number",3,"formControlName","id",4,"ngSwitchCase"],["type","number",1,"simple_input","number",3,"formControlName","id"],[1,"dropdown_parent"],["class","dropdown",3,"id","formControlName","change",4,"ngSwitchCase"],[1,"dropdown",3,"change","id","formControlName"],["value","",4,"ngIf"],[3,"value","title",4,"ngFor","ngForOf"],["value",""],[3,"value","title"],["class","radiobuttons_parent",4,"ngSwitchCase"],[1,"radiobuttons_parent"],[3,"title",4,"ngFor","ngForOf"],[3,"title"],["type","radio",3,"id","formControlName","value","checked"],["class","checkbox_parent",3,"formArrayName","ngClass",4,"ngSwitchCase"],[1,"checkbox_parent",3,"formArrayName","ngClass"],["type","text","placeholder",s,3,"formControl",4,"ngIf"],["type","text","placeholder",s,3,"formControl"],["type","checkbox",3,"change","id","name","value","checked"],["class","arrayobject",3,"formArrayName",4,"ngSwitchCase"],[1,"arrayobject",3,"formArrayName"],["name","",3,"formGroupName",4,"ngFor","ngForOf"],[3,"click"],["name","",3,"formGroupName"],[4,"ngFor","ngForOf"],[3,"formelement","form","formelements"],["class","array_parent",3,"formArrayName",4,"ngSwitchCase"],[1,"array_parent",3,"formArrayName"],["class","array_single",3,"ngClass",4,"ngFor","ngForOf"],[1,"add",3,"click"],[1,"array_single",3,"ngClass"],["type","number",3,"formControlName",4,"ngIf"],[3,"formControlName","type","click","mouseenter","mouseleave",4,"ngIf"],["title",f,1,"delete",3,"click"],[3,"mode","value","onValueSet",4,"ngIf"],["type","number",3,"formControlName"],[3,"click","mouseenter","mouseleave","formControlName","type"],[3,"onValueSet","mode","value"],["class","button_parent",4,"ngSwitchCase"],[1,"button_parent"],["class","button_content",4,"ngIf"],[1,"button_content"],[1,"button","edit",3,"click","ngClass","title"],[1,"text"],[1,"delete","button",3,"click","ngClass","title"],[1,"button","edit","gray","disabled",3,"click","ngClass","title"],[1,"add","button",3,"ngClass","routerLink","title"],["class","dropdown_button",3,"ngClass",4,"ngSwitchCase"],[1,"dropdown_button",3,"ngClass"],[3,"options","placeholder"],["class","button add",3,"ngClass","title","click",4,"ngIf"],["class","button add big",3,"ngClass","title","click",4,"ngIf"],[1,"title_select_block",3,"click"],["class","clone_button",3,"ngClass","title","click",4,"ngIf"],["class","remove_button",3,"ngClass","title","click",4,"ngIf"],[1,"clone_button",3,"click","ngClass",6,"title"],[1,"remove_button",3,"click","ngClass",6,"title"],[1,"button","add",3,"click","ngClass",6,"title"],[1,"button","add","big",3,"click","ngClass",6,"title"],["class","dropdown_button",4,"ngSwitchCase"],[1,"dropdown_button"],[1,"text-danger"],[1,"error_msg"],["class","text-danger",4,"ngIf"],[1,"toggle"],[3,"click","ngClass"],["class","material-icons",4,"ngIf"],[1,"description_parent"],[1,"description",3,"innerHtml"]];},template:function(n,o){n&1&&(u(0,"div",13),E(1,Y8e,4,2,"div",14),u(2,"div",15),E(3,aLe,16,18,"div",16)(4,lLe,4,5,"div",17),p(),E(5,cLe,2,1,"div",18),p()),n&2&&(be(Ct("dynamicform ",o.formelement.controlType)),m("formGroup",o.form)("ngClass",ne(11,j8e,!o.formelement.show&&o.partSearch==="")),c(),m("ngIf",o.formelement.show||o.partSearch!=""),c(),m("ngSwitch",o.formelement.controlType)("ngClass",o.formelement.controlType),c(),m("ngIf",o.formelement.show||o.partSearch!=""),c(),m("ngSwitchCase","togglebutton"),c(),m("ngIf",o.formelement.show||o.partSearch!=""));},dependencies:[Je,ve,de,fr,Qr,Me,Fo,Sc,Se,h_,fi,ii,VR,cl,T0,db,ub,Mr,yh,n2,_h,fh,r2,o2,l2,c2,_2,r,yt],encapsulation:2,changeDetection:0});let i=r;return i;})();var v2=(()=>{let r=class r{constructor(e,n,o,a){this.$http=e,this.mainservice=n,this.deviceService=o,this.tableService=a,this.header=new At({"Content-Type":"application/json"});}search(e,n,o){return this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/export${o?"/batch":""}?${this.mainservice.param(this.queryParams(e,n))}`);}getCount(e){let n=Oe(e);return delete n.offset,delete n.limit,delete n.orderby,this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/export/count?${this.mainservice.param(this.paramWithoutLimit(n))}`);}paramWithoutLimit(e){let n=this.queryParams(e,void 0);return delete n.limit,n;}queryParams(e,n){let o=Oe(e);return o.offset=n&&n!=""?n:0,o.status&&o.status==="*"&&delete o.status,o.ExporterID&&o.ExporterID==="*"&&delete o.ExporterID,o.updatedTimeObject&&delete o.updatedTimeObject,o.createdTimeObject&&delete o.createdTimeObject,o;}cancel(e){return this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/export/${e}/cancel`,{});}cancelAll(e){let n=this.mainservice.param(e);return n=n?`?${n}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/export/cancel${n}`,{},this.header);}delete(e){return this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/export/${e}`);}deleteAll(e){let n=this.mainservice.param(e);return n=n?`?${n}`:"",this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/export${n}`,this.header);}reschedule(e,n,o){o=o||"";let a=this.mainservice.param(o);return a=a?`?${a}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/export/${e}/reschedule/${n+a}`,{});}rescheduleAll(e,n){let o=this.mainservice.param(e);o=o?`?${o}`:"";let a=n?`/${n}`:"";return this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/export/reschedule${a}${o}`,{},this.header);}downloadCsv(e){let n=this.mainservice.param(e);n=n?`?${n}`:"";let o=new At({Accept:"text/csv"});return this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}/monitor/export${n}`,o);}getDevices(){return this.deviceService.getDevices();}statusValues(){return[{value:"SCHEDULED",text:"SCHEDULED",key:"scheduled"},{value:"SCHEDULED FOR RETRY",text:"S. FOR RETRY",key:"scheduled-for-retry"},{value:"IN PROCESS",text:"IN PROCESS",key:"in-process"},{value:"COMPLETED",text:"COMPLETED",key:"completed"},{value:"WARNING",text:"WARNING",key:"warning"},{value:"FAILED",text:"FAILED",key:"failed"},{value:"CANCELED",text:"CANCELED",key:"canceled"}];}getDialogSchema(e,n,o){return[[[{tag:"label_large",text:o||"Change the exporter for all rescheduled tasks. To reschedule with the original exporters associated with the tasks, leave blank:"}],[{tag:"label",text:"Exporter ID"},{tag:"select",options:e.map(a=>({text:a.description,value:a.id})),showStar:!0,filterKey:"selectedExporter",description:"Exporter ID",placeholder:"Exporter ID"}],[{tag:"label_large",text:"Select device if you want to reschedule to an other device:"}],[{tag:"label",text:"Device"},{tag:"select",options:n.map(a=>({text:a.dicomDeviceName,value:a.dicomDeviceName})),showStar:!0,filterKey:"newDeviceName",description:"Device",placeholder:"Device"}],[{tag:"label",text:"Schedule at (if not set, schedule immediately)"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]];}getFilterSchema(e,n,o){return[[[{tag:"multi-select",options:e.map(a=>({text:a.description||a.id,value:a.id})),showSearchField:!0,filterKey:"ExporterID",description:"Exporter ID",placeholder:"Exporter ID"},{tag:"html-select",options:n.map(a=>({text:a.dicomDeviceName,value:a.dicomDeviceName})),showStar:!0,showSearchField:!0,filterKey:"dicomDeviceName",description:"Device Name to filter by",placeholder:"Device Name"}],[{tag:"label",text:"Limit"},{tag:"input",type:"number",filterKey:"limit",description:"Maximal number of tasks in returned list"}],[{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"},{tag:"select",options:this.statusValues(),filterKey:"status",showStar:!0,description:"Status of tasks to filter by",placeholder:"Status"}]],[[{tag:"range-picker",filterKey:"createdTime",description:"Created Date"},{tag:"range-picker",filterKey:"updatedTime",description:"Updated Date"}],[{tag:"select",options:[{value:"createdTime",text:"Sort by creation time (ASC)"},{value:"-createdTime",text:"Sort by creation time (DESC)"},{value:"updatedTime",text:"Sort by updated time (ASC)"},{value:"-updatedTime",text:"Sort by updated time (DESC)"},{value:"scheduledTime",text:"Sort by scheduled time (ASC)"},{value:"-scheduledTime",text:"Sort by scheduled time (DESC)"}],filterKey:"orderby",description:"Sort",placeholder:"Sort"},{tag:"input",type:"text",filterKey:"StudyInstanceUID",description:"Unique Identifier of the Study to filter by",placeholder:"Study Instance UID"}],[{tag:"button",id:"count",text:o,description:"Query only the count"},{tag:"button",id:"submit",text:"SUBMIT",description:"Maximal number of tasks in returned list"}]]];}getTableSchema(e,n,o){return A(o,"grouped")&&o.grouped?[new J({type:"index",title:"#",description:"Index",widthWeight:.2,calculatedWidth:"4%"}),new J({type:"actions",title:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:a=>{console.log("e",a),a.showAttributes=!a.showAttributes;},title:"Show details"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-list-alt",text:""},click:a=>{console.log("e",a),n.call(e,"task-detail",a);},title:"Show Tasks Detail"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete-batched",a);},permission:{id:"action-monitoring->export-single_action",param:"visible"},title:"Delete Task with this BatchID"}],description:"Actions",pxWidth:105}),new J({type:"value",title:"Batch ID",pathToValue:"batchID",description:"Batch ID",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Device Name",pathToValue:"dicomDeviceName",description:"Device Name",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Exporter ID",pathToValue:"ExporterID",description:"Exporter ID",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Scheduled Time Range",pathToValue:"scheduledTimeRange",description:"Scheduled Time Range",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Processing Start Time Range",pathToValue:"processingStartTimeRange",description:"Processing Start Time Range",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Processing end time range",pathToValue:"processingEndTimeRange",description:"Processing end time range",widthWeight:1,calculatedWidth:"20%"}),new J({type:"progress",title:"Tasks",pathToValue:"tasks",description:"Tasks",widthWeight:1.5,cssClass:"no-padding",calculatedWidth:"20%"})]:[new J({type:"index",title:"#",description:"Index",widthWeight:.2,calculatedWidth:"4%",pxWidth:30}),new J({type:"actions",title:"",headerActions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:(a,s)=>{a.forEach(l=>{l.selected=!0;}),s.allSelected=!0;},title:"Select",showIf:(a,s)=>!s.allSelected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:(a,s)=>{a.forEach(l=>{l.selected=!1;}),s.allSelected=!1;},title:"Unselect",showIf:(a,s)=>s.allSelected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ban-circle",text:""},click:a=>{console.log("e",a),n.call(e,"cancel-selected",a);},permission:{id:"action-monitoring->export-single_action",param:"visible"},title:"Cancel selected"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-repeat",text:""},click:a=>{console.log("e",a),n.call(e,"reschedule-selected",a);},permission:{id:"action-monitoring->export-single_action",param:"visible"},title:"Reschedule selected"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete-selected",a);},permission:{id:"action-monitoring->export-single_action",param:"visible"},title:"Delete selected"}],actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:a=>{a.selected=!a.selected;},title:"Select",showIf:(a,s)=>!a.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:a=>{console.log("e",a),a.selected=!a.selected;},title:"Unselect",showIf:(a,s)=>a.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ban-circle",text:""},click:a=>{console.log("e",a),n.call(e,"cancel",a);},title:"Cancel this task",permission:{id:"action-monitoring->export-single_action",param:"visible"},showIf:a=>a.status&&(a.status==="SCHEDULED"||a.status==="SCHEDULED FOR RETRY"||a.status==="IN PROCESS")},{icon:{tag:"span",cssClass:"glyphicon glyphicon-repeat",text:""},click:a=>{console.log("e",a),n.call(e,"reschedule",a);},title:"Reschedule this task",permission:{id:"action-monitoring->export-single_action",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete",a);},permission:{id:"action-monitoring->export-single_action",param:"visible"},title:"Delete this task"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:a=>{console.log("e",a),a.showAttributes=!a.showAttributes;},title:"Show details"}],description:"Actions",pxWidth:105}),...this.tableService.getTableSchema(ca(["dicomDeviceName","queue"],this.tableService.getTimeColumnBasedOnFilter(o.filterObject),["processingStartTime_scheduledTime","processingEndTime_processingStartTime","LocalAET","ExporterID","Modality","NumberOfInstances","status","failures","batchID"]))];}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le),K(Xt),K(Ol));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var uLe=()=>({id:"action-monitoring->export-all_action",param:"visible"}),r3=i=>({active:i}),pLe=(i,r)=>({gray:i,red:r});function mLe(i,r){if(i&1&&(u(0,"td"),T(1),p()),i&2){let t=d().$implicit,e=d(2);c(),z(e.statusValues[t]==null?null:e.statusValues[t].count);}}function _Le(i,r){i&1&&(u(0,"td"),$(1,"i",37),p());}function fLe(i,r){if(i&1&&(u(0,"tr",36)(1,"td"),T(2),p(),E(3,mLe,2,1,"td",35)(4,_Le,2,0,"td",35),p()),i&2){let t=r.$implicit,e=d(2);m("ngClass",yn(4,pLe,(e.statusValues[t]==null?null:e.statusValues[t].count)=="0",(e.statusValues[t]==null?null:e.statusValues[t].count)=="!")),c(2),ue("",e.statusValues[t].text,":"),c(),m("ngIf",!(e.statusValues[t]!=null&&e.statusValues[t].loader)),c(),m("ngIf",e.statusValues[t]==null?null:e.statusValues[t].loader);}}function hLe(i,r){i&1&&$(0,"span",38);}function gLe(i,r){i&1&&$(0,"mat-progress-spinner",39),i&2&&m("diameter",20);}function vLe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2);c(),z(t.timer.startText);}}function CLe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2);c(),z(t.timer.stopText);}}function yLe(i,r){if(i&1){let t=O();u(0,"div",25)(1,"div",26)(2,"table"),E(3,fLe,5,7,"tr",27),p(),u(4,"div",28)(5,"div",29)(6,"label"),P(7,4),p(),u(8,"input",30),q("ngModelChange",function(n){C(t);let o=d();return Y(o.interval,n)||(o.interval=n),y(n);}),p(),u(9,"span"),T(10,"s"),p()(),u(11,"button",31),b("click",function(){C(t);let n=d();return y(n.toggleAutoRefresh());}),u(12,"div",32),E(13,hLe,1,0,"span",33)(14,gLe,1,1,"mat-progress-spinner",34),p(),E(15,vLe,2,1,"span",35)(16,CLe,2,1,"span",35),p()()()();}if(i&2){let t=d();c(3),m("ngForOf",t.Object.keys(t.statusValues)),c(5),H("ngModel",t.interval),c(5),m("ngIf",!t.timer.started),c(),m("ngIf",t.timer.started),c(),m("ngIf",!t.timer.started),c(),m("ngIf",t.timer.started);}}function bLe(i,r){if(i&1&&(u(0,"mat-option",40),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.value)),c(),z(t.label);}}function SLe(i,r){if(i&1){let t=O();u(0,"div",41),b("click",function(){C(t);let n=d();return y(n.prev());}),$(1,"span",42),p();}if(i&2){let t=d();m("ngClass",ne(1,r3,t.filterObject.offset>0));}}function ELe(i,r){if(i&1){let t=O();u(0,"div",43),b("click",function(){C(t);let n=d();return y(n.next());}),$(1,"span",44),p();}if(i&2){let t=d();m("ngClass",ne(1,r3,t.moreTasks));}}function TLe(i,r){if(i&1&&$(0,"table-generator",45),i&2){let t=d();m("stringifyDetailAttributes",!0)("config",t.tableConfigNormal)("models",t.matches);}}function ILe(i,r){if(i&1&&$(0,"table-generator",45),i&2){let t=d();m("stringifyDetailAttributes",!0)("config",t.tableConfigGrouped)("models",t.matches);}}var cB=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f,g,S,x){this.$http=e,this.cfpLoadingBar=n,this.mainservice=o,this.service=a,this.viewContainerRef=s,this.dialog=l,this.httpErrorHandler=_,this.route=f,this.aeListService=g,this.permissionService=S,this._keycloakService=x,this.matches=[],this.exportTasks=[],this.timer={started:!1,startText:"Start Auto Refresh",stopText:"Stop Auto Refresh"},this.statusValues={},this.interval=10,this.Object=Object,this.batchGrouped=!1,this._=ye,this.filterLoadFinished=!1,this.allActionsOptions=[{value:"cancel",label:"Cancel all matching tasks"},{value:"reschedule",label:"Reschedule all matching tasks"},{value:"delete",label:"Delete all matching tasks"}],this.allActionsActive=[],this.tableHovered=!1,this.filterObject={limit:20,offset:0},this.tableConfigNormal={search:""},this.tableConfigGrouped={search:""},this.moreTasks=!1;}ngOnInit(){this.initCheck(10);}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.route.queryParams.subscribe(o=>{this.urlParam=Object.assign({},o),this.init();}):e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){this.route.queryParams.subscribe(e=>{e&&e.dicomDeviceName&&(this.filterObject.dicomDeviceName=e.dicomDeviceName,this.search(0));}),this.initExporters(1),this.getAets(),this.service.statusValues().forEach(e=>{this.statusValues[e.value]={count:0,loader:!1,text:e.text};}),this.statusChange();}action(e,n){switch(e){case"cancel-selected":this.executeAll("cancel");break;case"reschedule-selected":this.executeAll("reschedule");break;case"delete-selected":this.executeAll("delete");break;case"delete":this.delete(n);break;case"cancel":this.cancel(n);break;case"reschedule":this.reschedule(n);break;case"task-detail":this.showTaskDetail(n);break;case"delete-batched":this.deleteBatchedTask(n);break;}}initSchema(){this.setFilterSchema(),this.urlParam&&(this.filterObject=this.urlParam,this.filterObject.limit=20,this.filterObject.offset=0,this.filterObject.orderby="-updatedTime"),console.log("this.filterObject",this.filterObject),this.setTableSchemas();}setTableSchemas(){this.tableConfigNormal={table:I.calculateWidthOfTable(this.service.getTableSchema(this,this.action,{grouped:!1,getDifferenceTime:this.getDifferenceTime,filterObject:this.filterObject})),table_grouped:I.calculateWidthOfTable(this.service.getTableSchema(this,this.action,{grouped:!0,getDifferenceTime:this.getDifferenceTime,filterObject:this.filterObject})),filter:this.filterObject,search:"",showAttributes:!1,calculate:!1},this.tableConfigGrouped={table:I.calculateWidthOfTable(this.service.getTableSchema(this,this.action,{grouped:!0,getDifferenceTime:this.getDifferenceTime,filterObject:this.filterObject})),filter:this.filterObject,search:"",showAttributes:!1,calculate:!1};}setFilterSchema(){this.filterSchema=this.service.getFilterSchema(this.exporters,this.devices,"COUNT "+(this.count||this.count==0?this.count:"")+"");}onFormChange(e){console.log("e",e),this.statusChange(),this.setTableSchemas();}filterKeyUp(e){(e.keyCode?e.keyCode:e.which)===13&&this.search(0);}confirm(e){return this.dialogRef=this.dialog.open(Ei,{height:"auto",width:"465px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}toggleAutoRefresh(){this.timer.started=!this.timer.started,this.timer.started?(this.getCounts(),this.refreshInterval=setInterval(()=>{this.getCounts();},this.interval*1e3)):clearInterval(this.refreshInterval);}tableMousEnter(){this.tableHovered=!0;}tableMousLeave(){this.tableHovered=!1;}onSubmit(e){A(e,"id")&&A(e,"model")&&(e.id==="count"?this.getCount():this.getCounts());}getCounts(e){let n=Object.assign({},this.filterObject);this.tableHovered||this.search(0),Object.keys(this.statusValues).forEach(o=>{n.status=o,this.statusValues[o].loader=!0,this.service.getCount(n).subscribe(a=>{this.statusValues[o].loader=!1;try{this.statusValues[o].count=a.count;}catch{this.statusValues[o].count="";}},a=>{this.statusValues[o].loader=!1,this.statusValues[o].count="!";});});}downloadCsv(){this.confirm({content:"Do you want to use semicolon as delimiter?",cancelButton:"No",saveButton:"Yes",result:"yes"}).subscribe(e=>{let n=!1;e&&(n=!0);let o;this._keycloakService.getToken().subscribe(a=>{this.mainservice.global.notSecure||(o=a.token);let s=Oe(this.filterObject);delete s.offset,delete s.limit,this.mainservice.global.notSecure?I.downloadFile(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/export?accept=text/csv${n?";delimiter=semicolon":""}&${this.mainservice.param(s)}`,"export.csv"):I.downloadFile(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/export?accept=text/csv${n?";delimiter=semicolon":""}&access_token=${o}&${this.mainservice.param(s)}`,"export.csv");});});}uploadCsv(){this.dialogRef=this.dialog.open(Du,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.params={exporterID:this.exporterID||"",batchID:this.filterObject.batchID||"",formSchema:[{tag:"input",type:"checkbox",filterKey:"semicolon",description:"Use semicolon as delimiter"},{tag:"range-picker-time",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"},{tag:"select",options:this.aets,showStar:!0,filterKey:"LocalAET",description:"Local AET",placeholder:"Local AET",validation:Ci.required},{tag:"select",options:this.exporters.map(e=>({value:e.id,text:e.id})),showStar:!0,filterKey:"exporterID",description:"Exporter ID",placeholder:"Exporter ID",validation:Ci.required},{tag:"input",type:"number",filterKey:"studyUIDField",description:"Study UID Field",placeholder:"Study UID Field",validation:[Ci.minLength(1),Ci.min(1)],defaultValue:1},{tag:"input",type:"number",filterKey:"seriesUIDField",description:"Series UID Field",placeholder:"Series UID Field",validation:[Ci.minLength(1),Ci.min(1)],defaultValue:null},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],prepareUrl:e=>{let n={};return e.batchID&&(n.batchID=e.batchID),e.scheduledTime&&(n.scheduledTime=e.scheduledTime),e.seriesUIDField?`${I.addLastSlash(this.mainservice.baseUrl)}aets/${e.LocalAET}/rs/studies/csv:${e.studyUIDField}/series/csv:${e.seriesUIDField}/export/${e.exporterID}${I.getUrlParams(n)}`:`${I.addLastSlash(this.mainservice.baseUrl)}aets/${e.LocalAET}/rs/studies/csv:${e.studyUIDField}/export/${e.exporterID}${I.getUrlParams(n)}`;}},this.dialogRef.afterClosed().subscribe(e=>{e&&console.log("ok",e);});}showTaskDetail(e){this.filterObject.batchID=e.batchID,this.batchGrouped=!1,this.search(0);}search(e){let n=this;n.cfpLoadingBar.start(),this.service.search(this.filterObject,e,this.batchGrouped).subscribe(o=>{po.production||(this.batchGrouped?o=[{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]}]:o=[{taskID:"1913",dicomDeviceName:"demoj4c",queue:"Export3",type:"EXPORT",status:"FAILED",failures:"11",createdTime:"2022-03-15T01:20:51.518+0100",updatedTime:"2022-03-15T19:44:09.218+0100",scheduledTime:"2022-03-15T19:44:00.947+0100",processingStartTime:"2022-03-15T19:44:04.725+0100",processingEndTime:"2022-03-15T19:44:09.026+0100",errorMessage:"Java heap space",LocalAET:"DEMOJ4C",ExporterID:"XDS-PnR",StudyInstanceUID:"2.25.253254299183063559800543717906499910894",NumberOfInstances:"2079",Modality:["CT"]},{taskID:"1911",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",failures:"11",createdTime:"2022-03-15T01:20:51.492+0100",updatedTime:"2022-03-15T19:43:12.413+0100",scheduledTime:"2022-03-15T19:43:00.654+0100",processingStartTime:"2022-03-15T19:43:07.180+0100",processingEndTime:"2022-03-15T19:43:12.201+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series Thumbnails",StudyInstanceUID:"2.25.253254299183063559800543717906499910894",NumberOfInstances:"2079",Modality:["CT"]},{taskID:"1910",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",failures:"11",createdTime:"2022-03-15T01:20:51.476+0100",updatedTime:"2022-03-15T19:43:11.194+0100",scheduledTime:"2022-03-15T19:43:00.643+0100",processingStartTime:"2022-03-15T19:43:06.158+0100",processingEndTime:"2022-03-15T19:43:10.799+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.253254299183063559800543717906499910894",NumberOfInstances:"2079",Modality:["CT"]},{taskID:"1912",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",failures:"11",createdTime:"2022-03-15T01:20:51.504+0100",updatedTime:"2022-03-15T19:43:11.194+0100",scheduledTime:"2022-03-15T19:43:00.644+0100",processingStartTime:"2022-03-15T19:43:05.960+0100",processingEndTime:"2022-03-15T19:43:10.799+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - QIDO Study Series",StudyInstanceUID:"2.25.253254299183063559800543717906499910894",NumberOfInstances:"2079",Modality:["CT"]},{taskID:"1914",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",failures:"11",createdTime:"2022-03-15T01:20:51.530+0100",updatedTime:"2022-03-15T19:43:10.206+0100",scheduledTime:"2022-03-15T19:43:00.643+0100",processingStartTime:"2022-03-15T19:43:04.982+0100",processingEndTime:"2022-03-15T19:43:09.786+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - QIDO Study Instances",StudyInstanceUID:"2.25.253254299183063559800543717906499910894",NumberOfInstances:"2079",Modality:["CT"]},{taskID:"1917",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.572+0100",updatedTime:"2022-03-15T19:41:30.097+0100",scheduledTime:"2022-03-15T19:41:00.721+0100",processingStartTime:"2022-03-15T19:41:05.308+0100",processingEndTime:"2022-03-15T19:41:29.900+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series Thumbnails",StudyInstanceUID:"2.25.133790264388916295901178041223591125703",NumberOfInstances:"310",Modality:["CT","PR","KO"]},{taskID:"1941",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.888+0100",updatedTime:"2022-03-15T19:39:01.415+0100",scheduledTime:"2022-03-15T19:38:01.384+0100",processingStartTime:"2022-03-15T19:39:01.226+0100",processingEndTime:"2022-03-15T19:39:01.414+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series Thumbnails",StudyInstanceUID:"2.25.229975568262236341440816121223809588447",NumberOfInstances:"2958",Modality:["CT","SR"]},{taskID:"1933",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.746+0100",updatedTime:"2022-03-15T19:39:01.357+0100",scheduledTime:"2022-03-15T19:38:01.344+0100",processingStartTime:"2022-03-15T19:39:01.217+0100",processingEndTime:"2022-03-15T19:39:01.356+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series Thumbnails",StudyInstanceUID:"2.25.150446237572158364218250943566632959728",NumberOfInstances:"1007",Modality:["CT","PR","SR"]},{taskID:"1921",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.622+0100",updatedTime:"2022-03-15T19:39:01.283+0100",scheduledTime:"2022-03-15T19:38:01.259+0100",processingStartTime:"2022-03-15T19:39:01.209+0100",processingEndTime:"2022-03-15T19:39:01.281+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series Thumbnails",StudyInstanceUID:"2.25.38075169170603874823282185203405259704",NumberOfInstances:"7",Modality:["PR","DX"]},{taskID:"1915",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.548+0100",updatedTime:"2022-03-15T19:39:01.221+0100",scheduledTime:"2022-03-15T19:38:01.104+0100",processingStartTime:"2022-03-15T19:39:01.192+0100",processingEndTime:"2022-03-15T19:39:01.220+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - QIDO Study Instances",StudyInstanceUID:"2.25.133790264388916295901178041223591125703",NumberOfInstances:"310",Modality:["CT","PR","KO"]},{taskID:"1925",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.667+0100",updatedTime:"2022-03-15T19:39:01.221+0100",scheduledTime:"2022-03-15T19:38:01.097+0100",processingStartTime:"2022-03-15T19:39:01.176+0100",processingEndTime:"2022-03-15T19:39:01.220+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series Thumbnails",StudyInstanceUID:"2.25.244811086690625888516433847572724695651",NumberOfInstances:"3",Modality:["CR"]},{taskID:"1916",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.559+0100",updatedTime:"2022-03-15T19:39:01.189+0100",scheduledTime:"2022-03-15T19:38:01.062+0100",processingStartTime:"2022-03-15T19:39:01.167+0100",processingEndTime:"2022-03-15T19:39:01.188+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - QIDO Study Series",StudyInstanceUID:"2.25.133790264388916295901178041223591125703",NumberOfInstances:"310",Modality:["CT","PR","KO"]},{taskID:"1919",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.597+0100",updatedTime:"2022-03-15T19:39:01.180+0100",scheduledTime:"2022-03-15T19:38:01.015+0100",processingStartTime:"2022-03-15T19:39:01.159+0100",processingEndTime:"2022-03-15T19:39:01.179+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - QIDO Study Instances",StudyInstanceUID:"2.25.38075169170603874823282185203405259704",NumberOfInstances:"7",Modality:["PR","DX"]},{taskID:"1920",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.610+0100",updatedTime:"2022-03-15T19:39:01.170+0100",scheduledTime:"2022-03-15T19:38:00.987+0100",processingStartTime:"2022-03-15T19:39:01.142+0100",processingEndTime:"2022-03-15T19:39:01.169+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - QIDO Study Series",StudyInstanceUID:"2.25.38075169170603874823282185203405259704",NumberOfInstances:"7",Modality:["PR","DX"]},{taskID:"1929",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.701+0100",updatedTime:"2022-03-15T19:39:01.170+0100",scheduledTime:"2022-03-15T19:38:00.975+0100",processingStartTime:"2022-03-15T19:39:01.125+0100",processingEndTime:"2022-03-15T19:39:01.169+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series Thumbnails",StudyInstanceUID:"2.25.73758429535919582411283778014440169399",NumberOfInstances:"3",Modality:["PR","SR","CR"]},{taskID:"1923",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.647+0100",updatedTime:"2022-03-15T19:39:01.137+0100",scheduledTime:"2022-03-15T19:38:00.911+0100",processingStartTime:"2022-03-15T19:39:01.114+0100",processingEndTime:"2022-03-15T19:39:01.136+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - QIDO Study Instances",StudyInstanceUID:"2.25.244811086690625888516433847572724695651",NumberOfInstances:"3",Modality:["CR"]},{taskID:"1924",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.659+0100",updatedTime:"2022-03-15T19:39:01.125+0100",scheduledTime:"2022-03-15T19:38:00.877+0100",processingStartTime:"2022-03-15T19:39:01.088+0100",processingEndTime:"2022-03-15T19:39:01.124+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - QIDO Study Series",StudyInstanceUID:"2.25.244811086690625888516433847572724695651",NumberOfInstances:"3",Modality:["CR"]},{taskID:"1942",dicomDeviceName:"demoj4c",queue:"Export10",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.896+0100",updatedTime:"2022-03-15T19:39:01.099+0100",scheduledTime:"2022-03-15T19:38:00.984+0100",processingStartTime:"2022-03-15T19:39:00.860+0100",processingEndTime:"2022-03-15T19:39:01.098+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - Series WADO Metadata",StudyInstanceUID:"2.25.229975568262236341440816121223809588447",NumberOfInstances:"2958",Modality:["CT","SR"]},{taskID:"1927",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.684+0100",updatedTime:"2022-03-15T19:39:01.099+0100",scheduledTime:"2022-03-15T19:38:00.830+0100",processingStartTime:"2022-03-15T19:39:01.063+0100",processingEndTime:"2022-03-15T19:39:01.098+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - QIDO Study Instances",StudyInstanceUID:"2.25.73758429535919582411283778014440169399",NumberOfInstances:"3",Modality:["PR","SR","CR"]},{taskID:"1928",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.692+0100",updatedTime:"2022-03-15T19:39:01.074+0100",scheduledTime:"2022-03-15T19:38:00.820+0100",processingStartTime:"2022-03-15T19:39:01.029+0100",processingEndTime:"2022-03-15T19:39:01.073+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - QIDO Study Series",StudyInstanceUID:"2.25.73758429535919582411283778014440169399",NumberOfInstances:"3",Modality:["PR","SR","CR"]},{taskID:"1928",dicomDeviceName:"demoj4c",queue:"Export2",type:"EXPORT",status:"FAILED",batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",failures:"11",createdTime:"2022-03-15T01:20:51.692+0100",updatedTime:"2022-03-15T19:39:01.074+0100",scheduledTime:"2022-03-15T19:38:00.820+0100",processingStartTime:"2022-03-15T19:39:01.029+0100",processingEndTime:"2022-03-15T19:39:01.073+0100",errorMessage:"RESTEASY004655: Unable to invoke request: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target",LocalAET:"DEMOJ4C",ExporterID:"ATS Prefetch NG - QIDO Study Series",StudyInstanceUID:"2.25.73758429535919582411283778014440169399",NumberOfInstances:"3",Modality:["PR","SR","CR"]}]),o&&o.length>0?(n.matches=o.map((a,s)=>{if(this.batchGrouped){let l=Object.assign({},a);if(A(a,"tasks")){let _=[];we.TASK_NAMES.forEach(f=>{a.tasks[f]&&_.push({[f]:a.tasks[f]});}),a.tasks=_;}return I.stringifyArrayOrObject(a,["tasks"]),I.stringifyArrayOrObject(l,[]),n.cfpLoadingBar.complete(),a;}else return n.cfpLoadingBar.complete(),A(a,"Modality")&&(a.Modality=a.Modality.join(",")),a;}),this.moreTasks=o.length>this.filterObject.limit,this.moreTasks&&this.matches.splice(this.matches.length-1,1)):(n.cfpLoadingBar.complete(),n.matches=[],this.mainservice.showMsg("No tasks found!"));},o=>{n.cfpLoadingBar.complete(),n.matches=[],console.log("err",o);});}next(){if(this.moreTasks){let e=Object.assign({},this.filterObject);e.limit&&(this.filterObject.offset=e.offset=e.offset*1+this.filterObject.limit*1,e.limit++),this.search(e.offset);}}prev(){if(this.filterObject.offset>0){let e=Object.assign({},this.filterObject);e.limit&&(this.filterObject.offset=e.offset=e.offset*1-this.filterObject.limit*1),this.search(e.offset);}}batchChange(e){this.matches=[];}getCount(){this.cfpLoadingBar.start(),this.service.getCount(this.filterObject).subscribe(e=>{try{this.count=e.count,this.setFilterSchema();}catch{this.count="";}this.cfpLoadingBar.complete();},e=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(e);});}statusChange(){}allActionChanged(e){let n="Are you sure, you want to "+we.getActionText(this.allAction)+" all matching tasks?",o=Oe(this.filterObject);switch(o.status==="*"&&delete o.status,o.dicomDeviceName==="*"&&delete o.dicomDeviceName,delete o.limit,delete o.offset,this.allAction){case"cancel":this.confirm({content:n}).subscribe(a=>{a&&(this.cfpLoadingBar.start(),this.service.cancelAll(o).subscribe(s=>{this.cfpLoadingBar.complete(),A(s,"count")?this.mainservice.showMsg(""+(s.count||0)+" tasks canceled successfully!"):this.mainservice.showMsg("Tasks canceled successfully!");},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);})),this.allAction="",this.allAction=void 0;});break;case"reschedule":this.confirm({content:"Tasks reschedule",doNotSave:!0,form_schema:[[[{tag:"label_large",text:n||"Change the exporter for all rescheduled tasks. To reschedule with the original exporters associated with the tasks, leave blank:"}],[{tag:"label",text:"Exporter ID"},{tag:"select",options:this.exporters.map(a=>({text:a.description||a.id,value:a.id})),showStar:!0,filterKey:"selectedExporter",description:"Exporter ID",placeholder:"Exporter ID"}],[{tag:"label_large",text:"Select device if you want to reschedule to an other device:"}],[{tag:"label",text:"Device"},{tag:"multi-select",options:this.devices.map(a=>({text:a.dicomDeviceName,value:a.dicomDeviceName})),showStar:!0,filterKey:"newDeviceName",description:"Device",placeholder:"Device"}],[{tag:"label",text:"Schedule at (if not set, schedule immediately)"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{}},saveButton:"SUBMIT"}).subscribe(a=>{a&&(this.cfpLoadingBar.start(),A(a,"schema_model.newDeviceName")&&a.schema_model.newDeviceName!=""&&(o.newDeviceName=a.schema_model.newDeviceName),A(a,"schema_model.scheduledTime")&&a.schema_model.scheduledTime!=""&&(o.scheduledTime=a.schema_model.scheduledTime),this.service.rescheduleAll(o,a.schema_model.selectedExporter).subscribe(s=>{this.cfpLoadingBar.complete(),A(s,"count")?this.mainservice.showMsg(""+(s.count||0)+" tasks rescheduled successfully!"):this.mainservice.showMsg("Tasks rescheduled successfully!");},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);})),this.allAction="",this.allAction=void 0;});break;case"delete":this.confirm({content:n}).subscribe(a=>{a&&(this.cfpLoadingBar.start(),this.service.deleteAll(o).subscribe(s=>{this.cfpLoadingBar.complete(),this.mainservice.showMsgDeleteTasks(s);},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);})),this.allAction="",this.allAction=void 0;});break;default:this.allAction="",this.allAction=void 0;}}getDifferenceTime(e,n,o){let a=new Date(e).getTime(),s=new Date(n).getTime();return!a||!s||s<a?null:this.msToTime(new Date(n).getTime()-new Date(e).getTime(),o);}checkAll(e){this.matches.forEach(n=>{n.checked=e.target.checked;});}rescheduleDialog(e,n,o,a){this.confirm({content:o||"Task reschedule",doNotSave:!0,form_schema:this.service.getDialogSchema(this.exporters,this.devices,a),result:{schema_model:n||{}},saveButton:"SUBMIT"}).subscribe(s=>{e.call(this,s);});}executeAll(e){e==="reschedule"?this.rescheduleDialog(n=>{if(n){this.cfpLoadingBar.start();let o={},a;A(n,"schema_model.newDeviceName")&&n.schema_model.newDeviceName!=""&&(o.newDeviceName=n.schema_model.newDeviceName),A(n,"schema_model.scheduledTime")&&n.schema_model.scheduledTime!=""&&(o.scheduledTime=n.schema_model.scheduledTime),A(n,"schema_model.selectedExporter")&&(a=n.schema_model.selectedExporter),this.matches.forEach((s,l)=>{s.selected&&this.service.reschedule(s.taskID,a||s.ExporterID,o).subscribe(_=>{this.mainservice.showMsg("Task "+s.taskID+"\n rescheduled successfully!"),this.matches.length===l+1&&this.cfpLoadingBar.complete();},_=>{this.httpErrorHandler.handleError(_),this.matches.length===l+1&&this.cfpLoadingBar.complete();}),this.matches.length===l+1&&this.cfpLoadingBar.complete();});}this.allAction="",this.allAction=void 0;}):this.confirm({content:"Are you sure you want to "+we.getActionText(e)+" selected entries?"}).subscribe(n=>{n&&(this.cfpLoadingBar.start(),this.matches.forEach(o=>{o.selected&&this.service[e](o.taskID).subscribe(a=>{console.log("Execute result",a),e==="cancel"?this.mainservice.showMsg("Task "+o.taskID+" canceled successfully!"):this.mainservice.showMsg("Task "+o.taskID+" deleted successfully!");},a=>{this.httpErrorHandler.handleError(a);});}),setTimeout(()=>{this.search(this.matches[0].offset||0),this.cfpLoadingBar.complete();},300));});}msToTime(e,n){if(n)return n==="sec"?(e*6/6e3).toFixed(4).toString()+" s":(e/6e4).toFixed(4).toString()+" min";}deleteBatchedTask(e){this.confirm({content:"Are you sure you want to delete all tasks of this batch?"}).subscribe(n=>{if(n)if(e.batchID){let o=Object.assign({},this.filterObject);o.batchID=e.batchID,delete o.limit,delete o.offset,this.service.deleteAll(o).subscribe(a=>{this.mainservice.showMsg(""+a.count+" tasks deleted successfully!"),this.cfpLoadingBar.complete(),this.search(0);},a=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(a);});}else this.mainservice.showError("Batch ID not found!");});}delete(e){let n=this,o={content:"Are you sure you want to delete this task?",result:{select:this.exporters},saveButton:"DELETE"};this.confirm(o).subscribe(a=>{a&&(n.cfpLoadingBar.start(),this.service.delete(e.taskID).subscribe(()=>{n.cfpLoadingBar.complete(),n.search(0),this.mainservice.showMsg("Task deleted successfully!");},s=>{n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(s);}));});}cancel(e){let n=this,o={content:"Are you sure you want to cancel this task?",result:{select:this.exporters},saveButton:"YES"};this.confirm(o).subscribe(a=>{a&&(n.cfpLoadingBar.start(),this.service.cancel(e.taskID).subscribe(()=>{e.status="CANCELED",n.cfpLoadingBar.complete(),this.mainservice.showMsg("Task canceled successfully!");},s=>{n.cfpLoadingBar.complete(),console.log("cancleerr",s),n.httpErrorHandler.handleError(s);}));});}reschedule(e){this.rescheduleDialog(n=>{if(n){this.cfpLoadingBar.start();let o={},a;A(n,"schema_model.newDeviceName")&&n.schema_model.newDeviceName!=""&&(o.newDeviceName=n.schema_model.newDeviceName),A(n,"schema_model.scheduledTime")&&n.schema_model.scheduledTime!=""&&(o.scheduledTime=n.schema_model.scheduledTime),A(n,"schema_model.selectedExporter")&&(a=n.schema_model.selectedExporter),this.service.reschedule(e.taskID,a||e.ExporterID,o).subscribe(s=>{this.cfpLoadingBar.complete(),A(s,"count")?this.mainservice.showMsg(""+(s.count||0)+" tasks rescheduled successfully!"):this.mainservice.showMsg("Task rescheduled successfully!");},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);});}},{selectedExporter:e.ExporterID},void 0,"Change the Exporter Id only if you want to reschedule to another exporter!");}hasOlder(e){return e&&e.length===this.filterObject.limit;}hasNewer(e){return e&&e.length&&e[0].offset;}newerOffset(e){return Math.max(0,e[0].offset-this.filterObject.limit);}olderOffset(e){return e[0].offset+this.filterObject.limit;}initExporters(e){let n=this;this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}export`).subscribe(o=>{n.exporters=o,o&&o[0]&&o[0].id&&(n.exporterID=o[0].id),n.getDevices();},o=>{e&&n.initExporters(e-1);});}getDevices(){this.cfpLoadingBar.start(),this.service.getDevices().subscribe(e=>{this.cfpLoadingBar.complete(),this.devices=e.filter(n=>n.hasArcDevExt),this.initSchema();},e=>{this.cfpLoadingBar.complete(),console.error("Could not get devices",e);});}getAets(){this.aeListService.getAets().pipe(me(e=>this.permissionService.filterAetDependingOnUiConfig(e,"internal"))).subscribe(e=>{this.aets=e.map(n=>({value:n.dicomAETitle,text:n.dicomAETitle}));},e=>{console.error("Could not get aets",e);});}ngOnDestroy(){this.timer.started&&(this.timer.started=!1,clearInterval(this.refreshInterval));}};r.ɵfac=function(n){return new(n||r)(k(Fe),k(ti),k(le),k(v2),k(Mt),k(ri),k(Pt),k(Dn),k(un),k(In),k(Pe));},r.ɵcmp=Z({type:r,selectors:[["app-export"]],standalone:!1,decls:34,vars:15,consts:()=>{let e;e="All actions";let n;n="Export";let o;o="Download CSV";let a;a="Upload CSV";let s;s="Batch ID grouped";let l;l="Interval";let _;return _="Interval:",[n,o,a,s,_,[1,"main_content","monitoring","export","white_design"],[1,"tab-content"],[1,"filter_line"],[1,"filter_block"],[3,"submit","onChange","onFilterLoadFinish","schema","model"],["class","filter",4,"ngIf"],[1,"filter_line",3,"permission"],[1,"filter","single_block"],[1,"line"],[1,"w45percent","csv_button",3,"click"],[1,"custom_icon","csv_icon"],[1,"text"],[1,"material-icons"],["placeholder",e,"floatPlaceholder","never",1,"pull-left",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","checkbox",1,"checkbox_button","pull-right",3,"ngClass"],["id","checkbox","type","checkbox",3,"ngModelChange","ngModel"],["class","left_arrow arrow",3,"ngClass","click",4,"ngIf"],["class","right_arrow arrow",3,"ngClass","click",4,"ngIf"],[3,"stringifyDetailAttributes","config","models",4,"ngIf"],[1,"filter"],[1,"filter_block","auto_reloader"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"option_block"],[1,"interval_block"],["type","text","placeholder",l,3,"ngModelChange","ngModel"],[1,"btn-default","submit",3,"click"],[1,"spinnter_container"],["class","glyphicon glyphicon-refresh",4,"ngIf"],["mode","indeterminate",3,"diameter",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],[1,"fa","fa-circle-o-notch","fa-spin","dashboard_loader"],[1,"glyphicon","glyphicon-refresh"],["mode","indeterminate",3,"diameter"],[3,"value"],[1,"left_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-left"],[1,"right_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-right"],[3,"stringifyDetailAttributes","config","models"]];},template:function(n,o){n&1&&(u(0,"div",5),$(1,"monitoring-tabs"),u(2,"div",6)(3,"h2"),P(4,0),p(),u(5,"div",7)(6,"div",8)(7,"filter-generator",9),b("submit",function(s){return o.onSubmit(s);})("onChange",function(s){return o.onFormChange(s);})("onFilterLoadFinish",function(){return o.filterLoadFinished=!0;}),p(),E(8,yLe,17,6,"div",10),p()(),u(9,"div",11)(10,"div",12)(11,"div",8)(12,"div",13)(13,"div",14),b("click",function(){return o.downloadCsv();}),$(14,"span",15),u(15,"span",16),P(16,1),p()(),u(17,"div",14),b("click",function(){return o.uploadCsv();}),u(18,"span",17),T(19,"file_upload"),p(),u(20,"span",16),P(21,2),p()()()(),u(22,"div",8)(23,"div",13)(24,"mat-select",18),q("ngModelChange",function(s){return Y(o.allAction,s)||(o.allAction=s),s;}),b("selectionChange",function(s){return o.allActionChanged(s);}),E(25,bLe,2,3,"mat-option",19),p(),u(26,"label",20)(27,"input",21),q("ngModelChange",function(s){return Y(o.batchGrouped,s)||(o.batchGrouped=s),s;}),b("ngModelChange",function(s){return o.batchChange(s);}),p(),u(28,"span"),P(29,3),p()()()()()(),E(30,SLe,2,3,"div",22)(31,ELe,2,3,"div",23)(32,TLe,1,3,"table-generator",24)(33,ILe,1,3,"table-generator",24),p()()),n&2&&(c(7),m("schema",o.filterSchema)("model",o.filterObject),c(),m("ngIf",o.filterLoadFinished),c(),m("permission",Ke(12,uLe)),c(15),H("ngModel",o.allAction),c(),m("ngForOf",o.allActionsOptions),c(),m("ngClass",ne(13,r3,o.batchGrouped)),c(),H("ngModel",o.batchGrouped),c(3),m("ngIf",o.matches&&o.matches.length&&o.matches.length>0),c(),m("ngIf",o.matches&&o.matches.length&&o.matches.length>0),c(),m("ngIf",!o.batchGrouped&&o.tableConfigNormal&&o.matches&&o.matches.length&&o.matches.length>0),c(),m("ngIf",o.batchGrouped&&o.tableConfigGrouped&&o.matches&&o.matches.length&&o.matches.length>0));},dependencies:[Je,ve,de,Me,pi,Se,Ee,fi,ii,Ao,jr,Yi,xn,_a],encapsulation:2});let i=r;return i;})();var uB=v1(dB());var xLe=i=>({danger:i});function ALe(i,r){i&1&&$(0,"div",44);}function wLe(i,r){i&1&&$(0,"mat-progress-spinner",45),i&2&&m("diameter",28);}function DLe(i,r){if(i&1){let t=O();u(0,"button",46),b("click",function(){C(t);let n=d();return y(n.monitor());}),T(1,"Start"),p();}}function MLe(i,r){if(i&1){let t=O();u(0,"button",47),b("click",function(){C(t);let n=d();return y(n.stopLoop=!0);}),T(1,"Stop"),p();}}function OLe(i,r){if(i&1){let t=O();u(0,"th")(1,"span",48),b("click",function(){C(t);let n=d();return y(n.sortBy("others"));}),P(2,13),p()();}}function PLe(i,r){if(i&1&&(U(0),u(1,"td"),T(2),p(),u(3,"td"),$(4,"span",56),p(),u(5,"td"),T(6),p(),W()),i&2){let t=d().$implicit;c(2),z(t.localAETitle),c(4),z(t.remoteAETitle);}}function RLe(i,r){if(i&1&&(U(0),u(1,"td"),T(2),p(),u(3,"td"),$(4,"span",57),p(),u(5,"td"),T(6),p(),W()),i&2){let t=d().$implicit;c(2),z(t.localAETitle),c(4),z(t.remoteAETitle);}}function NLe(i,r){if(i&1&&(u(0,"div"),T(1),p()),i&2){let t=r.$implicit,e=d().$implicit;c(),hc(" ",t,"-RQ/RSP : ",e.invokedOps[t].RQ,"/",e.invokedOps[t].RSP," ");}}function kLe(i,r){if(i&1&&(u(0,"div"),T(1),p()),i&2){let t=r.$implicit,e=d().$implicit;c(),hc(" ",t,"-RQ/RSP : ",e.performedOps[t].RQ,"/",e.performedOps[t].RSP," ");}}function $Le(i,r){if(i&1&&$(0,"td",58),i&2){let t=d().$implicit;m("innerHtml",t.others,Re);}}function LLe(i,r){if(i&1){let t=O();u(0,"tr",49),E(1,PLe,7,2,"ng-container",42)(2,RLe,7,2,"ng-container",42),u(3,"td"),E(4,NLe,2,3,"div",50),p(),u(5,"td"),E(6,kLe,2,3,"div",50),p(),$(7,"td",51)(8,"td",51)(9,"td",51),E(10,$Le,1,1,"td",52),u(11,"td",53)(12,"a",54),b("click",function(n){let o=C(t).$implicit,a=d();return n.preventDefault(),y(a.abort(o.serialNo));}),$(13,"i",55),p()()();}if(i&2){let t=r.$implicit,e=d();m("ngClass",ne(9,xLe,t.tooLong===!0)),c(),m("ngIf",t.initiated),c(),m("ngIf",!t.initiated),c(2),m("ngForOf",e.Object.keys(t==null?null:t.invokedOps)),c(2),m("ngForOf",e.Object.keys(t.performedOps)),c(),m("innerHtml",t.connectTime,Re),c(),m("innerHtml",t.browserTime,Re),c(),m("innerHtml",t.openSince,Re),c(),m("ngIf",e.others);}}function FLe(i,r){i&1&&(u(0,"tr")(1,"td",59),P(2,14),p()());}var pB=(()=>{let r=class r{constructor(e,n,o,a,s){this.$http=e,this.appservices=n,this.cfpLoadingBar=o,this.messaging=a,this.httpErrorHandler=s,this.updaterate=3,this.stopLoop=!0,this.message="",this.others=!1,this.pause=!1,this.Object=Object,this.propertyName="openSinceOrder",this.reverse=!0;}modifyObject(e){let n=[],o=["serialNo","connectTime","initiated","localAETitle","remoteAETitle","performedOps","invokedOps"];return e.forEach((a,s)=>{for(let l in a){let _=a[l];n[s]=n[s]||{},o.indexOf(l)>-1?n[s][l]=_:(n[s]["this.others"]=n[s]["this.others"]||{},n[s]["this.othersFile"]=n[s]["this.othersFile"]||{},Object.keys(n[s]["this.others"]).length===0?(n[s]["this.others"]="<table><tr><td>"+l+"</td><td>"+_+"</td></tr>",n[s]["this.othersFile"]=l+"="+_):(n[s]["this.others"]+="<tr><td>"+l+"</td><td>"+_+"</td></tr>",n[s]["this.othersFile"]+=" | "+l+"="+_),this.others=!0);}n[s]["this.others"]&&Object.keys(n[s]["this.others"]).length>0&&(n[s]["this.others"]+="<table>");}),n;}timeCalculator(e){try{e.forEach((n,o)=>{let a=I.newDate(n.connectTime),s=this.appservices.serverTime;e[o].browserTime=I.formatDate(a,"yyyy-MM-dd HH:mm:ss"),e[o].openSince=I.diff(a,s),e[o].openSinceOrder=s.getTime()-a.getTime();});}catch(n){console.groupCollapsed("associations.component timeCalculator(data)"),console.log("this.appService.serverTime=",this.appservices.serverTime),console.log("data=",e),console.error(n),console.groupEnd();}return e;}abort(e){this.cfpLoadingBar.start(),this.$http.delete(`${I.addLastSlash(this.appservices.baseUrl)}monitor/associations/${e}`).subscribe(n=>{this.cfpLoadingBar.complete(),this.refresh();},n=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}sortBy(e){console.log("sortby pn",e),console.log("sortby propertyname",this.propertyName),this.reverse=this.propertyName===e?!this.reverse:!1,this.propertyName=e;}refresh(){this.cfpLoadingBar.start(),this.$http.get(`${I.addLastSlash(this.appservices.baseUrl)}monitor/associations`).subscribe(e=>{e&&e[0]&&e[0]!=""?(e=this.modifyObject(e),e=this.timeCalculator(e),this.associationStatus=e):this.associationStatus=null,this.cfpLoadingBar.complete();},e=>{this.httpErrorHandler.handleError(e),this.cfpLoadingBar.complete();});}mauseEnter(){this.pause=!0;}mauseLeave(){this.pause=!1;}monitor(){this.stopLoop=!1,this.$http.get(`${I.addLastSlash(this.appservices.baseUrl)}monitor/associations`).subscribe(o=>{let a=o;a&&a[0]&&a[0]!=""?(a=this.modifyObject(a),a=this.timeCalculator(a),this.associationStatus=a):this.associationStatus=null;}),this.updaterate&&typeof this.updaterate=="string"&&this.updaterate.indexOf(",")>-1&&(this.updaterate=this.updaterate.replace(",","."));let e=this,n=setInterval(()=>{e.stopLoop?clearInterval(n):this.pause||e.$http.get(`${I.addLastSlash(this.appservices.baseUrl)}monitor/associations`).subscribe(o=>{let a=o;a&&a[0]&&a[0]!=""?(a=e.modifyObject(a),a=e.timeCalculator(a),e.associationStatus=a):e.associationStatus=null;},o=>{this.httpErrorHandler.handleError(o);});},e.updaterate*1e3);}downloadAssocImmage(){let e="Local AE Title \u21C6 Remote AE Title";e+=",",e+="Invoked Ops.",e+=",",e+="Performed Ops.",e+=",",e+="Connection time (Server)",e+=",",e+="Connection time (Browser)",e+=",Connection open for (hh:mm:ss)",this.others?e+=","+"Other attributes"+`
`:e+=`
`,this.associationStatus&&this.associationStatus.forEach((o,a)=>{if(o.initiated?e+=o.localAETitle+"\u2192"+o.remoteAETitle:e+=o.localAETitle+"\u2190"+o.remoteAETitle,o.invokedOps){e+=",",console.log("m.invokedOps",o.invokedOps);for(let s in o.invokedOps){let l=o.invokedOps[s];e=e+"   "+s+"- RQ/RSP : "+l.RQ+"/"+l.RSP;}}else e+=",";if(o.performedOps){e+=",";for(let s in o.performedOps){let l=o.performedOps[s];e=e+"   "+s+"- RQ/RSP : "+l.RQ+"/"+l.RSP;}}else e+=",";e+=","+o.connectTime,e+=","+o.browserTime,e+=","+o.openSince,o.othersFile?e+=","+o.othersFile+`
`:e+=`
`;});let n=new File([e],"associacions.csv",{type:"text/csv;charset=utf-8"});uB.saveAs(n);}ngOnDestroy(){this.stopLoop=!0;}};r.ɵfac=function(n){return new(n||r)(k(Fe),k(le),k(ti),k(bu),k(Pt));},r.ɵcmp=Z({type:r,selectors:[["app-associations"]],standalone:!1,decls:67,vars:13,consts:()=>{let e;e="With a dot '.' you can set milliseconds for example: '0.6' = 600 milliseconds";let n;n="Start getting associations";let o;o="Stop Auto Refresh";let a;a="Get associations";let s;s="Download copy of the table as csv-file";let l;l="Sort by Local AE Title";let _;_="Sort by initiated";let f;f="Sort by Remote AE Title";let g;g="Sort by Invoked Ops.";let S;S="Sort by Performed Ops.";let x;x="Sort by Connection time (Server)";let D;D="Sort by Connection time (Local)";let R;R="Sort by Duration";let j;j="Open Associations";let V;V="Press Start or Refresh to get associations";let ie;ie="Timer (sec)";let _e;_e="Refresh";let oe;oe="Download copy";let Ne;Ne=" Local AE Title ";let Ce;Ce=" Remote AE Title ";let Ge;Ge="Invoked Ops.";let dt;dt="Performed Ops.";let hi;hi="Connection time (Server)";let Vi;Vi="Connection time (Browser)";let gi;gi="Duration (hh:mm:ss.SSS)";let zi;zi=" Abort ";let Dt;Dt="Sort by Other attributes";let Gn;Gn="Other attributes ";let Qe;return Qe="No open associations found!",[j,V,ie,_e,oe,Ne,Ce,Ge,dt,hi,Vi,gi,zi,Gn,Qe,[1,"main_content","white_design"],[1,"tab-content"],[1,"monitor"],[1,"filter_line"],[1,"filter_block"],[1,"filter"],[1,"line"],["title",e,"type","text",1,"no-close-button",3,"ngModelChange","ngModel","disabled"],["class","dummy",4,"ngIf"],["mode","indeterminate",3,"diameter",4,"ngIf"],["type","button","class","btn-default submit","title",n,3,"click",4,"ngIf"],["type","button","class","btn-default submit","title",o,3,"click",4,"ngIf"],[1,"filter_block","height_2"],["type","button","title",a,1,"btn-default","submit","pull-left",3,"click"],[1,"filter","single_block"],["title",s,1,"w45percent","csv_button","pull-left",3,"click"],[1,"custom_icon","csv_icon"],[1,"text"],[1,"table","table-inverse",3,"mouseenter","mouseleave"],["title",l,1,"pointer",3,"click"],["title",_,1,"pointer",3,"click"],["title",f,1,"pointer",3,"click"],["title",g,1,"pointer",3,"click"],["title",S,1,"pointer",3,"click"],["title",x,1,"pointer",3,"click"],["title",D,1,"pointer",3,"click"],["title",R,1,"pointer",3,"click"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"dummy"],["mode","indeterminate",3,"diameter"],["type","button","title",n,1,"btn-default","submit",3,"click"],["type","button","title",o,1,"btn-default","submit",3,"click"],["title",Dt,1,"pointer",3,"click"],[3,"ngClass"],[4,"ngFor","ngForOf"],[1,"text-right",3,"innerHtml"],["class","others",3,"innerHtml",4,"ngIf"],[1,"abort"],[1,"crud_button",3,"click"],[1,"glyphicon","glyphicon-remove"],[1,"glyphicon","glyphicon-arrow-right"],[1,"glyphicon","glyphicon-arrow-left"],[1,"others",3,"innerHtml"],["colspan","9"]];},template:function(n,o){n&1&&(u(0,"div",15),$(1,"monitoring-tabs"),u(2,"div",16)(3,"div",17)(4,"h2"),P(5,0),p(),u(6,"h4"),P(7,1),p(),u(8,"div",18)(9,"div",19)(10,"div",20)(11,"div",19)(12,"div",21)(13,"label"),P(14,2),p(),u(15,"input",22),q("ngModelChange",function(s){return Y(o.updaterate,s)||(o.updaterate=s),s;}),p()(),u(16,"div",21),E(17,ALe,1,0,"div",23)(18,wLe,1,1,"mat-progress-spinner",24)(19,DLe,2,0,"button",25)(20,MLe,2,0,"button",26),p()(),u(21,"div",27),$(22,"div",21),u(23,"div",21)(24,"button",28),b("click",function(){return o.refresh();}),P(25,3),p()()()()()(),u(26,"div",18)(27,"div",19)(28,"div",29)(29,"div",19)(30,"div",21)(31,"div",30),b("click",function(){return o.downloadAssocImmage();}),$(32,"span",31),u(33,"span",32),P(34,4),p()()()()()()(),u(35,"table",33),b("mouseenter",function(){return o.mauseEnter();})("mouseleave",function(){return o.mauseLeave();}),u(36,"tr")(37,"th")(38,"span",34),b("click",function(){return o.sortBy("localAETitle");}),P(39,5),p()(),u(40,"th")(41,"span",35),b("click",function(){return o.sortBy("initiated");}),T(42," \u21C6 "),p()(),u(43,"th")(44,"span",36),b("click",function(){return o.sortBy("remoteAETitle");}),P(45,6),p()(),u(46,"th")(47,"span",37),b("click",function(){return o.sortBy("invokedOps");}),P(48,7),p()(),u(49,"th")(50,"span",38),b("click",function(){return o.sortBy("performedOps");}),P(51,8),p()(),u(52,"th")(53,"span",39),b("click",function(){return o.sortBy("connectTime");}),P(54,9),p()(),u(55,"th")(56,"span",40),b("click",function(){return o.sortBy("browserTime");}),P(57,10),p()(),u(58,"th")(59,"span",41),b("click",function(){return o.sortBy("openSinceOrder");}),P(60,11),p()(),E(61,OLe,3,0,"th",42),u(62,"th"),P(63,12),p()(),E(64,LLe,14,11,"tr",43),$e(65,"orderBy"),E(66,FLe,3,0,"tr",42),p()()()()),n&2&&(c(15),H("ngModel",o.updaterate),m("disabled",!o.stopLoop),c(2),m("ngIf",o.stopLoop),c(),m("ngIf",!o.stopLoop),c(),m("ngIf",o.stopLoop),c(),m("ngIf",!o.stopLoop),c(41),m("ngIf",o.others),c(3),m("ngForOf",ba(65,9,o.associationStatus,o.propertyName,o.reverse)),c(2),m("ngIf",!o.associationStatus));},dependencies:[Je,ve,de,Me,Se,Ee,Ao,jr,Ur],encapsulation:2});let i=r;return i;})();var C2=(()=>{let r=class r{constructor(e,n){this.$http=e,this.mainservice=n,this.statusValue=[{value:"PENDING",text:"PENDING"},{value:"COMPLETED",text:"COMPLETED"},{value:"WARNING",text:"WARNING"},{value:"FAILED",text:"FAILED"}],this.getExporters=()=>this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}export`);}search(e,n){return this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}stgcmt?${this.mainservice.param(this.queryParams(e,n))}`);}queryParams(e,n){let o=Object.assign({},e);return o.limit++,o.offset=n&&n!=""?n:0,o.status&&o.status==="*"&&delete o.status,o.ExporterID&&o.ExporterID==="*"&&delete o.ExporterID,o;}flush(e,n){let o=this.mainservice.param({status:e,updatedBefore:n});return this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}stgcmt?${o}`);}delete(e){return this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}stgcmt/${e}`);}getFiltersSchema(e){return[[[{tag:"html-select",options:e.map(n=>({text:n.description||n.id,value:n.id})),showStar:!0,showSearchField:!0,filterKey:"ExporterID",description:"Exporter ID",placeholder:"Exporter ID"},{tag:"select",options:this.statusValue,filterKey:"status",showStar:!0,description:"Status of tasks to filter by",placeholder:"Status"}],[{tag:"label",text:"Page Size"},{tag:"input",type:"number",filterKey:"limit",description:"Page Size"}]],[[{tag:"input",type:"text",filterKey:"StudyUID",description:"Study Instance UID",placeholder:"Study Instance UID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"button",id:"submit",text:"SUBMIT",description:"Get Storage commitments"},{tag:"dummy"}]]];}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var mB=i=>({active:i});function zLe(i,r){if(i&1){let t=O();U(0),u(1,"button",22),b("click",function(){C(t);let n=d();return y(n.search(n.newerOffset(n.matches)));}),$(2,"span",23),p(),u(3,"button",24),b("click",function(){C(t);let n=d();return y(n.search(n.olderOffset(n.matches)));}),$(4,"span",25),p(),W();}if(i&2){let t=d();c(),m("disabled",!t.hasNewer(t.matches))("ngClass",ne(4,mB,t.hasNewer(t.matches))),c(2),m("disabled",!t.hasOlder(t.matches))("ngClass",ne(6,mB,t.hasOlder(t.matches)));}}function GLe(i,r){if(i&1&&($(0,"td",29),$e(1,"date")),i&2){let t=d().$implicit,e=d(2).$implicit;m("innerHtml",pt(1,1,e.properties[t],"yyyy-MM-dd HH:mm:ss"),Re);}}function jLe(i,r){if(i&1&&$(0,"td",29),i&2){let t=d().$implicit,e=d(2).$implicit;m("innerHtml",e.properties[t],Re);}}function ULe(i,r){if(i&1&&(u(0,"tr"),$(1,"th",29),E(2,GLe,2,4,"td",37)(3,jLe,1,1,"ng-template",null,0,ia),p()),i&2){let t=r.$implicit,e=Pi(4);c(),m("innerHtml",t,Re),c(),m("ngIf",t==="createdTime"||t==="updatedTime")("ngIfElse",e);}}function WLe(i,r){if(i&1&&(u(0,"tr")(1,"td",35)(2,"table",36),E(3,ULe,5,3,"tr",28),p()()()),i&2){let t=d().$implicit,e=d(2);c(3),m("ngForOf",e.Object.keys(t.properties));}}function BLe(i,r){if(i&1){let t=O();U(0),u(1,"tr"),$(2,"td",29),u(3,"td")(4,"a",30),b("click",function(n){let o=C(t).$implicit;return n.preventDefault(),y(o.showProperties=!o.showProperties);}),$(5,"span",31),p(),u(6,"a",32),b("click",function(n){let o=C(t).$implicit,a=d(2);return n.preventDefault(),y(a.delete(o));}),$(7,"span",33),p()(),$(8,"td",29)(9,"td",29)(10,"td",29)(11,"td",29)(12,"td",29)(13,"td",29),$e(14,"date"),$(15,"td",29),$e(16,"date"),$(17,"td",29)(18,"td",29),p(),E(19,WLe,4,1,"tr",20),$(20,"tr",34),W();}if(i&2){let t=r.$implicit;c(2),m("innerHtml",t.offset+1+".",Re),lt("rowspan",t.showProperties?2:1),c(6),m("innerHtml",t.properties.dicomDeviceName,Re),c(),m("innerHtml",t.properties.status,Re),c(),m("innerHtml",t.properties.exporterID,Re),c(),m("innerHtml",t.properties.requested,Re),c(),m("innerHtml",t.properties.failures,Re),c(),m("innerHtml",pt(14,13,t.properties.createdTime,"yyyy-MM-dd HH:mm:ss"),Re),c(2),m("innerHtml",pt(16,16,t.properties.updatedTime,"yyyy-MM-dd HH:mm:ss"),Re),c(2),m("innerHtml",t.properties.transactionUID,Re),c(),m("innerHtml",t.properties.studyUID,Re),c(),m("ngIf",t.showProperties),c(),m("hidden",!0);}}function HLe(i,r){if(i&1&&(u(0,"table",26)(1,"thead")(2,"tr"),$(3,"th",27),u(4,"th"),P(5,2),p(),u(6,"th"),P(7,3),p(),u(8,"th"),P(9,4),p(),u(10,"th"),P(11,5),p(),u(12,"th"),P(13,6),p(),u(14,"th"),P(15,7),p(),u(16,"th"),P(17,8),p(),u(18,"th"),P(19,9),p(),u(20,"th"),P(21,10),p()()(),u(22,"tbody"),E(23,BLe,21,19,"ng-container",28),p()()),i&2){let t=d();c(23),m("ngForOf",t.matches);}}var _B=(()=>{let r=class r{constructor(e,n,o,a,s,l){this.cfpLoadingBar=e,this.mainservice=n,this.service=o,this.viewContainerRef=a,this.dialog=s,this.httpErrorHandler=l,this.matches=[],this.exportTasks=[],this.Object=Object,this.filters={ExporterID:void 0,offset:void 0,limit:20,status:"*",StudyUID:void 0,updatedBefore:void 0,dicomDeviceName:void 0},this._=ye,this.filterSchema=[];}ngOnInit(){this.initCheck(10);}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.init():e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){this.initExporters(2);}filterKeyUp(e){(e.keyCode?e.keyCode:e.which)===13&&this.search(0);}confirm(e){return this.dialogRef=this.dialog.open(Ei,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}search(e){let n=this;n.cfpLoadingBar.start(),this.service.search(this.filters,e).subscribe(o=>{o&&o.length>0?(this.filters.limit<o.length&&o.pop(),n.matches=o.map((a,s)=>(A(a,"Modality")&&(a.Modality=a.Modality.join(",")),{offset:e+s,properties:a,showProperties:!1})),n.cfpLoadingBar.complete()):(n.cfpLoadingBar.complete(),n.matches=[],this.mainservice.showMsg("No tasks found!"));},o=>{n.cfpLoadingBar.complete(),n.matches=[],n.httpErrorHandler.handleError(o);});}getDifferenceTime(e,n){let o=new Date(e).getTime(),a=new Date(n).getTime();return!o||!a||a<o?null:this.msToTime(new Date(n).getTime()-new Date(e).getTime());}msToTime(e){if(e>999){let n=parseInt((e%1e3).toString()),o=parseInt((e/1e3%60).toString()),a=parseInt((e/(1e3*60)%60).toString()),s=parseInt((e/(1e3*60*60)).toString());return s===0?a===0?o.toString()+"."+n.toString()+" sec":(o=o<10?"0"+o:o,a.toString()+":"+o.toString()+"."+n.toString()+" min"):(s=s<10?"0"+s:s,a=a<10?"0"+a:a,o=o<10?"0"+o:o,s.toString()+":"+a.toString()+":"+o.toString()+"."+n.toString()+" h");}else return e.toString()+" ms";}flushBefore(){let e=[{title:"PENDING",value:"PENDING",label:"PENDING"},{title:"COMPLETED",value:"COMPLETED",label:"COMPLETED"},{title:"WARNING",value:"WARNING",label:"WARNING"},{title:"FAILED",value:"FAILED",label:"FAILED"}],n={content:"Select before date and status to delete all storage commitments",select:e,date:{placeholder:"Updated before",format:"yyyy-MM-dd",description:"Maximum update date of Storage Commitment Result to filter by"},result:{select:"PENDING",date:void 0},saveButton:"DELETE",saveButtonClass:"btn-danger"},o=this;this.confirm(n).subscribe(a=>{if(a){o.cfpLoadingBar.start();let s,l=I.extractDateTimeFromString(n.result.date);if(l){let _=l.firstDateTime;_&&_.dateObject&&(s=I.formatDate(_.dateObject,"yyyy-MM-dd"));}this.service.flush(n.result.select,s).subscribe(_=>{console.log("resflush",_),o.mainservice.showMsg(""+_.deleted+" queues deleted successfully!"),o.search(0),o.cfpLoadingBar.complete();},_=>{o.httpErrorHandler.handleError(_);});}});}delete(e){let n=this,o={content:"Are you sure you want to delete this task?",result:"Ok",saveButton:"DELETE",saveButtonClass:"btn-danger"};this.confirm(o).subscribe(a=>{a&&(n.cfpLoadingBar.start(),this.service.delete(e.properties.transactionUID).subscribe(s=>{n.cfpLoadingBar.complete(),n.search(0),this.mainservice.showMsg("Task deleted successfully!");},s=>{n.cfpLoadingBar.complete(),console.log("cancleerr",s),n.httpErrorHandler.handleError(s);}));});}hasOlder(e){return e&&e.length===this.filters.limit;}hasNewer(e){return e&&e.length&&e[0].offset;}newerOffset(e){return Math.max(0,e[0].offset-this.filters.limit);}olderOffset(e){return e[0].offset+this.filters.limit;}initExporters(e){this.service.getExporters().subscribe(n=>{this.exporters=n,this.filterSchema=this.service.getFiltersSchema(this.exporters),n&&n[0]&&n[0].id&&(this.exporterID=n[0].id);},n=>{e&&this.initExporters(e-1);});}};r.ɵfac=function(n){return new(n||r)(k(ti),k(le),k(C2),k(Mt),k(ri),k(Pt));},r.ɵcmp=Z({type:r,selectors:[["app-storage-commitment"]],standalone:!1,decls:16,vars:4,consts:()=>{let e;e="Storage commitments";let n;n="Preview page";let o;o="Next page";let a;a="Device Name";let s;s="Status";let l;l="Exporter ID";let _;_="Requested";let f;f="Failures";let g;g="Created time";let S;S="Updated time";let x;x="Transaction UID";let D;D="Study UID";let R;R="Show Properties";let j;return j="Delete",[["nodate_content",""],e,a,s,l,_,f,g,S,x,D,[1,"main_content","monitoring","white_design"],[1,"tab-content"],[1,"filter_line",3,"keyup"],[1,"filter_block"],["filterIdTemplate","storage-commitment",3,"submit","schema","model"],[1,"filter_line"],[1,"filter","single_block"],[1,"line"],[1,"submit","btn-default","pull-left",3,"click"],[4,"ngIf"],["class","table table-bordered table-condensed",4,"ngIf"],["title",n,1,"left_arrow","arrow","no_style",3,"click","disabled","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-left"],["title",o,1,"right_arrow","arrow","no_style",3,"click","disabled","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-right"],[1,"table","table-bordered","table-condensed"],["colspan","2"],[4,"ngFor","ngForOf"],[3,"innerHtml"],["href","","title",R,3,"click"],[1,"glyphicon","glyphicon-list"],["href","","title",j,3,"click"],[1,"glyphicon","glyphicon-remove-circle"],[3,"hidden"],["colspan","11"],[1,"table","table-bordered","table-condensed","attribute_list"],[3,"innerHtml",4,"ngIf","ngIfElse"]];},template:function(n,o){n&1&&(u(0,"div",11),$(1,"monitoring-tabs"),u(2,"div",12)(3,"h2"),P(4,1),p(),u(5,"div",13),b("keyup",function(s){return o.filterKeyUp(s);}),u(6,"div",14)(7,"filter-generator",15),b("submit",function(){return o.search(0);}),p()()(),u(8,"div",16)(9,"div",17)(10,"div",14)(11,"div",18)(12,"button",19),b("click",function(){return o.flushBefore();}),T(13,"Flush before"),p()()()()(),E(14,zLe,5,8,"ng-container",20)(15,HLe,24,1,"table",21),p()()),n&2&&(c(7),m("schema",o.filterSchema)("model",o.filters),c(7),m("ngIf",o._.size(o.matches)>0),c(),m("ngIf",o._.size(o.matches)>0));},dependencies:[Je,ve,de,jr,Yi,Dr],encapsulation:2});let i=r;return i;})();function qLe(i,r){i&1&&(U(0),T(1,":"),W());}function YLe(i,r){if(i&1&&(u(0,"i",4),P(1,0),p()),i&2){let t=d().$implicit;m("title",X(t.dicomTLSCipherSuite));}}function XLe(i,r){if(i&1&&(u(0,"div")(1,"span"),T(2),E(3,qLe,2,0,"ng-container",2),T(4),p(),E(5,YLe,2,2,"i",3),p()),i&2){let t=r.$implicit;c(2),ue(" ",t.dicomHostname," "),c(),m("ngIf",t.dicomPort),c(),ue(" ",t.dicomPort," "),c(),m("ngIf",t.dicomTLSCipherSuite);}}var y2=(()=>{let r=class r{constructor(){}ngOnInit(){he(this.dicomNetworkConnection,(e,n)=>{e.dicomTLSCipherSuite&&e.dicomTLSCipherSuite[0]&&e.dicomTLSCipherSuite[1]&&(e.dicomTLSCipherSuite=e.dicomTLSCipherSuite[0]+`
`+e.dicomTLSCipherSuite[1]);});}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["connection-formater"]],inputs:{dicomNetworkConnection:"dicomNetworkConnection"},standalone:!1,decls:1,vars:1,consts:()=>{let e;return e="vpn_key",[e,[4,"ngFor","ngForOf"],[4,"ngIf"],["class","material-icons connection_tls",3,"title",4,"ngIf"],[1,"material-icons","connection_tls",3,"title"]];},template:function(n,o){n&1&&E(0,XLe,6,4,"div",1),n&2&&m("ngForOf",o.dicomNetworkConnection);},dependencies:[ve,de],encapsulation:2});let i=r;return i;})();var KLe=()=>({id:"action-devicelist-device_configuration",param:"visible"});function QLe(i,r){if(i&1){let t=O();u(0,"div",31)(1,"div",20)(2,"filter-generator",32),b("submit",function(n){C(t);let o=d();return y(o.searchAes(n));}),p()()();}if(i&2){let t=d();c(2),m("filterIdTemplate","ae-list")("filterID","ae-list")("schema",t.filterSchema)("model",t.filter)("filterTreeHeight",t.filterHeight);}}function ZLe(i,r){if(i&1){let t=O();u(0,"a",33),b("click",function(n){C(t);let o=d();return n.preventDefault(),y(o.advancedConfig=!0);}),U(1),P(2,11),W(),$(3,"i",34),p();}}function JLe(i,r){if(i&1){let t=O();u(0,"a",35),b("click",function(n){C(t);let o=d();return n.preventDefault(),y(o.advancedConfig=!1);}),U(1),P(2,12),W(),$(3,"i",36),p();}}function e5e(i,r){if(i&1&&(u(0,"span"),T(1),$(2,"br"),p()),i&2){let t=r.$implicit;c(),z(t);}}function t5e(i,r){if(i&1&&(u(0,"span"),T(1),$(2,"br"),p()),i&2){let t=r.$implicit;c(),z(t);}}function i5e(i,r){i&1&&(u(0,"td"),P(1,13),p());}function n5e(i,r){if(i&1&&$(0,"td",47),i&2){let t=d().$implicit,e=d();m("innerHtml",t.dicomInstalled||e.inherit,Re);}}function r5e(i,r){if(i&1){let t=O();u(0,"tr")(1,"td",37)(2,"span",38),T(3),p(),u(4,"a",39),b("click",function(n){let o=C(t).$implicit,a=d();return n.preventDefault(),y(a.echoAe(o.dicomAETitle));}),$(5,"span",40),p(),u(6,"a",41),b("click",function(n){let o=C(t).$implicit,a=d();return n.preventDefault(),y(a.deleteAE(o.dicomDeviceName,o.dicomAETitle));}),$(7,"span",42),p()(),u(8,"td"),T(9),p(),u(10,"td")(11,"a",43),T(12),p()(),u(13,"td"),E(14,e5e,3,1,"span",29),p(),u(15,"td"),T(16),p(),u(17,"td"),T(18),p(),u(19,"td"),T(20),p(),u(21,"td"),E(22,t5e,3,1,"span",29),p(),E(23,i5e,2,0,"td",44)(24,n5e,1,1,"td",45),u(25,"td"),$(26,"connection-formater",46),p()();}if(i&2){let t=r.$implicit,e=r.index;c(3),ue("",e+1,"."),c(3),m("permission",Ke(14,KLe)),c(3),z(t.dicomAETitle),c(2),m("routerLink",Ct("/device/edit/",t.dicomDeviceName)),c(),ue(" ",t.dicomDeviceName," "),c(2),m("ngForOf",t.dcmOtherAETitle),c(2),z(t.dicomDescription),c(2),z(t.dicomAssociationInitiator),c(2),z(t.dicomAssociationAcceptor),c(2),m("ngForOf",t.dicomApplicationCluster),c(),m("ngIf",t.dicomInstalled===!1),c(),m("ngIf",t.dicomInstalled!=!1),c(2),m("dicomNetworkConnection",t.dicomNetworkConnection);}}function o5e(i,r){i&1&&$(0,"i",50);}function a5e(i,r){if(i&1){let t=O();u(0,"button",48),b("click",function(){C(t);let n=d();return y(n.loadMoreAes());}),E(1,o5e,1,0,"i",49),U(2),P(3,14),W(),p();}if(i&2){let t=d();c(),m("ngIf",t.moreAes.loaderActive);}}var hB=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f){this.$http=e,this.cfpLoadingBar=n,this.mainservice=o,this.viewContainerRef=a,this.dialog=s,this.service=l,this.httpErrorHandler=_,this.devicesService=f,this._=ye,this.aesfilter="",this.filterHeight=2,this.filter={dicomDeviceName:void 0,dicomAETitle:void 0,dicomDescription:void 0,dicomAssociationInitiator:void 0,dicomAssociationAcceptor:void 0,dicomApplicationCluster:void 0},this.moreAes={limit:30,start:0,loaderActive:!1},this.inherit="inherit";}ngOnInit(){this.initCheck(10),this.filterSchema=this.service.getFiltersSchema(this.devices,this.mainservice.global.aes);}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.init():e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){this.getAes(),this.getAets(),this.getDevices();}getKeys(e){return console.log("getkeys obj",e),e?pe(e)?e:Object.keys(e):[];}loadMoreAesOnScroll(e){let n=Te.nativeWindow.document.getElementsByClassName("load_more")[0]?I.offset(Te.nativeWindow.document.getElementsByClassName("load_more")[0]).top:0,o=Te.nativeWindow.document.getElementsByClassName("load_more")[0].offsetHeight,a=Te.nativeWindow.innerHeight;window.pageYOffset>n+o-a&&this.loadMoreAes();}loadMoreAes(){this.moreAes.loaderActive=!0,this.moreAes.limit+=20,this.moreAes.loaderActive=!1;}searchAes(e){this.cfpLoadingBar.start();let n=this;this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}aes${I.param(this.filter)}`).subscribe(o=>{n.aes=o,n.cfpLoadingBar.complete();},o=>{n.cfpLoadingBar.complete();});}confirm(e){return this.dialogRef=this.dialog.open(Ei,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}clearForm(){let e=this;he(e.filter,(n,o)=>{e.filter[o]="";}),this.searchAes();}echoAe(e){let n=new At({"Content-Type":"application/json"}),o=[];he(this.aets,(l,_)=>{o.push({title:l.dicomAETitle,value:l.dicomAETitle,label:l.dicomAETitle});});let a={content:"Select an archive AET:",select:o,result:{select:this.aets[0].dicomAETitle},bodytext:"Remote AET: <b>"+e+"</b>",saveButton:"ECHO",cssClass:"echodialog"},s=this;this.confirm(a).subscribe(l=>{l&&(console.log("result",l),console.log("result",a.result),s.cfpLoadingBar.start(),this.service.echoAe(a.result.select,e,{}).subscribe(_=>{console.log("response",_),s.cfpLoadingBar.complete();let f=this.service.generateEchoResponseText(_);s.mainservice.setMessage({title:f.title,text:f.text,status:f.status});},_=>{s.cfpLoadingBar.complete(),s.httpErrorHandler.handleError(_);}));});}deleteAE(e,n){let o={content:"Are you sure you want to delete from <b>"+e+"</b> the AE: <b>"+n+"</b>?",input:{name:"deletedevice",type:"checkbox",checkboxtext:"Delete also the device <b>"+e+"</b>"},result:{input:!1},saveButton:"DELETE",cssClass:"deleteaet"};this.mainservice.archiveDeviceName===e&&delete o.input,console.log("parameters",o);let a=this;this.confirm(o).subscribe(s=>{s&&(console.log("in clearae",s),s.input===!0?a.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${e}`).subscribe(l=>{console.log("res",l),a.mainservice.showMsg("Device deleted successfully!"),a.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}ctrl/reload`,{}).subscribe(()=>{a.mainservice.showMsg("Archive reloaded successfully!"),a.searchAes();},()=>{console.warn("Reloading the Archive failed");});},l=>{a.httpErrorHandler.handleError(l);}):a.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${e}`).subscribe(l=>{console.log("res",l);let _=l;he(_.dicomNetworkAE,(f,g)=>{console.log("m",f),console.log("i",g),f&&f.dicomAETitle===n&&_.dicomNetworkAE.splice(g,1);}),console.log("equal",Bo(l,_)),console.log("deviceObj",_),a.$http.put(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${e}`,_).subscribe(f=>{console.log("resdev",f),a.mainservice.showMsg("Ae removed from device successfully!"),a.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}ctrl/reload`,{}).subscribe(()=>{a.mainservice.showMsg("Archive reloaded successfully!"),a.searchAes();});},f=>{console.log("err",f),a.mainservice.showError("Error, the AE was not removed from device!");});},l=>{a.mainservice.showError("Error getting device "+e+"");}));});}createAe(){this.cfpLoadingBar.start();let e=new At({"Content-Type":"application/json"}),n=[],o={dicomNetworkConnection:[{cn:"dicom",dicomHostname:"localhost",dicomPort:104}],dicomNetworkAE:[{dicomNetworkConnectionReference:["/dicomNetworkConnection/0"]}]},a;a=o.dicomNetworkAE[0],n.push({value:"/dicomNetworkConnection/0",name:"dicom"});let s=this;this.dialogRef=this.dialog.open(qA,{height:"auto",width:"90%"}),this.dialogRef.componentInstance.dicomconn=n,this.dialogRef.componentInstance.newAetModel=o,this.dialogRef.componentInstance.netAEModel=a,this.dialogRef.componentInstance.aes=this.aes,this.dialogRef.componentInstance.devices=this.devices,this.dialogRef.afterClosed().subscribe(l=>{l&&(console.log("res",l),l.mode==="createdevice"?(console.log("re.newaetmodel",l.newaetmodel),l.newaetmodel.dicomInstalled==="true"?l.newaetmodel.dicomInstalled=!0:l.newaetmodel.dicomInstalled==="false"?l.newaetmodel.dicomInstalled=!1:l.newaetmodel.dicomInstalled=!0,l.newaetmodel.dicomNetworkAE[0].dicomAssociationInitiator=!0,l.newaetmodel.dicomNetworkAE[0].dicomAssociationAcceptor=!0,(!l.newaetmodel.dicomDeviceName||l.newaetmodel.dicomDeviceName==="")&&(l.newaetmodel.dicomDeviceName=l.newaetmodel.dicomNetworkAE[0].dicomAETitle.toLowerCase()),s.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${l.newaetmodel.dicomDeviceName}`,l.newaetmodel,e).subscribe(_=>{s.mainservice.showMsg("Device with the AET created successfully!"),l.selectedForAcceptedCallingAET&&l.selectedForAcceptedCallingAET.length>0?this.setAetAsAcceptedCallingAet(l.newaetmodel.dicomNetworkAE[0],l.selectedForAcceptedCallingAET):s.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}ctrl/reload`,{},e).subscribe(f=>{s.mainservice.showMsg("Archive reloaded successfully!");}),s.searchAes();},_=>{s.cfpLoadingBar.complete(),s.httpErrorHandler.handleError(_);})):(l.device.dicomNetworkAE=l.device.dicomNetworkAE||[],l.newaetmodel.dicomNetworkAE[0].dicomAssociationInitiator=!0,l.newaetmodel.dicomNetworkAE[0].dicomAssociationAcceptor=!0,l.device.dicomNetworkAE.push(l.newaetmodel.dicomNetworkAE[0]),s.$http.put(`${I.addLastSlash(this.mainservice.baseUrl)}devices/${l.device.dicomDeviceName}`,l.device).subscribe(_=>{s.mainservice.showMsg("Aet added to device successfully!"),s.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}ctrl/reload`,{}).subscribe(f=>{s.mainservice.showMsg("Archive reloaded successfully!");}),s.searchAes();},_=>{s.cfpLoadingBar.complete(),s.httpErrorHandler.handleError(_);})));});}setAetAsAcceptedCallingAet(e,n){console.log("newAet",e),console.log("setAetAsAcceptedCallingAet",n);let o={};this.aes.forEach(a=>{n.indexOf(a.dicomAETitle)>-1&&(o[a.dicomDeviceName]=o[a.dicomDeviceName]||[],o[a.dicomDeviceName].push(a));}),Object.keys(o).forEach(a=>{this.devicesService.getDevice(a).subscribe(s=>{o[a].forEach(l=>{s.dicomNetworkAE.forEach(_=>{_.dicomAETitle===l.dicomAETitle&&(A(_,"dcmNetworkAE.dcmAcceptedCallingAETitle")&&_.dcmNetworkAE.dcmAcceptedCallingAETitle.length>0?_.dcmNetworkAE.dcmAcceptedCallingAETitle.push(e.dicomAETitle):Ue(_,"dcmNetworkAE.dcmAcceptedCallingAETitle",[e.dicomAETitle]));});}),this.devicesService.saveDeviceChanges(a,s).subscribe(l=>{this.mainservice.showMsg(""+e.dicomAETitle+" was set successfully as 'Accepted Calling AE Title' to following AETs: "+I.join(n,", "," and ")+""),this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}ctrl/reload`,{},new At({"Content-Type":"application/json"})).subscribe(_=>{this.mainservice.showMsg("Archive reloaded successfully!");});},l=>{this.httpErrorHandler.handleError(l);});},s=>{this.httpErrorHandler.handleError(s);});});}getAes(){let e=this;this.service.getAes().subscribe(n=>{if(e.aes=n,e.mainservice.global&&!e.mainservice.global.aes){let o=Oe(e.mainservice.global);o.aes=n,e.mainservice.setGlobal(o);}else e.mainservice.global&&e.mainservice.global.aes?e.mainservice.global.aes=n:e.mainservice.setGlobal({aes:n});},n=>{});}getAets(){let e=this;this.service.getAets().subscribe(n=>{e.aets=n;},n=>{console.log("error getting aets",n);});}getDevices(){let e=this;this.mainservice.global&&this.mainservice.global.devices?this.devices=this.mainservice.global.devices:this.service.getDevices().subscribe(n=>{e.devices=n;},n=>{});}};r.ɵfac=function(n){return new(n||r)(k(Fe),k(ti),k(le),k(Mt),k(ri),k(un),k(Pt),k(Xt));},r.ɵcmp=Z({type:r,selectors:[["app-ae-list"]],hostBindings:function(n,o){n&1&&b("scroll",function(s){return o.loadMoreAesOnScroll(s);},Qo);},standalone:!1,decls:46,vars:13,consts:()=>{let e;e="Register new application entity";let n;n="Search device";let o;o="Dicom network connection";let a;a="Application Entities list";let s;s="New AET";let l;l="AE Title";let _;_="Device Name";let f;f="Other AETitle";let g;g="Description";let S;S="Association Initiator";let x;x="Association Acceptor";let D;D="Application Cluster";let R;R="Installed";let j;j="Net. Connection";let V;V="Extended search";let ie;ie="Extended search";let _e;_e="Delete from device the AE";let oe;oe="Edit device";let Ne;Ne="false";let Ce;return Ce="More",[a,s,l,_,f,g,S,x,D,R,j,V,ie,Ne,Ce,[1,"main_content","white_design"],[1,"tab-content"],["class","filter_line",4,"ngIf"],[1,"filter_line","more_function_block"],[1,"filter","single_block"],[1,"filter_block"],[1,"line"],["href","","class","more",3,"click",4,"ngIf"],["href","","class","more ng-hide",3,"click",4,"ngIf"],["href","","title",e,1,"more","ng-hide",3,"click"],[1,"glyphicon","glyphicon-plus"],["autocomplete","off","id","aesfilter","placeholder",n,1,"aesfilter",3,"ngModelChange","ngModel"],[1,"j4care-table"],["title",o],[4,"ngFor","ngForOf"],["class","load_more",3,"click",4,"ngIf"],[1,"filter_line"],[3,"submit","filterIdTemplate","filterID","schema","model","filterTreeHeight"],["href","",1,"more",3,"click"],[1,"glyphicon","glyphicon-triangle-bottom"],["href","",1,"more","ng-hide",3,"click"],[1,"glyphicon","glyphicon-triangle-top"],[1,"buttons_td"],[1,"numbers"],["title","Echo","href","",1,"table_btn",3,"click"],[1,"echo_icon"],["title",_e,"href","",1,"table_btn",3,"click","permission"],[1,"glyphicon","glyphicon-remove"],["title",oe,"href","",3,"routerLink"],[4,"ngIf"],[3,"innerHtml",4,"ngIf"],[3,"dicomNetworkConnection"],[3,"innerHtml"],[1,"load_more",3,"click"],["class","fa fa-spinner fa-spin fa-3x fa-fw",4,"ngIf"],[1,"fa","fa-spinner","fa-spin","fa-3x","fa-fw"]];},template:function(n,o){n&1&&(u(0,"div",15),$(1,"config-tab"),u(2,"div",16)(3,"h2"),P(4,0),p(),E(5,QLe,3,5,"div",17),u(6,"div",18)(7,"div",19)(8,"div",20)(9,"div",21),E(10,ZLe,4,0,"a",22)(11,JLe,4,0,"a",23),u(12,"a",24),b("click",function(s){return s.preventDefault(),o.createAe();}),$(13,"span",25),U(14),P(15,1),W(),p()()(),u(16,"div",20)(17,"div",21)(18,"input",26),q("ngModelChange",function(s){return Y(o.aesfilter,s)||(o.aesfilter=s),s;}),p()()()()(),u(19,"table",27)(20,"thead")(21,"tr"),$(22,"th"),u(23,"th"),P(24,2),p(),u(25,"th"),P(26,3),p(),u(27,"th"),P(28,4),p(),u(29,"th"),P(30,5),p(),u(31,"th"),P(32,6),p(),u(33,"th"),P(34,7),p(),u(35,"th"),P(36,8),p(),u(37,"th"),P(38,9),p(),u(39,"th",28),P(40,10),p()()(),u(41,"tbody"),E(42,r5e,27,15,"tr",29),$e(43,"search"),$e(44,"slice"),p()(),E(45,a5e,4,1,"button",30),p()()),n&2&&(c(5),m("ngIf",o.advancedConfig),c(5),m("ngIf",!o.advancedConfig),c(),m("ngIf",o.advancedConfig),c(7),H("ngModel",o.aesfilter),c(24),m("ngForOf",ba(44,9,pt(43,6,o.aes,o.aesfilter),o.moreAes.start,o.moreAes.limit)),c(3),m("ngIf",o.aes&&o.moreAes.limit<=o.aes.length));},dependencies:[ve,de,Me,Se,Ee,Mr,y2,Yi,xn,Ml,Rs,yt],encapsulation:2});let i=r;return i;})();function gB(i){return new fe(3e3,!1);}function s5e(){return new fe(3100,!1);}function l5e(){return new fe(3101,!1);}function c5e(i){return new fe(3001,!1);}function d5e(i){return new fe(3003,!1);}function u5e(i){return new fe(3004,!1);}function CB(i,r){return new fe(3005,!1);}function yB(){return new fe(3006,!1);}function bB(){return new fe(3007,!1);}function SB(i,r){return new fe(3008,!1);}function EB(i){return new fe(3002,!1);}function TB(i,r,t,e,n){return new fe(3010,!1);}function IB(){return new fe(3011,!1);}function xB(){return new fe(3012,!1);}function AB(){return new fe(3200,!1);}function wB(){return new fe(3202,!1);}function DB(){return new fe(3013,!1);}function MB(i){return new fe(3014,!1);}function OB(i){return new fe(3015,!1);}function PB(i){return new fe(3016,!1);}function RB(i,r){return new fe(3404,!1);}function p5e(i){return new fe(3502,!1);}function NB(i){return new fe(3503,!1);}function kB(){return new fe(3300,!1);}function $B(i){return new fe(3504,!1);}function LB(i){return new fe(3301,!1);}function FB(i,r){return new fe(3302,!1);}function VB(i){return new fe(3303,!1);}function zB(i,r){return new fe(3400,!1);}function GB(i){return new fe(3401,!1);}function jB(i){return new fe(3402,!1);}function UB(i,r){return new fe(3505,!1);}function Bc(i){switch(i.length){case 0:return new Rl();case 1:return i[0];default:return new qp(i);}}function d3(i,r,t=new Map(),e=new Map()){let n=[],o=[],a=-1,s=null;if(r.forEach(l=>{let _=l.get("offset"),f=_==a,g=f&&s||new Map();l.forEach((S,x)=>{let D=x,R=S;if(x!=="offset")switch(D=i.normalizePropertyName(D,n),R){case hh:R=t.get(x);break;case as:R=e.get(x);break;default:R=i.normalizeStyleValue(x,D,R,n);break;}g.set(D,R);}),f||o.push(g),s=g,a=_;}),n.length)throw p5e(n);return o;}function b2(i,r,t,e){switch(r){case"start":i.onStart(()=>e(t&&s3(t,"start",i)));break;case"done":i.onDone(()=>e(t&&s3(t,"done",i)));break;case"destroy":i.onDestroy(()=>e(t&&s3(t,"destroy",i)));break;}}function s3(i,r,t){let e=t.totalTime,n=!!t.disabled,o=S2(i.element,i.triggerName,i.fromState,i.toState,r||i.phaseName,e??i.totalTime,n),a=i._data;return a!=null&&(o._data=a),o;}function S2(i,r,t,e,n="",o=0,a){return{element:i,triggerName:r,fromState:t,toState:e,phaseName:n,totalTime:o,disabled:!!a};}function fa(i,r,t){let e=i.get(r);return e||i.set(r,e=t),e;}function u3(i){let r=i.indexOf(":"),t=i.substring(1,r),e=i.slice(r+1);return[t,e];}var m5e=typeof document>"u"?null:document.documentElement;function E2(i){let r=i.parentNode||i.host||null;return r===m5e?null:r;}function _5e(i){return i.substring(1,6)=="ebkit";}var Jp=null,vB=!1;function WB(i){Jp||(Jp=f5e()||{},vB=Jp.style?"WebkitAppearance"in Jp.style:!1);let r=!0;return Jp.style&&!_5e(i)&&(r=i in Jp.style,!r&&vB&&(r="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Jp.style)),r;}function f5e(){return typeof document<"u"?document.body:null;}function p3(i,r){for(;r;){if(r===i)return!0;r=E2(r);}return!1;}function m3(i,r,t){if(t)return Array.from(i.querySelectorAll(r));let e=i.querySelector(r);return e?[e]:[];}var h5e=1e3,_3="{{",g5e="}}",f3="ng-enter",T2="ng-leave",Fv="ng-trigger",Vv=".ng-trigger",h3="ng-animating",I2=".ng-animating";function zl(i){if(typeof i=="number")return i;let r=i.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:l3(parseFloat(r[1]),r[2]);}function l3(i,r){switch(r){case"s":return i*h5e;default:return i;}}function zv(i,r,t){return i.hasOwnProperty("duration")?i:v5e(i,r,t);}function v5e(i,r,t){let e=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,o=0,a="";if(typeof i=="string"){let s=i.match(e);if(s===null)return r.push(gB(i)),{duration:0,delay:0,easing:""};n=l3(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(o=l3(parseFloat(l),s[4]));let _=s[5];_&&(a=_);}else n=i;if(!t){let s=!1,l=r.length;n<0&&(r.push(s5e()),s=!0),o<0&&(r.push(l5e()),s=!0),s&&r.splice(l,0,gB(i));}return{duration:n,delay:o,easing:a};}function BB(i){return i.length?i[0]instanceof Map?i:i.map(r=>new Map(Object.entries(r))):[];}function js(i,r,t){r.forEach((e,n)=>{let o=x2(n);t&&!t.has(n)&&t.set(n,i.style[o]),i.style[o]=e;});}function Ou(i,r){r.forEach((t,e)=>{let n=x2(e);i.style[n]="";});}function Th(i){return Array.isArray(i)?i.length==1?i[0]:TW(i):i;}function HB(i,r,t){let e=r.params||{},n=g3(i);n.length&&n.forEach(o=>{e.hasOwnProperty(o)||t.push(c5e(o));});}var c3=new RegExp(`${_3}\\s*(.+?)\\s*${g5e}`,"g");function g3(i){let r=[];if(typeof i=="string"){let t;for(;t=c3.exec(i);)r.push(t[1]);c3.lastIndex=0;}return r;}function Ih(i,r,t){let e=`${i}`,n=e.replace(c3,(o,a)=>{let s=r[a];return s==null&&(t.push(d5e(a)),s=""),s.toString();});return n==e?i:n;}var C5e=/-+([a-z0-9])/g;function x2(i){return i.replace(C5e,(...r)=>r[1].toUpperCase());}function qB(i,r){return i===0||r===0;}function YB(i,r,t){if(t.size&&r.length){let e=r[0],n=[];if(t.forEach((o,a)=>{e.has(a)||n.push(a),e.set(a,o);}),n.length)for(let o=1;o<r.length;o++){let a=r[o];n.forEach(s=>a.set(s,A2(i,s)));}}return r;}function ha(i,r,t){switch(r.type){case zt.Trigger:return i.visitTrigger(r,t);case zt.State:return i.visitState(r,t);case zt.Transition:return i.visitTransition(r,t);case zt.Sequence:return i.visitSequence(r,t);case zt.Group:return i.visitGroup(r,t);case zt.Animate:return i.visitAnimate(r,t);case zt.Keyframes:return i.visitKeyframes(r,t);case zt.Style:return i.visitStyle(r,t);case zt.Reference:return i.visitReference(r,t);case zt.AnimateChild:return i.visitAnimateChild(r,t);case zt.AnimateRef:return i.visitAnimateRef(r,t);case zt.Query:return i.visitQuery(r,t);case zt.Stagger:return i.visitStagger(r,t);default:throw u5e(r.type);}}function A2(i,r){return window.getComputedStyle(i)[r];}var N3=(()=>{class i{validateStyleProperty(t){return WB(t);}containsElement(t,e){return p3(t,e);}getParentElement(t){return E2(t);}query(t,e,n){return m3(t,e,n);}computeStyle(t,e,n){return n||"";}animate(t,e,n,o,a,s=[],l){return new Rl(n,o);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})(),tm=class{static NOOP=new N3();},im=class{};var y5e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),P2=class extends im{normalizePropertyName(r,t){return x2(r);}normalizeStyleValue(r,t,e,n){let o="",a=e.toString().trim();if(y5e.has(t)&&e!==0&&e!=="0")if(typeof e=="number")o="px";else{let s=e.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&n.push(CB(r,e));}return a+o;}};var R2="*";function b5e(i,r){let t=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(e=>S5e(e,t,r)):t.push(i),t;}function S5e(i,r,t){if(i[0]==":"){let l=E5e(i,t);if(typeof l=="function"){r.push(l);return;}i=l;}let e=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(e==null||e.length<4)return t.push(OB(i)),r;let n=e[1],o=e[2],a=e[3];r.push(XB(n,a));let s=n==R2&&a==R2;o[0]=="<"&&!s&&r.push(XB(a,n));}function E5e(i,r){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return r.push(PB(i)),"* => *";}}var w2=new Set(["true","1"]),D2=new Set(["false","0"]);function XB(i,r){let t=w2.has(i)||D2.has(i),e=w2.has(r)||D2.has(r);return(n,o)=>{let a=i==R2||i==n,s=r==R2||r==o;return!a&&t&&typeof n=="boolean"&&(a=n?w2.has(i):D2.has(i)),!s&&e&&typeof o=="boolean"&&(s=o?w2.has(r):D2.has(r)),a&&s;};}var oH=":self",T5e=new RegExp(`s*${oH}s*,?`,"g");function aH(i,r,t,e){return new E3(i).build(r,t,e);}var KB="",E3=class{_driver;constructor(r){this._driver=r;}build(r,t,e){let n=new T3(t);return this._resetContextStyleTimingState(n),ha(this,Th(r),n);}_resetContextStyleTimingState(r){r.currentQuerySelector=KB,r.collectedStyles=new Map(),r.collectedStyles.set(KB,new Map()),r.currentTime=0;}visitTrigger(r,t){let e=t.queryCount=0,n=t.depCount=0,o=[],a=[];return r.name.charAt(0)=="@"&&t.errors.push(yB()),r.definitions.forEach(s=>{if(this._resetContextStyleTimingState(t),s.type==zt.State){let l=s,_=l.name;_.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,o.push(this.visitState(l,t));}),l.name=_;}else if(s.type==zt.Transition){let l=this.visitTransition(s,t);e+=l.queryCount,n+=l.depCount,a.push(l);}else t.errors.push(bB());}),{type:zt.Trigger,name:r.name,states:o,transitions:a,queryCount:e,depCount:n,options:null};}visitState(r,t){let e=this.visitStyle(r.styles,t),n=r.options&&r.options.params||null;if(e.containsDynamicStyles){let o=new Set(),a=n||{};e.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{g3(l).forEach(_=>{a.hasOwnProperty(_)||o.add(_);});});}),o.size&&t.errors.push(SB(r.name,[...o.values()]));}return{type:zt.State,name:r.name,style:e,options:n?{params:n}:null};}visitTransition(r,t){t.queryCount=0,t.depCount=0;let e=ha(this,Th(r.animation),t),n=b5e(r.expr,t.errors);return{type:zt.Transition,matchers:n,animation:e,queryCount:t.queryCount,depCount:t.depCount,options:em(r.options)};}visitSequence(r,t){return{type:zt.Sequence,steps:r.steps.map(e=>ha(this,e,t)),options:em(r.options)};}visitGroup(r,t){let e=t.currentTime,n=0,o=r.steps.map(a=>{t.currentTime=e;let s=ha(this,a,t);return n=Math.max(n,t.currentTime),s;});return t.currentTime=n,{type:zt.Group,steps:o,options:em(r.options)};}visitAnimate(r,t){let e=w5e(r.timings,t.errors);t.currentAnimateTimings=e;let n,o=r.styles?r.styles:Pa({});if(o.type==zt.Keyframes)n=this.visitKeyframes(o,t);else{let a=r.styles,s=!1;if(!a){s=!0;let _={};e.easing&&(_.easing=e.easing),a=Pa(_);}t.currentTime+=e.duration+e.delay;let l=this.visitStyle(a,t);l.isEmptyStep=s,n=l;}return t.currentAnimateTimings=null,{type:zt.Animate,timings:e,style:n,options:null};}visitStyle(r,t){let e=this._makeStyleAst(r,t);return this._validateStyleAst(e,t),e;}_makeStyleAst(r,t){let e=[],n=Array.isArray(r.styles)?r.styles:[r.styles];for(let s of n)typeof s=="string"?s===as?e.push(s):t.errors.push(EB(s)):e.push(new Map(Object.entries(s)));let o=!1,a=null;return e.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let l of s.values())if(l.toString().indexOf(_3)>=0){o=!0;break;}}}),{type:zt.Style,styles:e,easing:a,offset:r.offset,containsDynamicStyles:o,options:null};}_validateStyleAst(r,t){let e=t.currentAnimateTimings,n=t.currentTime,o=t.currentTime;e&&o>0&&(o-=e.duration+e.delay),r.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let _=t.collectedStyles.get(t.currentQuerySelector),f=_.get(l),g=!0;f&&(o!=n&&o>=f.startTime&&n<=f.endTime&&(t.errors.push(TB(l,f.startTime,f.endTime,o,n)),g=!1),o=f.startTime),g&&_.set(l,{startTime:o,endTime:n}),t.options&&HB(s,t.options,t.errors);});});}visitKeyframes(r,t){let e={type:zt.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(IB()),e;let n=1,o=0,a=[],s=!1,l=!1,_=0,f=r.steps.map(V=>{let ie=this._makeStyleAst(V,t),_e=ie.offset!=null?ie.offset:A5e(ie.styles),oe=0;return _e!=null&&(o++,oe=ie.offset=_e),l=l||oe<0||oe>1,s=s||oe<_,_=oe,a.push(oe),ie;});l&&t.errors.push(xB()),s&&t.errors.push(AB());let g=r.steps.length,S=0;o>0&&o<g?t.errors.push(wB()):o==0&&(S=n/(g-1));let x=g-1,D=t.currentTime,R=t.currentAnimateTimings,j=R.duration;return f.forEach((V,ie)=>{let _e=S>0?ie==x?1:S*ie:a[ie],oe=_e*j;t.currentTime=D+R.delay+oe,R.duration=oe,this._validateStyleAst(V,t),V.offset=_e,e.styles.push(V);}),e;}visitReference(r,t){return{type:zt.Reference,animation:ha(this,Th(r.animation),t),options:em(r.options)};}visitAnimateChild(r,t){return t.depCount++,{type:zt.AnimateChild,options:em(r.options)};}visitAnimateRef(r,t){return{type:zt.AnimateRef,animation:this.visitReference(r.animation,t),options:em(r.options)};}visitQuery(r,t){let e=t.currentQuerySelector,n=r.options||{};t.queryCount++,t.currentQuery=r;let[o,a]=I5e(r.selector);t.currentQuerySelector=e.length?e+" "+o:o,fa(t.collectedStyles,t.currentQuerySelector,new Map());let s=ha(this,Th(r.animation),t);return t.currentQuery=null,t.currentQuerySelector=e,{type:zt.Query,selector:o,limit:n.limit||0,optional:!!n.optional,includeSelf:a,animation:s,originalSelector:r.selector,options:em(r.options)};}visitStagger(r,t){t.currentQuery||t.errors.push(DB());let e=r.timings==="full"?{duration:0,delay:0,easing:"full"}:zv(r.timings,t.errors,!0);return{type:zt.Stagger,animation:ha(this,Th(r.animation),t),timings:e,options:null};}};function I5e(i){let r=!!i.split(/\s*,\s*/).find(t=>t==oH);return r&&(i=i.replace(T5e,"")),i=i.replace(/@\*/g,Vv).replace(/@\w+/g,t=>Vv+"-"+t.slice(1)).replace(/:animating/g,I2),[i,r];}function x5e(i){return i?re({},i):null;}var T3=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map();options=null;unsupportedCSSPropertiesFound=new Set();constructor(r){this.errors=r;}};function A5e(i){if(typeof i=="string")return null;let r=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){let e=t;r=parseFloat(e.get("offset")),e.delete("offset");}});else if(i instanceof Map&&i.has("offset")){let t=i;r=parseFloat(t.get("offset")),t.delete("offset");}return r;}function w5e(i,r){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=zv(i,r).duration;return v3(o,0,"");}let t=i;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=v3(0,0,"");return o.dynamic=!0,o.strValue=t,o;}let n=zv(t,r);return v3(n.duration,n.delay,n.easing);}function em(i){return i?(i=re({},i),i.params&&(i.params=x5e(i.params))):i={},i;}function v3(i,r,t){return{duration:i,delay:r,easing:t};}function k3(i,r,t,e,n,o,a=null,s=!1){return{type:1,element:i,keyframes:r,preStyleProps:t,postStyleProps:e,duration:n,delay:o,totalTime:n+o,easing:a,subTimeline:s};}var jv=class{_map=new Map();get(r){return this._map.get(r)||[];}append(r,t){let e=this._map.get(r);e||this._map.set(r,e=[]),e.push(...t);}has(r){return this._map.has(r);}clear(){this._map.clear();}},D5e=1,M5e=":enter",O5e=new RegExp(M5e,"g"),P5e=":leave",R5e=new RegExp(P5e,"g");function sH(i,r,t,e,n,o=new Map(),a=new Map(),s,l,_=[]){return new I3().buildKeyframes(i,r,t,e,n,o,a,s,l,_);}var I3=class{buildKeyframes(r,t,e,n,o,a,s,l,_,f=[]){_=_||new jv();let g=new x3(r,t,_,n,o,f,[]);g.options=l;let S=l.delay?zl(l.delay):0;g.currentTimeline.delayNextStep(S),g.currentTimeline.setStyles([a],null,g.errors,l),ha(this,e,g);let x=g.timelines.filter(D=>D.containsAnimation());if(x.length&&s.size){let D;for(let R=x.length-1;R>=0;R--){let j=x[R];if(j.element===t){D=j;break;}}D&&!D.allowOnlyTimelineStyles()&&D.setStyles([s],null,g.errors,l);}return x.length?x.map(D=>D.buildKeyframes()):[k3(t,[],[],[],0,S,"",!1)];}visitTrigger(r,t){}visitState(r,t){}visitTransition(r,t){}visitAnimateChild(r,t){let e=t.subInstructions.get(t.element);if(e){let n=t.createSubContext(r.options),o=t.currentTimeline.currentTime,a=this._visitSubInstructions(e,n,n.options);o!=a&&t.transformIntoNewTimeline(a);}t.previousNode=r;}visitAnimateRef(r,t){let e=t.createSubContext(r.options);e.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],t,e),this.visitReference(r.animation,e),t.transformIntoNewTimeline(e.currentTimeline.currentTime),t.previousNode=r;}_applyAnimationRefDelays(r,t,e){for(let n of r){let o=n?.delay;if(o){let a=typeof o=="number"?o:zl(Ih(o,n?.params??{},t.errors));e.delayNextStep(a);}}}_visitSubInstructions(r,t,e){let o=t.currentTimeline.currentTime,a=e.duration!=null?zl(e.duration):null,s=e.delay!=null?zl(e.delay):null;return a!==0&&r.forEach(l=>{let _=t.appendInstructionToTimeline(l,a,s);o=Math.max(o,_.duration+_.delay);}),o;}visitReference(r,t){t.updateOptions(r.options,!0),ha(this,r.animation,t),t.previousNode=r;}visitSequence(r,t){let e=t.subContextCount,n=t,o=r.options;if(o&&(o.params||o.delay)&&(n=t.createSubContext(o),n.transformIntoNewTimeline(),o.delay!=null)){n.previousNode.type==zt.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=N2);let a=zl(o.delay);n.delayNextStep(a);}r.steps.length&&(r.steps.forEach(a=>ha(this,a,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>e&&n.transformIntoNewTimeline()),t.previousNode=r;}visitGroup(r,t){let e=[],n=t.currentTimeline.currentTime,o=r.options&&r.options.delay?zl(r.options.delay):0;r.steps.forEach(a=>{let s=t.createSubContext(r.options);o&&s.delayNextStep(o),ha(this,a,s),n=Math.max(n,s.currentTimeline.currentTime),e.push(s.currentTimeline);}),e.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(n),t.previousNode=r;}_visitTiming(r,t){if(r.dynamic){let e=r.strValue,n=t.params?Ih(e,t.params,t.errors):e;return zv(n,t.errors);}else return{duration:r.duration,delay:r.delay,easing:r.easing};}visitAnimate(r,t){let e=t.currentAnimateTimings=this._visitTiming(r.timings,t),n=t.currentTimeline;e.delay&&(t.incrementTime(e.delay),n.snapshotCurrentStyles());let o=r.style;o.type==zt.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(e.duration),this.visitStyle(o,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=r;}visitStyle(r,t){let e=t.currentTimeline,n=t.currentAnimateTimings;!n&&e.hasCurrentStyleProperties()&&e.forwardFrame();let o=n&&n.easing||r.easing;r.isEmptyStep?e.applyEmptyStep(o):e.setStyles(r.styles,o,t.errors,t.options),t.previousNode=r;}visitKeyframes(r,t){let e=t.currentAnimateTimings,n=t.currentTimeline.duration,o=e.duration,s=t.createSubContext().currentTimeline;s.easing=e.easing,r.styles.forEach(l=>{let _=l.offset||0;s.forwardTime(_*o),s.setStyles(l.styles,l.easing,t.errors,t.options),s.applyStylesToKeyframe();}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(n+o),t.previousNode=r;}visitQuery(r,t){let e=t.currentTimeline.currentTime,n=r.options||{},o=n.delay?zl(n.delay):0;o&&(t.previousNode.type===zt.Style||e==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=N2);let a=e,s=t.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=s.length;let l=null;s.forEach((_,f)=>{t.currentQueryIndex=f;let g=t.createSubContext(r.options,_);o&&g.delayNextStep(o),_===t.element&&(l=g.currentTimeline),ha(this,r.animation,g),g.currentTimeline.applyStylesToKeyframe();let S=g.currentTimeline.currentTime;a=Math.max(a,S);}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=r;}visitStagger(r,t){let e=t.parentContext,n=t.currentTimeline,o=r.timings,a=Math.abs(o.duration),s=a*(t.currentQueryTotal-1),l=a*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=e.currentStaggerTime;break;}let f=t.currentTimeline;l&&f.delayNextStep(l);let g=f.currentTime;ha(this,r.animation,t),t.previousNode=r,e.currentStaggerTime=n.currentTime-g+(n.startTime-e.currentTimeline.startTime);}},N2={},x3=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=N2;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(r,t,e,n,o,a,s,l){this._driver=r,this.element=t,this.subInstructions=e,this._enterClassName=n,this._leaveClassName=o,this.errors=a,this.timelines=s,this.currentTimeline=l||new k2(this._driver,t,0),s.push(this.currentTimeline);}get params(){return this.options.params;}updateOptions(r,t){if(!r)return;let e=r,n=this.options;e.duration!=null&&(n.duration=zl(e.duration)),e.delay!=null&&(n.delay=zl(e.delay));let o=e.params;if(o){let a=n.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!t||!a.hasOwnProperty(s))&&(a[s]=Ih(o[s],a,this.errors));});}}_copyOptions(){let r={};if(this.options){let t=this.options.params;if(t){let e=r.params={};Object.keys(t).forEach(n=>{e[n]=t[n];});}}return r;}createSubContext(r=null,t,e){let n=t||this.element,o=new i(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,e||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(r),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o;}transformIntoNewTimeline(r){return this.previousNode=N2,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline;}appendInstructionToTimeline(r,t,e){let n={duration:t??r.duration,delay:this.currentTimeline.currentTime+(e??0)+r.delay,easing:""},o=new A3(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,n,r.stretchStartingKeyframe);return this.timelines.push(o),n;}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r);}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r);}invokeQuery(r,t,e,n,o,a){let s=[];if(n&&s.push(this.element),r.length>0){r=r.replace(O5e,"."+this._enterClassName),r=r.replace(R5e,"."+this._leaveClassName);let l=e!=1,_=this._driver.query(this.element,r,l);e!==0&&(_=e<0?_.slice(_.length+e,_.length):_.slice(0,e)),s.push(..._);}return!o&&s.length==0&&a.push(MB(t)),s;}},k2=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map();_currentKeyframe=new Map();_keyframes=new Map();_styleSummary=new Map();_localTimelineStyles=new Map();_globalTimelineStyles;_pendingStyles=new Map();_backFill=new Map();_currentEmptyStepKeyframe=null;constructor(r,t,e,n){this._driver=r,this.element=t,this.startTime=e,this._elementTimelineStylesLookup=n,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map()),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe();}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0;}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0;}get currentTime(){return this.startTime+this.duration;}delayNextStep(r){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+r),t&&this.snapshotCurrentStyles()):this.startTime+=r;}fork(r,t){return this.applyStylesToKeyframe(),new i(this._driver,r,t||this.currentTime,this._elementTimelineStylesLookup);}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map(),this._keyframes.set(this.duration,this._currentKeyframe));}forwardFrame(){this.duration+=D5e,this._loadKeyframe();}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe();}_updateStyle(r,t){this._localTimelineStyles.set(r,t),this._globalTimelineStyles.set(r,t),this._styleSummary.set(r,{time:this.currentTime,value:t});}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe;}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[t,e]of this._globalTimelineStyles)this._backFill.set(t,e||as),this._currentKeyframe.set(t,as);this._currentEmptyStepKeyframe=this._currentKeyframe;}setStyles(r,t,e,n){t&&this._previousKeyframe.set("easing",t);let o=n&&n.params||{},a=N5e(r,this._globalTimelineStyles);for(let[s,l]of a){let _=Ih(l,o,e);this._pendingStyles.set(s,_),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??as),this._updateStyle(s,_);}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((r,t)=>{this._currentKeyframe.set(t,r);}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,r);}));}snapshotCurrentStyles(){for(let[r,t]of this._localTimelineStyles)this._pendingStyles.set(r,t),this._updateStyle(r,t);}getFinalKeyframe(){return this._keyframes.get(this.duration);}get properties(){let r=[];for(let t in this._currentKeyframe)r.push(t);return r;}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((t,e)=>{let n=this._styleSummary.get(e);(!n||t.time>n.time)&&this._updateStyle(e,t.value);});}buildKeyframes(){this.applyStylesToKeyframe();let r=new Set(),t=new Set(),e=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((s,l)=>{let _=new Map([...this._backFill,...s]);_.forEach((f,g)=>{f===hh?r.add(g):f===as&&t.add(g);}),e||_.set("offset",l/this.duration),n.push(_);});let o=[...r.values()],a=[...t.values()];if(e){let s=n[0],l=new Map(s);s.set("offset",0),l.set("offset",1),n=[s,l];}return k3(this.element,n,o,a,this.duration,this.startTime,this.easing,!1);}},A3=class extends k2{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(r,t,e,n,o,a,s=!1){super(r,t,a.delay),this.keyframes=e,this.preStyleProps=n,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing};}containsAnimation(){return this.keyframes.length>1;}buildKeyframes(){let r=this.keyframes,{delay:t,duration:e,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],a=e+t,s=t/a,l=new Map(r[0]);l.set("offset",0),o.push(l);let _=new Map(r[0]);_.set("offset",QB(s)),o.push(_);let f=r.length-1;for(let g=1;g<=f;g++){let S=new Map(r[g]),x=S.get("offset"),D=t+x*e;S.set("offset",QB(D/a)),o.push(S);}e=a,t=0,n="",r=o;}return k3(this.element,r,this.preStyleProps,this.postStyleProps,e,t,n,!0);}};function QB(i,r=3){let t=Math.pow(10,r-1);return Math.round(i*t)/t;}function N5e(i,r){let t=new Map(),e;return i.forEach(n=>{if(n==="*"){e??=r.keys();for(let o of e)t.set(o,as);}else for(let[o,a]of n)t.set(o,a);}),t;}function ZB(i,r,t,e,n,o,a,s,l,_,f,g,S){return{type:0,element:i,triggerName:r,isRemovalTransition:n,fromState:t,fromStyles:o,toState:e,toStyles:a,timelines:s,queriedElements:l,preStyleProps:_,postStyleProps:f,totalTime:g,errors:S};}var C3={},$2=class{_triggerName;ast;_stateStyles;constructor(r,t,e){this._triggerName=r,this.ast=t,this._stateStyles=e;}match(r,t,e,n){return k5e(this.ast.matchers,r,t,e,n);}buildStyles(r,t,e){let n=this._stateStyles.get("*");return r!==void 0&&(n=this._stateStyles.get(r?.toString())||n),n?n.buildStyles(t,e):new Map();}build(r,t,e,n,o,a,s,l,_,f){let g=[],S=this.ast.options&&this.ast.options.params||C3,x=s&&s.params||C3,D=this.buildStyles(e,x,g),R=l&&l.params||C3,j=this.buildStyles(n,R,g),V=new Set(),ie=new Map(),_e=new Map(),oe=n==="void",Ne={params:lH(R,S),delay:this.ast.options?.delay},Ce=f?[]:sH(r,t,this.ast.animation,o,a,D,j,Ne,_,g),Ge=0;return Ce.forEach(dt=>{Ge=Math.max(dt.duration+dt.delay,Ge);}),g.length?ZB(t,this._triggerName,e,n,oe,D,j,[],[],ie,_e,Ge,g):(Ce.forEach(dt=>{let hi=dt.element,Vi=fa(ie,hi,new Set());dt.preStyleProps.forEach(zi=>Vi.add(zi));let gi=fa(_e,hi,new Set());dt.postStyleProps.forEach(zi=>gi.add(zi)),hi!==t&&V.add(hi);}),ZB(t,this._triggerName,e,n,oe,D,j,Ce,[...V.values()],ie,_e,Ge));}};function k5e(i,r,t,e,n){return i.some(o=>o(r,t,e,n));}function lH(i,r){let t=re({},r);return Object.entries(i).forEach(([e,n])=>{n!=null&&(t[e]=n);}),t;}var w3=class{styles;defaultParams;normalizer;constructor(r,t,e){this.styles=r,this.defaultParams=t,this.normalizer=e;}buildStyles(r,t){let e=new Map(),n=lH(r,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=Ih(a,n,t));let l=this.normalizer.normalizePropertyName(s,t);a=this.normalizer.normalizeStyleValue(s,l,a,t),e.set(s,a);});}),e;}};function $5e(i,r,t){return new D3(i,r,t);}var D3=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map();constructor(r,t,e){this.name=r,this.ast=t,this._normalizer=e,t.states.forEach(n=>{let o=n.options&&n.options.params||{};this.states.set(n.name,new w3(n.style,o,e));}),JB(this.states,"true","1"),JB(this.states,"false","0"),t.transitions.forEach(n=>{this.transitionFactories.push(new $2(r,n,this.states));}),this.fallbackTransition=L5e(r,this.states);}get containsQueries(){return this.ast.queryCount>0;}matchTransition(r,t,e,n){return this.transitionFactories.find(a=>a.match(r,t,e,n))||null;}matchStyles(r,t,e){return this.fallbackTransition.buildStyles(r,t,e);}};function L5e(i,r,t){let e=[(a,s)=>!0],n={type:zt.Sequence,steps:[],options:null},o={type:zt.Transition,animation:n,matchers:e,options:null,queryCount:0,depCount:0};return new $2(i,o,r);}function JB(i,r,t){i.has(r)?i.has(t)||i.set(t,i.get(r)):i.has(t)&&i.set(r,i.get(t));}var F5e=new jv(),M3=class{bodyNode;_driver;_normalizer;_animations=new Map();_playersById=new Map();players=[];constructor(r,t,e){this.bodyNode=r,this._driver=t,this._normalizer=e;}register(r,t){let e=[],n=[],o=aH(this._driver,t,e,n);if(e.length)throw NB(e);this._animations.set(r,o);}_buildPlayer(r,t,e){let n=r.element,o=d3(this._normalizer,r.keyframes,t,e);return this._driver.animate(n,o,r.duration,r.delay,r.easing,[],!0);}create(r,t,e={}){let n=[],o=this._animations.get(r),a,s=new Map();if(o?(a=sH(this._driver,t,o,f3,T2,new Map(),new Map(),e,F5e,n),a.forEach(f=>{let g=fa(s,f.element,new Map());f.postStyleProps.forEach(S=>g.set(S,null));})):(n.push(kB()),a=[]),n.length)throw $B(n);s.forEach((f,g)=>{f.forEach((S,x)=>{f.set(x,this._driver.computeStyle(g,x,as));});});let l=a.map(f=>{let g=s.get(f.element);return this._buildPlayer(f,new Map(),g);}),_=Bc(l);return this._playersById.set(r,_),_.onDestroy(()=>this.destroy(r)),this.players.push(_),_;}destroy(r){let t=this._getPlayer(r);t.destroy(),this._playersById.delete(r);let e=this.players.indexOf(t);e>=0&&this.players.splice(e,1);}_getPlayer(r){let t=this._playersById.get(r);if(!t)throw LB(r);return t;}listen(r,t,e,n){let o=S2(t,"","","");return b2(this._getPlayer(r),e,o,n),()=>{};}command(r,t,e,n){if(e=="register"){this.register(r,n[0]);return;}if(e=="create"){let a=n[0]||{};this.create(r,t,a);return;}let o=this._getPlayer(r);switch(e){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(r);break;}}},eH="ng-animate-queued",V5e=".ng-animate-queued",y3="ng-animate-disabled",z5e=".ng-animate-disabled",G5e="ng-star-inserted",j5e=".ng-star-inserted",U5e=[],cH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},W5e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Us="__ng_removed",Uv=class{namespaceId;value;options;get params(){return this.options.params;}constructor(r,t=""){this.namespaceId=t;let e=r&&r.hasOwnProperty("value"),n=e?r.value:r;if(this.value=H5e(n),e){let o=r,{value:a}=o,s=Aw(o,["value"]);this.options=s;}else this.options={};this.options.params||(this.options.params={});}absorbOptions(r){let t=r.params;if(t){let e=this.options.params;Object.keys(t).forEach(n=>{e[n]==null&&(e[n]=t[n]);});}}},Gv="void",b3=new Uv(Gv),O3=class{id;hostElement;_engine;players=[];_triggers=new Map();_queue=[];_elementListeners=new Map();_hostClassName;constructor(r,t,e){this.id=r,this.hostElement=t,this._engine=e,this._hostClassName="ng-tns-"+r,ss(t,this._hostClassName);}listen(r,t,e,n){if(!this._triggers.has(t))throw FB(e,t);if(e==null||e.length==0)throw VB(t);if(!q5e(e))throw zB(e,t);let o=fa(this._elementListeners,r,[]),a={name:t,phase:e,callback:n};o.push(a);let s=fa(this._engine.statesByElement,r,new Map());return s.has(t)||(ss(r,Fv),ss(r,Fv+"-"+t),s.set(t,b3)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(t)||s.delete(t);});};}register(r,t){return this._triggers.has(r)?!1:(this._triggers.set(r,t),!0);}_getTrigger(r){let t=this._triggers.get(r);if(!t)throw GB(r);return t;}trigger(r,t,e,n=!0){let o=this._getTrigger(t),a=new Wv(this.id,t,r),s=this._engine.statesByElement.get(r);s||(ss(r,Fv),ss(r,Fv+"-"+t),this._engine.statesByElement.set(r,s=new Map()));let l=s.get(t),_=new Uv(e,this.id);if(!(e&&e.hasOwnProperty("value"))&&l&&_.absorbOptions(l.options),s.set(t,_),l||(l=b3),!(_.value===Gv)&&l.value===_.value){if(!K5e(l.params,_.params)){let R=[],j=o.matchStyles(l.value,l.params,R),V=o.matchStyles(_.value,_.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{Ou(r,j),js(r,V);});}return;}let S=fa(this._engine.playersByElement,r,[]);S.forEach(R=>{R.namespaceId==this.id&&R.triggerName==t&&R.queued&&R.destroy();});let x=o.matchTransition(l.value,_.value,r,_.params),D=!1;if(!x){if(!n)return;x=o.fallbackTransition,D=!0;}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:t,transition:x,fromState:l,toState:_,player:a,isFallbackTransition:D}),D||(ss(r,eH),a.onStart(()=>{xh(r,eH);})),a.onDone(()=>{let R=this.players.indexOf(a);R>=0&&this.players.splice(R,1);let j=this._engine.playersByElement.get(r);if(j){let V=j.indexOf(a);V>=0&&j.splice(V,1);}}),this.players.push(a),S.push(a),a;}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(t=>t.delete(r)),this._elementListeners.forEach((t,e)=>{this._elementListeners.set(e,t.filter(n=>n.name!=r));});}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);let t=this._engine.playersByElement.get(r);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(r));}_signalRemovalForInnerTriggers(r,t){let e=this._engine.driver.query(r,Vv,!0);e.forEach(n=>{if(n[Us])return;let o=this._engine.fetchNamespacesByElement(n);o.size?o.forEach(a=>a.triggerLeaveAnimation(n,t,!1,!0)):this.clearElementCache(n);}),this._engine.afterFlushAnimationsDone(()=>e.forEach(n=>this.clearElementCache(n)));}triggerLeaveAnimation(r,t,e,n){let o=this._engine.statesByElement.get(r),a=new Map();if(o){let s=[];if(o.forEach((l,_)=>{if(a.set(_,l.value),this._triggers.has(_)){let f=this.trigger(r,_,Gv,n);f&&s.push(f);}}),s.length)return this._engine.markElementAsRemoved(this.id,r,!0,t,a),e&&Bc(s).onDone(()=>this._engine.processLeaveNode(r)),!0;}return!1;}prepareLeaveAnimationListeners(r){let t=this._elementListeners.get(r),e=this._engine.statesByElement.get(r);if(t&&e){let n=new Set();t.forEach(o=>{let a=o.name;if(n.has(a))return;n.add(a);let l=this._triggers.get(a).fallbackTransition,_=e.get(a)||b3,f=new Uv(Gv),g=new Wv(this.id,a,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:a,transition:l,fromState:_,toState:f,player:g,isFallbackTransition:!0});});}}removeNode(r,t){let e=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,t),this.triggerLeaveAnimation(r,t,!0))return;let n=!1;if(e.totalAnimations){let o=e.players.length?e.playersByQueriedElement.get(r):[];if(o&&o.length)n=!0;else{let a=r;for(;a=a.parentNode;)if(e.statesByElement.get(a)){n=!0;break;}}}if(this.prepareLeaveAnimationListeners(r),n)e.markElementAsRemoved(this.id,r,!1,t);else{let o=r[Us];(!o||o===cH)&&(e.afterFlush(()=>this.clearElementCache(r)),e.destroyInnerAnimations(r),e._onRemovalComplete(r,t));}}insertNode(r,t){ss(r,this._hostClassName);}drainQueuedTransitions(r){let t=[];return this._queue.forEach(e=>{let n=e.player;if(n.destroyed)return;let o=e.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==e.triggerName){let l=S2(o,e.triggerName,e.fromState.value,e.toState.value);l._data=r,b2(e.player,s.phase,l,s.callback);}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy();}):t.push(e);}),this._queue=[],t.sort((e,n)=>{let o=e.transition.ast.depCount,a=n.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(e.element,n.element)?1:-1;});}destroy(r){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r);}},P3=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map();playersByElement=new Map();playersByQueriedElement=new Map();statesByElement=new Map();disabledNodes=new Set();totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map();collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(r,t)=>{};_onRemovalComplete(r,t){this.onRemovalComplete(r,t);}constructor(r,t,e){this.bodyNode=r,this.driver=t,this._normalizer=e;}get queuedPlayers(){let r=[];return this._namespaceList.forEach(t=>{t.players.forEach(e=>{e.queued&&r.push(e);});}),r;}createNamespace(r,t){let e=new O3(r,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(e,t):(this.newHostElements.set(t,e),this.collectEnterElement(t)),this._namespaceLookup[r]=e;}_balanceNamespaceList(r,t){let e=this._namespaceList,n=this.namespacesByHostElement;if(e.length-1>=0){let a=!1,s=this.driver.getParentElement(t);for(;s;){let l=n.get(s);if(l){let _=e.indexOf(l);e.splice(_+1,0,r),a=!0;break;}s=this.driver.getParentElement(s);}a||e.unshift(r);}else e.push(r);return n.set(t,r),r;}register(r,t){let e=this._namespaceLookup[r];return e||(e=this.createNamespace(r,t)),e;}registerTrigger(r,t,e){let n=this._namespaceLookup[r];n&&n.register(t,e)&&this.totalAnimations++;}destroy(r,t){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let e=this._fetchNamespace(r);this.namespacesByHostElement.delete(e.hostElement);let n=this._namespaceList.indexOf(e);n>=0&&this._namespaceList.splice(n,1),e.destroy(t),delete this._namespaceLookup[r];}));}_fetchNamespace(r){return this._namespaceLookup[r];}fetchNamespacesByElement(r){let t=new Set(),e=this.statesByElement.get(r);if(e){for(let n of e.values())if(n.namespaceId){let o=this._fetchNamespace(n.namespaceId);o&&t.add(o);}}return t;}trigger(r,t,e,n){if(M2(t)){let o=this._fetchNamespace(r);if(o)return o.trigger(t,e,n),!0;}return!1;}insertNode(r,t,e,n){if(!M2(t))return;let o=t[Us];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1);}if(r){let a=this._fetchNamespace(r);a&&a.insertNode(t,e);}n&&this.collectEnterElement(t);}collectEnterElement(r){this.collectedEnterElements.push(r);}markElementAsDisabled(r,t){t?this.disabledNodes.has(r)||(this.disabledNodes.add(r),ss(r,y3)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),xh(r,y3));}removeNode(r,t,e){if(M2(t)){let n=r?this._fetchNamespace(r):null;n?n.removeNode(t,e):this.markElementAsRemoved(r,t,!1,e);let o=this.namespacesByHostElement.get(t);o&&o.id!==r&&o.removeNode(t,e);}else this._onRemovalComplete(t,e);}markElementAsRemoved(r,t,e,n,o){this.collectedLeaveElements.push(t),t[Us]={namespaceId:r,setForRemoval:n,hasAnimation:e,removedBeforeQueried:!1,previousTriggersValues:o};}listen(r,t,e,n,o){return M2(t)?this._fetchNamespace(r).listen(t,e,n,o):()=>{};}_buildInstruction(r,t,e,n,o){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,e,n,r.fromState.options,r.toState.options,t,o);}destroyInnerAnimations(r){let t=this.driver.query(r,Vv,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(r,I2,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)));}destroyActiveAnimationsForElement(r){let t=this.playersByElement.get(r);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy();});}finishActiveQueriedAnimationOnElement(r){let t=this.playersByQueriedElement.get(r);t&&t.forEach(e=>e.finish());}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Bc(this.players).onDone(()=>r());r();});}processLeaveNode(r){let t=r[Us];if(t&&t.setForRemoval){if(r[Us]=cH,t.namespaceId){this.destroyInnerAnimations(r);let e=this._fetchNamespace(t.namespaceId);e&&e.clearElementCache(r);}this._onRemovalComplete(r,t.setForRemoval);}r.classList?.contains(y3)&&this.markElementAsDisabled(r,!1),this.driver.query(r,z5e,!0).forEach(e=>{this.markElementAsDisabled(e,!1);});}flush(r=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,n)=>this._balanceNamespaceList(e,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++){let n=this.collectedEnterElements[e];ss(n,G5e);}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let e=[];try{t=this._flushAnimations(e,r);}finally{for(let n=0;n<e.length;n++)e[n]();}}else for(let e=0;e<this.collectedLeaveElements.length;e++){let n=this.collectedLeaveElements[e];this.processLeaveNode(n);}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){let e=this._whenQuietFns;this._whenQuietFns=[],t.length?Bc(t).onDone(()=>{e.forEach(n=>n());}):e.forEach(n=>n());}}reportError(r){throw jB(r);}_flushAnimations(r,t){let e=new jv(),n=[],o=new Map(),a=[],s=new Map(),l=new Map(),_=new Map(),f=new Set();this.disabledNodes.forEach(Ie=>{f.add(Ie);let _t=this.driver.query(Ie,V5e,!0);for(let Ae=0;Ae<_t.length;Ae++)f.add(_t[Ae]);});let g=this.bodyNode,S=Array.from(this.statesByElement.keys()),x=nH(S,this.collectedEnterElements),D=new Map(),R=0;x.forEach((Ie,_t)=>{let Ae=f3+R++;D.set(_t,Ae),Ie.forEach(Ht=>ss(Ht,Ae));});let j=[],V=new Set(),ie=new Set();for(let Ie=0;Ie<this.collectedLeaveElements.length;Ie++){let _t=this.collectedLeaveElements[Ie],Ae=_t[Us];Ae&&Ae.setForRemoval&&(j.push(_t),V.add(_t),Ae.hasAnimation?this.driver.query(_t,j5e,!0).forEach(Ht=>V.add(Ht)):ie.add(_t));}let _e=new Map(),oe=nH(S,Array.from(V));oe.forEach((Ie,_t)=>{let Ae=T2+R++;_e.set(_t,Ae),Ie.forEach(Ht=>ss(Ht,Ae));}),r.push(()=>{x.forEach((Ie,_t)=>{let Ae=D.get(_t);Ie.forEach(Ht=>xh(Ht,Ae));}),oe.forEach((Ie,_t)=>{let Ae=_e.get(_t);Ie.forEach(Ht=>xh(Ht,Ae));}),j.forEach(Ie=>{this.processLeaveNode(Ie);});});let Ne=[],Ce=[];for(let Ie=this._namespaceList.length-1;Ie>=0;Ie--)this._namespaceList[Ie].drainQueuedTransitions(t).forEach(Ae=>{let Ht=Ae.player,en=Ae.element;if(Ne.push(Ht),this.collectedEnterElements.length){let Nn=en[Us];if(Nn&&Nn.setForMove){if(Nn.previousTriggersValues&&Nn.previousTriggersValues.has(Ae.triggerName)){let Na=Nn.previousTriggersValues.get(Ae.triggerName),Hr=this.statesByElement.get(Ae.element);if(Hr&&Hr.has(Ae.triggerName)){let Ul=Hr.get(Ae.triggerName);Ul.value=Na,Hr.set(Ae.triggerName,Ul);}}Ht.destroy();return;}}let Br=!g||!this.driver.containsElement(g,en),An=_e.get(en),it=D.get(en),Gi=this._buildInstruction(Ae,e,it,An,Br);if(Gi.errors&&Gi.errors.length){Ce.push(Gi);return;}if(Br){Ht.onStart(()=>Ou(en,Gi.fromStyles)),Ht.onDestroy(()=>js(en,Gi.toStyles)),n.push(Ht);return;}if(Ae.isFallbackTransition){Ht.onStart(()=>Ou(en,Gi.fromStyles)),Ht.onDestroy(()=>js(en,Gi.toStyles)),n.push(Ht);return;}let Pu=[];Gi.timelines.forEach(Nn=>{Nn.stretchStartingKeyframe=!0,this.disabledNodes.has(Nn.element)||Pu.push(Nn);}),Gi.timelines=Pu,e.append(en,Gi.timelines);let jl={instruction:Gi,player:Ht,element:en};a.push(jl),Gi.queriedElements.forEach(Nn=>fa(s,Nn,[]).push(Ht)),Gi.preStyleProps.forEach((Nn,Na)=>{if(Nn.size){let Hr=l.get(Na);Hr||l.set(Na,Hr=new Set()),Nn.forEach((Ul,Hc)=>Hr.add(Hc));}}),Gi.postStyleProps.forEach((Nn,Na)=>{let Hr=_.get(Na);Hr||_.set(Na,Hr=new Set()),Nn.forEach((Ul,Hc)=>Hr.add(Hc));});});if(Ce.length){let Ie=[];Ce.forEach(_t=>{Ie.push(UB(_t.triggerName,_t.errors));}),Ne.forEach(_t=>_t.destroy()),this.reportError(Ie);}let Ge=new Map(),dt=new Map();a.forEach(Ie=>{let _t=Ie.element;e.has(_t)&&(dt.set(_t,_t),this._beforeAnimationBuild(Ie.player.namespaceId,Ie.instruction,Ge));}),n.forEach(Ie=>{let _t=Ie.element;this._getPreviousPlayers(_t,!1,Ie.namespaceId,Ie.triggerName,null).forEach(Ht=>{fa(Ge,_t,[]).push(Ht),Ht.destroy();});});let hi=j.filter(Ie=>rH(Ie,l,_)),Vi=new Map();iH(Vi,this.driver,ie,_,as).forEach(Ie=>{rH(Ie,l,_)&&hi.push(Ie);});let zi=new Map();x.forEach((Ie,_t)=>{iH(zi,this.driver,new Set(Ie),l,hh);}),hi.forEach(Ie=>{let _t=Vi.get(Ie),Ae=zi.get(Ie);Vi.set(Ie,new Map([...(_t?.entries()??[]),...(Ae?.entries()??[])]));});let Dt=[],Gn=[],Qe={};a.forEach(Ie=>{let{element:_t,player:Ae,instruction:Ht}=Ie;if(e.has(_t)){if(f.has(_t)){Ae.onDestroy(()=>js(_t,Ht.toStyles)),Ae.disabled=!0,Ae.overrideTotalTime(Ht.totalTime),n.push(Ae);return;}let en=Qe;if(dt.size>1){let An=_t,it=[];for(;An=An.parentNode;){let Gi=dt.get(An);if(Gi){en=Gi;break;}it.push(An);}it.forEach(Gi=>dt.set(Gi,en));}let Br=this._buildAnimation(Ae.namespaceId,Ht,Ge,o,zi,Vi);if(Ae.setRealPlayer(Br),en===Qe)Dt.push(Ae);else{let An=this.playersByElement.get(en);An&&An.length&&(Ae.parentPlayer=Bc(An)),n.push(Ae);}}else Ou(_t,Ht.fromStyles),Ae.onDestroy(()=>js(_t,Ht.toStyles)),Gn.push(Ae),f.has(_t)&&n.push(Ae);}),Gn.forEach(Ie=>{let _t=o.get(Ie.element);if(_t&&_t.length){let Ae=Bc(_t);Ie.setRealPlayer(Ae);}}),n.forEach(Ie=>{Ie.parentPlayer?Ie.syncPlayerEvents(Ie.parentPlayer):Ie.destroy();});for(let Ie=0;Ie<j.length;Ie++){let _t=j[Ie],Ae=_t[Us];if(xh(_t,T2),Ae&&Ae.hasAnimation)continue;let Ht=[];if(s.size){let Br=s.get(_t);Br&&Br.length&&Ht.push(...Br);let An=this.driver.query(_t,I2,!0);for(let it=0;it<An.length;it++){let Gi=s.get(An[it]);Gi&&Gi.length&&Ht.push(...Gi);}}let en=Ht.filter(Br=>!Br.destroyed);en.length?Y5e(this,_t,en):this.processLeaveNode(_t);}return j.length=0,Dt.forEach(Ie=>{this.players.push(Ie),Ie.onDone(()=>{Ie.destroy();let _t=this.players.indexOf(Ie);this.players.splice(_t,1);}),Ie.play();}),Dt;}afterFlush(r){this._flushFns.push(r);}afterFlushAnimationsDone(r){this._whenQuietFns.push(r);}_getPreviousPlayers(r,t,e,n,o){let a=[];if(t){let s=this.playersByQueriedElement.get(r);s&&(a=s);}else{let s=this.playersByElement.get(r);if(s){let l=!o||o==Gv;s.forEach(_=>{_.queued||!l&&_.triggerName!=n||a.push(_);});}}return(e||n)&&(a=a.filter(s=>!(e&&e!=s.namespaceId||n&&n!=s.triggerName))),a;}_beforeAnimationBuild(r,t,e){let n=t.triggerName,o=t.element,a=t.isRemovalTransition?void 0:r,s=t.isRemovalTransition?void 0:n;for(let l of t.timelines){let _=l.element,f=_!==o,g=fa(e,_,[]);this._getPreviousPlayers(_,f,a,s,t.toState).forEach(x=>{let D=x.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),x.destroy(),g.push(x);});}Ou(o,t.fromStyles);}_buildAnimation(r,t,e,n,o,a){let s=t.triggerName,l=t.element,_=[],f=new Set(),g=new Set(),S=t.timelines.map(D=>{let R=D.element;f.add(R);let j=R[Us];if(j&&j.removedBeforeQueried)return new Rl(D.duration,D.delay);let V=R!==l,ie=X5e((e.get(R)||U5e).map(Ge=>Ge.getRealPlayer())).filter(Ge=>{let dt=Ge;return dt.element?dt.element===R:!1;}),_e=o.get(R),oe=a.get(R),Ne=d3(this._normalizer,D.keyframes,_e,oe),Ce=this._buildPlayer(D,Ne,ie);if(D.subTimeline&&n&&g.add(R),V){let Ge=new Wv(r,s,R);Ge.setRealPlayer(Ce),_.push(Ge);}return Ce;});_.forEach(D=>{fa(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>B5e(this.playersByQueriedElement,D.element,D));}),f.forEach(D=>ss(D,h3));let x=Bc(S);return x.onDestroy(()=>{f.forEach(D=>xh(D,h3)),js(l,t.toStyles);}),g.forEach(D=>{fa(n,D,[]).push(x);}),x;}_buildPlayer(r,t,e){return t.length>0?this.driver.animate(r.element,t,r.duration,r.delay,r.easing,e):new Rl(r.duration,r.delay);}},Wv=class{namespaceId;triggerName;element;_player=new Rl();_containsRealPlayer=!1;_queuedCallbacks=new Map();destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(r,t,e){this.namespaceId=r,this.triggerName=t,this.element=e;}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((t,e)=>{t.forEach(n=>b2(r,e,void 0,n));}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1);}getRealPlayer(){return this._player;}overrideTotalTime(r){this.totalTime=r;}syncPlayerEvents(r){let t=this._player;t.triggerCallback&&r.onStart(()=>t.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy());}_queueEvent(r,t){fa(this._queuedCallbacks,r,[]).push(t);}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r);}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r);}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r);}init(){this._player.init();}hasStarted(){return this.queued?!1:this._player.hasStarted();}play(){!this.queued&&this._player.play();}pause(){!this.queued&&this._player.pause();}restart(){!this.queued&&this._player.restart();}finish(){this._player.finish();}destroy(){this.destroyed=!0,this._player.destroy();}reset(){!this.queued&&this._player.reset();}setPosition(r){this.queued||this._player.setPosition(r);}getPosition(){return this.queued?0:this._player.getPosition();}triggerCallback(r){let t=this._player;t.triggerCallback&&t.triggerCallback(r);}};function B5e(i,r,t){let e=i.get(r);if(e){if(e.length){let n=e.indexOf(t);e.splice(n,1);}e.length==0&&i.delete(r);}return e;}function H5e(i){return i??null;}function M2(i){return i&&i.nodeType===1;}function q5e(i){return i=="start"||i=="done";}function tH(i,r){let t=i.style.display;return i.style.display=r??"none",t;}function iH(i,r,t,e,n){let o=[];t.forEach(l=>o.push(tH(l)));let a=[];e.forEach((l,_)=>{let f=new Map();l.forEach(g=>{let S=r.computeStyle(_,g,n);f.set(g,S),(!S||S.length==0)&&(_[Us]=W5e,a.push(_));}),i.set(_,f);});let s=0;return t.forEach(l=>tH(l,o[s++])),a;}function nH(i,r){let t=new Map();if(i.forEach(s=>t.set(s,[])),r.length==0)return t;let e=1,n=new Set(r),o=new Map();function a(s){if(!s)return e;let l=o.get(s);if(l)return l;let _=s.parentNode;return t.has(_)?l=_:n.has(_)?l=e:l=a(_),o.set(s,l),l;}return r.forEach(s=>{let l=a(s);l!==e&&t.get(l).push(s);}),t;}function ss(i,r){i.classList?.add(r);}function xh(i,r){i.classList?.remove(r);}function Y5e(i,r,t){Bc(t).onDone(()=>i.processLeaveNode(r));}function X5e(i){let r=[];return dH(i,r),r;}function dH(i,r){for(let t=0;t<i.length;t++){let e=i[t];e instanceof qp?dH(e.players,r):r.push(e);}}function K5e(i,r){let t=Object.keys(i),e=Object.keys(r);if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let o=t[n];if(!r.hasOwnProperty(o)||i[o]!==r[o])return!1;}return!0;}function rH(i,r,t){let e=t.get(i);if(!e)return!1;let n=r.get(i);return n?e.forEach(o=>n.add(o)):r.set(i,e),t.delete(i),!0;}var Ah=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(r,t)=>{};constructor(r,t,e){this._driver=t,this._normalizer=e,this._transitionEngine=new P3(r.body,t,e),this._timelineEngine=new M3(r.body,t,e),this._transitionEngine.onRemovalComplete=(n,o)=>this.onRemovalComplete(n,o);}registerTrigger(r,t,e,n,o){let a=r+"-"+n,s=this._triggerCache[a];if(!s){let l=[],_=[],f=aH(this._driver,o,l,_);if(l.length)throw RB(n,l);s=$5e(n,f,this._normalizer),this._triggerCache[a]=s;}this._transitionEngine.registerTrigger(t,n,s);}register(r,t){this._transitionEngine.register(r,t);}destroy(r,t){this._transitionEngine.destroy(r,t);}onInsert(r,t,e,n){this._transitionEngine.insertNode(r,t,e,n);}onRemove(r,t,e){this._transitionEngine.removeNode(r,t,e);}disableAnimations(r,t){this._transitionEngine.markElementAsDisabled(r,t);}process(r,t,e,n){if(e.charAt(0)=="@"){let[o,a]=u3(e),s=n;this._timelineEngine.command(o,t,a,s);}else this._transitionEngine.trigger(r,t,e,n);}listen(r,t,e,n,o){if(e.charAt(0)=="@"){let[a,s]=u3(e);return this._timelineEngine.listen(a,t,s,o);}return this._transitionEngine.listen(r,t,e,n,o);}flush(r=-1){this._transitionEngine.flush(r);}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players];}whenRenderingDone(){return this._transitionEngine.whenRenderingDone();}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r);}};function Q5e(i,r){let t=null,e=null;return Array.isArray(r)&&r.length?(t=S3(r[0]),r.length>1&&(e=S3(r[r.length-1]))):r instanceof Map&&(t=S3(r)),t||e?new Z5e(i,t,e):null;}var Z5e=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap();_state=0;_initialStyles;constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n;let o=i.initialStylesByElement.get(t);o||i.initialStylesByElement.set(t,o=new Map()),this._initialStyles=o;}start(){this._state<1&&(this._startStyles&&js(this._element,this._startStyles,this._initialStyles),this._state=1);}finish(){this.start(),this._state<2&&(js(this._element,this._initialStyles),this._endStyles&&(js(this._element,this._endStyles),this._endStyles=null),this._state=1);}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Ou(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ou(this._element,this._endStyles),this._endStyles=null),js(this._element,this._initialStyles),this._state=3);}}return i;})();function S3(i){let r=null;return i.forEach((t,e)=>{J5e(e)&&(r=r||new Map(),r.set(e,t));}),r;}function J5e(i){return i==="display"||i==="position";}var L2=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map();constructor(r,t,e,n){this.element=r,this.keyframes=t,this.options=e,this._specialStyles=n,this._duration=e.duration,this._delay=e.delay||0,this.time=this._duration+this._delay;}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]);}init(){this._buildPlayer(),this._preparePlayerBeforeStart();}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map();let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t);});}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause();}_convertKeyframesToObject(r){let t=[];return r.forEach(e=>{t.push(Object.fromEntries(e));}),t;}_triggerWebAnimation(r,t,e){return r.animate(this._convertKeyframesToObject(t),e);}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r);}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r);}onDestroy(r){this._onDestroyFns.push(r);}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play();}pause(){this.init(),this.domPlayer.pause();}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish();}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns;}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel();}restart(){this.reset(),this.play();}hasStarted(){return this._started;}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[]);}setPosition(r){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=r*this.time;}getPosition(){return+(this.domPlayer.currentTime??0)/this.time;}get totalTime(){return this._delay+this._duration;}beforeDestroy(){let r=new Map();this.hasStarted()&&this._finalKeyframe.forEach((e,n)=>{n!=="offset"&&r.set(n,this._finished?e:A2(this.element,n));}),this.currentSnapshot=r;}triggerCallback(r){let t=r==="start"?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0;}},F2=class{validateStyleProperty(r){return!0;}validateAnimatableStyleProperty(r){return!0;}containsElement(r,t){return p3(r,t);}getParentElement(r){return E2(r);}query(r,t,e){return m3(r,t,e);}computeStyle(r,t,e){return A2(r,t);}animate(r,t,e,n,o,a=[]){let s=n==0?"both":"forwards",l={duration:e,delay:n,fill:s};o&&(l.easing=o);let _=new Map(),f=a.filter(x=>x instanceof L2);qB(e,n)&&f.forEach(x=>{x.currentSnapshot.forEach((D,R)=>_.set(R,D));});let g=BB(t).map(x=>new Map(x));g=YB(r,g,_);let S=Q5e(r,g);return new L2(r,g,l,S);}};var O2="@",uH="@.disabled",V2=class{namespaceId;delegate;engine;_onDestroy;ɵtype=0;constructor(r,t,e,n){this.namespaceId=r,this.delegate=t,this.engine=e,this._onDestroy=n;}get data(){return this.delegate.data;}destroyNode(r){this.delegate.destroyNode?.(r);}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy();});}),this._onDestroy?.();}createElement(r,t){return this.delegate.createElement(r,t);}createComment(r){return this.delegate.createComment(r);}createText(r){return this.delegate.createText(r);}appendChild(r,t){this.delegate.appendChild(r,t),this.engine.onInsert(this.namespaceId,t,r,!1);}insertBefore(r,t,e,n=!0){this.delegate.insertBefore(r,t,e),this.engine.onInsert(this.namespaceId,t,r,n);}removeChild(r,t,e){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate);}selectRootElement(r,t){return this.delegate.selectRootElement(r,t);}parentNode(r){return this.delegate.parentNode(r);}nextSibling(r){return this.delegate.nextSibling(r);}setAttribute(r,t,e,n){this.delegate.setAttribute(r,t,e,n);}removeAttribute(r,t,e){this.delegate.removeAttribute(r,t,e);}addClass(r,t){this.delegate.addClass(r,t);}removeClass(r,t){this.delegate.removeClass(r,t);}setStyle(r,t,e,n){this.delegate.setStyle(r,t,e,n);}removeStyle(r,t,e){this.delegate.removeStyle(r,t,e);}setProperty(r,t,e){t.charAt(0)==O2&&t==uH?this.disableAnimations(r,!!e):this.delegate.setProperty(r,t,e);}setValue(r,t){this.delegate.setValue(r,t);}listen(r,t,e,n){return this.delegate.listen(r,t,e,n);}disableAnimations(r,t){this.engine.disableAnimations(r,t);}},R3=class extends V2{factory;constructor(r,t,e,n,o){super(t,e,n,o),this.factory=r,this.namespaceId=t;}setProperty(r,t,e){t.charAt(0)==O2?t.charAt(1)=="."&&t==uH?(e=e===void 0?!0:!!e,this.disableAnimations(r,e)):this.engine.process(this.namespaceId,r,t.slice(1),e):this.delegate.setProperty(r,t,e);}listen(r,t,e,n){if(t.charAt(0)==O2){let o=eFe(r),a=t.slice(1),s="";return a.charAt(0)!=O2&&([a,s]=tFe(a)),this.engine.listen(this.namespaceId,o,a,s,l=>{let _=l._data||-1;this.factory.scheduleListenerCallback(_,e,l);});}return this.delegate.listen(r,t,e,n);}};function eFe(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i;}}function tFe(i){let r=i.indexOf("."),t=i.substring(0,r),e=i.slice(r+1);return[t,e];}var z2=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map();_cdRecurDepth=0;constructor(r,t,e){this.delegate=r,this.engine=t,this._zone=e,t.onRemovalComplete=(n,o)=>{o?.removeChild(null,n);};}createRenderer(r,t){let e="",n=this.delegate.createRenderer(r,t);if(!r||!t?.data?.animation){let _=this._rendererCache,f=_.get(n);if(!f){let g=()=>_.delete(n);f=new V2(e,n,this.engine,g),_.set(n,f);}return f;}let o=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,r);let s=_=>{Array.isArray(_)?_.forEach(s):this.engine.registerTrigger(o,a,r,_.name,_);};return t.data.animation.forEach(s),new R3(this,a,n,this.engine);}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin();}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++;});}scheduleListenerCallback(r,t,e){if(r>=0&&r<this._microtaskId){this._zone.run(()=>t(e));return;}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(o=>{let[a,s]=o;a(s);}),this._animationCallbacksBuffer=[];});}),n.push([t,e]);}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId);}),this.delegate.end&&this.delegate.end();}whenRenderingDone(){return this.engine.whenRenderingDone();}componentReplaced(r){this.engine.flush(),this.delegate.componentReplaced?.(r);}};var nFe=(()=>{class i extends Ah{constructor(t,e,n){super(t,e,n);}ngOnDestroy(){this.flush();}static ɵfac=function(e){return new(e||i)(K(bt),K(tm),K(im));};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})();function rFe(){return new P2();}function oFe(i,r,t){return new z2(i,r,t);}var mH=[{provide:im,useFactory:rFe},{provide:Ah,useClass:nFe},{provide:tr,useFactory:oFe,deps:[p0,Ah,We]}],aFe=[{provide:tm,useClass:N3},{provide:hd,useValue:"NoopAnimations"},...mH],pH=[{provide:tm,useFactory:()=>new F2()},{provide:hd,useFactory:()=>"BrowserAnimations"},...mH],_H=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?aFe:pH};}static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({providers:pH,imports:[hp]});}return i;})();var fH=i=>({error:i}),sFe=i=>({"width.%":i}),lFe=i=>({"left.%":i});function cFe(i,r){i&1&&(u(0,"span"),T(1,"/"),p());}function dFe(i,r){if(i&1&&$(0,"div",36),i&2){let t=d().$implicit;m("ngStyle",ne(1,lFe,100-t.properties.deleterThresholdProcent));}}function uFe(i,r){if(i&1&&(U(0),u(1,"span"),T(2),p(),T(3," / "),u(4,"span"),T(5),p(),W()),i&2){let t=d().$implicit;c(2),z(t.properties.dcmExportStorageID||"-"),c(3),z(t.properties.dcmExternalRetrieveAET||"-");}}function pFe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;c(),Yn(" ",t.properties.deleterThresholdProcent," % ( ",t.properties.deleterThreshold," ) ");}}function mFe(i,r){i&1&&(u(0,"span"),T(1,"-"),p());}function _Fe(i,r){if(i&1&&(U(0),E(1,pFe,2,2,"span",31)(2,mFe,2,0,"span",31),T(3," / "),u(4,"span"),T(5),p(),W()),i&2){let t=d().$implicit;c(),m("ngIf",t.properties.deleterThresholdProcent),c(),m("ngIf",!t.properties.deleterThresholdProcent),c(3),z(t.properties.storageThreshold||"-");}}function fFe(i,r){if(i&1&&(U(0),u(1,"span"),T(2),p(),W()),i&2){let t=d().$implicit;c(2),z(t.properties.dcmDeleteStudiesOlderThan||"-");}}function hFe(i,r){if(i&1&&(U(0),u(1,"span"),T(2),p(),W()),i&2){let t=d().$implicit;c(2),z(t.properties.dcmDeleteStudiesReceivedBefore||"-");}}function gFe(i,r){if(i&1&&(U(0),u(1,"span"),T(2),p(),W()),i&2){let t=d().$implicit;c(2),z(t.properties.dcmDeleteStudiesNotUsedSince||"-");}}function vFe(i,r){if(i&1&&(u(0,"tr"),$(1,"th",24)(2,"td",24),p()),i&2){let t=d().$implicit,e=d(2).$implicit;c(),m("innerHtml",t,Re),c(),m("innerHtml",e.properties[t],Re);}}function CFe(i,r){if(i&1&&(U(0),E(1,vFe,3,2,"tr",31),W()),i&2){let t=r.$implicit;c(),m("ngIf",t!="warning");}}function yFe(i,r){if(i&1&&(u(0,"tr")(1,"td",37)(2,"table",38),E(3,CFe,2,1,"ng-container",23),p()()()),i&2){let t=d().$implicit,e=d(2);c(3),m("ngForOf",e.Object.keys(t.properties));}}function bFe(i,r){if(i&1){let t=O();U(0),u(1,"tr"),$(2,"td",24),u(3,"td",25)(4,"a",26),b("click",function(n){let o=C(t).$implicit;return n.preventDefault(),y(o.showProperties=!o.showProperties);}),$(5,"span",27),p(),u(6,"a",28),b("click",function(n){let o=C(t).$implicit,a=d(2);return n.preventDefault(),y(a.changeLocationStatus(o));}),$(7,"span",29),p()(),$(8,"td",24)(9,"td",24)(10,"td",24)(11,"td",24)(12,"td",24)(13,"td",24),u(14,"td",30),T(15),E(16,cFe,2,0,"span",31),T(17),p(),u(18,"td",32),$(19,"span",24)(20,"div",33),E(21,dFe,1,3,"div",34),p(),u(22,"td"),T(23),p(),u(24,"td"),E(25,uFe,6,2,"ng-container",31),p(),u(26,"td",30),E(27,_Fe,6,3,"ng-container",31),p(),u(28,"td"),E(29,fFe,3,1,"ng-container",31),p(),u(30,"td"),E(31,hFe,3,1,"ng-container",31),p(),u(32,"td"),E(33,gFe,3,1,"ng-container",31),p()(),E(34,yFe,4,1,"tr",31),$(35,"tr",35),W();}if(i&2){let t=r.$implicit;c(),lt("title",t.properties.warning?"Deleter threshold	is bigger than usable space!":null),c(),m("innerHtml",t.offset+1+".",Re),lt("rowspan",t.showProperties?2:1),c(6),m("innerHtml",t.properties.dcmStorageID,Re),c(),m("innerHtml",t.properties.dcmURI,Re),c(),m("innerHtml",t.properties.dcmReadOnly||"false",Re),c(),m("innerHtml",t.properties.dcmNoDeletionConstraint||"false",Re),c(),m("innerHtml",t.properties.dcmStorageClusterID,Re),c(),m("innerHtml",t.properties.dicomAETitle,Re),c(),m("ngClass",ne(25,fH,t.properties.warning)),c(),ue("",t.properties.usableSpace," "),c(),m("ngIf",t.properties.usableSpace&&t.properties.totalSpace),c(),ue(" ",t.properties.totalSpace),c(2),m("innerHtml",t.properties.usedSpace+" %"||"",Re),c(),m("ngStyle",ne(27,sFe,t.properties.usedSpace)),c(),m("ngIf",t.properties.deleterThresholdProcent),c(2),z(t.properties.dcmStorageDuration||"PERMANENT"),c(2),m("ngIf",t.properties.dcmExportStorageID||t.properties.dcmExternalRetrieveAET),c(),m("ngClass",ne(29,fH,t.properties.warning)),c(),m("ngIf",t.properties.deleterThreshold||t.properties.storageThreshold),c(2),m("ngIf",t.properties.dcmDeleteStudiesOlderThan),c(2),m("ngIf",t.properties.dcmDeleteStudiesReceivedBefore),c(2),m("ngIf",t.properties.dcmDeleteStudiesNotUsedSince),c(),m("ngIf",t.showProperties),c(),m("hidden",!0);}}function SFe(i,r){if(i&1&&(u(0,"table",21)(1,"thead")(2,"tr"),$(3,"th",22),u(4,"th"),P(5,1),p(),u(6,"th"),P(7,2),p(),u(8,"th"),P(9,3),p(),u(10,"th"),P(11,4),p(),u(12,"th"),P(13,5),p(),u(14,"th"),P(15,6),p(),u(16,"th"),P(17,7),p(),u(18,"th"),P(19,8),p(),u(20,"th"),P(21,9),p(),u(22,"th"),P(23,10),p(),u(24,"th"),P(25,11),p(),u(26,"th"),P(27,12),p(),u(28,"th"),P(29,13),p(),u(30,"th"),P(31,14),p()()(),u(32,"tbody"),E(33,bFe,36,31,"ng-container",23),p()()),i&2){let t=d();c(33),m("ngForOf",t.matches);}}var hH=(()=>{let r=class r{constructor(e,n,o,a,s,l,_){this.$http=e,this.cfpLoadingBar=n,this.mainservice=o,this.service=a,this.viewContainerRef=s,this.dialog=l,this.httpErrorHandler=_,this.matches=[],this.exportTasks=[],this.filters={offset:void 0,uriScheme:void 0,dicomAETitle:void 0,usage:void 0,usableSpaceBelow:void 0,usableSpaceBelowMode:"GB"},this._=ye,this.Object=Object,this.filterSchema=[],this.statusesOFLocations=["OK","TO_DELETE","FAILED_TO_DELETE","MISSING_OBJECT","FAILED_TO_FETCH_METADATA","FAILED_TO_FETCH_OBJECT","DIFFERING_OBJECT_SIZE","DIFFERING_OBJECT_CHECKSUM","DIFFERING_S3_MD5SUM","FAILED_TO_DELETE2","ORPHANED","VERIFY_QSTAR_ACCESS_STATE","QSTAR_ACCESS_STATE_NONE","QSTAR_ACCESS_STATE_EMPTY","QSTAR_ACCESS_STATE_UNSTABLE","QSTAR_ACCESS_STATE_OUT_OF_CACHE","QSTAR_ACCESS_STATE_OFFLINE","QSTAR_ACCESS_STATE_ERROR_STATUS"];}ngOnInit(){this.initCheck(10);}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.init():e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){this.getAets();}filterKeyUp(e){(e.keyCode?e.keyCode:e.which)===13&&this.search(0);}confirm(e){return this.dialogRef=this.dialog.open(Ei,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}calculateUsableSpaceBelowFilter(e){if(e.usableSpaceBelow)switch(e.usableSpaceBelowMode){case"TB":e.usableSpaceBelow=e.usableSpaceBelow*1e12;break;case"GB":e.usableSpaceBelow=e.usableSpaceBelow*1e9;break;case"MB":e.usableSpaceBelow=e.usableSpaceBelow*1e6;break;}return e;}changeLocationStatus(e){console.log("model",e);let n={content:"Change Status of the Location",doNotSave:!0,form_schema:[[[{tag:"label",text:"From"},{tag:"select",type:"text",options:this.statusesOFLocations.map(o=>new G(o,o)),filterKey:"from",placeholder:"From"}],[{tag:"label",text:"To"},{tag:"select",type:"text",options:this.statusesOFLocations.map(o=>new G(o,o)),filterKey:"to",placeholder:"To"}]]],result:{schema_model:{}},saveButton:"SUBMIT"};this.confirm(n).subscribe(o=>{o&&(this.cfpLoadingBar.start(),console.log("ok",o),I.hasSet(o,"schema_model.from")&&I.hasSet(o,"schema_model.to")&&I.hasSet(e,"properties.dcmStorageID")?this.service.changeLocationStatus(e.properties.dcmStorageID,o.schema_model).subscribe(a=>{a&&A(a,"count")?this.mainservice.showMsg("Count of corresponding operation:"+a.count+""):this.mainservice.showMsg("Count of corresponding operation:"+0+""),this.cfpLoadingBar.complete();},a=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(a);}):this.cfpLoadingBar.complete());});}search(e){let n=this;n.cfpLoadingBar.start();let o=Object.assign({},this.filters);o=this.calculateUsableSpaceBelowFilter(o),delete o.usableSpaceBelowMode,this.service.search(o,e).subscribe(a=>{a&&a.length>0?(n.matches=a.map((s,l)=>{if((s.dcmNoDeletionConstraint||I.isSetInObject(s,"deleterThreshold")&&(I.isSetInObject(s,"dcmExportStorageID")||I.isSetInObject(s,"dcmExternalRetrieveAET")))&&(s.noDeleter=!0),A(s,"deleterThreshold")&&A(s,"usableSpace")){let _;s.deleterThreshold.map((f,g)=>{_=di(f)[0];}),_&&_>s.usableSpace&&(s.warning=!0);}return A(s,"deleterThreshold")&&(s.deleterThresholdProcent=s.deleterThreshold.map((_,f)=>(Math.round(parseInt(di(_)[0])*100/s.totalSpace*100)/100).toFixed(2)),s.deleterThreshold=s.deleterThreshold.map((_,f)=>Wt(_)[0]!=""?Wt(_)[0]+":"+n.convertBtoGBorMB(di(_)[0]):n.convertBtoGBorMB(di(_)[0]))),A(s,"usableSpace")&&A(s,"totalSpace")&&(s.usedSpace=(Math.round((s.totalSpace-s.usableSpace)*100/s.totalSpace*100)/100).toFixed(2)),A(s,"usableSpace")&&(s.usableSpace=n.convertBtoGBorMB(s.usableSpace)),A(s,"totalSpace")&&(s.totalSpace=n.convertBtoGBorMB(s.totalSpace)),A(s,"storageThreshold")&&(s.storageThreshold=n.convertBtoGBorMB(s.storageThreshold)),he(s,(_,f)=>{pe(_)&&(s[f]=_.join(" | "));}),{offset:e+l,properties:s,showProperties:!1};}),n.cfpLoadingBar.complete()):(n.cfpLoadingBar.complete(),n.matches=[],this.mainservice.showMsg("No storages found!"));},a=>{n.cfpLoadingBar.complete(),n.matches=[],n.httpErrorHandler.handleError(a);});}convertBtoGBorMB(e){return I.convertBtoHumanReadable(e);}getDifferenceTime(e,n){let o=new Date(e).getTime(),a=new Date(n).getTime();return!o||!a||a<o?null:this.msToTime(new Date(n).getTime()-new Date(e).getTime());}msToTime(e){if(e>999){let n=parseInt((e%1e3).toString()),o=parseInt((e/1e3%60).toString()),a=parseInt((e/(1e3*60)%60).toString()),s=parseInt((e/(1e3*60*60)).toString());return s===0?a===0?o.toString()+"."+n.toString()+" sec":(o=o<10?"0"+o:o,a.toString()+":"+o.toString()+"."+n.toString()+" min"):(s=s<10?"0"+s:s,a=a<10?"0"+a:a,o=o<10?"0"+o:o,s.toString()+":"+a.toString()+":"+o.toString()+"."+n.toString()+" h");}else return e.toString()+" ms";}flushBefore(){let e=[{title:"PENDING",value:"PENDING",label:"PENDING"},{title:"COMPLETED",value:"COMPLETED",label:"COMPLETED"},{title:"WARNING",value:"WARNING",label:"WARNING"},{title:"FAILED",value:"FAILED",label:"FAILED"}],n={content:"Select before date and status to delete all storage commitments",select:e,date:{placeholder:"Updated before",format:"yy-mm-dd"},result:{select:"PENDING",date:void 0},saveButton:"DELETE",saveButtonClass:"btn-danger"},o=this;this.confirm(n).subscribe(a=>{a&&(o.cfpLoadingBar.start(),n.result.date===void 0?o.mainservice.showError("\"Updated before\"-date was not set"):this.service.flush(n.result.select,n.result.date).subscribe(s=>{console.log("resflush",s),o.mainservice.showMsg(""+s.deleted+" queues deleted successfully!"),o.search(0),o.cfpLoadingBar.complete();},s=>{o.httpErrorHandler.handleError(s);}));});}delete(e){let n=this,o={content:"Are you sure you want to delete this task?",result:"Ok",saveButton:"DELETE",saveButtonClass:"btn-danger"};this.confirm(o).subscribe(a=>{a&&(n.cfpLoadingBar.start(),this.service.delete(e.properties.transactionUID).subscribe(s=>{n.cfpLoadingBar.complete(),n.search(0),this.mainservice.showMsg("Task deleted successfully!");},s=>{n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(s);}));});}getAets(){this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}aets`).subscribe(e=>{this.aets=I.extendAetObjectWithAlias(e),this.filterSchema=this.service.getFiltersSchema(this.aets);},e=>{console.log("error getting aets",e);});}};r.ɵfac=function(n){return new(n||r)(k(Fe),k(ti),k(le),k(wu),k(Mt),k(ri),k(Pt));},r.ɵcmp=Z({type:r,selectors:[["app-storage-systems"]],standalone:!1,decls:9,vars:4,consts:()=>{let e;e="Storage systems";let n;n="Storage ID";let o;o="Storage URI";let a;a="Read Only";let s;s="No Deletion Constraint";let l;l="Storage Cluster ID";let _;_="AE Title";let f;f="Space ( Usable / Total )";let g;g="Used";let S;S="Storage Duration";let x;x="Export Storage ID / External Retrieve AET";let D;D="Deleter / Storage Threshold";let R;R="Delete Studies Older Than";let j;j="Delete Studies Received Before";let V;V="Delete Studies Not Used Since";let ie;ie="Show Properties";let _e;return _e="Change status of location",[e,n,o,a,s,l,_,f,g,S,x,D,R,j,V,[1,"main_content","monitoring","white_design"],[1,"tab-content"],[1,"filter_line",3,"keyup"],[1,"filter_block"],["filterIdTemplate","storage-systems",3,"submit","schema","model","filterTreeHeight"],["class","table table-bordered table-condensed",4,"ngIf"],[1,"table","table-bordered","table-condensed"],["colspan","2"],[4,"ngFor","ngForOf"],[3,"innerHtml"],[1,"td_buttons"],["href","","title",ie,3,"click"],[1,"glyphicon","glyphicon-list"],["href","","title",_e,3,"click"],[1,"glyphicon","glyphicon-retweet"],[3,"ngClass"],[4,"ngIf"],["width","5%",1,"used_space_bar"],[1,"bar",3,"ngStyle"],["class","marker",3,"ngStyle",4,"ngIf"],[3,"hidden"],[1,"marker",3,"ngStyle"],["colspan","15"],[1,"table","table-bordered","table-condensed","attribute_list"]];},template:function(n,o){n&1&&(u(0,"div",15),$(1,"monitoring-tabs"),u(2,"div",16)(3,"h2"),P(4,0),p(),u(5,"div",17),b("keyup",function(s){return o.filterKeyUp(s);}),u(6,"div",18)(7,"filter-generator",19),b("submit",function(){return o.search(0);}),p()()(),E(8,SFe,34,1,"table",20),p()()),n&2&&(c(7),m("schema",o.filterSchema)("model",o.filters)("filterTreeHeight",2),c(),m("ngIf",o._.size(o.matches)>0));},dependencies:[Je,ve,de,wn,jr,Yi],styles:[".td_buttons[_ngcontent-%COMP%]{width:55px}.td_buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:2px}"]});let i=r;return i;})();function EFe(i,r){if(i&1){let t=O();u(0,"div",22)(1,"div",13)(2,"filter-generator",23),b("submit",function(){C(t);let n=d();return y(n.getHl7ApplicationsList(0));}),p()()();}if(i&2){let t=d();c(2),m("filterIdTemplate","device-list")("filterID","device-list")("schema",t.filterSchema)("model",t.filter)("filterTreeHeight",t.filterHeight);}}function TFe(i,r){if(i&1){let t=O();u(0,"a",24),b("click",function(n){C(t);let o=d();return n.preventDefault(),y(o.advancedConfig=!0);}),U(1),P(2,5),W(),$(3,"i",25),p();}}function IFe(i,r){if(i&1){let t=O();u(0,"a",26),b("click",function(n){C(t);let o=d();return n.preventDefault(),y(o.advancedConfig=!1);}),U(1),P(2,6),W(),$(3,"i",27),p();}}function xFe(i,r){if(i&1&&(u(0,"div")(1,"a",34),T(2),p()()),i&2){let t=d().$implicit;c(),m("routerLink",Ct("/device/edit/",t.dicomDeviceName)),c(),ue(" ",t.dicomDeviceName," ");}}function AFe(i,r){if(i&1&&(u(0,"div"),T(1),p()),i&2){let t=d().$implicit;c(),z(t.dicomDescription);}}function wFe(i,r){if(i&1&&(u(0,"div"),T(1),p()),i&2){let t=d().$implicit;c(),z(t.hl7ApplicationName);}}function DFe(i,r){if(i&1){let t=O();u(0,"tr")(1,"td",28)(2,"span",29),T(3),p(),u(4,"a",30),b("click",function(n){let o=C(t).$implicit,a=d();return n.preventDefault(),y(a.editDevice(o.dicomDeviceName));}),$(5,"span",31),p()(),u(6,"td"),E(7,xFe,3,3,"div",32),p(),u(8,"td"),E(9,AFe,2,1,"div",32),p(),u(10,"td"),E(11,wFe,2,1,"div",32),p(),u(12,"td"),$(13,"connection-formater",33),p()();}if(i&2){let t=r.$implicit,e=r.index;c(3),ue("",e+1,"."),c(4),m("ngIf",t.dicomDeviceName),c(2),m("ngIf",t.dicomDescription),c(2),m("ngIf",t.hl7ApplicationName),c(2),m("dicomNetworkConnection",t.dicomNetworkConnection);}}function MFe(i,r){i&1&&$(0,"i",37);}function OFe(i,r){if(i&1){let t=O();u(0,"button",35),b("click",function(){C(t);let n=d();return y(n.loadMoreDevices());}),E(1,MFe,1,0,"i",36),U(2),P(3,7),W(),p();}if(i&2){let t=d();c(),m("ngIf",t.moreHl7.loaderActive);}}var gH=(()=>{let r=class r{constructor(e,n,o,a){this.service=e,this.mainservice=n,this.router=o,this.httpErrorHandler=a,this.moreHl7={limit:30,start:0,loaderActive:!1},this.advancedConfig=!1,this.filter={},this.devicefilter="",this.filterHeight=2,this.urlParam="";}ngOnInit(){this.initCheck(10),this.filterSchema=this.service.getFiltersSchema();}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.init():e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){this.getHl7ApplicationsList(2);}loadMoreDeviceOnScroll(e){let n=Te.nativeWindow.document.getElementsByClassName("load_more")[0]?I.offset(Te.nativeWindow.document.getElementsByClassName("load_more")[0]).top:0,o=Te.nativeWindow.document.getElementsByClassName("load_more")[0].offsetHeight,a=Te.nativeWindow.innerHeight;Te.nativeWindow.pageYOffset>n+o-a&&this.loadMoreDevices();}loadMoreDevices(){this.moreHl7.loaderActive=!0,this.moreHl7.limit+=20,this.moreHl7.loaderActive=!1;}clearForm(){let e=this;he(e.filter,(n,o)=>{e.filter[o]="";});}editDevice(e){e&&e!=""&&this.router.navigateByUrl("/device/edit/"+e+"/dcmDevice/properties.dcmDevice");}getHl7ApplicationsList(e){let n=this;this.service.getHl7ApplicationsList(this.filter).subscribe(o=>{n.hl7Applications=o;},o=>{e?n.getHl7ApplicationsList(e-1):n.httpErrorHandler.handleError(o);});}};r.ɵfac=function(n){return new(n||r)(k(rs),k(le),k(Hi),k(Pt));},r.ɵcmp=Z({type:r,selectors:[["app-hl7-applications"]],hostBindings:function(n,o){n&1&&b("scroll",function(s){return o.loadMoreDeviceOnScroll(s);},Qo);},standalone:!1,decls:30,vars:13,consts:()=>{let e;e="Search device";let n;n="Dicom network connection";let o;o="Hl7 Applications";let a;a="Device Name";let s;s="HL7 Application Description";let l;l="Hl7 Application Name";let _;_="Net. Connection";let f;f="Extended search";let g;g="Extended search";let S;S="Edit device";let x;x="Edit device";let D;return D="More",[o,a,s,l,_,f,g,D,[1,"main_content","white_design"],[1,"tab-content"],["class","filter_line",4,"ngIf"],[1,"filter_line","more_function_block"],[1,"filter","single_block"],[1,"filter_block"],[1,"line"],["href","","class","more",3,"click",4,"ngIf"],["href","","class","more ng-hide",3,"click",4,"ngIf"],["autocomplete","off","id","devicefilter","placeholder",e,1,"devicefilter",3,"ngModelChange","ngModel"],[1,"j4care-table"],["title",n],[4,"ngFor","ngForOf"],["class","load_more",3,"click",4,"ngIf"],[1,"filter_line"],[3,"submit","filterIdTemplate","filterID","schema","model","filterTreeHeight"],["href","",1,"more",3,"click"],[1,"glyphicon","glyphicon-triangle-bottom"],["href","",1,"more","ng-hide",3,"click"],[1,"glyphicon","glyphicon-triangle-top"],[1,"buttons_td"],[1,"numbers"],["title",S,"href","",1,"table_btn",3,"click"],[1,"glyphicon","glyphicon-pencil"],[4,"ngIf"],[3,"dicomNetworkConnection"],["title",x,"href","",3,"routerLink"],[1,"load_more",3,"click"],["class","fa fa-spinner fa-spin fa-3x fa-fw",4,"ngIf"],[1,"fa","fa-spinner","fa-spin","fa-3x","fa-fw"]];},template:function(n,o){n&1&&(u(0,"div",8),$(1,"config-tab"),u(2,"div",9)(3,"h2"),P(4,0),p(),E(5,EFe,3,5,"div",10),u(6,"div",11)(7,"div",12)(8,"div",13)(9,"div",14),E(10,TFe,4,0,"a",15)(11,IFe,4,0,"a",16),u(12,"input",17),q("ngModelChange",function(s){return Y(o.devicefilter,s)||(o.devicefilter=s),s;}),p()()()()(),u(13,"table",18)(14,"thead")(15,"tr"),$(16,"th"),u(17,"th"),P(18,1),p(),u(19,"th"),P(20,2),p(),u(21,"th"),P(22,3),p(),u(23,"th",19),P(24,4),p()()(),u(25,"tbody"),E(26,DFe,14,5,"tr",20),$e(27,"search"),$e(28,"slice"),p()(),E(29,OFe,4,1,"button",21),p()()),n&2&&(c(5),m("ngIf",o.advancedConfig),c(5),m("ngIf",!o.advancedConfig),c(),m("ngIf",o.advancedConfig),c(),H("ngModel",o.devicefilter),c(14),m("ngForOf",ba(28,9,pt(27,6,o.hl7Applications,o.devicefilter),o.moreHl7.start,o.moreHl7.limit)),c(3),m("ngIf",o.hl7Applications&&o.moreHl7.limit<=o.hl7Applications.length));},dependencies:[ve,de,Me,Se,Ee,Mr,y2,Yi,Ml,Rs,yt],encapsulation:2});let i=r;return i;})();var Qn=(()=>{let r=class r{constructor(e,n,o){this.permissionService=e,this.appservice=n,this.router=o;}canActivate(e,n){if(console.log("in can activate",this.appservice),this.appservice.global&&this.appservice.global.notSecure)return!0;{let o=this.permissionService.getPermission(n.url);return o||(this.router.navigateByUrl("/permission-denied"),this.appservice.setMessage({title:"Permission denied",text:"You don't have permission to access "+n.url+"",status:"error"})),o&&o.redirect&&this.router.navigateByUrl(o.redirect),o;}}};r.ɵfac=function(n){return new(n||r)(K(In),K(le),K(Hi));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var vH=(()=>{let r=class r{};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["permission-denied"]],standalone:!1,decls:3,vars:0,consts:()=>{let e;return e=" Permission denied! ",[e,[1,"main_content"]];},template:function(n,o){n&1&&(u(0,"div",1)(1,"h2"),P(2,0),p()());},styles:["h2[_ngcontent-%COMP%]{text-align:center;color:#ff0000de}"]});let i=r;return i;})();var G2=(()=>{let r=class r{constructor(e,n,o,a,s,l){this.deviceService=e,this.mainservice=n,this.$http=o,this.dataPipe=a,this.router=s,this.tableService=l,this.header=new At({"Content-Type":"application/json"});}statusValues(){return[{value:"SCHEDULED",text:"SCHEDULED"},{value:"SCHEDULED FOR RETRY",text:"S. FOR RETRY"},{value:"IN PROCESS",text:"IN PROCESS"},{value:"COMPLETED",text:"COMPLETED"},{value:"WARNING",text:"WARNING"},{value:"FAILED",text:"FAILED"},{value:"CANCELED",text:"CANCELED"}];}getFormSchema(e,n,o,a){return[{tag:"html-select",options:a,showStar:!0,showSearchField:!0,filterKey:"dicomDeviceName",description:"Device Name",placeholder:"Device Name"},{tag:"html-select",options:n,showStar:!0,showSearchField:!0,filterKey:"LocalAET",description:"Local AET",placeholder:"Local AET"},{tag:"html-select",options:e,showStar:!0,showSearchField:!0,filterKey:"PrimaryAET",description:"Primary AET",placeholder:"Primary AET"},{tag:"html-select",options:e,showStar:!0,showSearchField:!0,filterKey:"SecondaryAET",description:"Secondary AET",placeholder:"Secondary AET"},{tag:"checkbox",filterKey:"checkMissing",description:"Check Missing",text:"Check Missing"},{tag:"checkbox",filterKey:"checkDifferent",description:"Check Different",text:"Check Different"},{tag:"input",type:"text",filterKey:"comparefield",description:"Compare field",placeholder:"Compare field"},{tag:"select",options:this.statusValues(),filterKey:"status",showStar:!0,description:"Status of tasks to filter by",placeholder:"Status"},{tag:"range-picker",filterKey:"createdTime",description:"Created Date"},{tag:"range-picker",filterKey:"updatedTime",description:"Created Date"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"},{tag:"select",options:[{value:"createdTime",text:"Sort by creation time (ASC)"},{value:"-createdTime",text:"Sort by creation time (DESC)"},{value:"updatedTime",text:"Sort by updated time (ASC)"},{value:"-updatedTime",text:"Sort by updated time (DESC)"},{value:"scheduledTime",text:"Sort by scheduled time (ASC)"},{value:"-scheduledTime",text:"Sort by scheduled time (DESC)"}],filterKey:"orderby",description:"Sort",placeholder:"Sort"},{tag:"label",text:"Page Size"},{tag:"input",type:"number",filterKey:"limit",description:"Page Size",placeholder:"Page Size"},{tag:"button",text:o,id:"count",description:"Query only the count"},{tag:"button",text:"Search",id:"search",description:"Search Patients"}];}getTableColumns(e,n,o){return[{type:"index",title:"#",description:"Index",widthWeight:.1,calculatedWidth:"4%",pxWidth:30},{type:"buttons",title:"",buttons:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:a=>{console.log("e",a),a.showAttributes=!a.showAttributes;},title:"Show details"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ban-circle",text:""},click:a=>{console.log("e",a),n.call(e,"cancel",a);},title:"Cancel this task",showIf:a=>a.status&&(a.status==="SCHEDULED"||a.status==="SCHEDULED FOR RETRY"||a.status==="IN PROCESS")},{icon:{tag:"span",cssClass:"glyphicon glyphicon-repeat",text:""},click:a=>{console.log("e",a),n.call(e,"reschedule",a);},title:"Reschedule this task"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete",a);},title:"Delete this task"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-eye-open",text:""},click:a=>{let s={taskID:a.taskID};a.batchID&&(s.batchID=a.batchID),a.checkDifferent&&(s.different=a.checkDifferent),a.comparefield&&(s.comparefield=a.comparefield),a.checkMissing&&(s.missing=a.checkMissing),this.router.navigate(["./study/diff"],{queryParams:s});}}],description:"Actions",widthWeight:.7,pxWidth:105},...this.tableService.getTableSchema(ca(["dicomDeviceName","queue"],this.tableService.getTimeColumnBasedOnFilter(o.filterObject),["processingStartTime_scheduledTime","processingEndTime_processingStartTime","LocalAET","PrimaryAET","SecondaryAET","comparefield","matches","status","failures","batchID"]))];}getTableBatchGroupedColumns(e){return[{type:"index",title:"#",description:"Index",widthWeight:.1,calculatedWidth:"4%",pxWidth:30},{type:"buttons",title:"",buttons:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:n=>{console.log("e",n),n.showAttributes=!n.showAttributes;}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-list-alt",text:""},click:n=>{e.apply(this,[n]);}}],description:"Index",widthWeight:.3,calculatedWidth:"6%"},{type:"model",title:"Batch ID",key:"batchID",description:"Batch ID",widthWeight:.4,calculatedWidth:"20%"},{type:"model",title:"Primary AET",key:"PrimaryAET",description:"AE Title of the primary C-FIND SCP",widthWeight:1,calculatedWidth:"20%"},{type:"model",title:"Secondary AET",key:"SecondaryAET",description:"AE Title of the secondary C-FIND SCP",widthWeight:1,modifyData:n=>n.join(", ")||n,calculatedWidth:"20%",cssClass:"hideOn1100px"},{type:"model",title:"Scheduled Time Range",key:"scheduledTimeRange",description:"Scheduled Time Range",modifyData:n=>this.stringifyRangeArray(n),widthWeight:1.4,calculatedWidth:"20%",cssClass:"hideOn1100px"},{type:"model",title:"Processing Start Time Range",key:"processingStartTimeRange",description:"Processing Start Time Range",widthWeight:1.4,modifyData:n=>this.stringifyRangeArray(n),calculatedWidth:"20%",cssClass:"hideOn1100px"},{type:"model",title:"Processing end time range",key:"processingEndTimeRange",description:"Processing end time range",modifyData:n=>this.stringifyRangeArray(n),widthWeight:1.4,calculatedWidth:"20%",cssClass:"hideOn1100px"},{type:"progress",title:"Tasks",description:"Tasks",key:"tasks",diffMode:!0,widthWeight:2,calculatedWidth:"30%",cssClass:"hideOn800px"}];}stringifyRangeArray(e){try{return`${this.dataPipe.transform(e[0],"yyyy.MM.dd HH:mm:ss")} - ${this.dataPipe.transform(e[0],"yyyy.MM.dd HH:mm:ss")}`;}catch{return e;}}getDevices(){return this.deviceService.getDevices();}getDiffTask(e,n){let o=this.mainservice.param(e);o=o?`?${o}`:"";let a=`${I.addLastSlash(this.mainservice.baseUrl)}monitor/diff${o}`;return n&&(a=`${I.addLastSlash(this.mainservice.baseUrl)}monitor/diff/batch${o}`),this.$http.get(a);}getDiffTasksCount(e){let n=this.mainservice.param(e);n=n?`?${n}`:"";let o=`${I.addLastSlash(this.mainservice.baseUrl)}monitor/diff/count${n}`;return this.$http.get(o);}cancelAll(e){let n=this.mainservice.param(e);return n=n?`?${n}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/diff/cancel${n}`,{},this.header);}cancel(e){return this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/diff/${e}/cancel`,{});}rescheduleAll(e){let n=this.mainservice.param(e);return n=n?`?${n}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/diff/reschedule${n}`,{},this.header);}reschedule(e,n){let o=this.mainservice.param(n);return o=o?`?${o}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/diff/${e}/reschedule${o}`,{});}deleteAll(e){let n=this.mainservice.param(e);return n=n?`?${n}`:"",this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/diff${n}`,this.header);}delete(e){return this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/diff/`+e);}};r.ɵfac=function(n){return new(n||r)(K(Xt),K(le),K(Fe),K(Dr),K(Hi),K(Ol));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var RFe=()=>({id:"action-monitoring->diff_monitor-all_action",param:"visible"}),$3=i=>({active:i}),NFe=(i,r)=>({gray:i,red:r});function kFe(i,r){if(i&1&&(u(0,"td"),T(1),p()),i&2){let t=d().$implicit,e=d(2);c(),z(e.statusValues[t]==null?null:e.statusValues[t].count);}}function $Fe(i,r){i&1&&(u(0,"td"),$(1,"i",37),p());}function LFe(i,r){if(i&1&&(u(0,"tr",36)(1,"td"),T(2),p(),E(3,kFe,2,1,"td",35)(4,$Fe,2,0,"td",35),p()),i&2){let t=r.$implicit,e=d(2);m("ngClass",yn(4,NFe,(e.statusValues[t]==null?null:e.statusValues[t].count)=="0",(e.statusValues[t]==null?null:e.statusValues[t].count)=="!")),c(2),ue("",t,":"),c(),m("ngIf",!(e.statusValues[t]!=null&&e.statusValues[t].loader)),c(),m("ngIf",e.statusValues[t]==null?null:e.statusValues[t].loader);}}function FFe(i,r){i&1&&$(0,"span",38);}function VFe(i,r){i&1&&$(0,"mat-progress-spinner",39),i&2&&m("diameter",20);}function zFe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2);c(),z(t.timer.startText);}}function GFe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2);c(),z(t.timer.stopText);}}function jFe(i,r){if(i&1){let t=O();u(0,"div",25)(1,"div",26)(2,"table"),E(3,LFe,5,7,"tr",27),p(),u(4,"div",28)(5,"div",29)(6,"label"),P(7,4),p(),u(8,"input",30),q("ngModelChange",function(n){C(t);let o=d();return Y(o.interval,n)||(o.interval=n),y(n);}),p(),u(9,"span"),T(10,"s"),p()(),u(11,"button",31),b("click",function(){C(t);let n=d();return y(n.toggleAutoRefresh());}),u(12,"div",32),E(13,FFe,1,0,"span",33)(14,VFe,1,1,"mat-progress-spinner",34),p(),E(15,zFe,2,1,"span",35)(16,GFe,2,1,"span",35),p()()()();}if(i&2){let t=d();c(3),m("ngForOf",t.Object.keys(t.statusValues)),c(5),H("ngModel",t.interval),c(5),m("ngIf",!t.timer.started),c(),m("ngIf",t.timer.started),c(),m("ngIf",!t.timer.started),c(),m("ngIf",t.timer.started);}}function UFe(i,r){if(i&1&&(u(0,"mat-option",40),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.value)),c(),z(t.label);}}function WFe(i,r){if(i&1){let t=O();u(0,"div",41),b("click",function(){C(t);let n=d();return y(n.prev());}),$(1,"span",42),p();}if(i&2){let t=d();m("ngClass",ne(1,$3,t.filterObject.offset>0));}}function BFe(i,r){if(i&1){let t=O();u(0,"div",43),b("click",function(){C(t);let n=d();return y(n.next());}),$(1,"span",44),p();}if(i&2){let t=d();m("ngClass",ne(1,$3,t.moreTasks));}}function HFe(i,r){if(i&1){let t=O();u(0,"table-generator",45),b("tableMouseEnter",function(){C(t);let n=d();return y(n.tableMouseEnter());})("tableMouseLeave",function(){C(t);let n=d();return y(n.tableMouseLeave());}),p();}if(i&2){let t=d();m("stringifyDetailAttributes",!0)("config",t.tableConfigNormal)("models",t.tasks);}}function qFe(i,r){if(i&1){let t=O();u(0,"table-generator",45),b("tableMouseEnter",function(){C(t);let n=d();return y(n.tableMouseEnter());})("tableMouseLeave",function(){C(t);let n=d();return y(n.tableMouseLeave());}),p();}if(i&2){let t=d();m("stringifyDetailAttributes",!0)("config",t.tableConfigGrouped)("models",t.tasks);}}var CH=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f,g,S,x){this.service=e,this.mainservice=n,this.route=o,this.cfpLoadingBar=a,this.aeListService=s,this.httpErrorHandler=l,this.viewContainerRef=_,this.dialog=f,this.permissionService=g,this.deviceService=S,this._keycloakService=x,this.filterObject={},this.filterSchema=[],this.batchGrouped=!1,this.tasks=[],this.statusValues={},this.interval=10,this.timer={started:!1,startText:"Start Auto Refresh",stopText:"Stop Auto Refresh"},this.Object=Object,this.filterTreeHeight=3,this.tableHovered=!1,this.allActionsActive=[],this.allActionsOptions=[{value:"cancel",label:"Cancel all matching tasks"},{value:"reschedule",label:"Reschedule all matching tasks"},{value:"delete",label:"Delete all matching tasks"}];}ngOnInit(){this.initCheck(10);}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.route.queryParams.subscribe(o=>{console.log("params",o),this.urlParam=Object.assign({},o),this.init();}):e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){this.service.statusValues().forEach(e=>{this.statusValues[e.value]={count:0,loader:!1};}),this.filterObject={limit:20,offset:0},Mi(this.aeListService.getAes().pipe(me(e=>this.permissionService.filterAetDependingOnUiConfig(e,"external"))),this.aeListService.getAets().pipe(me(e=>this.permissionService.filterAetDependingOnUiConfig(e,"internal"))),this.service.getDevices()).subscribe(e=>{this.aes=I.extendAetObjectWithAlias(e[0]).map(n=>({value:n.dicomAETitle,text:n.dicomAETitle})),this.aets=I.extendAetObjectWithAlias(e[1]).map(n=>({value:n.dicomAETitle,text:n.dicomAETitle})),this.devices=e[2].filter(n=>n.hasArcDevExt).map(n=>({value:n.dicomDeviceName,text:n.dicomDeviceName})),this.initSchema(),this.setTableSchema();}),this.onFormChange(this.filterObject);}onFormChange(e){this.setTableSchema();}initSchema(){this.filterSchema=I.prepareFlatFilterObject(this.service.getFormSchema(this.aes,this.aets,"COUNT "+(this.count||this.count==0?this.count:"")+"",this.devices),3),this.urlParam&&(this.filterObject.orderby="-updatedTime");}setTableSchema(){this.tableConfigNormal={table:I.calculateWidthOfTable(this.service.getTableColumns(this,this.action,{filterObject:this.filterObject})),filter:this.filterObject},this.tableConfigGrouped={table:I.calculateWidthOfTable(this.service.getTableBatchGroupedColumns(e=>{this.showDetails(e);})),filter:this.filterObject};}allActionChanged(e){let n="Are you sure, you want to "+we.getActionText(this.allAction)+" all matching tasks?",o=Object.assign({},this.filterObject);delete o.limit,delete o.offset,this.confirm({content:n}).subscribe(a=>{if(a){switch(this.cfpLoadingBar.start(),this.allAction){case"cancel":this.service.cancelAll(this.filterObject).subscribe(s=>{this.mainservice.showMsg(""+s.count+" tasks deleted successfully!"),this.cfpLoadingBar.complete();},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);});break;case"reschedule":this.cfpLoadingBar.complete(),this.deviceService.selectParametersForMatching(s=>{if(s){this.cfpLoadingBar.start();let l=Object.assign({},this.filterObject);A(s,"schema_model.newDeviceName")&&s.schema_model.newDeviceName!=""&&(l.newDeviceName=s.schema_model.newDeviceName),A(s,"schema_model.scheduledTime")&&s.schema_model.scheduledTime!=""&&(l.scheduledTime=s.schema_model.scheduledTime),delete l.limit,delete l.offset,this.service.rescheduleAll(l).subscribe(_=>{this.mainservice.showMsg(""+_.count+" tasks rescheduled successfully!"),this.cfpLoadingBar.complete();},_=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(_);});}},this.devices);break;case"delete":this.deleteAllTasks(this.filterObject);break;}this.cfpLoadingBar.complete();}this.allAction="",this.allAction=void 0;});}onSubmit(e){if(console.log("e",e),e.id){if(e.id==="search"){let n=Object.assign({},this.filterObject);n.limit&&n.limit++,this.getDiffTasks(n);}if(e.id==="count"){let n=Object.assign({},this.filterObject);delete n.limit,delete n.offset,this.getDiffTasksCount(n);}}}getDiffTasks(e){this.cfpLoadingBar.start(),this.tasks=[],this.service.getDiffTask(e,this.batchGrouped).subscribe(n=>{po.production||(this.batchGrouped?n=[{batchID:"test2",tasks:{warning:"1"},dicomDeviceName:["dcm4chee-arc"],LocalAET:["DCM4CHEE"],PrimaryAET:["DCM4CHEE"],SecondaryAET:["DEVJ4C"],comparefield:["patient"],checkMissing:["false"],checkDifferent:["true"],matches:31,different:9,createdTimeRange:["2022-03-25T10:17:29.723-0600","2022-03-25T10:17:29.723-0600"],updatedTimeRange:["2022-03-25T10:17:30.995-0600","2022-03-25T10:17:30.995-0600"],scheduledTimeRange:["2022-03-25T10:17:29.721-0600","2022-03-25T10:17:29.721-0600"],processingStartTimeRange:["2022-03-25T10:17:29.790-0600","2022-03-25T10:17:29.790-0600"],processingEndTimeRange:["2022-03-25T10:17:30.994-0600","2022-03-25T10:17:30.994-0600"]},{batchID:"2221712246",tasks:{warning:"1"},dicomDeviceName:["dcm4chee-arc"],LocalAET:["DCM4CHEE"],PrimaryAET:["DCM4CHEE"],SecondaryAET:["DEVJ4C"],comparefield:["patient"],checkMissing:["false"],checkDifferent:["true"],matches:31,different:9,createdTimeRange:["2022-03-17T12:02:47.661-0600","2022-03-17T12:02:47.661-0600"],updatedTimeRange:["2022-03-17T12:02:49.070-0600","2022-03-17T12:02:49.070-0600"],scheduledTimeRange:["2022-03-17T12:02:47.661-0600","2022-03-17T12:02:47.661-0600"],processingStartTimeRange:["2022-03-17T12:02:47.691-0600","2022-03-17T12:02:47.691-0600"],processingEndTimeRange:["2022-03-17T12:02:49.069-0600","2022-03-17T12:02:49.069-0600"]}]:n=[{taskID:"63",dicomDeviceName:"dcm4chee-arc",queue:"DiffTasks",type:"DIFF",status:"WARNING",createdTime:"2022-03-17T12:02:47.661-0600",updatedTime:"2022-03-17T12:02:49.070-0600",scheduledTime:"2022-03-17T12:02:47.661-0600",processingStartTime:"2022-03-17T12:02:47.691-0600",processingEndTime:"2022-03-17T12:02:49.069-0600",outcomeMessage:"31 studies compared, different: 9",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/diff/DEVJ4C/studies",LocalAET:"DCM4CHEE",PrimaryAET:"DCM4CHEE",SecondaryAET:"DEVJ4C",QueryString:"queue=true&batchID=2221712246&comparefield=patient&priority=0",checkDifferent:!0,comparefield:"patient",matches:31,different:9},{taskID:"64",dicomDeviceName:"dcm4chee-arc",queue:"DiffTasks",type:"DIFF",status:"WARNING",batchID:"2221712243",createdTime:"2022-03-17T12:06:47.661-0600",updatedTime:"2022-03-17T12:07:49.070-0600",scheduledTime:"2022-03-17T12:08:47.661-0600",processingStartTime:"2022-03-17T12:08:47.691-0600",processingEndTime:"2022-03-17T12:08:49.069-0600",outcomeMessage:"31 studies compared, different: 9",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/diff/DEVJ4C/studies",LocalAET:"DCM4CHEE",PrimaryAET:"DCM4CHEE",SecondaryAET:"DEVJ4C",QueryString:"queue=true&batchID=2221712246&comparefield=patient&priority=0",checkDifferent:!0,comparefield:"patient",matches:31,different:8}]),n&&n.length&&n.length>0?(this.batchGrouped?this.tasks=n.map(o=>{if(A(o,"tasks")){let a=[];we.TASK_NAMES.forEach(s=>{o.tasks[s]&&a.push({[s]:o.tasks[s]});}),o.tasks=a;}return o;}):this.tasks=n,this.moreTasks=n.length>this.filterObject.limit,this.moreTasks&&this.tasks.splice(this.tasks.length-1,1)):this.mainservice.showMsg("No diff tasks found!"),this.cfpLoadingBar.complete();},n=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}deleteAllTasks(e){this.service.deleteAll(e).subscribe(n=>{this.mainservice.showMsg(""+n.deleted+" tasks deleted successfully!"),this.cfpLoadingBar.complete();let o=Object.assign({},this.filterObject);this.getDiffTasks(o);},n=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}action(e,n){console.log("in action",e,"match",n),e&&n&&n.taskID&&this.confirm({content:"Are you sure you want to "+we.getActionText(e)+" this task?"}).subscribe(o=>{if(o)switch(e){case"reschedule":this.deviceService.selectParameters(a=>{if(a){this.cfpLoadingBar.start();let s={};A(a,"schema_model.newDeviceName")&&a.schema_model.newDeviceName!=""&&(s.newDeviceName=a.schema_model.newDeviceName),A(a,"schema_model.scheduledTime")&&a.schema_model.scheduledTime!=""&&(s.scheduledTime=a.schema_model.scheduledTime),this.service.reschedule(n.taskID,s).subscribe(l=>{this.getDiffTasks(this.filterObject.offset||0),this.cfpLoadingBar.complete(),this.mainservice.showMsg("Task rescheduled successfully!");},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);});}},this.devices);break;case"delete":this.cfpLoadingBar.start(),this.service.delete(n.taskID).subscribe(a=>{this.cfpLoadingBar.complete(),this.getDiffTasks(this.filterObject.offset||0),this.mainservice.showMsg("Task deleted successfully!");},a=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(a);});break;case"cancel":this.cfpLoadingBar.start(),this.service.cancel(n.taskID).subscribe(a=>{n.status="CANCELED",this.cfpLoadingBar.complete(),this.mainservice.showMsg("Task canceled successfully!");},a=>{this.cfpLoadingBar.complete(),console.log("cancleerr",a),this.httpErrorHandler.handleError(a);});break;default:console.error("Not knowen mode=",e);}});}getDiffTasksCount(e){this.cfpLoadingBar.start(),this.service.getDiffTasksCount(e).subscribe(n=>{try{this.count=n.count;}catch{this.count="";}this.initSchema(),this.cfpLoadingBar.complete();},n=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}showDetails(e){console.log("in show details",e),this.batchGrouped=!1,this.filterObject.batchID=e.batchID;let n=Object.assign({},this.filterObject);n.limit&&n.limit++,this.getDiffTasks(n);}next(){if(this.moreTasks){let e=Object.assign({},this.filterObject);e.limit&&(this.filterObject.offset=e.offset=e.offset*1+this.filterObject.limit*1,e.limit++),this.getDiffTasks(e);}}prev(){if(this.filterObject.offset>0){let e=Object.assign({},this.filterObject);e.limit&&(this.filterObject.offset=e.offset=e.offset*1-this.filterObject.limit*1),this.getDiffTasks(e);}}confirm(e){return this.dialogRef=this.dialog.open(Ei,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}tableMouseEnter(){this.tableHovered=!0;}tableMouseLeave(){this.tableHovered=!1;}downloadCsv(){this.confirm({content:"Do you want to use semicolon as delimiter?",cancelButton:"No",saveButton:"Yes",result:"yes"}).subscribe(e=>{let n=!1;e&&(n=!0);let o;this._keycloakService.getToken().subscribe(a=>{this.mainservice.global.notSecure||(o=a.token);let s=Oe(this.filterObject);delete s.offset,delete s.limit,this.mainservice.global.notSecure?I.downloadFile(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/diff?accept=text/csv${n?";delimiter=semicolon":""}&${this.mainservice.param(s)}`,"diff.csv"):I.downloadFile(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/diff?accept=text/csv${n?";delimiter=semicolon":""}&access_token=${o}&${this.mainservice.param(s)}`,"diff.csv");});});}uploadCsv(){this.dialogRef=this.dialog.open(Du,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.aes=this.aes,this.dialogRef.componentInstance.params={LocalAET:this.filterObject.LocalAET||"",PrimaryAET:this.filterObject.PrimaryAET||"",SecondaryAET:this.filterObject.SecondaryAET||"",batchID:this.filterObject.batchID||"",formSchema:[{tag:"input",type:"checkbox",filterKey:"semicolon",description:"Use semicolon as delimiter"},{tag:"select",options:this.aets,showStar:!0,filterKey:"LocalAET",description:"Local AET",placeholder:"Local AET",validation:Ci.required},{tag:"select",options:this.aes,showStar:!0,filterKey:"PrimaryAET",description:"Primary AET",placeholder:"Primary AET",validation:Ci.required},{tag:"select",options:this.aes,showStar:!0,filterKey:"SecondaryAET",description:"Secondary AET",placeholder:"Secondary AET",validation:Ci.required},{tag:"input",type:"number",filterKey:"field",description:"Field",placeholder:"Field",validation:[Ci.minLength(1),Ci.min(1)],defaultValue:1},{tag:"input",type:"checkbox",filterKey:"missing",description:"Check Missing"},{tag:"input",type:"checkbox",filterKey:"different",description:"Check Different"},{tag:"input",type:"text",filterKey:"comparefield",description:"Compare field",placeholder:"Compare field"},{tag:"input",type:"checkbox",filterKey:"ForceQueryByStudyUID",description:"Force query by Study UID"},{tag:"input",type:"text",filterKey:"SplitStudyDateRange",description:"Split Study Date Range",placeholder:"Split Study Date Range as per duration format"},{tag:"input",type:"number",filterKey:"priority",description:"Priority",placeholder:"Priority"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],prepareUrl:e=>{let n={};return e.missing&&(n.missing=e.missing),e.different&&(n.different=e.different),e.compareField&&(n.compareField=e.compareField),e.ForceQueryByStudyUID&&(n.ForceQueryByStudyUID=e.ForceQueryByStudyUID),e.SplitStudyDateRange&&(n.SplitStudyDateRange=e.SplitStudyDateRange),e.priority&&(n.priority=e.priority),e.batchID&&(n.batchID=e.batchID),`${I.addLastSlash(this.mainservice.baseUrl)}aets/${e.LocalAET}/dimse/${e.PrimaryAET}/diff/${e.SecondaryAET}/studies/csv:${e.field}${I.getUrlParams(n)}`;}},this.dialogRef.afterClosed().subscribe(e=>{e&&console.log("ok",e);});}toggleAutoRefresh(){this.timer.started=!this.timer.started,this.timer.started?(this.getCounts(),this.refreshInterval=setInterval(()=>{this.getCounts();},this.interval*1e3)):clearInterval(this.refreshInterval);}getCounts(){let e=Object.assign({},this.filterObject);this.tableHovered||this.getDiffTasks(e),Object.keys(this.statusValues).forEach(n=>{e.status=n,this.statusValues[n].loader=!0,this.service.getDiffTasksCount(e).subscribe(o=>{this.statusValues[n].loader=!1;try{this.statusValues[n].count=o.count;}catch{this.statusValues[n].count="";}},o=>{this.statusValues[n].loader=!1,this.statusValues[n].count="!";});});}keyUp(e){console.log("e",e),e.which===13&&this.getCounts();}ngOnDestroy(){this.timer.started&&(this.timer.started=!1,clearInterval(this.refreshInterval));}};r.ɵfac=function(n){return new(n||r)(k(G2),k(le),k(Dn),k(ti),k(un),k(Pt),k(Mt),k(ri),k(In),k(Xt),k(Pe));},r.ɵcmp=Z({type:r,selectors:[["diff-monitor"]],standalone:!1,decls:35,vars:16,consts:()=>{let e;e="All actions";let n;n="Diff Monitoring";let o;o="Download CSV";let a;a="Upload CSV";let s;s="Batch ID grouped";let l;l="Interval";let _;return _="Interval:",[n,o,a,s,_,[1,"main_content","queues","monitoring","white_design"],[1,"tab-content"],[1,"filter_line",3,"keyup"],[1,"filter_block"],[3,"submit","onChange","schema","model","filterTreeHeight"],["class","filter",4,"ngIf"],[1,"filter_line"],[1,"filter","single_block",3,"permission"],[1,"line"],[1,"w45percent","csv_button",3,"click"],[1,"custom_icon","csv_icon"],[1,"text"],[1,"material-icons"],["placeholder",e,"floatPlaceholder","never",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","checkbox",1,"checkbox_button","pull-right",3,"ngClass"],["id","checkbox","type","checkbox",3,"ngModelChange","ngModel"],["class","left_arrow arrow",3,"ngClass","click",4,"ngIf"],["class","right_arrow arrow",3,"ngClass","click",4,"ngIf"],[3,"stringifyDetailAttributes","config","models","tableMouseEnter","tableMouseLeave",4,"ngIf"],[1,"filter"],[1,"filter_block","auto_reloader"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"option_block"],[1,"interval_block"],["type","text","placeholder",l,3,"ngModelChange","ngModel"],[1,"btn-default","submit",3,"click"],[1,"spinnter_container"],["class","glyphicon glyphicon-refresh",4,"ngIf"],["mode","indeterminate",3,"diameter",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],[1,"fa","fa-circle-o-notch","fa-spin","dashboard_loader"],[1,"glyphicon","glyphicon-refresh"],["mode","indeterminate",3,"diameter"],[3,"value"],[1,"left_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-left"],[1,"right_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-right"],[3,"tableMouseEnter","tableMouseLeave","stringifyDetailAttributes","config","models"]];},template:function(n,o){n&1&&(u(0,"div",5),$(1,"monitoring-tabs"),u(2,"div",6)(3,"h2"),P(4,0),p(),u(5,"div",7),b("keyup",function(s){return o.keyUp(s);}),u(6,"div",8)(7,"filter-generator",9),b("submit",function(s){return o.onSubmit(s);})("onChange",function(s){return o.onFormChange(s);}),p(),E(8,jFe,17,6,"div",10),p()(),u(9,"div",11)(10,"div",12)(11,"div",8)(12,"div",13)(13,"div",14),b("click",function(){return o.downloadCsv();}),$(14,"span",15),u(15,"span",16),P(16,1),p()(),u(17,"div",14),b("click",function(){return o.uploadCsv();}),u(18,"span",17),T(19,"file_upload"),p(),u(20,"span",16),P(21,2),p()()()(),u(22,"div",8)(23,"div",13)(24,"mat-select",18),q("ngModelChange",function(s){return Y(o.allAction,s)||(o.allAction=s),s;}),b("selectionChange",function(s){return o.allActionChanged(s);}),E(25,UFe,2,3,"mat-option",19),p(),u(26,"label",20)(27,"input",21),q("ngModelChange",function(s){return Y(o.batchGrouped,s)||(o.batchGrouped=s),s;}),b("ngModelChange",function(){return o.tasks=[];}),p(),u(28,"span"),P(29,3),p()()()()()(),u(30,"div"),E(31,WFe,2,3,"div",22)(32,BFe,2,3,"div",23)(33,HFe,1,3,"table-generator",24)(34,qFe,1,3,"table-generator",24),p()()()),n&2&&(c(7),m("schema",o.filterSchema)("model",o.filterObject)("filterTreeHeight",3),c(),m("ngIf",o.statusValues),c(2),m("permission",Ke(13,RFe)),c(14),H("ngModel",o.allAction),c(),m("ngForOf",o.allActionsOptions),c(),m("ngClass",ne(14,$3,o.batchGrouped)),c(),H("ngModel",o.batchGrouped),c(4),m("ngIf",o.tasks&&o.tasks.length&&o.tasks.length>0),c(),m("ngIf",o.tasks&&o.tasks.length&&o.tasks.length>0),c(),m("ngIf",!o.batchGrouped&&o.tableConfigNormal&&o.tasks&&o.tasks.length&&o.tasks.length>0),c(),m("ngIf",o.batchGrouped&&o.tableConfigGrouped&&o.tasks&&o.tasks.length&&o.tasks.length>0));},dependencies:[Je,ve,de,Me,pi,Se,Ee,fi,ii,Ao,jr,Yi,xn,_a],encapsulation:2});let i=r;return i;})();var yH=(()=>{let r=class r{transform(e,n){try{if(A(e,"value")?e=e.value.toString()||e:e=e.toString()||e,e&&e.length>3&&e.indexOf(".")===-1){let o="";for(;e.length>3;)o=" "+e.slice(-3)+o,e=e.slice(0,e.length-3);return o=e+o,o;}return e;}catch{return e;}}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"largeIntFormat",type:r,pure:!0,standalone:!1});let i=r;return i;})();var j2=(()=>{let r=class r{constructor(e,n,o,a,s){this.$http=e,this.mainservice=n,this.dataPipe=o,this.deviceService=a,this.tableService=s,this.header=new At({"Content-Type":"application/json"}),this.cancel=l=>this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/stgver/${l}/cancel`,{}),this.delete=l=>this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/stgver/${l}`),this.getDevices=()=>this.deviceService.getDevices(),this.scheduleStorageVerification=(l,_)=>this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}aets/${_}/stgver/studies?${this.mainservice.param(l)}`,{}),this.getUniqueID=()=>this.mainservice.getUniqueID();}statusValues(){return[{value:"SCHEDULED",text:"SCHEDULED"},{value:"SCHEDULED FOR RETRY",text:"S. FOR RETRY"},{value:"IN PROCESS",text:"IN PROCESS"},{value:"COMPLETED",text:"COMPLETED"},{value:"WARNING",text:"WARNING"},{value:"FAILED",text:"FAILED"},{value:"CANCELED",text:"CANCELED"}];}getSorageVerifications(e,n){return this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/stgver${n?"/batch":""}?${this.mainservice.param(e)}`);}getSorageVerificationsCount(e){let n=Oe(e);return delete n.offset,delete n.limit,delete n.orderby,this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/stgver/count?${this.mainservice.param(n)}`);}getTableSchema(e,n,o){return A(o,"grouped")&&o.grouped?[new J({type:"index",title:"#",description:"Index",widthWeight:.2,calculatedWidth:"4%"}),new J({type:"actions",title:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:a=>{console.log("e",a),a.showAttributes=!a.showAttributes;},title:"Show details"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-list-alt",text:""},click:a=>{console.log("e",a),n.call(e,"task-detail",a);},title:"Show Tasks Detail"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete-batched",a);},permission:{id:"action-monitoring->export-single_action",param:"visible"},title:"Delete Task with this BatchID"}],description:"Actions",pxWidth:105}),new J({type:"value",title:"Batch ID",pathToValue:"batchID",description:"Batch ID",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Device Name",pathToValue:"dicomDeviceName",description:"Device Name",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Local AET",pathToValue:"LocalAET",description:"Local AET",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Scheduled Time Range",pathToValue:"scheduledTimeRange",description:"Scheduled Time Range",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Processing Start Time Range",pathToValue:"processingStartTimeRange",description:"Processing Start Time Range",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Processing end time range",pathToValue:"processingEndTimeRange",description:"Processing end time range",widthWeight:1,calculatedWidth:"20%"}),new J({type:"progress",title:"Tasks",pathToValue:"tasks",description:"Tasks",widthWeight:1.5,cssClass:"no-padding",calculatedWidth:"20%"})]:[new J({type:"index",title:"#",description:"Index",widthWeight:.2,calculatedWidth:"4%"}),new J({type:"actions",title:"",headerActions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:(a,s)=>{a.forEach(l=>{l.selected=!0;}),s.allSelected=!0;},title:"Select",showIf:(a,s)=>!s.allSelected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:(a,s)=>{a.forEach(l=>{l.selected=!1;}),s.allSelected=!1;},title:"Unselect",showIf:(a,s)=>s.allSelected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ban-circle",text:""},click:a=>{console.log("e",a),n.call(e,"cancel-selected",a);},permission:{id:"action-monitoring->storage_verification-single_action",param:"visible"},title:"Cancel selected"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-repeat",text:""},click:a=>{console.log("e",a),n.call(e,"reschedule-selected",a);},permission:{id:"action-monitoring->storage_verification-single_action",param:"visible"},title:"Reschedule selected"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete-selected",a);},permission:{id:"action-monitoring->storage_verification-single_action",param:"visible"},title:"Delete selected"}],actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:a=>{a.selected=!a.selected;},title:"Select",showIf:(a,s)=>!a.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:a=>{console.log("e",a),a.selected=!a.selected;},title:"Unselect",showIf:(a,s)=>a.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ban-circle",text:""},click:a=>{console.log("e",a),n.call(e,"cancel",a);},title:"Cancel this task",permission:{id:"action-monitoring->storage_verification-single_action",param:"visible"},showIf:a=>a.status&&(a.status==="SCHEDULED"||a.status==="SCHEDULED FOR RETRY"||a.status==="IN PROCESS")},{icon:{tag:"span",cssClass:"glyphicon glyphicon-repeat",text:""},click:a=>{console.log("e",a),n.call(e,"reschedule",a);},title:"Reschedule this task",permission:{id:"action-monitoring->storage_verification-single_action",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete",a);},permission:{id:"action-monitoring->storage_verification-single_action",param:"visible"},title:"Delete this task"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:a=>{console.log("e",a),a.showAttributes=!a.showAttributes;},title:"Show details"}],description:"Actions",pxWidth:105}),...this.tableService.getTableSchema(ca(["dicomDeviceName","queue"],this.tableService.getTimeColumnBasedOnFilter(o.filterObject),["processingStartTime_scheduledTime","processingEndTime_processingStartTime","LocalAET","StorageID","StgCmtPolicy","completed_failed","status","failures","batchID"]))];}getFilterSchema(e,n,o){return[{tag:"html-select",options:e,showStar:!0,showSearchField:!0,filterKey:"dicomDeviceName",description:"Device Name to filter by",placeholder:"Device Name"},{tag:"html-select",options:n,showStar:!0,showSearchField:!0,filterKey:"LocalAET",description:"Archive AE Title to filter by",placeholder:"Archive AE Title"},{tag:"input",type:"text",filterKey:"StudyInstanceUID",description:"Unique Identifier of the Study to filter by",placeholder:"Study Instance UID"},{tag:"select",options:this.statusValues(),filterKey:"status",showStar:!0,description:"Status of tasks to filter by",placeholder:"Status"},{tag:"range-picker",filterKey:"createdTime",description:"Created Date"},{tag:"range-picker",filterKey:"updatedTime",description:"Updated Date"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"},{tag:"select",options:[{value:"createdTime",text:"Sort by creation time (ASC)"},{value:"-createdTime",text:"Sort by creation time (DESC)"},{value:"updatedTime",text:"Sort by updated time (ASC)"},{value:"-updatedTime",text:"Sort by updated time (DESC)"},{value:"scheduledTime",text:"Sort by scheduled time (ASC)"},{value:"-scheduledTime",text:"Sort by scheduled time (DESC)"}],filterKey:"orderby",description:"Sort",placeholder:"Sort"},{tag:"label",text:"Limit"},{tag:"input",type:"number",filterKey:"limit",description:"Maximal number of tasks in returned list"},{tag:"button",id:"count",text:o,description:"Query only the count"},{tag:"button",id:"submit",text:"SUBMIT",description:"Maximal number of tasks in returned list"}];}stringifyRangeArray(e){try{return`${this.dataPipe.transform(e[0],"yyyy.MM.dd HH:mm:ss")} - ${this.dataPipe.transform(e[0],"yyyy.MM.dd HH:mm:ss")}`;}catch{return e;}}cancelAll(e){let n=this.mainservice.param(e);return n=n?`?${n}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/stgver/cancel${n}`,{},this.header);}rescheduleAll(e){let n=this.mainservice.param(e);return n=n?`?${n}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/stgver/reschedule${n}`,{},this.header);}reschedule(e,n){let o=this.mainservice.param(n);return o=o?`?${o}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/stgver/${e}/reschedule${o}`,{});}deleteAll(e){let n=this.mainservice.param(e);return n=n?`?${n}`:"",this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/stgver${n}`,this.header);}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le),K(Dr),K(Xt),K(Ol));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var XFe=()=>({id:"action-monitoring->external_retrieve-all_action",param:"visible"}),L3=i=>({active:i}),KFe=(i,r)=>({gray:i,red:r});function QFe(i,r){if(i&1&&(u(0,"td"),T(1),p()),i&2){let t=d().$implicit,e=d(2);c(),z(e.statusValues[t]==null?null:e.statusValues[t].count);}}function ZFe(i,r){i&1&&(u(0,"td"),$(1,"i",37),p());}function JFe(i,r){if(i&1&&(u(0,"tr",36)(1,"td"),T(2),p(),E(3,QFe,2,1,"td",23)(4,ZFe,2,0,"td",23),p()),i&2){let t=r.$implicit,e=d(2);m("ngClass",yn(4,KFe,(e.statusValues[t]==null?null:e.statusValues[t].count)=="0",(e.statusValues[t]==null?null:e.statusValues[t].count)=="!")),c(2),ue("",t,":"),c(),m("ngIf",!(e.statusValues[t]!=null&&e.statusValues[t].loader)),c(),m("ngIf",e.statusValues[t]==null?null:e.statusValues[t].loader);}}function e6e(i,r){i&1&&$(0,"span",38);}function t6e(i,r){i&1&&$(0,"mat-progress-spinner",39),i&2&&m("diameter",20);}function i6e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2);c(),z(t.timer.startText);}}function n6e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2);c(),z(t.timer.stopText);}}function r6e(i,r){if(i&1&&(u(0,"mat-option",40),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.value)),c(),z(t.label);}}function o6e(i,r){if(i&1){let t=O();u(0,"div",41),b("click",function(){C(t);let n=d(2);return y(n.prev());}),$(1,"span",42),p();}if(i&2){let t=d(2);m("ngClass",ne(1,L3,t.filterObject.offset>0));}}function a6e(i,r){if(i&1){let t=O();u(0,"div",43),b("click",function(){C(t);let n=d(2);return y(n.next());}),$(1,"span",44),p();}if(i&2){let t=d(2);m("ngClass",ne(1,L3,t.moreTasks));}}function s6e(i,r){if(i&1&&$(0,"table-generator",45),i&2){let t=d(2);m("config",t.tableConfigNormal)("stringifyDetailAttributes",!0)("models",t.storageVerifications);}}function l6e(i,r){if(i&1&&$(0,"table-generator",45),i&2){let t=d(2);m("config",t.tableConfigGrouped)("stringifyDetailAttributes",!0)("models",t.storageVerifications);}}function c6e(i,r){if(i&1){let t=O();u(0,"div",9)(1,"div",10)(2,"div",11)(3,"filter-generator",12),b("submit",function(n){C(t);let o=d();return y(o.onSubmit(n));})("onChange",function(n){C(t);let o=d();return y(o.onFormChange(n));}),p(),u(4,"div",13)(5,"div",14)(6,"table"),E(7,JFe,5,7,"tr",15),p(),u(8,"div",16)(9,"div",17)(10,"label"),P(11,1),p(),u(12,"input",18),q("ngModelChange",function(n){C(t);let o=d();return Y(o.interval,n)||(o.interval=n),y(n);}),p(),u(13,"span"),T(14,"s"),p()(),u(15,"button",19),b("click",function(){C(t);let n=d();return y(n.toggleAutoRefresh());}),u(16,"div",20),E(17,e6e,1,0,"span",21)(18,t6e,1,1,"mat-progress-spinner",22),p(),E(19,i6e,2,1,"span",23)(20,n6e,2,1,"span",23),p()()()()()(),u(21,"div",10)(22,"div",11)(23,"div",24)(24,"div",11)(25,"div",25)(26,"div",26),b("click",function(){C(t);let n=d();return y(n.downloadCsv());}),$(27,"span",27),u(28,"span",28),P(29,2),p()(),u(30,"mat-select",29),q("ngModelChange",function(n){C(t);let o=d();return Y(o.allAction,n)||(o.allAction=n),y(n);}),b("selectionChange",function(n){C(t);let o=d();return y(o.allActionChanged(n));}),E(31,r6e,2,3,"mat-option",30),p()()(),u(32,"div",11)(33,"div",25)(34,"label",31)(35,"input",32),q("ngModelChange",function(n){C(t);let o=d();return Y(o.batchGrouped,n)||(o.batchGrouped=n),y(n);}),b("ngModelChange",function(){C(t);let n=d();return n.storageVerifications=[],y(n.filterObject.offset=0);}),p(),u(36,"span"),P(37,3),p()()()()()()(),u(38,"div"),E(39,o6e,2,3,"div",33)(40,a6e,2,3,"div",34)(41,s6e,1,3,"table-generator",35)(42,l6e,1,3,"table-generator",35),p()();}if(i&2){let t=d();c(3),m("schema",t.filterSchema)("model",t.filterObject),c(4),m("ngForOf",t.Object.keys(t.statusValues)),c(5),H("ngModel",t.interval),c(5),m("ngIf",!t.timer.started),c(),m("ngIf",t.timer.started),c(),m("ngIf",!t.timer.started),c(),m("ngIf",t.timer.started),c(3),m("permission",Ke(17,XFe)),c(7),H("ngModel",t.allAction),c(),m("ngForOf",t.allActionsOptions),c(3),m("ngClass",ne(18,L3,t.batchGrouped)),c(),H("ngModel",t.batchGrouped),c(4),m("ngIf",t.storageVerifications&&t.storageVerifications.length&&t.storageVerifications.length>0),c(),m("ngIf",t.storageVerifications&&t.storageVerifications.length&&t.storageVerifications.length>0),c(),m("ngIf",!t.batchGrouped&&t.tableConfigNormal&&t.storageVerifications&&t.storageVerifications.length&&t.storageVerifications.length>0),c(),m("ngIf",t.batchGrouped&&t.tableConfigGrouped&&t.storageVerifications&&t.storageVerifications.length&&t.storageVerifications.length>0);}}var bH=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f,g,S){this.cfpLoadingBar=e,this.mainservice=n,this.aeListService=o,this.httpErrorHandler=a,this.service=s,this.dialog=l,this.viewContainerRef=_,this.permissionService=f,this.deviceService=g,this._keycloakService=S,this.timer={started:!1,startText:"Start Auto Refresh",stopText:"Stop Auto Refresh"},this.allActionsActive=[],this.allActionsOptions=[{value:"cancel",label:"Cancel all matching tasks"},{value:"reschedule",label:"Reschedule all matching tasks"},{value:"delete",label:"Delete all matching tasks"}],this.statusValues={},this.interval=10,this.tableHovered=!1,this.Object=Object,this.batchGrouped=!1,this.openedBlock="monitor",this.triggerFilterSchema=[],this.triggerFilterSchemaHidden=[],this.triggerFilterObject={},this.showFilter=!1;}ngOnInit(){this.initCheck(10);}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.init():e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){this.service.statusValues().forEach(e=>{this.statusValues[e.value]={count:0,loader:!1};}),this.filterObject={limit:20,offset:0},Mi(this.aeListService.getAets().pipe(me(e=>this.permissionService.filterAetDependingOnUiConfig(e,"internal"))),this.service.getDevices()).subscribe(e=>{this.localAET=I.extendAetObjectWithAlias(e[0]).map(n=>({value:n.dicomAETitle,text:n.dicomAETitle})),this.devices=e[1].filter(n=>n.hasArcDevExt).map(n=>({value:n.dicomDeviceName,text:n.dicomDeviceName})),this.initSchema();}),this.onFormChange(this.filterObject);}setTableSchemas(){this.tableConfigNormal={table:I.calculateWidthOfTable(this.service.getTableSchema(this,this.action,{grouped:!1,filterObject:this.filterObject})),filter:this.filterObject,search:"",showAttributes:!1,calculate:!1},this.tableConfigGrouped={table:I.calculateWidthOfTable(this.service.getTableSchema(this,this.action,{grouped:!0,filterObject:this.filterObject})),filter:this.filterObject,search:"",showAttributes:!1,calculate:!1};}initSchema(){this.filterSchema=I.prepareFlatFilterObject(this.service.getFilterSchema(this.devices,this.localAET,"COUNT "+(this.count||this.count==0?this.count:"")+""),3),this.filterObject.orderby="-updatedTime",this.triggerFilterSchema=I.prepareFlatFilterObject([...we.STUDY_FILTER_SCHEMA(this.localAET,[],[]).filter((e,n)=>n<14&&e.filterKey!="limit"),{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"},{tag:"select",options:[{value:"DB_RECORD_EXISTS",text:"DB_RECORD_EXISTS",title:"Check for existence of DB records"},{value:"OBJECT_EXISTS",text:"OBJECT_EXISTS",title:"check if object exists on Storage System"},{value:"OBJECT_SIZE",text:"OBJECT_SIZE",title:"check size of object on Storage System"},{value:"OBJECT_FETCH",text:"OBJECT_FETCH",title:"Fetch object from Storage System"},{value:"OBJECT_CHECKSUM",text:"OBJECT_CHECKSUM",title:"recalculate checksum of object on Storage System"},{value:"S3_MD5SUM",text:"S3_MD5SUM",title:"Check MD5 checksum of object on S3 Storage System"}],showStar:!0,filterKey:"storageVerificationPolicy",description:"Verification Policy",placeholder:"Verification Policy"},{tag:"checkbox",filterKey:"storageVerificationUpdateLocationStatus",text:"Update location",description:"Update Location DB"},{tag:"checkbox",filterKey:"storageVerificationFailed",text:"Failed verification",description:"Failed storage verification"},{tag:"button",text:"TRIGGER",description:"TRIGGER"}]),this.triggerFilterSchemaHidden=I.prepareFlatFilterObject([...we.STUDY_FILTER_SCHEMA(this.localAET,[],[],!0),...we.STUDY_FILTER_SCHEMA(this.localAET,[],[]).filter((e,n)=>n>13&&e.filterKey!="limit")],3),this.setTableSchemas();}toggleAutoRefresh(){this.timer.started=!this.timer.started,this.timer.started?(this.getCounts(!0),this.refreshInterval=setInterval(()=>{this.getCounts(!0);},this.interval*1e3)):clearInterval(this.refreshInterval);}onTriggerSubmit(e){if(console.log("this.triggerFilterObject",this.triggerFilterObject),this.cfpLoadingBar.start(),this.triggerFilterObject.aet){let n=Object.assign({},this.triggerFilterObject),o=n.aet;delete n.aet,this.service.scheduleStorageVerification(n,o).subscribe(a=>{this.cfpLoadingBar.complete(),this.mainservice.showMsg("Storage Verification scheduled successfully!"),setTimeout(()=>{this.filterObject.batchID=n.batchID||this.service.getUniqueID(),this.batchGrouped=!0,this.openedBlock="monitor",this.getCounts(!0);},500);},a=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(a);});}else this.mainservice.showError("Aet is required!"),this.cfpLoadingBar.complete();}onSubmit(e){if(A(e,"id")&&A(e,"model"))if(e.id==="submit"){let n=Object.assign({},this.filterObject);n.limit&&n.limit++,this.getTasks(n),this.getCounts(!1);}else{let n=Object.assign({},this.filterObject);delete n.limit,delete n.offset,this.getVerificationCounts(n);}}getVerificationCounts(e){this.cfpLoadingBar.start(),this.service.getSorageVerificationsCount(e).subscribe(n=>{try{this.count=n.count;}catch{this.count="";}this.initSchema(),this.cfpLoadingBar.complete();},n=>{this.cfpLoadingBar.complete(),this.initSchema(),this.httpErrorHandler.handleError(n);});}uploadCsv(){}allActionChanged(e){let n="Are you sure, you want to "+we.getActionText(this.allAction)+" all matching tasks?",o=Object.assign({},this.filterObject);delete o.limit,delete o.offset,this.confirm({content:n}).subscribe(a=>{if(a){switch(this.allAction){case"cancel":this.cfpLoadingBar.start(),this.service.cancelAll(this.filterObject).subscribe(s=>{this.cfpLoadingBar.complete(),A(s,"count")?this.mainservice.showMsg(""+s.count+" tasks canceled successfully!"):this.mainservice.showMsg("Tasks canceled successfully!");},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);});break;case"reschedule":this.deviceService.selectParametersForMatching(s=>{s&&(this.cfpLoadingBar.start(),A(s,"schema_model.newDeviceName")&&s.schema_model.newDeviceName!=""&&(o.newDeviceName=s.schema_model.newDeviceName),A(s,"schema_model.scheduledTime")&&s.schema_model.scheduledTime!=""&&(o.scheduledTime=s.schema_model.scheduledTime),this.service.rescheduleAll(o).subscribe(l=>{this.cfpLoadingBar.complete(),A(l,"count")?this.mainservice.showMsg(""+l.count+" tasks rescheduled successfully!"):this.mainservice.showMsg("Tasks rescheduled successfully!");},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);}));},this.devices);break;case"delete":this.cfpLoadingBar.start(),this.service.deleteAll(this.filterObject).subscribe(s=>{this.cfpLoadingBar.complete(),A(s,"deleted")?this.mainservice.showMsg(""+s.deleted+" tasks deleted successfully!"):this.mainservice.showMsg("Tasks deleted successfully!");},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);});break;}this.cfpLoadingBar.complete();}this.allAction="",this.allAction=void 0;});}getCounts(e){let n=Object.assign({},this.filterObject);if(!this.tableHovered&&e){let o=Object.assign({},this.filterObject);o.limit&&(this.filterObject.offset=0,o.limit++),this.getTasks(o);}Object.keys(this.statusValues).forEach(o=>{n.status=o,this.statusValues[o].loader=!0,this.service.getSorageVerificationsCount(n).subscribe(a=>{this.statusValues[o].loader=!1;try{this.statusValues[o].count=a.count;}catch{this.statusValues[o].count="";}},a=>{this.statusValues[o].loader=!1,this.statusValues[o].count="!";});});}confirm(e){return this.dialogRef=this.dialog.open(Ei,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}downloadCsv(){this.confirm({content:"Do you want to use semicolon as delimiter?",cancelButton:"No",saveButton:"Yes",result:"yes"}).subscribe(e=>{let n=!1;e&&(n=!0);let o;this._keycloakService.getToken().subscribe(a=>{this.mainservice.global.notSecure||(o=a.token);let s=Oe(this.filterObject);delete s.offset,delete s.limit,this.mainservice.global.notSecure?I.downloadFile(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/stgver?accept=text/csv${n?";delimiter=semicolon":""}&${this.mainservice.param(s)}`,"storage_verification.csv"):I.downloadFile(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/stgver?accept=text/csv${n?";delimiter=semicolon":""}&access_token=${o}&${this.mainservice.param(s)}`,"storage_verification.csv");});});}next(){if(this.moreTasks){let e=Object.assign({},this.filterObject);e.limit&&(this.filterObject.offset=e.offset=e.offset*1+this.filterObject.limit*1,e.limit++),this.getTasks(e);}}prev(){if(this.filterObject.offset>0){let e=Object.assign({},this.filterObject);e.limit&&(this.filterObject.offset=e.offset=e.offset*1-this.filterObject.limit*1,e.limit++),this.getTasks(e);}}getTasks(e){let n=this;n.cfpLoadingBar.start(),this.service.getSorageVerifications(e,this.batchGrouped).subscribe(o=>{n.cfpLoadingBar.complete(),po.production||(this.batchGrouped?o=[{batchID:"testbatch",tasks:{scheduled:"708"},dicomDeviceName:["devj4c"],LocalAET:["DEVJ4C"],createdTimeRange:["2022-03-24T19:43:16.534+0100","2022-03-24T19:43:18.785+0100"],updatedTimeRange:["2022-03-24T19:43:16.534+0100","2022-03-24T19:43:18.785+0100"],scheduledTimeRange:["2022-03-24T19:43:16.513+0100","2022-03-24T19:43:16.513+0100"]},{batchID:"testbatch",tasks:{scheduled:"521","in-process":"5",completed:"182"},dicomDeviceName:["devj4c"],LocalAET:["DEVJ4C"],createdTimeRange:["2022-03-24T19:43:16.534+0100","2022-03-24T19:43:18.785+0100"],updatedTimeRange:["2022-03-24T19:43:16.534+0100","2022-03-24T19:44:30.503+0100"],scheduledTimeRange:["2022-03-24T19:43:16.513+0100","2022-03-24T19:43:16.513+0100"],processingStartTimeRange:["2022-03-24T19:44:16.034+0100","2022-03-24T19:44:30.503+0100"],processingEndTimeRange:["2022-03-24T19:44:16.195+0100","2022-03-24T19:44:30.348+0100"]},{batchID:"testbatch",tasks:{scheduled:"400","in-process":"3",completed:"305"},dicomDeviceName:["devj4c"],LocalAET:["DEVJ4C"],createdTimeRange:["2022-03-24T19:43:16.534+0100","2022-03-24T19:43:18.785+0100"],updatedTimeRange:["2022-03-24T19:43:16.534+0100","2022-03-24T19:44:51.821+0100"],scheduledTimeRange:["2022-03-24T19:43:16.513+0100","2022-03-24T19:43:16.513+0100"],processingStartTimeRange:["2022-03-24T19:44:16.034+0100","2022-03-24T19:44:51.634+0100"],processingEndTimeRange:["2022-03-24T19:44:16.195+0100","2022-03-24T19:44:51.821+0100"]},{batchID:"testbatch",tasks:{scheduled:"151","in-process":"4",completed:"553"},dicomDeviceName:["devj4c"],LocalAET:["DEVJ4C"],createdTimeRange:["2022-03-24T19:43:16.534+0100","2022-03-24T19:43:18.785+0100"],updatedTimeRange:["2022-03-24T19:43:16.534+0100","2022-03-24T19:45:08.561+0100"],scheduledTimeRange:["2022-03-24T19:43:16.513+0100","2022-03-24T19:43:16.513+0100"],processingStartTimeRange:["2022-03-24T19:44:16.034+0100","2022-03-24T19:45:08.561+0100"],processingEndTimeRange:["2022-03-24T19:44:16.195+0100","2022-03-24T19:45:08.561+0100"]},{batchID:"testbatch",tasks:{scheduled:"11","in-process":"5",completed:"692"},dicomDeviceName:["devj4c"],LocalAET:["DEVJ4C"],createdTimeRange:["2022-03-24T19:43:16.534+0100","2022-03-24T19:43:18.785+0100"],updatedTimeRange:["2022-03-24T19:43:17.517+0100","2022-03-24T19:45:26.909+0100"],scheduledTimeRange:["2022-03-24T19:43:16.513+0100","2022-03-24T19:43:16.513+0100"],processingStartTimeRange:["2022-03-24T19:44:16.034+0100","2022-03-24T19:45:26.636+0100"],processingEndTimeRange:["2022-03-24T19:44:16.195+0100","2022-03-24T19:45:26.582+0100"]},{batchID:"testbatch",tasks:{completed:"708"},dicomDeviceName:["devj4c"],LocalAET:["DEVJ4C"],createdTimeRange:["2022-03-24T19:43:16.534+0100","2022-03-24T19:43:18.785+0100"],updatedTimeRange:["2022-03-24T19:44:16.195+0100","2022-03-24T19:45:28.264+0100"],scheduledTimeRange:["2022-03-24T19:43:16.513+0100","2022-03-24T19:43:16.513+0100"],processingStartTimeRange:["2022-03-24T19:44:16.034+0100","2022-03-24T19:45:27.754+0100"],processingEndTimeRange:["2022-03-24T19:44:16.195+0100","2022-03-24T19:45:28.264+0100"]}]:o=[{taskID:"3445",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-17T00:19:44.155+0100",updatedTime:"2022-03-17T00:20:37.643+0100",scheduledTime:"2022-03-17T00:19:44.153+0100",processingStartTime:"2022-03-17T00:20:37.582+0100",processingEndTime:"2022-03-17T00:20:37.643+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.226771377810260383099403728946437958202] of Study[uid=2.25.187439577464559836490772088259615969176] for OBJECT_CHECKSUM: - completed: 0, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.187439577464559836490772088259615969176",SeriesInstanceUID:"2.25.226771377810260383099403728946437958202"},{taskID:"3444",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-17T00:18:44.058+0100",updatedTime:"2022-03-17T00:19:37.676+0100",scheduledTime:"2022-03-17T00:18:44.056+0100",processingStartTime:"2022-03-17T00:19:37.622+0100",processingEndTime:"2022-03-17T00:19:37.676+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.249319711441696008504058463592875912795] of Study[uid=2.25.283304145802740676259414951321571976120] for OBJECT_CHECKSUM: - completed: 1, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.283304145802740676259414951321571976120",SeriesInstanceUID:"2.25.249319711441696008504058463592875912795",completed:"1"},{taskID:"3443",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-17T00:18:44.033+0100",updatedTime:"2022-03-17T00:19:37.667+0100",scheduledTime:"2022-03-17T00:18:44.031+0100",processingStartTime:"2022-03-17T00:19:37.581+0100",processingEndTime:"2022-03-17T00:19:37.667+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.2133667457369353508175387852445334811] of Study[uid=2.25.187439577464559836490772088259615969176] for OBJECT_CHECKSUM: - completed: 1, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.187439577464559836490772088259615969176",SeriesInstanceUID:"2.25.2133667457369353508175387852445334811",completed:"1"},{taskID:"3442",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-17T00:17:43.978+0100",updatedTime:"2022-03-17T00:18:37.741+0100",scheduledTime:"2022-03-17T00:17:43.977+0100",processingStartTime:"2022-03-17T00:18:37.612+0100",processingEndTime:"2022-03-17T00:18:37.741+0100",outcomeMessage:"Commit Storage of Series[uid=1.3.6.1.4.1.37873.1.20.289556855539230578455393093755395983231] of Study[uid=2.25.283304145802740676259414951321571976120] for OBJECT_CHECKSUM: - completed: 2, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.283304145802740676259414951321571976120",SeriesInstanceUID:"1.3.6.1.4.1.37873.1.20.289556855539230578455393093755395983231",completed:"2"},{taskID:"3441",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-17T00:16:43.925+0100",updatedTime:"2022-03-17T00:17:37.672+0100",scheduledTime:"2022-03-17T00:16:43.923+0100",processingStartTime:"2022-03-17T00:17:37.608+0100",processingEndTime:"2022-03-17T00:17:37.672+0100",outcomeMessage:"Commit Storage of Series[uid=1.3.6.1.4.1.37873.1.20.247536570020359359774575642363475035667] of Study[uid=2.25.187439577464559836490772088259615969176] for OBJECT_CHECKSUM: - completed: 1, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.187439577464559836490772088259615969176",SeriesInstanceUID:"1.3.6.1.4.1.37873.1.20.247536570020359359774575642363475035667",completed:"1"},{taskID:"3437",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-17T00:07:43.795+0100",updatedTime:"2022-03-17T00:08:38.627+0100",scheduledTime:"2022-03-17T00:07:43.794+0100",processingStartTime:"2022-03-17T00:08:37.701+0100",processingEndTime:"2022-03-17T00:08:38.627+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.273526272782556061765155428536698740654] of Study[uid=2.25.4104151166269820755491054129106833506] for OBJECT_CHECKSUM: - completed: 13, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.4104151166269820755491054129106833506",SeriesInstanceUID:"2.25.273526272782556061765155428536698740654",completed:"13"},{taskID:"3440",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-17T00:07:43.845+0100",updatedTime:"2022-03-17T00:08:38.086+0100",scheduledTime:"2022-03-17T00:07:43.844+0100",processingStartTime:"2022-03-17T00:08:37.902+0100",processingEndTime:"2022-03-17T00:08:38.085+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.251585774989980495668716070036214323625] of Study[uid=2.25.4104151166269820755491054129106833506] for OBJECT_CHECKSUM: - completed: 1, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.4104151166269820755491054129106833506",SeriesInstanceUID:"2.25.251585774989980495668716070036214323625",completed:"1"},{taskID:"3439",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-17T00:07:43.829+0100",updatedTime:"2022-03-17T00:08:37.976+0100",scheduledTime:"2022-03-17T00:07:43.828+0100",processingStartTime:"2022-03-17T00:08:37.886+0100",processingEndTime:"2022-03-17T00:08:37.976+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.238791581884223303700761357580968487329] of Study[uid=2.25.4104151166269820755491054129106833506] for OBJECT_CHECKSUM: - completed: 1, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.4104151166269820755491054129106833506",SeriesInstanceUID:"2.25.238791581884223303700761357580968487329",completed:"1"},{taskID:"3438",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-17T00:07:43.812+0100",updatedTime:"2022-03-17T00:08:37.968+0100",scheduledTime:"2022-03-17T00:07:43.811+0100",processingStartTime:"2022-03-17T00:08:37.809+0100",processingEndTime:"2022-03-17T00:08:37.968+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.209893573848189194515701669039602952980] of Study[uid=2.25.4104151166269820755491054129106833506] for OBJECT_CHECKSUM: - completed: 1, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.4104151166269820755491054129106833506",SeriesInstanceUID:"2.25.209893573848189194515701669039602952980",completed:"1"},{taskID:"3436",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-17T00:07:43.778+0100",updatedTime:"2022-03-17T00:08:37.944+0100",scheduledTime:"2022-03-17T00:07:43.777+0100",processingStartTime:"2022-03-17T00:08:37.666+0100",processingEndTime:"2022-03-17T00:08:37.944+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.327325684233608589739237606483587820137] of Study[uid=2.25.4104151166269820755491054129106833506] for OBJECT_CHECKSUM: - completed: 5, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.4104151166269820755491054129106833506",SeriesInstanceUID:"2.25.327325684233608589739237606483587820137",completed:"5"},{taskID:"3435",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-17T00:07:43.761+0100",updatedTime:"2022-03-17T00:08:37.870+0100",scheduledTime:"2022-03-17T00:07:43.760+0100",processingStartTime:"2022-03-17T00:08:37.596+0100",processingEndTime:"2022-03-17T00:08:37.869+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.141591256152800607165594020100725939657] of Study[uid=2.25.4104151166269820755491054129106833506] for OBJECT_CHECKSUM: - completed: 1, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.4104151166269820755491054129106833506",SeriesInstanceUID:"2.25.141591256152800607165594020100725939657",completed:"1"},{taskID:"3434",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-16T23:49:43.545+0100",updatedTime:"2022-03-16T23:50:37.762+0100",scheduledTime:"2022-03-16T23:49:43.543+0100",processingStartTime:"2022-03-16T23:50:37.703+0100",processingEndTime:"2022-03-16T23:50:37.762+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.67588952459076364445128671815214566778] of Study[uid=2.25.121555613334906896240260346728609314963] for OBJECT_CHECKSUM: - completed: 20, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.121555613334906896240260346728609314963",SeriesInstanceUID:"2.25.67588952459076364445128671815214566778",completed:"20"},{taskID:"3433",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-16T23:49:43.502+0100",updatedTime:"2022-03-16T23:50:37.754+0100",scheduledTime:"2022-03-16T23:49:43.501+0100",processingStartTime:"2022-03-16T23:50:37.687+0100",processingEndTime:"2022-03-16T23:50:37.754+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.102902093042500596256409312998451421469] of Study[uid=2.25.121555613334906896240260346728609314963] for OBJECT_CHECKSUM: - completed: 20, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.121555613334906896240260346728609314963",SeriesInstanceUID:"2.25.102902093042500596256409312998451421469",completed:"20"},{taskID:"3432",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-16T23:49:43.478+0100",updatedTime:"2022-03-16T23:50:37.729+0100",scheduledTime:"2022-03-16T23:49:43.476+0100",processingStartTime:"2022-03-16T23:50:37.670+0100",processingEndTime:"2022-03-16T23:50:37.728+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.310794295704156880311613765816328504351] of Study[uid=2.25.121555613334906896240260346728609314963] for OBJECT_CHECKSUM: - completed: 15, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.121555613334906896240260346728609314963",SeriesInstanceUID:"2.25.310794295704156880311613765816328504351",completed:"15"},{taskID:"3431",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-16T23:49:43.453+0100",updatedTime:"2022-03-16T23:50:37.720+0100",scheduledTime:"2022-03-16T23:49:43.451+0100",processingStartTime:"2022-03-16T23:50:37.654+0100",processingEndTime:"2022-03-16T23:50:37.720+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.25108260755645824206528083729590597481] of Study[uid=2.25.121555613334906896240260346728609314963] for OBJECT_CHECKSUM: - completed: 15, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.121555613334906896240260346728609314963",SeriesInstanceUID:"2.25.25108260755645824206528083729590597481",completed:"15"},{taskID:"3430",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-16T23:49:43.428+0100",updatedTime:"2022-03-16T23:50:37.678+0100",scheduledTime:"2022-03-16T23:49:43.426+0100",processingStartTime:"2022-03-16T23:50:37.611+0100",processingEndTime:"2022-03-16T23:50:37.678+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.75312149585436102311774719227652836561] of Study[uid=2.25.121555613334906896240260346728609314963] for OBJECT_CHECKSUM: - completed: 1, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.121555613334906896240260346728609314963",SeriesInstanceUID:"2.25.75312149585436102311774719227652836561",completed:"1"},{taskID:"3429",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-16T23:48:43.357+0100",updatedTime:"2022-03-16T23:49:37.685+0100",scheduledTime:"2022-03-16T23:48:43.355+0100",processingStartTime:"2022-03-16T23:49:37.612+0100",processingEndTime:"2022-03-16T23:49:37.684+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.181896536013993857549222326511302072795] of Study[uid=2.25.239412065351115581560076770912136009244] for OBJECT_CHECKSUM: - completed: 4, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.239412065351115581560076770912136009244",SeriesInstanceUID:"2.25.181896536013993857549222326511302072795",completed:"4"},{taskID:"3428",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-16T23:46:43.296+0100",updatedTime:"2022-03-16T23:47:37.679+0100",scheduledTime:"2022-03-16T23:46:43.294+0100",processingStartTime:"2022-03-16T23:47:37.610+0100",processingEndTime:"2022-03-16T23:47:37.679+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.69012359711510693145798679449337647363] of Study[uid=2.25.113140863059576012295811363051304563895] for OBJECT_CHECKSUM: - completed: 0, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.113140863059576012295811363051304563895",SeriesInstanceUID:"2.25.69012359711510693145798679449337647363"},{taskID:"3427",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-16T23:43:43.231+0100",updatedTime:"2022-03-16T23:44:37.672+0100",scheduledTime:"2022-03-16T23:43:43.229+0100",processingStartTime:"2022-03-16T23:44:37.606+0100",processingEndTime:"2022-03-16T23:44:37.672+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.238065245568528336746839137845588685441] of Study[uid=2.25.113140863059576012295811363051304563895] for OBJECT_CHECKSUM: - completed: 0, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.113140863059576012295811363051304563895",SeriesInstanceUID:"2.25.238065245568528336746839137845588685441"},{taskID:"3426",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-16T23:40:43.174+0100",updatedTime:"2022-03-16T23:41:37.679+0100",scheduledTime:"2022-03-16T23:40:43.173+0100",processingStartTime:"2022-03-16T23:41:37.655+0100",processingEndTime:"2022-03-16T23:41:37.679+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.247978201123894924858372352311582041240] of Study[uid=2.25.113140863059576012295811363051304563895] for OBJECT_CHECKSUM: - completed: 0, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.113140863059576012295811363051304563895",SeriesInstanceUID:"2.25.247978201123894924858372352311582041240"},{taskID:"3425",dicomDeviceName:"devj4c",queue:"StgVerTasks",type:"STGVER",status:"COMPLETED",createdTime:"2022-03-16T23:40:43.150+0100",updatedTime:"2022-03-16T23:41:37.671+0100",scheduledTime:"2022-03-16T23:40:43.148+0100",processingStartTime:"2022-03-16T23:41:37.613+0100",processingEndTime:"2022-03-16T23:41:37.671+0100",outcomeMessage:"Commit Storage of Series[uid=2.25.89503268592787656317516862088811784009] of Study[uid=2.25.113140863059576012295811363051304563895] for OBJECT_CHECKSUM: - completed: 0, failed: 0",LocalAET:"DEVJ4C",StudyInstanceUID:"2.25.113140863059576012295811363051304563895",SeriesInstanceUID:"2.25.89503268592787656317516862088811784009"}]),o&&o.length>0?(this.storageVerifications=o,n.count=void 0,this.batchGrouped&&(this.storageVerifications=o.map(a=>{if(A(a,"tasks")){let s=[];we.TASK_NAMES.forEach(l=>{a.tasks[l]&&s.push({[l]:a.tasks[l]});}),a.tasks=s;}return a;}))):(n.cfpLoadingBar.complete(),n.storageVerifications=[],this.mainservice.showMsg("No tasks found!")),this.moreTasks=o.length>this.filterObject.limit,this.moreTasks&&this.storageVerifications.splice(this.storageVerifications.length-1,1);},o=>{n.storageVerifications=[],n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(o);});}showDetails(e){this.batchGrouped=!1,this.filterObject.batchID=e.batchID;let n=Object.assign({},this.filterObject);n.limit&&n.limit++,this.getTasks(n);}onFormChange(e){this.setTableSchemas();}deleteAllTasks(e){this.service.deleteAll(e).subscribe(n=>{this.mainservice.showMsg(""+n.deleted+" tasks deleted successfully!"),this.cfpLoadingBar.complete();let o=Object.assign({},this.filterObject);this.getTasks(o);},n=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}action(e,n){switch(e){case"cancel-selected":this.executeAll("cancel");break;case"reschedule-selected":this.executeAll("reschedule");break;case"delete-selected":this.executeAll("delete");break;case"delete":this.delete(n);break;case"cancel":this.cancel(n);break;case"reschedule":this.reschedule(n);break;case"task-detail":this.showTaskDetail(n);break;case"delete-batched":this.deleteBatchedTask(n);break;}}showTaskDetail(e){let n=Object.assign({},this.filterObject);n.batchID=e.batchID,this.filterObject.batchID=e.batchID,this.batchGrouped=!1,this.getTasks(n);}deleteBatchedTask(e){this.confirm({content:"Are you sure you want to delete all tasks of this batch?"}).subscribe(n=>{if(n)if(e.batchID){let o=Object.assign({},this.filterObject);o.batchID=e.batchID,delete o.limit,delete o.offset,this.service.deleteAll(o).subscribe(a=>{this.cfpLoadingBar.complete(),A(a,"count")?this.mainservice.showMsg(""+a.count+" tasks deleted successfully!"):this.mainservice.showMsg("Task deleted successfully!"),this.getTasks(o);},a=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(a);});}else this.mainservice.showError("Batch ID not found!");});}delete(e){let n=this,o={content:"Are you sure you want to delete this task?"};this.confirm(o).subscribe(a=>{a&&(n.cfpLoadingBar.start(),this.service.delete(e.taskID).subscribe(s=>{n.cfpLoadingBar.complete(),n.getTasks(e.offset||0),this.mainservice.showMsg("Task deleted successfully!");},s=>{n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(s);}));});}cancel(e){let n=this,o={content:"Are you sure you want to cancel this task?"};this.confirm(o).subscribe(a=>{a&&(n.cfpLoadingBar.start(),this.service.cancel(e.taskID).subscribe(s=>{e.status="CANCELED",n.cfpLoadingBar.complete(),this.mainservice.showMsg("Task canceled successfully!");},s=>{n.cfpLoadingBar.complete(),console.log("cancleerr",s),n.httpErrorHandler.handleError(s);}));});}reschedule(e){let n=this;this.deviceService.selectParameters(o=>{if(o){let a={};A(o,"schema_model.newDeviceName")&&o.schema_model.newDeviceName!=""&&(a.newDeviceName=o.schema_model.newDeviceName),A(o,"schema_model.scheduledTime")&&o.schema_model.scheduledTime!=""&&(a.scheduledTime=o.schema_model.scheduledTime),n.cfpLoadingBar.start(),this.service.reschedule(e.taskID,a).subscribe(s=>{n.getTasks(e.offset||0),n.cfpLoadingBar.complete(),this.mainservice.showMsg("Task rescheduled successfully!");},s=>{n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(s);});}},this.devices,!0);}executeAll(e){this.confirm({content:"Are you sure you want to "+we.getActionText(e)+" selected entries?"}).subscribe(n=>{n&&(this.cfpLoadingBar.start(),this.storageVerifications.forEach(o=>{o.selected&&this.service[e](o.taskID).subscribe(a=>{console.log("execute result=",a);},a=>{this.httpErrorHandler.handleError(a);});}),setTimeout(()=>{this.getTasks(this.storageVerifications[0].offset||0),this.cfpLoadingBar.complete();},300));});}ngOnDestroy(){this.timer.started&&(this.timer.started=!1,clearInterval(this.refreshInterval));}};r.ɵfac=function(n){return new(n||r)(k(ti),k(le),k(un),k(Pt),k(j2),k(ri),k(Mt),k(In),k(Xt),k(Pe));},r.ɵcmp=Z({type:r,selectors:[["app-storage-verification"]],standalone:!1,decls:7,vars:1,consts:()=>{let e;e="Storage Verification";let n;n="Interval";let o;o="All actions";let a;a="Interval:";let s;s="Download CSV";let l;return l="Batch ID grouped",[e,a,s,l,[1,"main_content","queues","monitoring","white_design"],[1,"tab-content"],[1,"block"],[1,"pointer",3,"click"],["class","block_content",4,"ngIf"],[1,"block_content"],[1,"filter_line"],[1,"filter_block"],["filterIdTemplate","storage-verification-filter",3,"submit","onChange","schema","model"],[1,"filter"],[1,"filter_block","auto_reloader"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"option_block"],[1,"interval_block"],["type","text","placeholder",n,3,"ngModelChange","ngModel"],[1,"btn-default","submit",3,"click"],[1,"spinnter_container"],["class","glyphicon glyphicon-refresh",4,"ngIf"],["mode","indeterminate",3,"diameter",4,"ngIf"],[4,"ngIf"],[1,"filter","single_block",3,"permission"],[1,"line"],[1,"w45percent","csv_button",3,"click"],[1,"custom_icon","csv_icon"],[1,"text"],["placeholder",o,"floatPlaceholder","never",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","checkbox",1,"checkbox_button","pull-left",3,"ngClass"],["id","checkbox","type","checkbox",3,"ngModelChange","ngModel"],["class","left_arrow arrow",3,"ngClass","click",4,"ngIf"],["class","right_arrow arrow",3,"ngClass","click",4,"ngIf"],[3,"config","stringifyDetailAttributes","models",4,"ngIf"],[3,"ngClass"],[1,"fa","fa-circle-o-notch","fa-spin","dashboard_loader"],[1,"glyphicon","glyphicon-refresh"],["mode","indeterminate",3,"diameter"],[3,"value"],[1,"left_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-left"],[1,"right_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-right"],[3,"config","stringifyDetailAttributes","models"]];},template:function(n,o){n&1&&(u(0,"div",4),$(1,"monitoring-tabs"),u(2,"div",5)(3,"div",6)(4,"h2",7),b("click",function(){return o.openedBlock="monitor";}),P(5,0),p(),E(6,c6e,43,20,"div",8),p()()()),n&2&&(c(6),m("ngIf",o.openedBlock==="monitor"));},dependencies:[Je,ve,de,Me,pi,Se,Ee,fi,ii,Ao,jr,Yi,xn,_a],encapsulation:2});let i=r;return i;})();var d6e=()=>({id:"tab-study-patient",param:"visible"}),u6e=()=>({id:"tab-study-study",param:"visible"}),p6e=()=>({id:"tab-study-series",param:"visible"}),m6e=()=>({id:"tab-study-mwl",param:"visible"}),_6e=()=>({id:"tab-study-mpps",param:"visible"}),f6e=()=>({id:"tab-study-uwl",param:"visible"}),h6e=()=>({id:"tab-study-diff",param:"visible"}),SH=(()=>{let r=class r{constructor(){}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["study-tab"]],standalone:!1,decls:22,vars:14,consts:()=>{let e;e="Patients";let n;n="Studies";let o;o="Series";let a;a="MWL";let s;s="MPPS";let l;l="Work Items";let _;return _="Compare",[e,n,o,a,s,l,_,["role","tablist",1,"nav","nav-tabs"],["role","presentation","routerLinkActive","active",3,"permission"],["role","tab","routerLink","/study/patient","routerLinkActive","active"],["role","tab","routerLink","/study/study","routerLinkActive","active"],["role","tab","routerLink","/study/series","routerLinkActive","active"],["role","tab","routerLink","/study/mwl","routerLinkActive","active"],["role","tab","routerLink","/study/mpps","routerLinkActive","active"],["role","tab","routerLink","/study/uwl","routerLinkActive","active"],["role","tab","routerLink","/study/diff","routerLinkActive","active"]];},template:function(n,o){n&1&&(u(0,"ul",7)(1,"li",8)(2,"a",9),P(3,0),p()(),u(4,"li",8)(5,"a",10),P(6,1),p()(),u(7,"li",8)(8,"a",11),P(9,2),p()(),u(10,"li",8)(11,"a",12),P(12,3),p()(),u(13,"li",8)(14,"a",13),P(15,4),p()(),u(16,"li",8)(17,"a",14),P(18,5),p()(),u(19,"li",8)(20,"a",15),P(21,6),p()()()),n&2&&(c(),m("permission",Ke(7,d6e)),c(3),m("permission",Ke(8,u6e)),c(3),m("permission",Ke(9,p6e)),c(3),m("permission",Ke(10,m6e)),c(3),m("permission",Ke(11,_6e)),c(3),m("permission",Ke(12,f6e)),c(3),m("permission",Ke(13,h6e)));},dependencies:[Mr,Tc,xn],encapsulation:2});let i=r;return i;})();var U2=class{constructor(r,t,e,n,o){this._attrs=r,this._studies=t,this._showAttributes=e||!1,this._showStudies=n||!1,this._offset=o||0;}get attrs(){return this._attrs;}set attrs(r){this._attrs=r;}get studies(){return this._studies;}set studies(r){this._studies=r;}get showAttributes(){return this._showAttributes;}set showAttributes(r){this._showAttributes=r;}get showStudies(){return this._showStudies;}set showStudies(r){this._showStudies=r;}get offset(){return this._offset;}set offset(r){this._offset=r;}get selected(){return this._selected;}set selected(r){this._selected=r;}};var Bv=class{constructor(r,t,e,n,o,a,s,l,_,f){this._attrs=r,this._patient=t,this._offset=e||0,this._hasMore=n||!1,this._showPaginations=o||!1,this._series=a||null,this._showAttributes=s||!1,this._fromAllStudies=l||!1,this._selected=_||!1,this._showSeries=f||!1;}get patient(){return this._patient;}set patient(r){this._patient=r;}get offset(){return this._offset;}set offset(r){this._offset=r;}get hasMore(){return this._hasMore;}set hasMore(r){this._hasMore=r;}get attrs(){return this._attrs;}set attrs(r){this._attrs=r;}get series(){return this._series;}set series(r){this._series=r;}get showAttributes(){return this._showAttributes;}set showAttributes(r){this._showAttributes=r;}get fromAllStudies(){return this._fromAllStudies;}set fromAllStudies(r){this._fromAllStudies=r;}get showSeries(){return this._showSeries;}set showSeries(r){this._showSeries=r;}get selected(){return this._selected;}set selected(r){this._selected=r;}get showPaginations(){return this._showPaginations;}set showPaginations(r){this._showPaginations=r;}};var W2=class{constructor(r,t,e,n,o,a,s,l,_,f){this._attrs=r,this._patient=t,this._offset=e||0,this._hasMore=n||!1,this._showPaginations=o||!1,this._series=a||null,this._showAttributes=s||!1,this._fromAllStudies=l||!1,this._selected=_||!1,this._showSeries=f||!1;}get patient(){return this._patient;}set patient(r){this._patient=r;}get offset(){return this._offset;}set offset(r){this._offset=r;}get hasMore(){return this._hasMore;}set hasMore(r){this._hasMore=r;}get attrs(){return this._attrs;}set attrs(r){this._attrs=r;}get series(){return this._series;}set series(r){this._series=r;}get showAttributes(){return this._showAttributes;}set showAttributes(r){this._showAttributes=r;}get fromAllStudies(){return this._fromAllStudies;}set fromAllStudies(r){this._fromAllStudies=r;}get showSeries(){return this._showSeries;}set showSeries(r){this._showSeries=r;}get selected(){return this._selected;}set selected(r){this._selected=r;}get showPaginations(){return this._showPaginations;}set showPaginations(r){this._showPaginations=r;}};var B2=class{constructor(r,t,e,n,o,a,s,l,_,f,g){this._attrs=r,this._patient=t,this._study=e,this._offset=n||0,this._hasMore=o||!1,this._showPaginations=a||!1,this._showInstances=g||!1,this._instances=s,this._moreInstances=l||!1,this._showAttributes=_||!1,this._selected=f||!1,this._showInstances=g||!1;}get patient(){return this._patient;}set patient(r){this._patient=r;}get study(){return this._study;}set study(r){this._study=r;}get offset(){return this._offset;}set offset(r){this._offset=r;}get attrs(){return this._attrs;}set attrs(r){this._attrs=r;}get hasMore(){return this._hasMore;}set hasMore(r){this._hasMore=r;}get showPaginations(){return this._showPaginations;}set showPaginations(r){this._showPaginations=r;}get instances(){return this._instances;}set instances(r){this._instances=r;}get moreInstances(){return this._moreInstances;}set moreInstances(r){this._moreInstances=r;}get showAttributes(){return this._showAttributes;}set showAttributes(r){this._showAttributes=r;}get selected(){return this._selected;}set selected(r){this._selected=r;}get showInstances(){return this._showInstances;}set showInstances(r){this._showInstances=r;}};var H2=class{constructor(r,t,e,n,o,a,s,l,_,f){this._study=r,this._attrs=t,this._offset=e||0,this._hasMore=n||!1,this._showPaginations=o||!1,this._showInstances=f||!1,this._instances=a,this._moreInstances=s||!1,this._showAttributes=l||!1,this._selected=_||!1,this._showInstances=f||!1;}get study(){return this._study;}set study(r){this._study=r;}get offset(){return this._offset;}set offset(r){this._offset=r;}get attrs(){return this._attrs;}set attrs(r){this._attrs=r;}get hasMore(){return this._hasMore;}set hasMore(r){this._hasMore=r;}get showPaginations(){return this._showPaginations;}set showPaginations(r){this._showPaginations=r;}get instances(){return this._instances;}set instances(r){this._instances=r;}get moreInstances(){return this._moreInstances;}set moreInstances(r){this._moreInstances=r;}get showAttributes(){return this._showAttributes;}set showAttributes(r){this._showAttributes=r;}get selected(){return this._selected;}set selected(r){this._selected=r;}get showInstances(){return this._showInstances;}set showInstances(r){this._showInstances=r;}};var q2=class{constructor(r,t,e,n,o,a,s,l,_,f,g,S,x,D,R,j){this._series=r,this._offset=t,this._attrs=e,this._wadoQueryParams=n,this._video=o,this._image=a,this._numberOfFrames=s,this._gspsQueryParams=l,this._views=_,this._view=f,this._showAttributes=D||!1,this._showFileAttributes=R||!1,this._selected=j||!1,this._limit=g||20,this._hasMore=S||!1,this._showPaginations=x||!1;}get series(){return this._series;}set series(r){this._series=r;}get offset(){return this._offset;}set offset(r){this._offset=r;}get attrs(){return this._attrs;}set attrs(r){this._attrs=r;}get showAttributes(){return this._showAttributes;}set showAttributes(r){this._showAttributes=r;}get showFileAttributes(){return this._showFileAttributes;}set showFileAttributes(r){this._showFileAttributes=r;}get wadoQueryParams(){return this._wadoQueryParams;}set wadoQueryParams(r){this._wadoQueryParams=r;}get video(){return this._video;}set video(r){this._video=r;}get image(){return this._image;}set image(r){this._image=r;}get numberOfFrames(){return this._numberOfFrames;}set numberOfFrames(r){this._numberOfFrames=r;}get gspsQueryParams(){return this._gspsQueryParams;}set gspsQueryParams(r){this._gspsQueryParams=r;}get views(){return this._views;}set views(r){this._views=r;}get view(){return this._view;}set view(r){this._view=r;}get selected(){return this._selected;}set selected(r){this._selected=r;}get limit(){return this._limit;}set limit(r){this._limit=r;}get hasMore(){return this._hasMore;}set hasMore(r){this._hasMore=r;}get showPaginations(){return this._showPaginations;}set showPaginations(r){this._showPaginations=r;}};var Y2=class{constructor(r,t,e){this.studyUID=r,this.seriesUID=t,this.objectUID=e;}get studyUID(){return this._studyUID;}set studyUID(r){this._studyUID=r;}get seriesUID(){return this._seriesUID;}set seriesUID(r){this._seriesUID=r;}get objectUID(){return this._objectUID;}set objectUID(r){this._objectUID=r;}};var X2=class{constructor(r={}){this.webServices=r.webServices,this.allWebServices=r.allWebServices,A(r,"selectedWebService.dcmWebAppName")&&r.webServices.forEach(t=>{r.selectedWebService.dcmWebAppName===t.dcmWebAppName&&(this.selectedWebService=t);});}seletWebAppFromWebAppName(r){this._webServices&&r&&r!=""?this._webServices.forEach(t=>{r===t.dcmWebAppName&&(this._selectedWebService=t);}):this._selectedWebService=void 0;}get webServices(){return this._webServices;}set webServices(r){this._webServices=r,this._selectedWebService=void 0,this._selectDropdownWebServices=this._webServices.map(t=>new G(t,t.dcmWebAppName,t.dicomDescription,void 0,void 0,t));}get selectedWebService(){return this._selectedWebService;}set selectedWebService(r){this._selectedWebService=r;}get selectDropdownWebServices(){return this._selectDropdownWebServices;}set selectDropdownWebServices(r){this._selectDropdownWebServices=r;}get allWebServices(){return this._allWebServices;}set allWebServices(r){this._allWebServices=r;}};var ls=class{constructor(r={}){this.size=0,r.patient?(this.patient=r.patient,this.size+=Object.keys(r.patient).length):this._patient={},r.study?(this.study=r.study,this.size+=Object.keys(r.study).length):this._study={},r.series?(this.series=r.series,this.size+=Object.keys(r.series).length):this._series={},r.instance?(this.instance=r.instance,this.size+=Object.keys(r.instance).length):this._instance={},r.mwl?(this.mwl=r.mwl,this.size+=Object.keys(r.mwl).length):this._mwl={};}hasIn(r,t){try{return this[r][t.id];}catch{return!1;}}toggle(r,t,e){if(A(this,`${r}["${t.id}"]`))delete this[r][t.id],e.selected=!1,this.size--,this.currentIndexes.splice(this.currentIndexes.indexOf(t.id),1);else{let n;r!="patient"&&(n={},A(e,"attrs.0020000D.Value[0]")&&(n.StudyInstanceUID=I.valueOf(e.attrs["0020000D"])),A(e,"attrs.0020000E.Value[0]")&&Ue(n,"ReferencedSeriesSequence[0]SeriesInstanceUID",I.valueOf(e.attrs["0020000E"])),A(e,"attrs.00080016.Value[0]")&&Ue(n,"ReferencedSeriesSequence[0]ReferencedSOPSequence[0]ReferencedSOPClassUID",I.valueOf(e.attrs["00080016"])),A(e,"attrs.00080018.Value[0]")&&Ue(n,"ReferencedSeriesSequence[0]ReferencedSOPSequence[0]ReferencedSOPInstanceUID",I.valueOf(e.attrs["00080018"]))),this[r][t.id]={uniqueSelectIdObject:t,object:e,dicomLevel:r,requestReady:n},this.currentIndexes=this.currentIndexes||[],this.currentIndexes.push(t.id),e.selected=!0,this.size++;}}getSpecificObjectSize(r){try{return Object.keys(this[r]).length;}catch{return 0;}}getAttrs(r){try{return Object.keys(this[r]).map(t=>this[r][t].object.attrs);}catch{return[];}}getAllAsArray(){return[...di(this._patient),...di(this._study),...di(this._series),...di(this._instance),...di(this._mwl)];}get patient(){return this._patient;}set patient(r){this._patient=r;}get study(){return this._study;}set study(r){this._study=r;}get series(){return this._series;}set series(r){this._series=r;}get instance(){return this._instance;}set instance(r){this._instance=r;}get currentIndexes(){return this._currentIndexes;}set currentIndexes(r){this._currentIndexes=r;}get mwl(){return this._mwl;}set mwl(r){this._mwl=r;}};var K2=class{constructor(r){this.action?this.postActionElements=this.postActionElements||new ls(r):this.preActionElements=this.preActionElements||new ls(r);}hasIn(r,t){try{return this.preActionElements.hasIn(r,t)||this.postActionElements.hasIn(r,t);}catch{return!1;}}toggle(r,t,e,n){n?(this[n]||(this[n]=new ls()),this[n].toggle(r,t,e),n==="preActionElements"&&this.preActionElements.size===0&&(this.action=void 0)):this.action?(this.postActionElements||(this.postActionElements=new ls()),this.postActionElements.toggle(r,t,e)):(this.preActionElements||(this.preActionElements=new ls()),this.preActionElements.toggle(r,t,e));}get size(){try{return this.action?this.postActionElements.size:this.preActionElements.size;}catch{return;}}get sizes(){return(this.postActionElements.size||0)+(this.preActionElements.size||0);}getAllAsArray(){return this.action?this.postActionElements.getAllAsArray():this.preActionElements.getAllAsArray();}reset(r){r?(this.action=void 0,this.preActionElements=new ls(),this.postActionElements=new ls()):this.action&&(this.preActionElements=new ls());}resetByDicomLevel(r,t){t&&(this[t]=new ls());}};var Q2=class{constructor(r,t,e,n,o,a,s){this._patient=t,this._offset=e||0,this._hasMore=n||!1,this._attrs=r,this._showAttributes=a||!1,this._selected=s||!1,this._showPaginations=o||!1;}get patient(){return this._patient;}set patient(r){this._patient=r;}get offset(){return this._offset;}set offset(r){this._offset=r;}get hasMore(){return this._hasMore;}set hasMore(r){this._hasMore=r;}get attrs(){return this._attrs;}set attrs(r){this._attrs=r;}get showAttributes(){return this._showAttributes;}set showAttributes(r){this._showAttributes=r;}get selected(){return this._selected;}set selected(r){this._selected=r;}get showPaginations(){return this._showPaginations;}set showPaginations(r){this._showPaginations=r;}};var Z2=class{constructor(r,t,e,n,o,a,s){this._patient=t,this._offset=e||0,this._hasMore=n||!1,this._attrs=r,this._showAttributes=a||!1,this._selected=s||!1,this._showPaginations=o||!1;}get patient(){return this._patient;}set patient(r){this._patient=r;}get offset(){return this._offset;}set offset(r){this._offset=r;}get hasMore(){return this._hasMore;}set hasMore(r){this._hasMore=r;}get attrs(){return this._attrs;}set attrs(r){this._attrs=r;}get showAttributes(){return this._showAttributes;}set showAttributes(r){this._showAttributes=r;}get selected(){return this._selected;}set selected(r){this._selected=r;}get showPaginations(){return this._showPaginations;}set showPaginations(r){this._showPaginations=r;}};var J2=class{constructor(r,t,e,n,o,a,s,l){this._patient=t,this._offset=e||0,this._hasMore=a||!1,this._showBorder=o||!1,this._attrs=r,this._diffHeaders=n,this._showAttributes=l||!1,this._showPaginations=s||!1;}get patient(){return this._patient;}set patient(r){this._patient=r;}get offset(){return this._offset;}set offset(r){this._offset=r;}get hasMore(){return this._hasMore;}set hasMore(r){this._hasMore=r;}get attrs(){return this._attrs;}set attrs(r){this._attrs=r;}get showAttributes(){return this._showAttributes;}set showAttributes(r){this._showAttributes=r;}get showPaginations(){return this._showPaginations;}set showPaginations(r){this._showPaginations=r;}get showBorder(){return this._showBorder;}set showBorder(r){this._showBorder=r;}get diffHeaders(){return this._diffHeaders;}set diffHeaders(r){this._diffHeaders=r;}};var ew=class{constructor(r,t,e,n,o,a,s){this._patient=t,this._offset=e||0,this._hasMore=n||!1,this._attrs=r,this._showAttributes=a||!1,this._selected=s||!1,this._showPaginations=o||!1;}get patient(){return this._patient;}set patient(r){this._patient=r;}get offset(){return this._offset;}set offset(r){this._offset=r;}get hasMore(){return this._hasMore;}set hasMore(r){this._hasMore=r;}get attrs(){return this._attrs;}set attrs(r){this._attrs=r;}get showAttributes(){return this._showAttributes;}set showAttributes(r){this._showAttributes=r;}get selected(){return this._selected;}set selected(r){this._selected=r;}get showPaginations(){return this._showPaginations;}set showPaginations(r){this._showPaginations=r;}};var v6e=["mat-menu-item",""],C6e=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],y6e=["mat-icon, [matMenuItemIcon]","*"];function b6e(i,r){i&1&&(so(),u(0,"svg",2),$(1,"polygon",3),p());}var S6e=["*"];function E6e(i,r){if(i&1){let t=O();u(0,"div",0),b("click",function(){C(t);let n=d();return y(n.closed.emit("click"));})("animationstart",function(n){C(t);let o=d();return y(o._onAnimationStart(n.animationName));})("animationend",function(n){C(t);let o=d();return y(o._onAnimationDone(n.animationName));})("animationcancel",function(n){C(t);let o=d();return y(o._onAnimationDone(n.animationName));}),u(1,"div",1),Vt(2),p()();}if(i&2){let t=d();be(t._classList),vt("mat-menu-panel-animations-disabled",t._animationsDisabled)("mat-menu-panel-exit-animation",t._panelAnimationState==="void")("mat-menu-panel-animating",t._isAnimating),m("id",t.panelId),lt("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null);}}var z3=new se("MAT_MENU_PANEL"),V3=(()=>{class i{_elementRef=N(ze);_document=N(bt);_focusMonitor=N(ks);_parentMenu=N(z3,{optional:!0});_changeDetectorRef=N($t);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new xe();_focused=new xe();_highlighted=!1;_triggersSubmenu=!1;constructor(){N(Mn).load(es),this._parentMenu?.addItem?.(this);}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this);}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1);}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete();}_getTabIndex(){return this.disabled?"-1":"0";}_getHostElement(){return this._elementRef.nativeElement;}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation());}_handleMouseEnter(){this._hovered.next(this);}getLabel(){let t=this._elementRef.nativeElement.cloneNode(!0),e=t.querySelectorAll("mat-icon, .material-icons");for(let n=0;n<e.length;n++)e[n].remove();return t.textContent?.trim()||"";}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef.markForCheck();}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef.markForCheck();}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement();}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(e,n){e&1&&b("click",function(a){return n._checkDisabled(a);})("mouseenter",function(){return n._handleMouseEnter();}),e&2&&(lt("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled)("disabled",n.disabled||null),vt("mat-mdc-menu-item-highlighted",n._highlighted)("mat-mdc-menu-item-submenu-trigger",n._triggersSubmenu));},inputs:{role:"role",disabled:[2,"disabled","disabled",gt],disableRipple:[2,"disableRipple","disableRipple",gt]},exportAs:["matMenuItem"],attrs:v6e,ngContentSelectors:y6e,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,n){e&1&&(xi(C6e),Vt(0),u(1,"span",0),Vt(2,1),p(),$(3,"div",1),Ti(4,b6e,2,0,":svg:svg",2)),e&2&&(c(3),m("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),c(),Ii(n._triggersSubmenu?4:-1));},dependencies:[Su],encapsulation:2,changeDetection:0});}return i;})();var T6e=new se("MatMenuContent");var I6e=new se("mat-menu-default-options",{providedIn:"root",factory:x6e});function x6e(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"};}var F3="_mat-menu-enter",tw="_mat-menu-exit",wh=(()=>{class i{_elementRef=N(ze);_changeDetectorRef=N($t);_injector=N(tt);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=qi();_allItems;_directDescendantItems=new uc();_classList={};_panelAnimationState="void";_animationDone=new xe();_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition;}set xPosition(t){this._xPosition=t,this.setPositionClasses();}get yPosition(){return this._yPosition;}set yPosition(t){this._yPosition=t,this.setPositionClasses();}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(t){let e=this._previousPanelClass,n=re({},this._classList);e&&e.length&&e.split(" ").forEach(o=>{n[o]=!1;}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(o=>{n[o]=!0;}),this._elementRef.nativeElement.className=""),this._classList=n;}_previousPanelClass;get classList(){return this.panelClass;}set classList(t){this.panelClass=t;}closed=new ae();close=this.closed;panelId=N(bn).getId("mat-menu-panel-");constructor(){let t=N(I6e);this.overlayPanelClass=t.overlayPanelClass||"",this._xPosition=t.xPosition,this._yPosition=t.yPosition,this.backdropClass=t.backdropClass,this.overlapTrigger=t.overlapTrigger,this.hasBackdrop=t.hasBackdrop;}ngOnInit(){this.setPositionClasses();}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new tv(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(nn(this._directDescendantItems),ot(t=>no(...t.map(e=>e._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{let e=this._keyManager;if(this._panelAnimationState==="enter"&&e.activeItem?._hasFocus()){let n=t.toArray(),o=Math.max(0,Math.min(n.length-1,e.activeItemIndex||0));n[o]&&!n[o].disabled?e.setActiveItem(o):e.setNextItemActive();}});}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout);}_hovered(){return this._directDescendantItems.changes.pipe(nn(this._directDescendantItems),ot(e=>no(...e.map(n=>n._hovered))));}addItem(t){}removeItem(t){}_handleKeydown(t){let e=t.keyCode,n=this._keyManager;switch(e){case 27:Or(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(e===38||e===40)&&n.setFocusOrigin("keyboard"),n.onKeydown(t);return;}}focusFirstItem(t="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=xr(()=>{let e=this._resolvePanel();if(!e||!e.contains(document.activeElement)){let n=this._keyManager;n.setFocusOrigin(t).setFirstItemActive(),!n.activeItem&&e&&e.focus();}},{injector:this._injector});}resetActiveItem(){this._keyManager.setActiveItem(-1);}setElevation(t){}setPositionClasses(t=this.xPosition,e=this.yPosition){this._classList=rt(re({},this._classList),{"mat-menu-before":t==="before","mat-menu-after":t==="after","mat-menu-above":e==="above","mat-menu-below":e==="below"}),this._changeDetectorRef.markForCheck();}_onAnimationDone(t){let e=t===tw;(e||t===F3)&&(e&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(e?"void":"enter"),this._isAnimating=!1);}_onAnimationStart(t){(t===F3||t===tw)&&(this._isAnimating=!0);}_setIsOpen(t){if(this._panelAnimationState=t?"enter":"void",t){if(this._keyManager.activeItemIndex===0){let e=this._resolvePanel();e&&(e.scrollTop=0);}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(tw),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(t?F3:tw);}),this._changeDetectorRef.markForCheck();}_updateDirectDescendants(){this._allItems.changes.pipe(nn(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(e=>e._parentMenu===this)),this._directDescendantItems.notifyOnChanges();});}_resolvePanel(){let t=null;return this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),t;}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-menu"]],contentQueries:function(e,n,o){if(e&1&&(on(o,T6e,5),on(o,V3,5),on(o,V3,4)),e&2){let a;qe(a=Ye())&&(n.lazyContent=a.first),qe(a=Ye())&&(n._allItems=a),qe(a=Ye())&&(n.items=a);}},viewQuery:function(e,n){if(e&1&&Et(Hn,5),e&2){let o;qe(o=Ye())&&(n.templateRef=o.first);}},hostVars:3,hostBindings:function(e,n){e&2&&lt("aria-label",null)("aria-labelledby",null)("aria-describedby",null);},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",gt],hasBackdrop:[2,"hasBackdrop","hasBackdrop",t=>t==null?null:gt(t)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Qt([{provide:z3,useExisting:i}])],ngContentSelectors:S6e,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(e,n){e&1&&(xi(),E(0,E6e,3,12,"ng-template"));},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0});}return i;})(),EH=new se("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let i=N(tt);return()=>wa(i);}});function A6e(i){let r=N(tt);return()=>wa(r);}var w6e={provide:EH,deps:[],useFactory:A6e};var Hv=new WeakMap(),TH=(()=>{class i{_element=N(ze);_viewContainerRef=N(Mt);_menuItemInstance=N(V3,{optional:!0,self:!0});_dir=N(gr,{optional:!0});_focusMonitor=N(ks);_ngZone=N(We);_injector=N(tt);_scrollStrategy=N(EH);_changeDetectorRef=N($t);_animationsDisabled=qi();_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=ht.EMPTY;_hoverSubscription=ht.EMPTY;_menuCloseSubscription=ht.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu;}set _deprecatedMatMenuTriggerFor(t){this.menu=t;}get menu(){return this._menu;}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._parentMaterialMenu,this._menuCloseSubscription=t.close.subscribe(e=>{this._destroyMenu(e),(e==="click"||e==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(e);})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()));}_menu;menuData;restoreFocus=!0;menuOpened=new ae();onMenuOpen=this.menuOpened;menuClosed=new ae();onMenuClose=this.menuClosed;constructor(){let t=N(z3,{optional:!0}),e=N(Jt);this._parentMaterialMenu=t instanceof wh?t:void 0,this._cleanupTouchstart=e.listen(this._element.nativeElement,"touchstart",n=>{Dp(n)||(this._openedBy="touch");},{passive:!0});}ngAfterContentInit(){this._handleHover();}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Hv.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null);}get menuOpen(){return this._menuOpen;}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr";}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu);}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu();}openMenu(){let t=this.menu;if(this._menuOpen||!t)return;this._pendingRemoval?.unsubscribe();let e=Hv.get(t);Hv.set(t,this),e&&e!==this&&e.closeMenu();let n=this._createOverlay(t),o=n.getConfig(),a=o.positionStrategy;this._setPosition(t,a),o.hasBackdrop=t.hasBackdrop==null?!this.triggersSubmenu():t.hasBackdrop,n.hasAttached()||(n.attach(this._getPortal(t)),t.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),t instanceof wh&&(t._setIsOpen(!0),t._directDescendantItems.changes.pipe(Bn(t.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0);}));}closeMenu(){this.menu?.close.emit();}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e);}updatePosition(){this._overlayRef?.updatePosition();}_destroyMenu(t){let e=this._overlayRef,n=this._menu;!e||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),n instanceof wh&&this._ownsMenu(n)?(this._pendingRemoval=n._animationDone.pipe(vn(1)).subscribe(()=>{e.detach(),n.lazyContent?.detach();}),n._setIsOpen(!1)):(e.detach(),n?.lazyContent?.detach()),n&&this._ownsMenu(n)&&Hv.delete(n),this.restoreFocus&&(t==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1));}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck());}_createOverlay(t){if(!this._overlayRef){let e=this._getOverlayConfig(t);this._subscribeToPositions(t,e.positionStrategy),this._overlayRef=kd(this._injector,e),this._overlayRef.keydownEvents().subscribe(n=>{this.menu instanceof wh&&this.menu._handleKeydown(n);});}return this._overlayRef;}_getOverlayConfig(t){return new hl({positionStrategy:$_(this._injector,this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled});}_subscribeToPositions(t,e){t.setPositionClasses&&e.positionChanges.subscribe(n=>{this._ngZone.run(()=>{let o=n.connectionPair.overlayX==="start"?"after":"before",a=n.connectionPair.overlayY==="top"?"below":"above";t.setPositionClasses(o,a);});});}_setPosition(t,e){let[n,o]=t.xPosition==="before"?["end","start"]:["start","end"],[a,s]=t.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,_]=[a,s],[f,g]=[n,o],S=0;if(this.triggersSubmenu()){if(g=n=t.xPosition==="before"?"start":"end",o=f=n==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let x=this._parentMaterialMenu.items.first;this._parentInnerPadding=x?x._getHostElement().offsetTop:0;}S=a==="bottom"?this._parentInnerPadding:-this._parentInnerPadding;}}else t.overlapTrigger||(l=a==="top"?"bottom":"top",_=s==="top"?"bottom":"top");e.withPositions([{originX:n,originY:l,overlayX:f,overlayY:a,offsetY:S},{originX:o,originY:l,overlayX:g,overlayY:a,offsetY:S},{originX:n,originY:_,overlayX:f,overlayY:s,offsetY:-S},{originX:o,originY:_,overlayX:g,overlayY:s,offsetY:-S}]);}_menuClosingActions(){let t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:ge(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Zt(a=>this._menuOpen&&a!==this._menuItemInstance)):ge();return no(t,n,o,e);}_handleMousedown(t){wp(t)||(this._openedBy=t.button===0?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault());}_handleKeydown(t){let e=t.keyCode;(e===13||e===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(e===39&&this.dir==="ltr"||e===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu());}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu();}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(t=>{t===this._menuItemInstance&&!t.disabled&&(this._openedBy="mouse",this.openMenu());}));}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new _l(t.templateRef,this._viewContainerRef)),this._portal;}_ownsMenu(t){return Hv.get(t)===this;}static ɵfac=function(e){return new(e||i)();};static ɵdir=Le({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(e,n){e&1&&b("click",function(a){return n._handleClick(a);})("mousedown",function(a){return n._handleMousedown(a);})("keydown",function(a){return n._handleKeydown(a);}),e&2&&lt("aria-haspopup",n.menu?"menu":null)("aria-expanded",n.menuOpen)("aria-controls",n.menuOpen?n.menu==null?null:n.menu.panelId:null);},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]});}return i;})(),IH=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({providers:[w6e],imports:[Eu,qt,Ls,Nd,qt]});}return i;})(),xH={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},Psi=xH.fadeInItems,Rsi=xH.transformMenu;function M6e(i,r){if(i&1&&(U(0),u(1,"td",3),$(2,"attribute-list",4),p(),W()),i&2){let t=d().$implicit;c(2),m("attrs",t.value);}}function O6e(i,r){if(i&1&&(U(0),u(1,"td"),T(2),p(),u(3,"td"),T(4),p(),W()),i&2){let t=d().$implicit;c(2),z(t.key),c(2),z(t.value);}}function P6e(i,r){if(i&1&&(u(0,"tr"),E(1,M6e,3,1,"ng-container",1)(2,O6e,5,2,"ng-container",1),p()),i&2){let t=r.$implicit,e=d(2);c(),m("ngIf",e.dicomAttributesAsSubAttribute&&t.key===e.dicomAttributesAsSubAttribute.key),c(),m("ngIf",!(e.dicomAttributesAsSubAttribute&&t.key===e.dicomAttributesAsSubAttribute.key));}}function R6e(i,r){if(i&1&&(U(0),E(1,P6e,3,2,"tr",2),W()),i&2){let t=d();c(),m("ngForOf",t.localAttributes);}}var AH=(()=>{let r=class r{set attributes(e){this.attributesHook?this.localAttributes=this.attributesHook(e):this.localAttributes=e;}get visible(){return this.localAttributes;}constructor(){}ngOnInit(){}};r.ɵfac=function(n){return new(n||r)();},r.ɵcmp=Z({type:r,selectors:[["custom-attribute-list"]],inputs:{dicomAttributesAsSubAttribute:"dicomAttributesAsSubAttribute",attributesHook:"attributesHook",attributes:"attributes"},standalone:!1,decls:2,vars:1,consts:[[1,"table","table-bordered","table-condensed","attribute_list","custom_attribute_list"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","2"],[3,"attrs"]],template:function(n,o){n&1&&(u(0,"table",0),E(1,R6e,2,1,"ng-container",1),p()),n&2&&(c(),m("ngIf",o.localAttributes));},dependencies:[ve,de,Ch],encapsulation:2});let i=r;return i;})();var wH=(()=>{let r=class r{transform(e,n){if(n===""||!n)return e;if(e)return e.filter(o=>{let a="";return A(o,"studies[0].attrs")?B(o,"studies").forEach(s=>{a+=JSON.stringify(s.attrs).toLowerCase();}):A(o,"attrs[0]")&&(a=JSON.stringify(o.attrs).toLowerCase()),a.indexOf(n.toLowerCase())!==-1;});}};r.ɵfac=function(n){return new(n||r)();},r.ɵpipe=Kt({name:"searchDicom",type:r,pure:!0,standalone:!1});let i=r;return i;})();var DH=i=>({top:i}),MH=(i,r,t,e)=>[i,r,t,e],cs=i=>({width:i}),Gl=i=>({selected:i}),Dh=(i,r,t)=>[i,r,t],iw=(i,r)=>[i,r];function $6e(i,r){if(i&1&&(u(0,"h3"),T(1),p()),i&2){let t=d();c(),z(t.title);}}function L6e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d().$implicit;c(),z(t.header);}}function F6e(i,r){i&1&&(U(0),T(1,"\xA0"),W());}function V6e(i,r){if(i&1&&(u(0,"div",7),E(1,L6e,2,1,"ng-container",1)(2,F6e,2,0,"ng-container",1),p()),i&2){let t=r.$implicit,e=d(2);m("ngClass",yd(4,MH,(e.config==null?null:e.config.cssTdClass)||"",t.type!="value"&&t.type!="pipe"?"empty_td":"not_empty_td",t.elementId&&e.active_td===t.elementId?"active":"",t.type||""))("ngStyle",ne(9,cs,t.calculatedWidth)),c(),m("ngIf",t.type==="value"||t.type==="pipe"),c(),m("ngIf",!(t.type==="value"||t.type==="pipe"));}}function z6e(i,r){i&1&&vd(0);}function G6e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit;c(),z(t.offset+1);}}function j6e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function U6e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function W6e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"patient"));}),E(1,j6e,2,3,"span",19)(2,U6e,2,3,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function B6e(i,r){if(i&1&&(U(0),E(1,W6e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(2);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function H6e(i,r){if(i&1&&(U(0),E(1,B6e,2,1,"ng-container",16),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function q6e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function Y6e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function X6e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"patient"));}),E(1,q6e,2,4,"span",19)(2,Y6e,2,4,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function K6e(i,r){if(i&1&&(U(0),E(1,X6e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(2);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function Q6e(i,r){if(i&1&&(U(0),u(1,"a",20),$(2,"span",21),p(),u(3,"mat-menu",22,0),E(5,K6e,2,1,"ng-container",16),p(),W()),i&2){let t=Pi(4),e=d().$implicit;c(),m("matMenuTriggerFor",t),c(4),m("ngForOf",e.menu.actions);}}function Z6e(i,r){if(i&1&&(U(0),$(1,"span",23),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(2);c(),m("innerHTML",n.getDynamicPipeValue(e,t),Re);}}function J6e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(2);c(),ue(" ",n._.get(e.attrs,t.pathToValue)||"\xA0"," ");}}function eVe(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(2);c(),ue(" ",t.hook(n._.get(e.attrs,t.pathToValue)||"\xA0")," ");}}function tVe(i,r){if(i&1&&(U(0),E(1,J6e,2,1,"ng-container",1)(2,eVe,2,1,"ng-container",1),W()),i&2){let t=d().$implicit;c(),m("ngIf",!t.hook),c(),m("ngIf",t.hook);}}function iVe(i,r){if(i&1){let t=O();u(0,"div",14),b("mouseenter",function(){let n=C(t).$implicit,o=d(3);return y(o.active_td=n.elementId);}),E(1,z6e,1,0,"ng-container",15)(2,G6e,2,1,"ng-container",15)(3,H6e,2,1,"ng-container",15)(4,Q6e,6,2,"ng-container",15)(5,Z6e,2,1,"ng-container",15)(6,tVe,3,2,"ng-container",15),p();}if(i&2){let t=r.$implicit,e=d().$implicit,n=d(2);m("tooltip",X(n.getTooltip(e,t)))("ngClass",Cd(11,Dh,(n.config==null?null:n.config.cssTdClass)||"",t.cssClass||"",t.type||""))("ngStyle",ne(15,cs,t.calculatedWidth))("ngSwitch",t.type),c(),m("ngSwitchCase","dummy"),c(),m("ngSwitchCase","index"),c(),m("ngSwitchCase","actions"),c(),m("ngSwitchCase","actions-menu"),c(),m("ngSwitchCase","pipe"),c(),m("ngSwitchCase","value");}}function nVe(i,r){if(i&1&&$(0,"attribute-list",24),i&2){let t=d().$implicit;m("attrs",t.attrs);}}function rVe(i,r){if(i&1&&$(0,"custom-attribute-list",25),i&2){let t=d().$implicit,e=d(2);m("dicomAttributesAsSubAttribute",e.config.dicomAttributesAsSubAttribute)("attributesHook",e.config.attributesHook)("attributes",t);}}function oVe(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit;c(),z(t.offset+1);}}function aVe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function sVe(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function lVe(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"study"));}),E(1,aVe,2,3,"span",19)(2,sVe,2,3,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function cVe(i,r){if(i&1&&(U(0),E(1,lVe,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(4);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function dVe(i,r){if(i&1&&(U(0),E(1,cVe,2,1,"ng-container",16),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function uVe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function pVe(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function mVe(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"study"));}),E(1,uVe,2,4,"span",19)(2,pVe,2,4,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function _Ve(i,r){if(i&1&&(U(0),E(1,mVe,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(4);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function fVe(i,r){if(i&1){let t=O();U(0),u(1,"a",20),$(2,"span",21),p(),u(3,"mat-menu",30,0),b("click",function(n){return C(t),y(n.stopPropagation());}),E(5,_Ve,2,1,"ng-container",16),p(),W();}if(i&2){let t=Pi(4),e=d().$implicit;c(),m("matMenuTriggerFor",t),c(4),m("ngForOf",e.menu.actions);}}function hVe(i,r){if(i&1&&(U(0),$(1,"span",23),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(4);c(),m("innerHTML",n.getDynamicPipeValue(e,t),Re);}}function gVe(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(4);c(),ue(" ",n._.get(e.attrs,t.pathToValue)||"\xA0"," ");}}function vVe(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(4);c(),ue(" ",t.hook(n._.get(e.attrs,t.pathToValue),e.attrs,t.pathToValue,e)," ");}}function CVe(i,r){if(i&1&&(U(0),E(1,gVe,2,1,"ng-container",1)(2,vVe,2,1,"ng-container",1),W()),i&2){let t=d().$implicit;c(),m("ngIf",!t.hook),c(),m("ngIf",t.hook);}}function yVe(i,r){if(i&1){let t=O();u(0,"div",14),b("mouseenter",function(){let n=C(t).$implicit,o=d(5);return y(o.active_td=n.elementId);}),E(1,oVe,2,1,"ng-container",15)(2,dVe,2,1,"ng-container",15)(3,fVe,6,2,"ng-container",15)(4,hVe,2,1,"ng-container",15)(5,CVe,3,2,"ng-container",15),p();}if(i&2){let t=r.$implicit,e=d().$implicit,n=d(4);m("tooltip",X(n.getTooltip(e,t)))("ngClass",Cd(10,Dh,(n.config==null?null:n.config.cssTdClass)||"",t.cssClass||"",t.type||""))("ngStyle",ne(14,cs,t.calculatedWidth))("ngSwitch",t.type),c(),m("ngSwitchCase","index"),c(),m("ngSwitchCase","actions"),c(),m("ngSwitchCase","actions-menu"),c(),m("ngSwitchCase","pipe"),c(),m("ngSwitchCase","value");}}function bVe(i,r){if(i&1&&$(0,"attribute-list",24),i&2){let t=d().$implicit;m("attrs",t.attrs);}}function SVe(i,r){if(i&1&&$(0,"custom-attribute-list",25),i&2){let t=d().$implicit,e=d(4);m("dicomAttributesAsSubAttribute",e.config.dicomAttributesAsSubAttribute)("attributesHook",e.config.attributesHook)("attributes",t);}}function EVe(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit;c(),z(t.offset+1);}}function TVe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function IVe(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function xVe(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"series"));}),E(1,TVe,2,3,"span",19)(2,IVe,2,3,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function AVe(i,r){if(i&1&&(U(0),E(1,xVe,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(6);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function wVe(i,r){if(i&1&&(U(0),E(1,AVe,2,1,"ng-container",16),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function DVe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function MVe(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function OVe(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"series"));}),E(1,DVe,2,4,"span",19)(2,MVe,2,4,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function PVe(i,r){if(i&1&&(U(0),E(1,OVe,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(6);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function RVe(i,r){if(i&1&&(U(0),u(1,"a",20),$(2,"span",21),p(),u(3,"mat-menu",35,0),E(5,PVe,2,1,"ng-container",16),p(),W()),i&2){let t=Pi(4),e=d().$implicit;c(),m("matMenuTriggerFor",t),c(4),m("ngForOf",e.menu.actions);}}function NVe(i,r){if(i&1&&(U(0),$(1,"span",23),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(6);c(),m("innerHTML",n.getDynamicPipeValue(e,t),Re);}}function kVe(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(6);c(),ue(" ",n._.get(e.attrs,t.pathToValue)||"\xA0"," ");}}function $Ve(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(6);c(),ue(" ",t.hook(n._.get(e.attrs,t.pathToValue)||"\xA0",e.attrs,t.pathToValue,e)," ");}}function LVe(i,r){if(i&1&&(U(0),E(1,kVe,2,1,"ng-container",1)(2,$Ve,2,1,"ng-container",1),W()),i&2){let t=d().$implicit;c(),m("ngIf",!t.hook),c(),m("ngIf",t.hook);}}function FVe(i,r){if(i&1){let t=O();u(0,"div",14),b("mouseenter",function(){let n=C(t).$implicit,o=d(7);return y(o.active_td=n.elementId);}),E(1,EVe,2,1,"ng-container",15)(2,wVe,2,1,"ng-container",15)(3,RVe,6,2,"ng-container",15)(4,NVe,2,1,"ng-container",15)(5,LVe,3,2,"ng-container",15),p();}if(i&2){let t=r.$implicit,e=d().$implicit,n=d(6);m("tooltip",X(n.getTooltip(e,t)))("ngClass",Cd(10,Dh,(n.config==null?null:n.config.cssTdClass)||"",t.cssClass||"",t.type||""))("ngStyle",ne(14,cs,t.calculatedWidth))("ngSwitch",t.type),c(),m("ngSwitchCase","index"),c(),m("ngSwitchCase","actions"),c(),m("ngSwitchCase","actions-menu"),c(),m("ngSwitchCase","pipe"),c(),m("ngSwitchCase","value");}}function VVe(i,r){if(i&1&&$(0,"attribute-list",24),i&2){let t=d().$implicit;m("attrs",t.attrs);}}function zVe(i,r){if(i&1&&$(0,"custom-attribute-list",36),i&2){let t=d().$implicit,e=d(6);m("attributesHook",e.config.attributesHook)("attributes",t)("dicomAttributesAsSubAttribute",e.config.dicomAttributesAsSubAttribute);}}function GVe(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit;c(),z(t.offset+1);}}function jVe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function UVe(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function WVe(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"instance"));}),E(1,jVe,2,3,"span",19)(2,UVe,2,3,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function BVe(i,r){if(i&1&&(U(0),E(1,WVe,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(8);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function HVe(i,r){if(i&1&&(U(0),E(1,BVe,2,1,"ng-container",16),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function qVe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function YVe(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function XVe(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"instance"));}),E(1,qVe,2,4,"span",19)(2,YVe,2,4,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function KVe(i,r){if(i&1&&(U(0),E(1,XVe,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(8);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function QVe(i,r){if(i&1&&(U(0),u(1,"a",20),$(2,"span",21),p(),u(3,"mat-menu",40,0),E(5,KVe,2,1,"ng-container",16),p(),W()),i&2){let t=Pi(4),e=d().$implicit;c(),m("matMenuTriggerFor",t),c(4),m("ngForOf",e.menu.actions);}}function ZVe(i,r){if(i&1&&(U(0),$(1,"span",23),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(8);c(),m("innerHTML",n.getDynamicPipeValue(e,t),Re);}}function JVe(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(8);c(),ue(" ",n._.get(e.attrs,t.pathToValue)||"\xA0"," ");}}function e9e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(8);c(),ue(" ",t.hook(n._.get(e.attrs,t.pathToValue)||"\xA0",e.attrs,t.pathToValue,e)," ");}}function t9e(i,r){if(i&1&&(U(0),E(1,JVe,2,1,"ng-container",1)(2,e9e,2,1,"ng-container",1),W()),i&2){let t=d().$implicit;c(),m("ngIf",!t.hook),c(),m("ngIf",t.hook);}}function i9e(i,r){if(i&1){let t=O();u(0,"div",14),b("mouseenter",function(){let n=C(t).$implicit,o=d(9);return y(o.active_td=n.elementId);}),E(1,GVe,2,1,"ng-container",15)(2,HVe,2,1,"ng-container",15)(3,QVe,6,2,"ng-container",15)(4,ZVe,2,1,"ng-container",15)(5,t9e,3,2,"ng-container",15),p();}if(i&2){let t=r.$implicit,e=d().$implicit,n=d(8);m("tooltip",X(n.getTooltip(e,t)))("ngClass",Cd(10,Dh,(n.config==null?null:n.config.cssTdClass)||"",t.cssClass||"",t.type||""))("ngStyle",ne(14,cs,t.calculatedWidth))("ngSwitch",t.type),c(),m("ngSwitchCase","index"),c(),m("ngSwitchCase","actions"),c(),m("ngSwitchCase","actions-menu"),c(),m("ngSwitchCase","pipe"),c(),m("ngSwitchCase","value");}}function n9e(i,r){if(i&1&&$(0,"attribute-list",24),i&2){let t=d().$implicit;m("attrs",t.attrs);}}function r9e(i,r){if(i&1&&$(0,"attribute-list",41),i&2){let t=d().$implicit,e=d(8);m("studyWebService",e.studyWebService)("studyuid",t.wadoQueryParams.studyUID)("seriesuid",t.wadoQueryParams.seriesUID)("objectuid",t.wadoQueryParams.objectUID);}}function o9e(i,r){if(i&1&&$(0,"custom-attribute-list",25),i&2){let t=d().$implicit,e=d(8);m("dicomAttributesAsSubAttribute",e.config.dicomAttributesAsSubAttribute)("attributesHook",e.config.attributesHook)("attributes",t);}}function a9e(i,r){if(i&1){let t=O();u(0,"div",8)(1,"div",38),b("mouseenter",function(){C(t);let n=d(8);return y(n.hover_mode="instance");}),E(2,i9e,6,16,"div",10)(3,n9e,1,1,"attribute-list",11)(4,r9e,1,4,"attribute-list",39)(5,o9e,1,3,"custom-attribute-list",12),p()();}if(i&2){let t=r.$implicit,e=d(8);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngClass",ne(6,Gl,t.selected)),c(),m("ngForOf",e.tableSchema.instance),c(),m("ngIf",t.showAttributes),c(),m("ngIf",t.showFileAttributes),c(),m("ngIf",t&&t.showCustomAttributes);}}function s9e(i,r){if(i&1){let t=O();u(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"button",46),b("click",function(){C(t);let n=d(2).$implicit,o=d(6);return y(o.paginationClick(n,"instance","prev"));}),$(5,"span",47),p(),u(6,"button",48),b("click",function(){C(t);let n=d(2).$implicit,o=d(6);return y(o.paginationClick(n,"instance","next"));}),$(7,"span",49),p()()()()();}if(i&2){let t=d(2).$implicit;c(4),m("disabled",t.instances[0].offset===0),c(2),m("disabled",!t.instances[0].hasMore);}}function l9e(i,r){if(i&1&&(u(0,"div",37),E(1,a9e,6,8,"div",6)(2,s9e,8,2,"div",27),p()),i&2){let t=d().$implicit;c(),m("ngForOf",t.instances),c(),m("ngIf",t.instances&&t.instances.length>0&&t.instances[0].showPaginations);}}function c9e(i,r){if(i&1){let t=O();u(0,"div",8)(1,"div",32),b("mouseenter",function(){C(t);let n=d(6);return y(n.hover_mode="series");}),E(2,FVe,6,16,"div",10)(3,VVe,1,1,"attribute-list",11)(4,zVe,1,3,"custom-attribute-list",33),p(),E(5,l9e,3,2,"div",34),p();}if(i&2){let t=r.$implicit,e=d(6);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngClass",ne(6,Gl,t.selected)),c(),m("ngForOf",e.tableSchema.series),c(),m("ngIf",t.showAttributes),c(),m("ngIf",t&&t.showCustomAttributes),c(),m("ngIf",t.showInstances);}}function d9e(i,r){if(i&1){let t=O();u(0,"div",42)(1,"div",50)(2,"div",44)(3,"div",45)(4,"button",51),b("click",function(){C(t);let n=d(2).$implicit,o=d(4);return y(o.paginationClick(n,"series","prev"));}),$(5,"span",47),p(),u(6,"button",52),b("click",function(){C(t);let n=d(2).$implicit,o=d(4);return y(o.paginationClick(n,"series","next"));}),$(7,"span",49),p()()()()();}if(i&2){let t=d(2).$implicit;c(4),m("disabled",t.series[0].offset===0),c(2),m("disabled",!t.series[0].hasMore);}}function u9e(i,r){if(i&1&&(u(0,"div",31),E(1,c9e,6,8,"div",6)(2,d9e,8,2,"div",27),p()),i&2){let t=d().$implicit;c(),m("ngForOf",t.series),c(),m("ngIf",t.series&&t.series.length>0&&t.series[0].showPaginations);}}function p9e(i,r){if(i&1){let t=O();u(0,"div",8)(1,"div",28),b("mouseenter",function(){C(t);let n=d(4);return y(n.hover_mode="studies");}),E(2,yVe,6,16,"div",10)(3,bVe,1,1,"attribute-list",11)(4,SVe,1,3,"custom-attribute-list",12),p(),E(5,u9e,3,2,"div",29),p();}if(i&2){let t=r.$implicit,e=d(4);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngClass",ne(6,Gl,t.selected)),c(),m("ngForOf",e.tableSchema.studies),c(),m("ngIf",t.showAttributes),c(),m("ngIf",t&&t.showCustomAttributes),c(),m("ngIf",t.showSeries);}}function m9e(i,r){if(i&1){let t=O();u(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"button",53),b("click",function(){C(t);let n=d(2).$implicit,o=d(2);return y(o.paginationClick(n,"study","prev"));}),$(5,"span",47),p(),u(6,"button",54),b("click",function(){C(t);let n=d(2).$implicit,o=d(2);return y(o.paginationClick(n,"study","next"));}),$(7,"span",49),p()()()()();}}function _9e(i,r){if(i&1&&(u(0,"div",26),E(1,p9e,6,8,"div",6)(2,m9e,8,0,"div",27),p()),i&2){let t=d().$implicit;c(),m("ngForOf",t.studies),c(),m("ngIf",t.studies&&t.studies.length>0&&t.studies[0].showPaginations);}}function f9e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit;c(),z(t.offset+1);}}function h9e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function g9e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function v9e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"mwl"));}),E(1,h9e,2,3,"span",19)(2,g9e,2,3,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function C9e(i,r){if(i&1&&(U(0),E(1,v9e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(4);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function y9e(i,r){if(i&1&&(U(0),E(1,C9e,2,1,"ng-container",16),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function b9e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function S9e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function E9e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"mwl"));}),E(1,b9e,2,4,"span",19)(2,S9e,2,4,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function T9e(i,r){if(i&1&&(U(0),E(1,E9e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(4);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function I9e(i,r){if(i&1){let t=O();U(0),u(1,"a",20),$(2,"span",21),p(),u(3,"mat-menu",56,0),b("click",function(n){return C(t),y(n.stopPropagation());}),E(5,T9e,2,1,"ng-container",16),p(),W();}if(i&2){let t=Pi(4),e=d().$implicit;c(),m("matMenuTriggerFor",t),c(4),m("ngForOf",e.menu.actions);}}function x9e(i,r){if(i&1&&(U(0),$(1,"span",23),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(4);c(),m("innerHTML",n.getDynamicPipeValue(e,t),Re);}}function A9e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(4);c(),z(n._.get(e.attrs,t.pathToValue)||"\xA0");}}function w9e(i,r){if(i&1){let t=O();u(0,"div",14),b("mouseenter",function(){let n=C(t).$implicit,o=d(5);return y(o.active_td=n.elementId);}),E(1,f9e,2,1,"ng-container",15)(2,y9e,2,1,"ng-container",15)(3,I9e,6,2,"ng-container",15)(4,x9e,2,1,"ng-container",15)(5,A9e,2,1,"ng-container",15),p();}if(i&2){let t=r.$implicit,e=d().$implicit,n=d(4);m("tooltip",X(n.getTooltip(e,t)))("ngClass",yn(10,iw,(n.config==null?null:n.config.cssTdClass)||"",t.type||""))("ngStyle",ne(13,cs,t.calculatedWidth))("ngSwitch",t.type),c(),m("ngSwitchCase","index"),c(),m("ngSwitchCase","actions"),c(),m("ngSwitchCase","actions-menu"),c(),m("ngSwitchCase","pipe"),c(),m("ngSwitchCase","value");}}function D9e(i,r){if(i&1&&$(0,"attribute-list",24),i&2){let t=d().$implicit;m("attrs",t.attrs);}}function M9e(i,r){if(i&1){let t=O();u(0,"div",8)(1,"div",55),b("mouseenter",function(){C(t);let n=d(4);return y(n.hover_mode="mwl");}),E(2,w9e,6,15,"div",10)(3,D9e,1,1,"attribute-list",11),p()();}if(i&2){let t=r.$implicit,e=d(4);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngClass",ne(4,Gl,t.selected)),c(),m("ngForOf",e.tableSchema.mwl),c(),m("ngIf",t.showAttributes);}}function O9e(i,r){if(i&1&&(u(0,"div",26),E(1,M9e,4,6,"div",6),p()),i&2){let t=d().$implicit;c(),m("ngForOf",t.mwls);}}function P9e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit;c(),z(t.offset+1);}}function R9e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function N9e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function k9e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"uwl"));}),E(1,R9e,2,3,"span",19)(2,N9e,2,3,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function $9e(i,r){if(i&1&&(U(0),E(1,k9e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(4);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function L9e(i,r){if(i&1&&(U(0),E(1,$9e,2,1,"ng-container",16),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function F9e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function V9e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function z9e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"uwl"));}),E(1,F9e,2,4,"span",19)(2,V9e,2,4,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function G9e(i,r){if(i&1&&(U(0),E(1,z9e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(4);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function j9e(i,r){if(i&1){let t=O();U(0),u(1,"a",20),$(2,"span",21),p(),u(3,"mat-menu",57,0),b("click",function(n){return C(t),y(n.stopPropagation());}),E(5,G9e,2,1,"ng-container",16),p(),W();}if(i&2){let t=Pi(4),e=d().$implicit;c(),m("matMenuTriggerFor",t),c(4),m("ngForOf",e.menu.actions);}}function U9e(i,r){if(i&1&&(U(0),$(1,"span",23),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(4);c(),m("innerHTML",n.getDynamicPipeValue(e,t),Re);}}function W9e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(4);c(),z(n._.get(e.attrs,t.pathToValue)||"\xA0");}}function B9e(i,r){if(i&1){let t=O();u(0,"div",14),b("mouseenter",function(){let n=C(t).$implicit,o=d(5);return y(o.active_td=n.elementId);}),E(1,P9e,2,1,"ng-container",15)(2,L9e,2,1,"ng-container",15)(3,j9e,6,2,"ng-container",15)(4,U9e,2,1,"ng-container",15)(5,W9e,2,1,"ng-container",15),p();}if(i&2){let t=r.$implicit,e=d().$implicit,n=d(4);m("tooltip",X(n.getTooltip(e,t)))("ngClass",yn(10,iw,(n.config==null?null:n.config.cssTdClass)||"",t.type||""))("ngStyle",ne(13,cs,t.calculatedWidth))("ngSwitch",t.type),c(),m("ngSwitchCase","index"),c(),m("ngSwitchCase","actions"),c(),m("ngSwitchCase","actions-menu"),c(),m("ngSwitchCase","pipe"),c(),m("ngSwitchCase","value");}}function H9e(i,r){if(i&1&&$(0,"attribute-list",24),i&2){let t=d().$implicit;m("attrs",t.attrs);}}function q9e(i,r){if(i&1){let t=O();u(0,"div",8)(1,"div",55),b("mouseenter",function(){C(t);let n=d(4);return y(n.hover_mode="uwl");}),E(2,B9e,6,15,"div",10)(3,H9e,1,1,"attribute-list",11),p()();}if(i&2){let t=r.$implicit,e=d(4);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngClass",ne(4,Gl,t.selected)),c(),m("ngForOf",e.tableSchema.uwl),c(),m("ngIf",t.showAttributes);}}function Y9e(i,r){if(i&1&&(u(0,"div",26),E(1,q9e,4,6,"div",6),p()),i&2){let t=d().$implicit;c(),m("ngForOf",t.uwls);}}function X9e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit;c(),z(t.offset+1);}}function K9e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function Q9e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function Z9e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"mpps"));}),E(1,K9e,2,3,"span",19)(2,Q9e,2,3,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function J9e(i,r){if(i&1&&(U(0),E(1,Z9e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(4);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function e7e(i,r){if(i&1&&(U(0),E(1,J9e,2,1,"ng-container",16),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function t7e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function i7e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function n7e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"mpps"));}),E(1,t7e,2,4,"span",19)(2,i7e,2,4,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function r7e(i,r){if(i&1&&(U(0),E(1,n7e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(4);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function o7e(i,r){if(i&1){let t=O();U(0),u(1,"a",20),$(2,"span",21),p(),u(3,"mat-menu",58,0),b("click",function(n){return C(t),y(n.stopPropagation());}),E(5,r7e,2,1,"ng-container",16),p(),W();}if(i&2){let t=Pi(4),e=d().$implicit;c(),m("matMenuTriggerFor",t),c(4),m("ngForOf",e.menu.actions);}}function a7e(i,r){if(i&1&&(U(0),$(1,"span",23),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(4);c(),m("innerHTML",n.getDynamicPipeValue(e,t),Re);}}function s7e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(4);c(),z(n._.get(e.attrs,t.pathToValue)||"\xA0");}}function l7e(i,r){if(i&1){let t=O();u(0,"div",14),b("mouseenter",function(){let n=C(t).$implicit,o=d(5);return y(o.active_td=n.elementId);}),E(1,X9e,2,1,"ng-container",15)(2,e7e,2,1,"ng-container",15)(3,o7e,6,2,"ng-container",15)(4,a7e,2,1,"ng-container",15)(5,s7e,2,1,"ng-container",15),p();}if(i&2){let t=r.$implicit,e=d().$implicit,n=d(4);m("tooltip",X(n.getTooltip(e,t)))("ngClass",yn(10,iw,(n.config==null?null:n.config.cssTdClass)||"",t.type||""))("ngStyle",ne(13,cs,t.calculatedWidth))("ngSwitch",t.type),c(),m("ngSwitchCase","index"),c(),m("ngSwitchCase","actions"),c(),m("ngSwitchCase","actions-menu"),c(),m("ngSwitchCase","pipe"),c(),m("ngSwitchCase","value");}}function c7e(i,r){if(i&1&&$(0,"attribute-list",24),i&2){let t=d().$implicit;m("attrs",t.attrs);}}function d7e(i,r){if(i&1){let t=O();u(0,"div",8)(1,"div",55),b("mouseenter",function(){C(t);let n=d(4);return y(n.hover_mode="mpps");}),E(2,l7e,6,15,"div",10)(3,c7e,1,1,"attribute-list",11),p()();}if(i&2){let t=r.$implicit,e=d(4);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngClass",ne(4,Gl,t.selected)),c(),m("ngForOf",e.tableSchema.mpps),c(),m("ngIf",t.showAttributes);}}function u7e(i,r){if(i&1&&(u(0,"div",26),E(1,d7e,4,6,"div",6),p()),i&2){let t=d().$implicit;c(),m("ngForOf",t.mpps);}}function p7e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit;c(),z(t.offset+1);}}function m7e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function _7e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function f7e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"diff"));}),E(1,m7e,2,3,"span",19)(2,_7e,2,3,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function h7e(i,r){if(i&1&&(U(0),E(1,f7e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(4);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function g7e(i,r){if(i&1&&(U(0),E(1,h7e,2,1,"ng-container",16),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function v7e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function C7e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function y7e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"diff"));}),E(1,v7e,2,4,"span",19)(2,C7e,2,4,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function b7e(i,r){if(i&1&&(U(0),E(1,y7e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(4);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function S7e(i,r){if(i&1){let t=O();U(0),u(1,"a",20),$(2,"span",21),p(),u(3,"mat-menu",60,0),b("click",function(n){return C(t),y(n.stopPropagation());}),E(5,b7e,2,1,"ng-container",16),p(),W();}if(i&2){let t=Pi(4),e=d().$implicit;c(),m("matMenuTriggerFor",t),c(4),m("ngForOf",e.menu.actions);}}function E7e(i,r){if(i&1&&(U(0),$(1,"span",23),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(4);c(),m("innerHTML",n.getDynamicPipeValue(e,t),Re);}}function T7e(i,r){if(i&1&&(U(0),u(1,"span",61),T(2),p(),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(4);c(2),z(n._.get(e.diffHeaders,t.pathToValue)||"\xA0");}}function I7e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(4);c(),ue(" ",n._.get(e.diffHeaders,t.pathToValue)||"\xA0"," ");}}function x7e(i,r){if(i&1&&(U(0),E(1,T7e,3,1,"ng-container",1)(2,I7e,2,1,"ng-container",1),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(4);c(),m("ngIf",n._.get(e.diffHeaders,t.showBorderPath)),c(),m("ngIf",!n._.get(e.diffHeaders,t.showBorderPath));}}function A7e(i,r){if(i&1){let t=O();u(0,"div",14),b("mouseenter",function(){let n=C(t).$implicit,o=d(5);return y(o.active_td=n.elementId);}),E(1,p7e,2,1,"ng-container",15)(2,g7e,2,1,"ng-container",15)(3,S7e,6,2,"ng-container",15)(4,E7e,2,1,"ng-container",15)(5,x7e,3,2,"ng-container",15),p();}if(i&2){let t=r.$implicit,e=d().$implicit,n=d(4);m("tooltip",X(n.getTooltip(e,t)))("ngClass",yn(10,iw,(n.config==null?null:n.config.cssTdClass)||"",t.type||""))("ngStyle",ne(13,cs,t.calculatedWidth))("ngSwitch",t.type),c(),m("ngSwitchCase","index"),c(),m("ngSwitchCase","actions"),c(),m("ngSwitchCase","actions-menu"),c(),m("ngSwitchCase","pipe"),c(),m("ngSwitchCase","value");}}function w7e(i,r){if(i&1&&$(0,"attribute-list",24),i&2){let t=d().$implicit;m("attrs",t.attrs);}}function D7e(i,r){if(i&1){let t=O();u(0,"div",8)(1,"div",59),b("mouseenter",function(){C(t);let n=d(4);return y(n.hover_mode="diff");}),E(2,A7e,6,15,"div",10)(3,w7e,1,1,"attribute-list",11),p()();}if(i&2){let t=r.$implicit,e=d(4);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngClass",ne(4,Gl,t.selected)),c(),m("ngForOf",e.tableSchema.diff),c(),m("ngIf",t.showAttributes);}}function M7e(i,r){if(i&1){let t=O();u(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"button",53),b("click",function(){C(t);let n=d(2).$implicit,o=d(2);return y(o.paginationClick(n,"diff","prev"));}),$(5,"span",47),p(),u(6,"button",54),b("click",function(){C(t);let n=d(2).$implicit,o=d(2);return y(o.paginationClick(n,"diff","next"));}),$(7,"span",49),p()()()()();}}function O7e(i,r){if(i&1&&(u(0,"div",26),E(1,D7e,4,6,"div",6)(2,M7e,8,0,"div",27),p()),i&2){let t=d().$implicit;c(),m("ngForOf",t.diffs),c(),m("ngIf",t.diffs&&t.diffs.length>0&&t.diffs[0].showPaginations);}}function P7e(i,r){if(i&1){let t=O();u(0,"div",8)(1,"div",9),b("mouseenter",function(){C(t);let n=d(2);return y(n.hover_mode="patient");})("click",function(){let n=C(t).$implicit,o=d(2);return y(o.onBlockClick(n));}),E(2,iVe,7,17,"div",10)(3,nVe,1,1,"attribute-list",11)(4,rVe,1,3,"custom-attribute-list",12),p(),E(5,_9e,3,2,"div",13)(6,O9e,2,1,"div",13)(7,Y9e,2,1,"div",13)(8,u7e,2,1,"div",13)(9,O7e,3,2,"div",13),p();}if(i&2){let t=r.$implicit,e=d(2);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngClass",ne(10,Gl,t.selected)),c(),m("ngForOf",e.tableSchema.patient),c(),m("ngIf",t.showAttributes),c(),m("ngIf",t&&t.showCustomAttributes),c(),m("ngIf",t.showStudies),c(),m("ngIf",t.showMwls),c(),m("ngIf",t.showUwls),c(),m("ngIf",t.showMpps),c(),m("ngIf",t.showDiffs);}}function R7e(i,r){if(i&1){let t=O();u(0,"div",3),b("mouseleave",function(){C(t);let n=d();return y(n.active_td="");}),u(1,"div",4),E(2,V6e,3,11,"div",5),p(),E(3,P7e,10,12,"div",6),$e(4,"searchDicom"),p();}if(i&2){let t=d();m("ngClass",t.config==null?null:t.config.cssTableClass),c(),be(Ct("th ",t.hover_mode)),m("ngClass",t.config==null?null:t.config.cssThClass)("ngStyle",ne(11,DH,t.config.headerTop||"186px")),c(),m("ngForOf",t.tableSchema[t.hover_mode]),c(),m("ngForOf",pt(4,8,t.patients,t.searchList));}}function N7e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d().$implicit;c(),z(t.header);}}function k7e(i,r){i&1&&(U(0),T(1,"\xA0"),W());}function $7e(i,r){if(i&1&&(u(0,"div",7),E(1,N7e,2,1,"ng-container",1)(2,k7e,2,0,"ng-container",1),p()),i&2){let t=r.$implicit,e=d(2);m("ngClass",yd(4,MH,(e.config==null?null:e.config.cssTdClass)||"",t.type!="value"&&t.type!="pipe"?"empty_td":"not_empty_td",t.elementId&&e.active_td===t.elementId?"active":"",t.type||""))("ngStyle",ne(9,cs,t.calculatedWidth)),c(),m("ngIf",t.type==="value"||t.type==="pipe"),c(),m("ngIf",!(t.type==="value"||t.type==="pipe"));}}function L7e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit;c(),z(t.offset+1);}}function F7e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function V7e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function z7e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"series"));}),E(1,F7e,2,3,"span",19)(2,V7e,2,3,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function G7e(i,r){if(i&1&&(U(0),E(1,z7e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(6);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function j7e(i,r){if(i&1&&(U(0),E(1,G7e,2,1,"ng-container",16),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function U7e(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function W7e(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function B7e(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"series"));}),E(1,U7e,2,4,"span",19)(2,W7e,2,4,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function H7e(i,r){if(i&1&&(U(0),E(1,B7e,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(6);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function q7e(i,r){if(i&1&&(U(0),u(1,"a",20),$(2,"span",21),p(),u(3,"mat-menu",35,0),E(5,H7e,2,1,"ng-container",16),p(),W()),i&2){let t=Pi(4),e=d().$implicit;c(),m("matMenuTriggerFor",t),c(4),m("ngForOf",e.menu.actions);}}function Y7e(i,r){if(i&1&&(U(0),$(1,"span",23),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(6);c(),m("innerHTML",n.getDynamicPipeValue(e,t),Re);}}function X7e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(6);c(),ue(" ",n._.get(e.attrs,t.pathToValue)||"\xA0"," ");}}function K7e(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(6);c(),ue(" ",t.hook(n._.get(e.attrs,t.pathToValue)||"\xA0",e.attrs,t.pathToValue,e)," ");}}function Q7e(i,r){if(i&1&&(U(0),E(1,X7e,2,1,"ng-container",1)(2,K7e,2,1,"ng-container",1),W()),i&2){let t=d().$implicit;c(),m("ngIf",!t.hook),c(),m("ngIf",t.hook);}}function Z7e(i,r){if(i&1){let t=O();u(0,"div",14),b("mouseenter",function(){let n=C(t).$implicit,o=d(7);return y(o.active_td=n.elementId);}),E(1,L7e,2,1,"ng-container",15)(2,j7e,2,1,"ng-container",15)(3,q7e,6,2,"ng-container",15)(4,Y7e,2,1,"ng-container",15)(5,Q7e,3,2,"ng-container",15),p();}if(i&2){let t=r.$implicit,e=d().$implicit,n=d(6);m("tooltip",X(n.getTooltip(e,t)))("ngClass",Cd(10,Dh,(n.config==null?null:n.config.cssTdClass)||"",t.cssClass||"",t.type||""))("ngStyle",ne(14,cs,t.calculatedWidth))("ngSwitch",t.type),c(),m("ngSwitchCase","index"),c(),m("ngSwitchCase","actions"),c(),m("ngSwitchCase","actions-menu"),c(),m("ngSwitchCase","pipe"),c(),m("ngSwitchCase","value");}}function J7e(i,r){if(i&1&&$(0,"attribute-list",24),i&2){let t=d().$implicit;m("attrs",t.attrs);}}function eze(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit;c(),z(t.offset+1);}}function tze(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function ize(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(t.icon.cssClass||""),c(),z(t.icon.text||"");}}function nze(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"instance"));}),E(1,tze,2,3,"span",19)(2,ize,2,3,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function rze(i,r){if(i&1&&(U(0),E(1,nze,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(8);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function oze(i,r){if(i&1&&(U(0),E(1,rze,2,1,"ng-container",16),W()),i&2){let t=d().$implicit;c(),m("ngForOf",t.actions);}}function aze(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function sze(i,r){if(i&1&&(u(0,"i"),T(1),p()),i&2){let t=d(2).$implicit;be(Ct("",t.icon.cssClass||""," menu_icon")),c(),z(t.icon.text||"");}}function lze(i,r){if(i&1){let t=O();u(0,"a",18),b("click",function(n){C(t);let o=d().$implicit,a=d(3).$implicit;return n.preventDefault(),y(o.click(a,"instance"));}),E(1,aze,2,4,"span",19)(2,sze,2,4,"i",19),p();}if(i&2){let t=d().$implicit;m("title",X(t.title||"")),c(),m("ngIf",t.icon.tag==="span"),c(),m("ngIf",t.icon.tag==="i");}}function cze(i,r){if(i&1&&(U(0),E(1,lze,3,4,"a",17),W()),i&2){let t=r.$implicit,e=d(3).$implicit,n=d(8);c(),m("ngIf",!t.showIf||t.showIf(e,n.config));}}function dze(i,r){if(i&1&&(U(0),u(1,"a",20),$(2,"span",21),p(),u(3,"mat-menu",40,0),E(5,cze,2,1,"ng-container",16),p(),W()),i&2){let t=Pi(4),e=d().$implicit;c(),m("matMenuTriggerFor",t),c(4),m("ngForOf",e.menu.actions);}}function uze(i,r){if(i&1&&(U(0),$(1,"span",23),W()),i&2){let t=d().$implicit,e=d().$implicit,n=d(8);c(),m("innerHTML",n.getDynamicPipeValue(e,t),Re);}}function pze(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(8);c(),ue(" ",n._.get(e.attrs,t.pathToValue)||"\xA0"," ");}}function mze(i,r){if(i&1&&(U(0),T(1),W()),i&2){let t=d(2).$implicit,e=d().$implicit,n=d(8);c(),ue(" ",t.hook(n._.get(e.attrs,t.pathToValue)||"\xA0",e.attrs,t.pathToValue,e)," ");}}function _ze(i,r){if(i&1&&(U(0),E(1,pze,2,1,"ng-container",1)(2,mze,2,1,"ng-container",1),W()),i&2){let t=d().$implicit;c(),m("ngIf",!t.hook),c(),m("ngIf",t.hook);}}function fze(i,r){if(i&1){let t=O();u(0,"div",14),b("mouseenter",function(){let n=C(t).$implicit,o=d(9);return y(o.active_td=n.elementId);}),E(1,eze,2,1,"ng-container",15)(2,oze,2,1,"ng-container",15)(3,dze,6,2,"ng-container",15)(4,uze,2,1,"ng-container",15)(5,_ze,3,2,"ng-container",15),p();}if(i&2){let t=r.$implicit,e=d().$implicit,n=d(8);m("tooltip",X(n.getTooltip(e,t)))("ngClass",Cd(10,Dh,(n.config==null?null:n.config.cssTdClass)||"",t.cssClass||"",t.type||""))("ngStyle",ne(14,cs,t.calculatedWidth))("ngSwitch",t.type),c(),m("ngSwitchCase","index"),c(),m("ngSwitchCase","actions"),c(),m("ngSwitchCase","actions-menu"),c(),m("ngSwitchCase","pipe"),c(),m("ngSwitchCase","value");}}function hze(i,r){if(i&1&&$(0,"attribute-list",24),i&2){let t=d().$implicit;m("attrs",t.attrs);}}function gze(i,r){if(i&1&&$(0,"attribute-list",41),i&2){let t=d().$implicit,e=d(8);m("studyWebService",e.studyWebService)("studyuid",t.wadoQueryParams.studyUID)("seriesuid",t.wadoQueryParams.seriesUID)("objectuid",t.wadoQueryParams.objectUID);}}function vze(i,r){if(i&1){let t=O();u(0,"div",8)(1,"div",38),b("mouseenter",function(){C(t);let n=d(8);return y(n.hover_mode="instance");}),E(2,fze,6,16,"div",10)(3,hze,1,1,"attribute-list",11)(4,gze,1,4,"attribute-list",39),p()();}if(i&2){let t=r.$implicit,e=d(8);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngClass",ne(5,Gl,t.selected)),c(),m("ngForOf",e.tableSchema.instance),c(),m("ngIf",t.showAttributes),c(),m("ngIf",t.showFileAttributes);}}function Cze(i,r){if(i&1){let t=O();u(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"button",46),b("click",function(){C(t);let n=d(2).$implicit,o=d(6);return y(o.paginationClick(n,"instance","prev"));}),$(5,"span",47),p(),u(6,"button",48),b("click",function(){C(t);let n=d(2).$implicit,o=d(6);return y(o.paginationClick(n,"instance","next"));}),$(7,"span",49),p()()()()();}if(i&2){let t=d(2).$implicit;c(4),m("disabled",t.instances[0].offset===0),c(2),m("disabled",!t.instances[0].hasMore);}}function yze(i,r){if(i&1&&(u(0,"div",37),E(1,vze,5,7,"div",6)(2,Cze,8,2,"div",27),p()),i&2){let t=d().$implicit;c(),m("ngForOf",t.instances),c(),m("ngIf",t.instances&&t.instances.length>0&&t.instances[0].showPaginations);}}function bze(i,r){if(i&1){let t=O();u(0,"div",8)(1,"div",32),b("mouseenter",function(){C(t);let n=d(6);return y(n.hover_mode="series");}),E(2,Z7e,6,16,"div",10)(3,J7e,1,1,"attribute-list",11),p(),E(4,yze,3,2,"div",34),p();}if(i&2){let t=r.$implicit,e=d(6);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngClass",ne(5,Gl,t.selected)),c(),m("ngForOf",e.tableSchema.series),c(),m("ngIf",t.showAttributes),c(),m("ngIf",t.showInstances);}}function Sze(i,r){if(i&1){let t=O();u(0,"div",42)(1,"div",50)(2,"div",44)(3,"div",45)(4,"button",51),b("click",function(){C(t);let n=d(2).$implicit,o=d(4);return y(o.paginationClick(n,"series","prev"));}),$(5,"span",47),p(),u(6,"button",52),b("click",function(){C(t);let n=d(2).$implicit,o=d(4);return y(o.paginationClick(n,"series","next"));}),$(7,"span",49),p()()()()();}if(i&2){let t=d(2).$implicit;c(4),m("disabled",t.series[0].offset===0),c(2),m("disabled",!t.series[0].hasMore);}}function Eze(i,r){if(i&1&&(u(0,"div",31),E(1,bze,5,7,"div",6)(2,Sze,8,2,"div",27),p()),i&2){let t=d().$implicit;c(),m("ngForOf",t.series),c(),m("ngIf",t.series&&t.series.length>0&&t.series[0].showPaginations);}}function Tze(i,r){if(i&1&&(u(0,"div",8),E(1,Eze,3,2,"div",29),p()),i&2){let t=r.$implicit,e=d(4);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngIf",t.showSeries);}}function Ize(i,r){if(i&1){let t=O();u(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"button",53),b("click",function(){C(t);let n=d(2).$implicit,o=d(2);return y(o.paginationClick(n,"study","prev"));}),$(5,"span",47),p(),u(6,"button",54),b("click",function(){C(t);let n=d(2).$implicit,o=d(2);return y(o.paginationClick(n,"study","next"));}),$(7,"span",49),p()()()()();}}function xze(i,r){if(i&1&&(u(0,"div",26),E(1,Tze,2,2,"div",6)(2,Ize,8,0,"div",27),p()),i&2){let t=d().$implicit;c(),m("ngForOf",t.studies),c(),m("ngIf",t.studies&&t.studies.length>0&&t.studies[0].showPaginations);}}function Aze(i,r){if(i&1&&(u(0,"div",8),E(1,xze,3,2,"div",13),p()),i&2){let t=r.$implicit,e=d(2);m("ngClass",e.config==null?null:e.config.cssTrClass),c(),m("ngIf",t.showStudies);}}function wze(i,r){if(i&1){let t=O();u(0,"div",3),b("mouseleave",function(){C(t);let n=d();return y(n.active_td="");}),u(1,"div",4),E(2,$7e,3,11,"div",5),p(),E(3,Aze,2,2,"div",6),$e(4,"searchDicom"),p();}if(i&2){let t=d();m("ngClass",t.config==null?null:t.config.cssTableClass),c(),be(Ct("th ",t.hover_mode)),m("ngClass",t.config==null?null:t.config.cssThClass)("ngStyle",ne(11,DH,t.config.headerTop||"186px")),c(),m("ngForOf",t.tableSchema[t.hover_mode]),c(),m("ngForOf",pt(4,8,t.patients1,t.searchList));}}var OH=(()=>{let r=class r{constructor(e){this.dynamicPipe=e,this._=ye,this.onPaginationClick=new ae(),this.hover_mode="patient",this.active_td="",this.showStudyMenu=!1;}ngOnInit(){this._config.offset=this._config.offset||0;}get tableSchema(){return this._tableSchema;}set tableSchema(e){e.patient=I.calculateWidthOfTable(e.patient),e.studies=I.calculateWidthOfTable(e.studies),e.series=I.calculateWidthOfTable(e.series),e.instance=I.calculateWidthOfTable(e.instance),e.mwl=I.calculateWidthOfTable(e.mwl),e.mpps=I.calculateWidthOfTable(e.mpps),e.uwl=I.calculateWidthOfTable(e.uwl),e.diff=I.calculateWidthOfTable(e.diff),this._tableSchema=e;}get config(){return this._config;}set config(e){e.offset=e.offset||0,this._config=e;}paginationClick(e,n,o){this.onPaginationClick.emit({object:e,level:n,direction:o});}keyDown(e){console.log("e",e),console.log("this.presedKey",this.pressedKey),this.pressedKey=e.keyCode;}keyUp(e){console.log("e",e),console.log("this.presedKey",this.pressedKey),this.pressedKey=void 0;}onBlockClick(e){console.log("this.presedKey",this.pressedKey),this.pressedKey===17&&(e.selected=!e.selected);}getTooltip(e,n){if(n.type==="value")return n.hook?n.hook(B(e.attrs,n.pathToValue),e.attrs,n.pathToValue,e):B(e.attrs,n.pathToValue);if(n.type==="pipe"||n.pipe){if(n.hideTooltip)return;if(n.pathToValue)if(n.saveTheOriginalValueOnTooltip){let o=B(e.attrs,n.pathToValue);return o&&o.Alphabetic&&(o=o.Alphabetic),JSON.stringify({original:o,transformed:this.dynamicPipe.transform(B(e.attrs,n.pathToValue),n.pipe)});}else return this.getDynamicPipeValue(e,n,!0);return this.getDynamicPipeValue(e,n,!0);}}getDynamicPipeValue(e,n,o){let a;return n.pathToValue?a=this.dynamicPipe.transform(B(e.attrs,n.pathToValue),n.pipe):a=this.dynamicPipe.transform(e.attrs,n.pipe),typeof a=="string"?a:A(a,"html")?o&&A(a,"tooltip")?a.tooltip:a.html:"";}};r.ɵfac=function(n){return new(n||r)(k(Mu));},r.ɵcmp=Z({type:r,selectors:[["dicom-studies-table"]],hostBindings:function(n,o){n&1&&b("keydown",function(s){return o.keyDown(s);},e_)("keyup",function(s){return o.keyUp(s);},e_);},inputs:{patients:"patients",patients1:"patients1",title:"title",studyWebService:"studyWebService",searchList:"searchList",tableSchema:"tableSchema",config:"config"},outputs:{onPaginationClick:"onPaginationClick"},standalone:!1,decls:3,vars:3,consts:[["menu","matMenu"],[4,"ngIf"],["class","j4care_dynamic_table",3,"ngClass","mouseleave",4,"ngIf"],[1,"j4care_dynamic_table",3,"mouseleave","ngClass"],[3,"ngClass","ngStyle"],["class","td",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],["class","tr",3,"ngClass",4,"ngFor","ngForOf"],[1,"td",3,"ngClass","ngStyle"],[1,"tr",3,"ngClass"],[1,"patient_block","table_item",3,"mouseenter","click","ngClass"],["class","td",3,"ngClass","ngStyle","ngSwitch","tooltip","mouseenter",4,"ngFor","ngForOf"],[3,"attrs",4,"ngIf"],[3,"dicomAttributesAsSubAttribute","attributesHook","attributes",4,"ngIf"],["class","study_main_block",4,"ngIf"],[1,"td",3,"mouseenter","ngClass","ngStyle","ngSwitch","tooltip"],[4,"ngSwitchCase"],[4,"ngFor","ngForOf"],["class","pointer dicom_table_buttons",3,"title","click",4,"ngIf"],[1,"pointer","dicom_table_buttons",3,"click","title"],[3,"class",4,"ngIf"],["mat-button","",1,"pointer","dicom_table_buttons",3,"matMenuTriggerFor"],[1,"glyphicon","glyphicon-option-vertical"],[1,"study_action_buttons","patient"],[3,"innerHTML"],[3,"attrs"],[3,"dicomAttributesAsSubAttribute","attributesHook","attributes"],[1,"study_main_block"],["class","tr",4,"ngIf"],[1,"study_block","table_item",3,"mouseenter","ngClass"],["class","series_main_block",4,"ngIf"],[1,"study_action_buttons","study",3,"click"],[1,"series_main_block"],[1,"series_block","table_item",3,"mouseenter","ngClass"],[3,"attributesHook","attributes","dicomAttributesAsSubAttribute",4,"ngIf"],["class","instance_main_block",4,"ngIf"],[1,"study_action_buttons","series"],[3,"attributesHook","attributes","dicomAttributesAsSubAttribute"],[1,"instance_main_block"],[1,"instance_block","table_item",3,"mouseenter","ngClass"],[3,"studyWebService","studyuid","seriesuid","objectuid",4,"ngIf"],[1,"study_action_buttons","instance"],[3,"studyWebService","studyuid","seriesuid","objectuid"],[1,"tr"],[1,"instance_block","table_item"],[1,"td","td_with_centered_child"],[1,"centered_child"],["title","Preview page of instances",1,"transparent_button",3,"click","disabled"],[1,"glyphicon","glyphicon","glyphicon-chevron-left"],["title","Next page of instances",1,"transparent_button",3,"click","disabled"],[1,"glyphicon","glyphicon","glyphicon-chevron-right"],[1,"series_block","table_item"],["title","Preview page of series",1,"transparent_button",3,"click","disabled"],["title","Next page of series",1,"transparent_button",3,"click","disabled"],["title","Preview page of studies",1,"transparent_button",3,"click"],["title","Next page of studies",1,"transparent_button",3,"click"],[1,"mwl_block","table_item",3,"mouseenter","ngClass"],[1,"mwl_action_buttons",3,"click"],[1,"uwl_action_buttons",3,"click"],[1,"mpps_action_buttons",3,"click"],[1,"diff_block","table_item",3,"mouseenter","ngClass"],[1,"diff_action_buttons",3,"click"],[1,"red_border"]],template:function(n,o){n&1&&E(0,$6e,2,1,"h3",1)(1,R7e,5,13,"div",2)(2,wze,5,13,"div",2),n&2&&(m("ngIf",o.title),c(),m("ngIf",o.patients&&o.patients.length>0),c(),m("ngIf",o.patients1&&o.patients1.length>0));},dependencies:[Je,ve,de,wn,fr,Qr,wh,TH,Tv,Ch,jA,AH,wH],styles:[".j4care_dynamic_table[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:40px}.j4care_dynamic_table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{width:100%;float:left;background:var(--backgroundColor);color:#fff;-webkit-box-shadow:5px 3px 13px 0px rgba(68,68,68,.93);-moz-box-shadow:5px 3px 13px 0px rgba(68,68,68,.93);box-shadow:5px 3px 13px #444444ed;margin-bottom:1px}.j4care_dynamic_table[_ngcontent-%COMP%]   .th.studies[_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .th.uwl[_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .th.mpps[_ngcontent-%COMP%]{padding-left:13px}.j4care_dynamic_table[_ngcontent-%COMP%]   .th.series[_ngcontent-%COMP%]{padding-left:33px}.j4care_dynamic_table[_ngcontent-%COMP%]   .th.instance[_ngcontent-%COMP%]{padding-left:50px}.j4care_dynamic_table[_ngcontent-%COMP%]   .th.diff[_ngcontent-%COMP%]{padding-left:42px}.j4care_dynamic_table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{float:left;padding:5px 7px}.j4care_dynamic_table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]:last-child{border:none}.j4care_dynamic_table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   .td.not_empty_td[_ngcontent-%COMP%]{border-left:1px solid white;overflow:hidden;max-height:30px}.j4care_dynamic_table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   .td.value.active[_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]   .td.pipe.active[_ngcontent-%COMP%]{background:var(--pink);color:#fff}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]{width:100%;float:left}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]{float:left;padding:5px 7px;overflow:hidden;height:30px}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.actions[_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.actions-menu[_ngcontent-%COMP%]{border-right:none}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.value[_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.pipe[_ngcontent-%COMP%]{border-right:1px solid rgba(0,0,0,.19)}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.value[_ngcontent-%COMP%]:first-child, .j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.border-left[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.19)}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.border-right[_ngcontent-%COMP%]{border-right:1px solid rgba(0,0,0,.19)}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]:last-child{border:none}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{position:static}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.active[_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.value[_ngcontent-%COMP%]:hover, .j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.pipe[_ngcontent-%COMP%]:hover{background:var(--pink);color:#fff}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .actions_menu[_ngcontent-%COMP%]{background:#fff;display:block;max-width:90px;z-index:9999;position:fixed;-webkit-box-shadow:2px 2px 2px #444;-moz-box-shadow:2px 2px 2px #444;box-shadow:2px 2px 2px #444;margin-top:40px}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .actions_menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .actions_menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;width:30px;height:25px;float:left}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .actions_menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;height:100%}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.actions-menu[_ngcontent-%COMP%]   .dicom_table_buttons[_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.actions[_ngcontent-%COMP%]   .dicom_table_buttons[_ngcontent-%COMP%]{text-align:center;float:left}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.index[_ngcontent-%COMP%]{text-align:center}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .dicom_table_buttons[_ngcontent-%COMP%]{width:25px;display:block;text-align:center;min-width:25px;height:20px;line-height:12px;padding:0}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td[_ngcontent-%COMP%]   .red_border[_ngcontent-%COMP%]{border-bottom:1px solid red}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.big_field[_ngcontent-%COMP%]:hover{position:relative;overflow:visible;animation:.5s height ease-in-out}.j4care_dynamic_table[_ngcontent-%COMP%]   .tr[_ngcontent-%COMP%]   .td.big_field[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{height:auto;width:100%;position:absolute;left:0;top:0;display:block;background:#6b4470;padding:5px 7px;color:#fff;box-shadow:0 0 7px 2px #000000c9}.j4care_dynamic_table[_ngcontent-%COMP%]   .table_item[_ngcontent-%COMP%]{float:left;width:100%;background:#fff;border-bottom:1px solid rgba(0,0,0,.46);margin-bottom:1px}.j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.patient_block[_ngcontent-%COMP%]{-webkit-box-shadow:4px 3px 6px rgba(68,68,68,.57);-moz-box-shadow:4px 3px 6px rgba(68,68,68,.57);box-shadow:4px 3px 6px #44444491;z-index:4;position:relative}.j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.patient_block.selected[_ngcontent-%COMP%]{background:var(--tableSelectColor)}.j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.study_block[_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.mwl_block[_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.diff_block[_ngcontent-%COMP%]{-webkit-box-shadow:2px 3px 10px 0px rgba(68,68,68,.7);-moz-box-shadow:2px 3px 10px 0px rgba(68,68,68,.7);box-shadow:2px 3px 10px #444444b3;margin-left:2px;width:calc(100% - 2px);background:#ebebebe6;padding-left:13px;position:relative;z-index:3}.j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.study_block.selected[_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.mwl_block.selected[_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.diff_block.selected[_ngcontent-%COMP%]{background:#438badc7}.j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.diff_block[_ngcontent-%COMP%]{padding-left:42px}.j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.series_block[_ngcontent-%COMP%]{-webkit-box-shadow:1px 1px 8px 0px rgba(68,68,68,.7);-moz-box-shadow:1px 1px 8px 0px rgba(68,68,68,.7);box-shadow:1px 1px 8px #444444b3;margin-left:4px;width:calc(100% - 4px);background:#d7d7d7cc;padding-left:30px;position:relative;z-index:2}.j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.series_block.selected[_ngcontent-%COMP%]{background:#438badad}.j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.instance_block[_ngcontent-%COMP%]{-webkit-box-shadow:1px 0px 8px 0px rgba(68,68,68,.7);-moz-box-shadow:1px 0px 8px 0px rgba(68,68,68,.7);box-shadow:1px 0 8px #444444b3;margin-left:6px;width:calc(100% - 6px);background:#c3c3c3b3;padding-left:45px;position:relative;z-index:1}.j4care_dynamic_table[_ngcontent-%COMP%]   .table_item.instance_block.selected[_ngcontent-%COMP%]{background:#438bad94}.j4care_dynamic_table[_ngcontent-%COMP%]   .td_with_centered_child[_ngcontent-%COMP%]{text-align:center;width:100%}.j4care_dynamic_table[_ngcontent-%COMP%]   .td_with_centered_child[_ngcontent-%COMP%]   .centered_child[_ngcontent-%COMP%]{display:inline-block}.j4care_dynamic_table[_ngcontent-%COMP%]   .td_with_centered_child[_ngcontent-%COMP%]   .centered_child[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#1c242bd9}.j4care_dynamic_table[_ngcontent-%COMP%]   .td_with_centered_child[_ngcontent-%COMP%]   .centered_child[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#1c242b;cursor:pointer}.j4care_dynamic_table[_ngcontent-%COMP%]   .td_with_centered_child[_ngcontent-%COMP%]   .centered_child[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%], .j4care_dynamic_table[_ngcontent-%COMP%]   .td_with_centered_child[_ngcontent-%COMP%]   .centered_child[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]:hover{color:#1c242b99}"]});let i=r;return i;})();var Mze=["stickyHeader"],Oze=i=>({fixed_header:i}),PH=()=>[],Pze=(i,r,t,e)=>[i,void 0,r,t,e],RH=()=>({id:"action-studies-more_function",param:"visible"}),Rze=(i,r,t,e,n)=>[i,void 0,r,t,e,n],NH=()=>({id:"action-studies-copy_merge_move",param:"visible"}),nw=i=>({active:i}),kH=()=>["ignore_click_outside"],Nze=()=>["patient","study","series","instance"];function kze(i,r){if(i&1){let t=O();u(0,"filter-generator",32),b("onChange",function(){C(t);let n=d(2);return y(n.filterChanged());})("onTemplateSet",function(n){C(t);let o=d(2);return y(o.onFilterTemplateSet(n));}),p();}if(i&2){let t=d(2);m("filterID",X("study-filter-"+t.studyConfig.tab))("schema",t.filter.filterSchemaExpand.schema)("doNotSave",Ke(7,PH))("model",t.filter.filterModel)("filterTreeHeight",t.filter.filterSchemaExpand.lineLength)("defaultSubmitId","submit");}}function $ze(i,r){if(i&1){let t=O();U(0),u(1,"div",27)(2,"div",28)(3,"filter-generator",29),b("submit",function(n){C(t);let o=d();return y(o.search("current",n));})("onChange",function(){C(t);let n=d();return y(n.filterChanged());})("onTemplateSet",function(n){C(t);let o=d();return y(o.onFilterTemplateSet(n));})("onFilterClear",function(n){C(t);let o=d();return y(o.onFilterClear(n));}),p()()(),u(4,"div",30)(5,"div",28),E(6,kze,1,8,"filter-generator",31),p()(),W();}if(i&2){let t=d();c(3),m("filterID",X("study-filter-"+t.studyConfig.tab))("filterTreeHeight",t.filter.filterSchemaMain.lineLength)("schema",t.filter.filterSchemaMain.schema)("doNotSave",Ke(9,PH))("model",t.filter.filterModel)("defaultSubmitId","submit"),c(),m("hidden",!t.filter.expand),c(2),m("ngIf",t.filter.filterSchemaExpand.lineLength);}}function Lze(i,r){if(i&1){let t=O();u(0,"a",41),b("click",function(n){C(t);let o=d(3);return n.preventDefault(),y(o.toggleMore(!0));}),U(1),P(2,1),W(),$(3,"i",42),p();}}function Fze(i,r){if(i&1){let t=O();u(0,"a",43),b("click",function(n){C(t);let o=d(3);return n.preventDefault(),y(o.toggleMore(!1));}),U(1),P(2,2),W(),$(3,"i",44),p();}}function Vze(i,r){if(i&1){let t=O();u(0,"input",45),q("ngModelChange",function(n){C(t);let o=d(3);return Y(o.searchCurrentList,n)||(o.searchCurrentList=n),y(n);}),p();}if(i&2){let t=d(3);H("ngModel",t.searchCurrentList);}}function zze(i,r){if(i&1&&(u(0,"div",28)(1,"div",36),E(2,Lze,4,0,"a",38)(3,Fze,4,0,"a",39)(4,Vze,1,1,"input",40),p()()),i&2){let t=d(2);c(2),m("ngIf",!t.filter.expand&&t.studyConfig.tab!="patient"),c(),m("ngIf",t.filter.expand&&t.studyConfig.tab!="patient"),c(),m("ngIf",t.patients&&t.patients.length>0);}}function Gze(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",46),$e(1,"dynamicPipe"),q("modelChange",function(n){C(t);let o=d(2);return Y(o.moreFunctionConfig.model,n)||(o.moreFunctionConfig.model=n),y(n);}),b("modelChange",function(n){C(t);let o=d(2);return y(o.moreFunctionChanged(n));}),p();}if(i&2){let t=d(2);m("placeholder",t.moreFunctionConfig.placeholder)("options",vy(1,8,yd(14,Pze,t.moreFunctionConfig.options,t.moreFunctionFilterPipe,t.internal,t.studyConfig)))("editable",!1),H("model",t.moreFunctionConfig.model),m("showSearchField",!1)("multiSelectMode",!1)("showStar",!1)("permission",Ke(19,RH));}}function jze(i,r){if(i&1){let t=O();u(0,"dcm-drop-down",46),$e(1,"dynamicPipe"),q("modelChange",function(n){C(t);let o=d(2);return Y(o.actionsSelections.model,n)||(o.actionsSelections.model=n),y(n);}),b("modelChange",function(n){C(t);let o=d(2);return y(o.actionsSelectionsChanged(n));}),p();}if(i&2){let t=d(2);m("placeholder",t.actionsSelections.placeholder)("options",vy(1,8,a_(15,Rze,t.actionsSelections.options,t.actionsSelectionsFilterPipe,t.internal,t.trash.active,t.studyConfig)))("editable",!1),H("model",t.actionsSelections.model),m("showSearchField",!1)("multiSelectMode",!1)("showStar",!1)("permission",Ke(21,RH));}}function Uze(i,r){i&1&&(u(0,"div",28),$(1,"div",36),p());}function Wze(i,r){if(i&1&&(u(0,"div",33)(1,"div",34),E(2,zze,5,3,"div",35),u(3,"div",28)(4,"div",36),E(5,Gze,2,20,"dcm-drop-down",37)(6,jze,2,22,"dcm-drop-down",37),p()(),E(7,Uze,2,0,"div",35),p()()),i&2){let t=d();c(2),m("ngIf",t.studyConfig),c(3),m("ngIf",t.studyWebService&&t.studyWebService.selectedWebService&&!(t.studyConfig&&(t.studyConfig.tab==="diff"||t.studyConfig.tab==="mpps"))),c(),m("ngIf",t.studyWebService&&t.studyWebService.selectedWebService&&(t.patients&&t.patients.length>0||t.patients1&&t.patients1.length>0)&&!(t.studyConfig&&(t.studyConfig.tab==="diff"||t.studyConfig.tab==="uwl"||t.studyConfig.tab==="mpps"))),c(),m("ngIf",t.patients&&t.patients.length>0||t.studyConfig&&t.studyConfig.tab==="diff");}}function Bze(i,r){if(i&1){let t=O();u(0,"li")(1,"button",59),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("copy"));}),u(2,"i",53),T(3,"content_copy"),p()()();}if(i&2){let t=d(2);c(),m("disabled",t.selectedElements.action||t.selectedElements.preActionElements.getSpecificObjectSize("patient")>0);}}function Hze(i,r){if(i&1){let t=O();u(0,"ul",60),b("clickOutside",function(){C(t);let n=d(2);return y(n.checkboxFunctions=!n.checkboxFunctions);}),u(1,"li",49)(2,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("remove_selection"));}),P(3,3),p()(),u(4,"li",49)(5,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("check_selection_study"));}),P(6,4),p()(),u(7,"li",49)(8,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("uncheck_selection_study"));}),P(9,5),p()(),u(10,"li",49)(11,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("check_selection_patient"));}),P(12,6),p()(),u(13,"li",49)(14,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("uncheck_selection_patient"));}),P(15,7),p()(),u(16,"li",49)(17,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("hide_checkboxes"));}),P(18,8),p()()();}i&2&&m("clickOutsideExceptionClass",Ke(1,kH));}function qze(i,r){if(i&1){let t=O();u(0,"div",47)(1,"ul",48)(2,"li",49)(3,"button",50),b("click",function(){C(t);let n=d();return y(n.selectionAction("checkbox_functions"));}),u(4,"i",51),T(5,"playlist_add_check"),p()()(),E(6,Bze,4,1,"li",20),u(7,"li")(8,"button",52),b("click",function(){C(t);let n=d();return y(n.selectionAction("move"));}),u(9,"i",53),T(10,"content_cut"),p()()(),u(11,"li")(12,"button",54),b("click",function(){C(t);let n=d();return y(n.selectionAction("link"));}),u(13,"i",53),T(14,"link"),p()()(),u(15,"li")(16,"button",55),b("click",function(){C(t);let n=d();return y(n.selectionAction("patient_merge"));}),u(17,"i",53),T(18,"supervisor_account"),p()()(),u(19,"li")(20,"button",56),b("click",function(){C(t);let n=d();return y(n.selectionAction("paste"));}),$(21,"i",57),p()()(),E(22,Hze,19,2,"ul",58),p();}if(i&2){let t=d();m("permission",Ke(7,NH)),c(3),m("ngClass",ne(8,nw,t.checkboxFunctions)),c(3),m("ngIf",t.studyWebService.selectedWebService.dcmWebServiceClass.indexOf("DCM4CHEE_ARC_AET")>-1),c(2),m("disabled",t.selectedElements.action||t.selectedElements.preActionElements.getSpecificObjectSize("patient")>0),c(4),m("disabled",t.selectedElements.action||t.selectedElements.preActionElements.getSpecificObjectSize("patient")>0),c(4),m("disabled",t.selectedElements.action),c(6),m("ngIf",t.checkboxFunctions);}}function Yze(i,r){if(i&1){let t=O();u(0,"ul",60),b("clickOutside",function(){C(t);let n=d(2);return y(n.checkboxFunctions=!n.checkboxFunctions);}),u(1,"li",49)(2,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("remove_selection"));}),P(3,9),p()(),u(4,"li",49)(5,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("check_selection_study"));}),P(6,10),p()(),u(7,"li",49)(8,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("uncheck_selection_study"));}),P(9,11),p()(),u(10,"li",49)(11,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("check_selection_patient"));}),P(12,12),p()(),u(13,"li",49)(14,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("uncheck_selection_patient"));}),P(15,13),p()(),u(16,"li",49)(17,"button",61),b("click",function(){C(t);let n=d(2);return y(n.selectionAction("hide_checkboxes"));}),P(18,14),p()()();}i&2&&m("clickOutsideExceptionClass",Ke(1,kH));}function Xze(i,r){if(i&1){let t=O();u(0,"div",47)(1,"ul",48)(2,"li",49)(3,"button",50),b("click",function(){C(t);let n=d();return y(n.selectionAction("checkbox_functions"));}),u(4,"i",51),T(5,"playlist_add_check"),p()()()(),E(6,Yze,19,2,"ul",58),p();}if(i&2){let t=d();m("permission",Ke(3,NH)),c(3),m("ngClass",ne(4,nw,t.checkboxFunctions)),c(3),m("ngIf",t.checkboxFunctions);}}function Kze(i,r){if(i&1){let t=O();u(0,"div",62),b("click",function(){C(t);let n=d();return y(n.search("prev",{id:"submit"}));}),$(1,"span",63),p();}if(i&2){let t=d();m("ngClass",ne(1,nw,t.filter.filterModel.offset>0));}}function Qze(i,r){if(i&1){let t=O();u(0,"div",64),b("click",function(){C(t);let n=d();return y(n.search("next",{id:"submit"}));}),$(1,"span",65),p();}if(i&2){let t=d();m("ngClass",ne(1,nw,t.more));}}function Zze(i,r){if(i&1&&(u(0,"h5"),P(1,15),p()),i&2){let t=d(3);c(),Kr(t.selectedElements.action),lo(1);}}function Jze(i,r){i&1&&(u(0,"h5"),P(1,16),p());}function eGe(i,r){if(i&1){let t=O();u(0,"selections-dicom-view",77),b("onRemoveFromSelection",function(n){C(t);let o=d(4);return y(o.onRemoveFromSelection(n));}),p();}if(i&2){let t=d().$implicit,e=d(3);m("selectionsDicomObjects",e.selectedElements.preActionElements[t])("dicomLevel",t);}}function tGe(i,r){if(i&1&&(U(0),E(1,eGe,1,2,"selections-dicom-view",76),W()),i&2){let t=r.$implicit,e=d(3);c(),m("ngIf",e.selectedElements.preActionElements[t]&&e.Object.keys(e.selectedElements.preActionElements[t])&&e.Object.keys(e.selectedElements.preActionElements[t]).length>0);}}function iGe(i,r){if(i&1){let t=O();u(0,"div",71),E(1,Zze,2,1,"h5",20)(2,Jze,2,0,"h5",20),u(3,"a",72),b("click",function(n){C(t);let o=d(2);return n.preventDefault(),y(o.clearClipboard());}),T(4," Clear "),$(5,"span",73),p(),u(6,"div",74),E(7,tGe,2,1,"ng-container",75),p()();}if(i&2){let t=d(2);c(),m("ngIf",t.selectedElements.action),c(),m("ngIf",!t.selectedElements.action),c(5),m("ngForOf",Ke(3,Nze));}}function nGe(i,r){if(i&1){let t=O();u(0,"div",66)(1,"div",67),b("click",function(){C(t);let n=d();return y(n.showClipboardContent=!n.showClipboardContent);}),u(2,"span",68),T(3),p(),$(4,"i",69),p(),E(5,iGe,8,4,"div",70),p();}if(i&2){let t=d();c(3),z(t.selectedElements.preActionElements.size),c(2),m("ngIf",t.showClipboardContent);}}var $H=(()=>{let r=class r{testToggle(){this.isOpen=!this.isOpen;}get filter(){return this._filter;}set filter(e){this.tableParam.config.offset=e.filterModel.offset,this._filter=e;}constructor(e,n,o,a,s,l,_,f,g,S,x){this.route=e,this.service=n,this.permissionService=o,this.appService=a,this.httpErrorHandler=s,this.cfpLoadingBar=l,this.deviceConfigurator=_,this.viewContainerRef=f,this.dialog=g,this._keycloakService=S,this.changeDetector=x,this.onAction=new ae(),this.onFilterChange=new ae(),this.onStudyWebServiceChange=new ae(),this.onPasteEvent=new ae(),this.isOpen=!0,this.Object=Object,this.studyConfig={tab:"study",title:"Studies"},this._filter={filterSchemaEntry:{lineLength:void 0,schema:[]},filterSchemaMain:{lineLength:void 0,schema:[]},filterSchemaExpand:{lineLength:2,schema:[]},filterEntryModel:{},filterModel:{limit:20,offset:0,includefield:"all"},expand:!1,quantityText:{count:"COUNT",size:"SIZE"}},this.applicationEntities={aes:[],aets:[],aetsAreSet:!1},this.trash={reject:void 0,rjnotes:void 0,rjcode:void 0,active:!1},this.tableParam={tableSchema:this.getSchema(),config:{offset:0,showCheckboxes:!1}},this.showClipboardContent=!1,this.moreFunctionConfig={placeholder:"More functions",options:[new G("create_patient","Create patient"),new G("supplement_issuer","Supplement Issuer"),new G("update_charset","Update Character Set of Patients"),new G("create_ups","Create new UPS Workitem"),new G("subscribe_uwl","Subscribe to Unified Worklist"),new G("unsubscribe_uwl","Unsubscribe from Unified Worklist"),new G("suspend_uwl","Suspend Unified Worklist"),new G("upload_dicom","Upload DICOM Object"),new G("permanent_delete","Permanent delete","Delete rejected Instances permanently"),new G("export_multiple_study","Export matching studies"),new G("apply_retention_multiple_series","Apply retention policy to matching series"),new G("export_multiple_series","Export matching series"),new G("reject_multiple_study","Reject matching studies"),new G("reject_multiple_series","Reject matching series"),new G("retrieve_multiple","Retrieve matching studies"),new G("update_access_control_id_to_matching","Update access Control ID to matching studies"),new G("update_access_control_id_to_matching_series","Update access Control ID to matching series"),new G("storage_verification_studies","Storage Verification Studies"),new G("storage_verification_series","Storage Verification Series"),new G("download_patients","Download patients as CSV"),new G("download_studies","Download studies as CSV"),new G("download_series","Download series as CSV"),new G("download_mwl","Download MWL as CSV"),new G("download_uwl","Download UPS Workitems as CSV"),new G("trigger_diff","Trigger Diff"),new G("change_sps_status_on_matching","Change SPS Status on matching MWL"),new G("import_matching_sps_to_archive","Import matching SPS to archive"),new G("schedule_storage_commit_for_matching_studies","Schedule Storage Commitment for matching Studies"),new G("schedule_storage_commit_for_matching_series","Schedule Storage Commitment for matching Series"),new G("instance_availability_notification_for_matching_studies","Instance Availability Notification for matching Studies"),new G("instance_availability_notification_for_matching_series","Instance Availability Notification for matching Series"),new G("update_matching_studies","Update matching Studies"),new G("update_matching_series","Update matching Series")],model:void 0},this.actionsSelections={placeholder:"Actions for selections",options:[new G("toggle_checkboxes","Toggle checkboxes","Toggle checkboxes for selection"),new G("export_object","Export selections","Export selected studies, series or instances"),new G("retrieve_object","Retrieve selections","Retrieve selected studies, series or instances"),new G("reject_object","Reject selections","Reject selected studies, series or instances"),new G("restore_object","Restore selections","Restore selected studies, series or instances"),new G("update_access_control_id_to_selections","Access Control ID to selections","Updated Access Control ID to selected studies"),new G("storage_verification_for_selections","Storage Verification for selections","Storage Verification for selected objects"),new G("send_storage_commitment_request_for_selections","Send Storage Commitment Request for selections","Send Storage Commitment Request for selected objects"),new G("send_ian_request_for_selections","Send IAN for selections","Send Instance Availability Notification Request for selected objects"),new G("delete_object","Delete selections","Delete selected studies, series or instances permanently"),new G("change_sps_status_on_selections","SPS Status on selections","Change SPS Status on selected MWL")],model:void 0},this.internal=!0,this.testShow=!0,this.fixedHeader=!1,this.patients=[],this.patients1=[],this.studies=[],this.moreState={study:!1,patient:!1,series:!1,mwl:!1,mpps:!1,uwl:!1,diff:!1,export:!1},this.searchCurrentList="",this.filterButtonPath={count:[],size:[]},this.checkboxFunctions=!1,this.currentWebAppClass="QIDO_RS",this.headerTop={true:void 0,false:void 0},this.querySubmit=!1,this.moreFunctionFilterPipe=(D,R)=>{let j=R[0],V=R[1];return D.filter(ie=>{if(console.log("option",ie),ie.value==="create_patient"||ie.value==="supplement_issuer"||ie.value==="update_charset"||ie.value==="download_patients")return V&&V.tab==="patient"&&this.service.webAppGroupHasClass(this.studyWebService,"DCM4CHEE_ARC_AET");if(V&&V.tab==="mwl")return ie.value==="import_matching_sps_to_archive"&&!this.service.webAppGroupHasClass(this.studyWebService,"DCM4CHEE_ARC_AET")||ie.value==="change_sps_status_on_matching"&&this.service.webAppGroupHasClass(this.studyWebService,"DCM4CHEE_ARC_AET")||ie.value==="download_mwl"&&this.service.webAppGroupHasClass(this.studyWebService,"DCM4CHEE_ARC_AET");if(V&&V.tab==="patient")return!1;if(V&&V.tab==="uwl")return ie.value==="download_uwl"||ie.value==="create_ups"||ie.value==="subscribe_uwl"||ie.value==="unsubscribe_uwl"||ie.value==="suspend_uwl";switch(ie.value){case"retrieve_multiple":return(!j||this.service.webAppGroupHasClass(this.studyWebService,"MOVE_MATCHING"))&&V&&V.tab==="study";case"upload_dicom":return this.service.webAppGroupHasClass(this.studyWebService,"STOW_RS")&&V&&V.tab==="study";case"trigger_diff":return V&&V.tab==="diff";case"export_multiple_study":case"permanent_delete":case"download_studies":case"reject_multiple_study":case"update_access_control_id_to_matching":case"storage_verification_studies":case"schedule_storage_commit_for_matching_studies":case"instance_availability_notification_for_matching_studies":case"update_matching_studies":return V&&V.tab==="study"&&this.service.webAppGroupHasClass(this.studyWebService,"DCM4CHEE_ARC_AET");case"apply_retention_multiple_series":case"export_multiple_series":case"reject_multiple_series":case"download_series":case"update_access_control_id_to_matching_series":case"storage_verification_series":case"schedule_storage_commit_for_matching_series":case"instance_availability_notification_for_matching_series":case"update_matching_series":return V&&V.tab==="series"&&this.service.webAppGroupHasClass(this.studyWebService,"DCM4CHEE_ARC_AET");case"change_sps_status_on_matching":case"download_mwl":case"import_matching_sps_to_archive":case"download_uwl":case"create_ups":case"subscribe_uwl":case"unsubscribe_uwl":case"suspend_uwl":return!1;}return!0;});},console.log("in construct",this.service.selectedElements);}setFiltersFromQueryParams(e){this.studyConfig.tab!="diff"&&(this.service.getFilterKeysFromTab(this.studyConfig.tab).forEach(o=>{o&&A(e,o)&&e[o]!=null&&(this.filter.filterModel[o]=e[o]);}),A(e,"webApp")&&(this.filter.filterModel.webApp=e.webApp,this.querySubmit=!0,this.filterChanged()));}ngOnInit(){this.largeIntFormat=new yH(),this.service.selectedElements?this.selectedElements=this.service.selectedElements:this.selectedElements=new K2({}),console.log("this.studyWebService",this.studyWebService),this.getPatientAttributeFilters(),this.getStudyAttributeFilters(),this.route.params.subscribe(e=>{this.filterTemplate=void 0,this.studyWebService=void 0,this.patients=[],this.patients1=[],this.internal=!this.internal,this.service.clearFilterObject(e.tab,this.filter),this.studyConfig.tab=void 0,console.log("this.studyWebService",this.studyWebService),setTimeout(()=>{switch(this.internal=!this.internal,this.studyConfig.tab=e.tab,this.route.queryParams.subscribe(n=>{console.log("in query paramt",n),this.setFiltersFromQueryParams(n);}),this.studyConfig.tab){case"diff":this.currentWebAppClass="DCM4CHEE_ARC_AET_DIFF";break;case"mwl":this.currentWebAppClass="MWL_RS";break;case"mpps":this.currentWebAppClass="MPPS_RS";break;case"uwl":this.currentWebAppClass="UPS_RS";break;default:this.currentWebAppClass="QIDO_RS";}A(this.studyWebService,"selectedWebService.dcmWebAppName")&&!A(this._filter,"filterModel.webApp")&&(this._filter.filterModel.webApp=this.studyWebService.selectedWebService.dcmWebAppName),this.studyConfig.title=this.tabToTitleMap(e.tab),this.initWebApps(),this.studyConfig.tab==="diff"&&this.getDiffAttributeSet(this,()=>{this.route.queryParams.subscribe(n=>{(A(n,"taskID")||A(n,"batchID"))&&(n.batchID&&(this.filter.filterModel.batchID=n.batchID),n.different&&(this.filter.filterModel.different=n.different),n.comparefield&&(this.filter.filterModel.comparefield=n.comparefield),n.missing&&(this.filter.filterModel.missing=n.missing),n.taskID&&(this.filter.filterModel.taskID=n.taskID),this.getDiff(Oe(this.filter.filterModel)));}),this.initWebApps();}),(this.studyConfig.tab==="study"||this.studyConfig.tab==="series"||this.studyConfig.tab==="diff")&&this.getInstitutions(this,"Series",()=>{this.getStorages(this,()=>{this.initWebApps();});}),this.studyConfig.tab==="mwl"&&this.getInstitutions(this,"MWL",()=>{this.initWebApps();}),this.more=!1,this._filter.filterModel.offset=0,this.setTableSchema(),this.studyConfig.tab!="study"&&this.studyConfig.tab!="series"&&this.studyConfig.tab!="diff"&&this.initWebApps();},1);}),this.moreFunctionConfig.options.filter(e=>e.value==="retrieve_multiple"||e.value==="import_matching_sps_to_archive"?!this.internal:!0),this.actionsSelections.options.filter(e=>e.value==="retrieve_object"?!this.internal:!0);}onFilterTemplateSet(e){this.filterTemplate=e,this.setTemplateToFilter(),this.onFilterChange.emit(this.filter.filterModel);}setTemplateToFilter(){this.filterTemplate&&this.studyWebService&&this.studyWebService.selectDropdownWebServices&&this.studyWebService.selectDropdownWebServices.length>0&&(this.filter.filterModel={},Object.keys(this.filterTemplate).forEach(e=>{e==="webApp"?this.studyWebService.seletWebAppFromWebAppName(this.filterTemplate.webApp):this.filter.filterModel[e]=this.filterTemplate[e];})),this.setTableSchema(),this.setSchema();}tabToTitleMap(e){return{study:"Studies",patient:"Patients",series:"Series",mwl:"MWL",uwl:"UWL",diff:"Difference",mpps:"MPPS"}[e]||"Studies";}get more(){return this.moreState[this.studyConfig.tab];}set more(e){this.moreState[this.studyConfig.tab]=e;}setTopToTableHeader(){this.stickyHeaderView.nativeElement.scrollHeight&&this.stickyHeaderView.nativeElement.scrollHeight>0&&this.tableParam.config.headerTop!=`${this.stickyHeaderView.nativeElement.scrollHeight}px`&&(this.tableParam.config.headerTop=`${this.stickyHeaderView.nativeElement.scrollHeight}px`);}toggleMore(e){this.filter.expand=e,this.headerTop[e]?this.tableParam.config.headerTop=`${this.headerTop[e]}px`:this.headerTop[e]=this.stickyHeaderView.nativeElement.scrollHeight,setTimeout(()=>{this.setTopToTableHeader();},1);}onWindowScroll(e){document.documentElement.scrollTop>63?(this.fixedHeader=!0,this.testShow=!1):(this.fixedHeader=!1,this.testShow=!0);}moreFunctionChanged(e){switch(console.log("e",e),e){case"create_patient":this.createPatient();break;case"supplement_issuer":this.supplementIssuer();break;case"update_charset":this.updateCharset();break;case"create_ups":this.createUPS();break;case"subscribe_uwl":this.subscribeUWL(void 0,"uwl","Subscribe to Unified Worklist","Unified Worklist subscribed successfully!");break;case"unsubscribe_uwl":this.unsubscribeOrSuspendUWL(!1);break;case"suspend_uwl":this.unsubscribeOrSuspendUWL(!0);break;case"permanent_delete":this.deleteRejectedInstances();break;case"upload_dicom":this.uploadDicom();break;case"export_multiple_study":this.exportMatching("Export all matching studies","study");break;case"apply_retention_multiple_series":this.applyRetentionPolicyMatchingSeries();break;case"export_multiple_series":this.exportMatching("Export all matching series","series");break;case"reject_multiple_study":this.rejectMatchingStudies();break;case"reject_multiple_series":this.rejectMatchingSeries();break;case"retrieve_multiple":this.retrieveMultipleStudies();break;case"storage_verification_studies":this.storageVerificationStudies();break;case"storage_verification_series":this.storageVerificationSeries();break;case"download_patients":this.downloadCSV(void 0,"patient");break;case"download_studies":this.downloadCSV(void 0,"study");break;case"download_series":this.downloadCSV(void 0,"series");break;case"download_mwl":this.downloadCSV(void 0,"mwl");break;case"download_uwl":this.downloadCSV(void 0,"uwl");break;case"update_access_control_id_to_matching":this.updateAccessControlId("matching_studies",e);break;case"update_access_control_id_to_matching_series":this.updateAccessControlId("matching_series",e);break;case"schedule_storage_commit_for_matching_studies":this.sendStorageCommitmentRequestMatchingStudies();break;case"schedule_storage_commit_for_matching_series":this.sendStorageCommitmentRequestMatchingSeries();break;case"instance_availability_notification_for_matching_studies":this.sendInstanceAvailabilityNotificationMatchingStudies();break;case"instance_availability_notification_for_matching_series":this.sendInstanceAvailabilityNotificationMatchingSeries();break;case"update_matching_studies":this.updateMatchingStudies();break;case"update_matching_series":this.updateMatchingSeries();break;case"create_ups_matching_studies":this.createUPSMatchingStudies();break;case"change_sps_status_on_matching":this.changeSPSStatus(e,"matching");break;case"import_matching_sps_to_archive":this.importMatchingSPS();break;}setTimeout(()=>{this.moreFunctionConfig.model=void 0;},1);}actionsSelectionsChanged(e){e==="toggle_checkboxes"&&(this.tableParam.config.showCheckboxes=!this.tableParam.config.showCheckboxes,this.setTableSchema()),e==="export_object"&&this.exporter(void 0,"Export selected objects","multipleExportSelections",void 0,void 0,this.selectedElements),e==="retrieve_object"&&this.retrieveObject(void 0,void 0,this.selectedElements),(e==="reject_object"||e==="restore_object")&&this.rejectRestoreMultipleObjects(),e==="update_access_control_id_to_selections"&&this.updateAccessControlId("update_access_control_id_to_selections",e),e==="change_sps_status_on_selections"&&this.changeSPSStatus(e,"selected"),e==="storage_verification_for_selections"&&this.storageCommitmen(void 0,void 0),e==="send_storage_commitment_request_for_selections"&&this.sendStorageCommitmentRequestSingle(),e==="send_ian_request_for_selections"&&this.sendInstanceAvailabilityNotificationSingle(),e==="delete_object"&&this.deleteSelectedObjects(),setTimeout(()=>{this.actionsSelections.model=void 0;},1);}selectionAction(e){switch(console.log("this.patient",this.patients),e){case"checkbox_functions":{this.checkboxFunctions=!this.checkboxFunctions;break;}case"copy":{this.setSelectedElementAction(e),this.resetSetSelectionObject(void 0,void 0,!0);break;}case"move":{this.setSelectedElementAction(e),this.resetSetSelectionObject(void 0,void 0,!0);break;}case"link":{this.setSelectedElementAction(e),this.resetSetSelectionObject(void 0,void 0,!0);break;}case"patient_merge":{this.setSelectedElementAction("merge"),this.resetSetSelectionObject(void 0,void 0,!0);break;}case"paste":{this.paste();break;}case"remove_selection":{this.resetSetSelectionObject();break;}case"uncheck_selection_study":{this.resetSetSelectionObject(["study"],!1),this.checkboxFunctions=!1;break;}case"check_selection_study":{this.resetSetSelectionObject(["study"],!0),this.checkboxFunctions=!1;break;}case"check_selection_patient":{this.resetSetSelectionObject(["patient"],!0),this.checkboxFunctions=!1;break;}case"uncheck_selection_patient":{this.resetSetSelectionObject(["patient"],!1),this.checkboxFunctions=!1;break;}case"hide_checkboxes":{this.resetSetSelectionObject(),this.tableParam.config.showCheckboxes=!1,this.setTableSchema();break;}}}paste(){if(console.log("past,this.selectedEleents",this.selectedElements),this.selectedElements&&this.selectedElements.postActionElements&&this.selectedElements.postActionElements.size>0&&this.selectedElements.preActionElements&&this.selectedElements.preActionElements.size>0){if((!this.selectedElements.postActionElements||this.selectedElements.postActionElements.currentIndexes.length>1)&&this.appService.showError("More than one target selected!"),this.selectedElements.action=="merge"&&this.selectedElements.preActionElements.currentIndexes.length>1)this.appService.showError("More than one source patient selected for merge!");else if(this.selectedElements.preActionElements.currentIndexes.indexOf(this.selectedElements.postActionElements.currentIndexes[0])>-1)this.appService.showError("Target object can not be in the clipboard");else{this.dialogRef=this.dialog.open(m2,{height:"auto",width:"90%"});let e=[];he(this.trash.rjnotes,(n,o)=>{e.push(new G(n.codeValue+"^"+n.codingSchemeDesignator,n.label,n.codeMeaning));}),this.dialogRef.componentInstance.selectedElements=this.selectedElements,this.dialogRef.componentInstance.rjnotes=e,this.dialogRef.componentInstance.title=this.service.getTextFromAction(this.selectedElements.action),this.dialogRef.afterClosed().subscribe(n=>{if(console.log("result",n),console.log("selectedElements",this.selectedElements),n)switch(this.cfpLoadingBar.start(),this.selectedElements.action){case"merge":this.service.mergePatients(this.selectedElements,this.studyWebService).subscribe(o=>{this.appService.showMsg("Patients merged successfully!"),this.clearClipboard(),this.cfpLoadingBar.complete(),this.onPasteEvent.emit({mode:"success",response:o});},o=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(o),this.onPasteEvent.emit({mode:"error",response:o});});break;case"link":this.service.linkStudyToMwl(this.selectedElements,this.studyWebService.selectedWebService,n.reject).subscribe(o=>{console.log("res",o),this.cfpLoadingBar.complete(),this.appService.showMsgCopyMoveLink(o,this.service.getTextFromAction(this.selectedElements.action)),this.clearClipboard(),this.onPasteEvent.emit({mode:"success",response:o});},o=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(o),this.onPasteEvent.emit({mode:"error",response:o});});break;default:this.service.copyMove(this.selectedElements,this.studyWebService.selectedWebService,n.reject).subscribe(o=>{try{console.log("res",o),this.appService.showMsgCopyMoveLink(o,this.service.getTextFromAction(this.selectedElements.action));}catch{this.httpErrorHandler.handleError(o);}this.clearClipboard(),this.cfpLoadingBar.complete(),this.onPasteEvent.emit({mode:"success",response:o});},o=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(o),this.onPasteEvent.emit({mode:"error",response:o});});}else this.clearClipboard(),this.onPasteEvent.emit({mode:"cancel",response:this.selectedElements});this.dialogRef=null;});}}else(!this.selectedElements.postActionElements||!this.selectedElements.postActionElements.size||this.selectedElements.postActionElements.size===0)&&this.appService.showWarning("No target object was selected!");}setSelectedElementAction(e){(this.selectedElements.postActionElements&&this.selectedElements.postActionElements.size>0||this.selectedElements.preActionElements&&this.selectedElements.preActionElements.size>0)&&(this.selectedElements.action=e);}resetSetSelectionObject(e,n,o,a){let s={};n=n||!1,e=e||["instance","series","patient","study","mwl"],e.forEach(l=>{s[l]={};}),o||(e.length<5?e.forEach(l=>{try{Object.keys(this.selectedElements.preActionElements[l]).forEach(_=>{this.selectedElements.preActionElements.toggle(l,{id:_,idParts:[]},{});}),Object.keys(this.selectedElements.postActionElements[l]).forEach(_=>{this.selectedElements.postActionElements.toggle(l,{id:_,idParts:[]},{});});}catch{}}):this.selectedElements&&this.selectedElements.reset(a)),this.patients.forEach(l=>{e.indexOf("patient")>-1&&(l.selected=n,this.service.addObjectOnSelectedElements("patient",n,l,this.selectedElements)),l.studies&&e.indexOf("study")>-1&&l.studies.forEach(_=>{_.selected=n,this.service.addObjectOnSelectedElements("study",n,_,this.selectedElements),_.series&&e.indexOf("series")>-1&&_.series.forEach(f=>{f.selected=n,this.service.addObjectOnSelectedElements("series",n,f,this.selectedElements),f.instances&&e.indexOf("instance")>-1&&f.instances.forEach(g=>{g.selected=n,this.service.addObjectOnSelectedElements("instance",n,g,this.selectedElements);});});}),l.mwls&&e.indexOf("mwl")>-1&&l.mwls.forEach(_=>{_.selected=n;});});}select(e,n){this.selectedElements.toggle(n,this.service.getObjectUniqueId(e.attrs,n),e),console.log("selectedElements",this.selectedElements);}clearClipboard(){this.resetSetSelectionObject(void 0,void 0,void 0,!0);}onFilterClear(e){console.log("e",e),A(e,"webApp")&&e.webApp===""&&(this.studyWebService.selectedWebService=void 0);}onRemoveFromSelection(e){console.log("e",e),this.selectedElements.toggle(e.dicomLevel,e.uniqueSelectIdObject,e.object,"preActionElements");}actions(e,n){if(console.log("id",e),console.log("model",n),this.studyWebService.selectedWebService){if(e.action==="select"&&(this.select(n,e.level),console.log("this.selectedElement",this.selectedElements)),e.action==="toggle_studies")if(!n.studies||n.studies.length===0){console.log("models",n);let o=this.getFilterClone();o.limit&&o.limit++,this.getAllStudiesToPatient(n,o,0);}else n.studies=[],n.showStudies=!n.showStudies;e.action==="toggle_series"&&(n.series?n.showSeries=!n.showSeries:this.getSeriesOfStudy(n,0)),e.action==="toggle_instances"&&(n.instances?n.showInstances=!n.showInstances:this.getInstances(n,0)),e.action==="edit_patient"&&this.editPatient(n),e.action==="edit_uwl"&&this.editUPS(n),e.action==="clone_uwl"&&this.cloneUPS(n),e.action==="reschedule_uwl"&&this.rescheduleUPS(n),e.action==="cancel_uwl"&&this.cancelUPS(n),e.action==="change_ups_state"&&this.changeUPSState(n),e.action==="subscribe_ups"&&this.subscribeUWL(n,"ups","Subscribe to Unified Procedure Step","Unified Procedure Step subscribed successfully!"),e.action==="unsubscribe_ups"&&this.unsubscribeUPS(n),e.action==="delete_patient"&&this.deletePatient(n),e.action==="unmerge_patient"&&this.unmergePatient(n),e.action==="pdq_patient"&&this.queryNationalPatientRegister(n),e.action==="pdq_patient_update"&&this.updatePatientDemographics(n),e.action==="download"&&(e.level==="instance"?e.mode==="uncompressed"?this.downloadURL(n):this.downloadURL(n,"*"):this.downloadZip(n,e.level,e.mode)),e.action==="reject"&&(e.level==="study"&&this.rejectStudy(n),e.level==="series"&&this.rejectSeries(n),e.level==="instance"&&this.rejectInstance(n)),e.action==="delete"&&e.level==="study"&&this.deleteStudy(n),e.action==="verify_storage"&&this.storageCommitmen(e.level,n),e.action==="export"&&(this.internal?(e.level==="study"&&this.exportStudy(n),e.level==="instance"&&this.exportInstance(n),e.level==="series"&&this.exportSeries(n)):this.retrieveObject(e.level,n)),e.action==="edit_study"&&this.editStudy(n),e.action==="edit_series"&&this.editSeries(n),e.action,e.action==="delete_mwl"&&this.deleteMWL(n),e.action==="modify_expired_date"&&this.setExpiredDate(n),e.action==="modify_expired_date_series"&&this.setExpiredDateSeries(n),e.action==="mark_as_requested_unscheduled"&&this.markAsRequestedOrUnscheduled(n,e.level),e.action==="create_mwl"&&this.createMWL(n),e.action==="edit_mwl"&&(console.log("id",e),console.log("model",n),this.editMWL(n.patient,n)),e.action==="download_csv"&&this.downloadCSV(n.attrs,e.level),e.action==="open_viewer"&&this.openViewer(n.attrs,e.level),e.action==="upload_file"&&this.uploadFile(n,e.level),e.action==="view"&&this.viewInstance(n),e.action==="update_access_control_id"&&this.updateAccessControlId(e.level,e.action,n),e.action==="change_sps_status"&&this.changeSPSStatus(n,"single"),e.action==="send_storage_commit"&&this.sendStorageCommitmentRequestSingle(e.level,n),e.action==="send_instance_availability_notification"&&this.sendInstanceAvailabilityNotificationSingle(e.level,n),e.action==="recreate_record"&&this.recreateDBRecord(e.level,n);}else this.appService.showError("No Web Application Service was selected!");}uploadDicom(){this.dialogRef=this.dialog.open(e2,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.selectedWebApp=this.studyWebService.selectedWebService,this.dialogRef.afterClosed().subscribe(e=>{console.log("result",e);});}uploadInPatient(e){console.log("in uuploadInPatient",e),this.service.createEmptyStudy(e.attrs,this.studyWebService.selectedWebService).subscribe(n=>{this.uploadFile({attrs:n},"patient");},n=>{this.httpErrorHandler.handleError(n);});}uploadFile(e,n){let o=Oe(e);if(n==="mwl"){let a={"00400275":{Value:[{}],vr:"SQ"}},s=["00401001","00321060","00400009","00400007","00400008"],l={"00401001":{code:"00200010",vr:"SH"},"00321060":{code:"00081030",vr:"LO"},"00400100":[{map:"Value[0]['00400002']",code:"00080020",vr:"DA"},{map:"Value[0]['00400003']",code:"00080030",vr:"TM"}]},_=["00401001","00321060","00321064"];he(o.attrs,(f,g)=>{Jr(s,g)>-1?(a["00400275"].Value[0][g]=f,this.service.mapCode(f,g,a,l)):Jr(_,g)===-1?a[g]=f:this.service.mapCode(f,g,a,l);}),o.attrs=a;}this.dialogRef=this.dialog.open(i2,{height:"auto",width:"900px"}),this.dialogRef.componentInstance.preselectedWebApp=this.studyWebService.selectedWebService,this.dialogRef.componentInstance.dicomObject=Oe(o),this.dialogRef.componentInstance.mode=n,this.dialogRef.afterClosed().subscribe(a=>{console.log("result",a),this.dialogRef.componentInstance.dicomObject=void 0,this.dialogRef.componentInstance.tempAttributes=void 0;});}deletePatient(e){let n=this.service.getPatientId(e.attrs);if(!n||n==="")this.appService.showError("Cannot delete patient with empty Patient ID!"),this.cfpLoadingBar.complete();else{let o=this;this.confirm({content:"Are you sure you want to delete this patient?"}).subscribe(a=>{a&&(o.cfpLoadingBar.start(),this.service.deletePatient(this.studyWebService.selectedWebService,n).subscribe(s=>{o.appService.showMsg("Patient deleted successfully!"),o.cfpLoadingBar.complete();},s=>{o.httpErrorHandler.handleError(s),o.cfpLoadingBar.complete();}));});}}unmergePatient(e){let n=this.service.getPatientId(e.attrs);if(!n||n==="")this.appService.showError("Cannot unmerge patient with empty Patient ID!"),this.cfpLoadingBar.complete();else{let o=this;this.confirm({content:"Are you sure you want to unmerge this patient?"}).subscribe(a=>{a&&(o.cfpLoadingBar.start(),this.service.unmergePatient(this.studyWebService.selectedWebService,n).subscribe(s=>{o.appService.showMsg("Patient unmerged successfully!"),o.cfpLoadingBar.complete();},s=>{o.httpErrorHandler.handleError(s),o.cfpLoadingBar.complete();}));});}}deleteMWL(e){this.confirm({content:"Are you sure you want to delete this MWL?"}).subscribe(n=>{if(n){this.cfpLoadingBar.start();let o=I.valueOf(e.attrs["0020000D"]),a=B(e.attrs,"['00400100'].Value[0]['00400009'].Value[0]");o&&a?this.service.deleteMWL(this.studyWebService.selectedWebService,o,a).subscribe(s=>{this.appService.showMsg("MWL deleted successfully!"),this.cfpLoadingBar.complete(),this.search("current",{id:"submit"});},s=>{this.httpErrorHandler.handleError(s),this.cfpLoadingBar.complete();}):this.appService.showError("Study Instance UID or Scheduled Procedure Step ID is missing!");}});}editMWL(e,n){let o={saveLabel:"SAVE",titleLabel:"Edit MWL of patient "};o.titleLabel="Edit MWL of patient ",o.titleLabel+=A(e,"attrs.00100010.Value.0.Alphabetic")?"<b>"+e.attrs["00100010"].Value[0].Alphabetic+"</b>":" ",o.titleLabel+=A(e,"attrs.00100020.Value.0")?" with ID: <b>"+e.attrs["00100020"].Value[0]+"</b>":"",this.modifyMWL(e,"edit","","",n,o);}createMWL(e){let n={attrs:{"00400100":{vr:"SQ",Value:[{"00400001":{vr:"AE",Value:[""]},"00400009":{vr:"SH",Value:[""]}}]},"0020000D":{vr:"UI",Value:[""]},"00080050":{vr:"SH",Value:[""]},"00401001":{vr:"SH",Value:[""]},"00741202":{vr:"LO",Value:[""]}}},o={saveLabel:"CREATE",titleLabel:"Create new MWL"};this.modifyMWL(e,"create","","",n,o);}modifyMWL(e,n,o,a,s,l){let _=Oe(s);this.lastPressedCode=0,n==="edit"&&(he(s.attrs,function(g,S){let x="";g.Value&&g.Value.length&&(x=g.Value.join("")),g.Value&&x!=""||delete s.attrs[S];}),s.attrs["00400100"].Value[0]["00400002"]&&!s.attrs["00400100"].Value[0]["00400002"].Value&&(s.attrs["00400100"].Value[0]["00400002"].Value=[""]));let f=this;this.service.getMwlIod().subscribe(g=>{let S=f.service.replaceKeyInJson(g,"items","Value"),x=Oe(s);x.attrs=new Zp().transform(s.attrs,S),f.service.initEmptyValue(x.attrs),f.dialogRef=f.dialog.open(BA,{height:"auto",width:"90%"}),f.dialogRef.componentInstance.iod=S,f.dialogRef.componentInstance.mode=n,f.dialogRef.componentInstance.dropdown=f.service.getArrayFromIod(g),f.dialogRef.componentInstance.mwl=x,f.dialogRef.componentInstance.mwlkey=a,f.dialogRef.componentInstance.saveLabel=l.saveLabel,f.dialogRef.componentInstance.titleLabel=l.titleLabel,f.dialogRef.afterClosed().subscribe(D=>{if(console.log("result",D),D){f.service.clearPatientObject(x.attrs),f.service.convertStringToNumber(x.attrs);let R={};f.service.appendPatientIdTo(e.attrs,R),he(x.attrs,function(j,V){g[V]&&(R[V]=j);}),he(x.attrs,function(j,V){g&&g[V]&&g[V].vr!="SQ"&&j.Value&&j.Value.length===1&&j.Value[0]===""&&delete x.attrs[V];}),console.log("on post",R),this.service.modifyMWL(R,this.studyWebService,new At({"Content-Type":"application/dicom+json"})).subscribe(j=>{n==="edit"?f.appService.showMsg("MWL saved successfully!"):f.appService.showMsg("MWL created successfully!");},j=>{f.httpErrorHandler.handleError(j);});}else $r(s,_);f.dialogRef=null;});},g=>{console.log("error",g);});}importMatchingSPS(){this.confirm({content:"Import matching Scheduled Procedure Steps to archive",doNotSave:!0,form_schema:[[[{tag:"label",text:"Destination AET"},{tag:"select",type:"text",options:this.applicationEntities.aes.filter(e=>e.wholeObject.dicomDeviceName==this.appService.archiveDeviceName),filterKey:"destination",description:"Destination AET",placeholder:"Destination AET"}],[{tag:"label",text:"Filter By SCU"},{tag:"checkbox",filterKey:"filterbyscu",description:"Apply specified filter on matches returned by external MWL SCP"}],[{tag:"label",text:"Delete"},{tag:"checkbox",filterKey:"delete",description:"Delete Scheduled Procedure Steps from local MWL not returned by external MWL SCP"}],[{tag:"label",text:"Test"},{tag:"checkbox",filterKey:"test",description:"Only test import from external MWL SCP without performing the operation"}]]],result:{schema_model:{}},saveButton:"IMPORT"}).subscribe(e=>{e&&A(e,"schema_model.destination")&&this.service.importMatchingSPS(this.studyWebService.selectedWebService,e.schema_model.destination,this.createStudyFilterParams(!0,!0)).subscribe(n=>{console.log("res",n),this.cfpLoadingBar.complete();let o=B(n,"count"),a=A(n,"created")?B(n,"created"):"",s=A(n,"updated")?B(n,"updated"):"",l=A(n,"deleted")?B(n,"deleted"):"",_=A(n,"failures")?B(n,"failures"):"",f=A(n,"error")?B(n,"error"):"",g="Count: "+o;a!=""&&(g=g+`<br>
Created: `+a),s!=""&&(g=g+`<br>
Updated: `+s),l!=""&&(g=g+`<br>
Deleted: `+l),_!=""&&(g=g+`<br>
Failures: `+_),f!=""&&(g=g+`<br>
Error: `+f),_!=""||f!=""?o!=""||a!=""||s!=""||l!=""?this.appService.showWarning(g):this.appService.showError(g):this.appService.showMsg(g);},n=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});});}changeSPSStatus(e,n){console.log("model",e),console.log("status",B(e,"attrs[00400100].Value[0][00400020].Value[0]")),console.log("spsID",B(e,"attrs[00400100].Value[0][00400009].Value[0]"));let o=B(e,"attrs[00400100].Value[0][00400020].Value[0]"),a;switch(n){case"single":a="Change Scheduled Procedure Step Status of the MWL";break;case"matching":a="Change Scheduled Procedure Step Status of the matching MWL";break;case"selected":a="Change Scheduled Procedure Step Status of the selected MWL";break;}this.confirm({content:a,doNotSave:!0,form_schema:[[[{tag:"label_large",text:"Select the Scheduled Procedure Step Status"}],[{tag:"label",text:"SPS Status"},{tag:"select",options:[new G("SCHEDULED","SCHEDULED"),new G("ARRIVED","ARRIVED"),new G("READY","READY"),new G("STARTED","STARTED"),new G("DEPARTED","DEPARTED"),new G("CANCELED","CANCELED"),new G("DISCONTINUED","DISCONTINUED"),new G("COMPLETED","COMPLETED")],filterKey:"spsState",description:"Scheduled Procedure Step Status",placeholder:"SPS Status"}]]],result:{schema_model:{spsState:o}},saveButton:"APPLY"}).subscribe(s=>{if(s&&s.schema_model.spsState&&(n==="single"&&s.schema_model.spsState!=o||n!="single"))switch(this.cfpLoadingBar.start(),n){case"single":this.service.changeSPSStatusSingleMWL(this.studyWebService.selectedWebService,s.schema_model.spsState,e).subscribe(l=>{this.appService.showMsg("Status changed successfully"),this.cfpLoadingBar.complete(),Ue(e,"attrs[00400100].Value[0][00400020].Value[0]",s.schema_model.spsState);},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);});break;case"matching":this.service.changeSPSStatusMatchingMWL(this.studyWebService.selectedWebService,s.schema_model.spsState,this.createStudyFilterParams(!0,!0,!0)).subscribe(l=>{this.cfpLoadingBar.complete(),this.appService.showMsgUpdateMatchingMWLs(l,"MWL Items' SPS Status changed successfully"),this.search("current",{id:"submit"});},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);});break;case"selected":this.service.changeSPSStatusSelectedMWL(this.selectedElements,this.studyWebService.selectedWebService,s.schema_model.spsState).subscribe(l=>{this.cfpLoadingBar.complete();try{let _=l.filter(f=>f&&f.isError).length;_>0?this.appService.showMsg("Process executed successfully:<br>\nErrors: "+_+"\n<br>\nSuccessful: "+(l.length-_)+""):this.appService.showMsg("Status changed successfully"),this.clearClipboard();}catch(_){I.log("Error on change sps status on selected mode result",_),this.appService.showMsg("Status changed successfully");}},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);});break;}});}confirm(e,n){return n=n||"500px",this.dialogRef=this.dialog.open(Ei,{height:"auto",width:n}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}openViewer(e,n){try{let o,a,s=this.studyWebService.selectedWebService.IID_URL_TARGET||"",l=this.studyWebService.selectedWebService.IID_ENCODE,_=l===void 0||l===""||l&&l=="true"||l&&l=="True",f=n==="study"?this.studyWebService.selectedWebService.IID_STUDY_URL:this.studyWebService.selectedWebService.IID_PATIENT_URL,g=this.service.getStudyInstanceUID(e)||"",S=this.service.getPatientId(e),x=B(e,"00100030.Value.0"),D=B(e,"00080050.Value.0"),R=B(e,"00100010.Value[0].Alphabetic"),j=this.studyWebService.selectedWebService.dcmWebServicePath,V=I.getUrlFromDcmWebApplication(this.studyWebService.selectedWebService,this.appService.baseUrl,!0),ie=(oe,Ne)=>oe.replace(/{{(currentDateTime-)?(.+?)}}/g,(Ce,Ge,dt)=>Ge?I.formatDate(I.createDateFromDuration(I.extractDurationFromValue(dt)),"yyyy-MM-dd"):Ne[dt]==null?dt:Ne[dt]),_e;this.service.getTokenService(this.studyWebService).subscribe(oe=>{this.appService.global.notSecure||(o=oe.token),_e={patientID:S,patientBirthDate:x,studyUID:g,patientName:R,accessionNumber:D,access_token:o,qidoBasePath:j,qidoBaseURL:V},a=ie(f,_e).trim(),_&&(a=encodeURI(a)),console.log("Prepared URL: ",a),console.groupEnd(),s?window.open(a,s):window.open(a);});}catch(o){I.log("Something went wrong while opening the Viewer",o),this.appService.showError("Something went wrong while opening the Viewer open the inspect to see more details");}}viewInstance(e){let n,o,a;this.service.getTokenService(this.studyWebService).subscribe(s=>{this.appService.global.notSecure||(n=s.token),e.video||e.image||e.numberOfFrames||e.gspsQueryParams.length?(e.gspsQueryParams.length&&(o=this.service.wadoURL(this.studyWebService,e.gspsQueryParams[e.view-1])),(e.numberOfFrames||e.image&&!e.video)&&(a="image/jpeg",o=this.service.wadoURL(this.studyWebService,e.wadoQueryParams,{contentType:"image/jpeg"})),e.video&&(a="video/*",o=this.service.wadoURL(this.studyWebService,e.wadoQueryParams,{contentType:"video/*"}))):o=this.service.wadoURL(this.studyWebService,e.wadoQueryParams),a||A(e,"attrs.00420012.Value.0")&&e.attrs["00420012"].Value[0]!=""&&(a=e.attrs["00420012"].Value[0]),!a||a.toLowerCase()==="application/pdf"||a.toLowerCase().indexOf("video")>-1||a.toLowerCase()==="text/xml"?this.service.renderURL(this.studyWebService,e).subscribe(l=>{this.appService.global.notSecure?Te.nativeWindow.open(l):Te.nativeWindow.open(l+`&access_token=${n}`);}):o.subscribe(l=>{this.dialogRef=this.dialog.open(a2,{height:"auto",width:"auto",panelClass:"viewer_dialog"}),this.dialogRef.componentInstance.views=e.views,this.dialogRef.componentInstance.view=e.view,this.dialogRef.componentInstance.studyWebService=this.studyWebService,this.dialogRef.componentInstance.contentType=a,this.dialogRef.componentInstance.url=l,this.dialogRef.afterClosed().subscribe();});});}applyRetentionPolicyMatchingSeries(){this.confirm({content:"Apply retention policy to all matching series",cancelButton:"CANCEL",saveButton:"APPLY"}).subscribe(()=>{this.cfpLoadingBar.start(),this.service.applyRetentionPolicyMatchingSeries(this.studyWebService.selectedWebService,this.createStudyFilterParams(!0,!0)).subscribe(e=>{console.log("res",e),this.cfpLoadingBar.complete();try{let n=e.count,o=n==1?"study":"studies",a=n==0?"Configured Retention policies do not match with matching series <br>Or <br>Expiration State of studies of matching series is set to FROZEN":"Configured Retention policies applied successfully to matching series of "+n+" "+o+"";this.appService.showMsg(a);}catch(n){I.log("Could not get count from res=",n);}},e=>{this.httpErrorHandler.handleError(e),this.cfpLoadingBar.complete();});});}downloadCSV(e,n){let o=this.createQueryParams(0,1e3,this.createStudyFilterParams());this.confirm({content:"Do you want to use semicolon as delimiter?",cancelButton:"No",saveButton:"Yes",result:"yes"}).subscribe(a=>{let s=!1;a&&(s=!0);let l,_;this.service.getTokenService(this.studyWebService).subscribe(f=>{this.appService.global.notSecure||(l=f.token);let g=Oe(o);delete g.offset,delete g.limit,g.accept=`text/csv${s?";delimiter=semicolon":""}`;let S="dcm4chee.csv";e&&n?(_=this.service.getDicomURL("study",this.studyWebService.selectedWebService),g.PatientID=I.valueOf(e["00100020"]),g.IssuerOfPatientID=I.valueOf(e["00100021"]),n==="series"&&A(e,"0020000D")&&(_=`${_}/${I.valueOf(e["0020000D"])}/series`,S=`${I.valueOf(e["0020000D"])}.csv`),n==="instance"&&(_=`${_}/${I.valueOf(e["0020000D"])}/series/${I.valueOf(e["0020000E"])}/instances`,S=`${I.valueOf(e["0020000D"])}_${I.valueOf(e["0020000E"])}.csv`)):(e===void 0&&n==="patient"&&(_=`${this.service.getDicomURL("patient",this.studyWebService.selectedWebService)}`),e===void 0&&n==="study"&&(_=`${this.service.getDicomURL("study",this.studyWebService.selectedWebService)}`),e===void 0&&n==="series"&&(_=`${this.service.getDicomURL("series",this.studyWebService.selectedWebService)}`),e===void 0&&n==="mwl"&&(_=`${this.service.getDicomURL("mwl",this.studyWebService.selectedWebService)}`),e===void 0&&n==="uwl"&&(_=`${this.service.getDicomURL("uwl",this.studyWebService.selectedWebService)}`)),this.appService.global.notSecure||(g.access_token=l),I.downloadFile(`${_}?${this.appService.param(g)}`,S);});});}downloadZip(e,n,o){this.confirm({content:"Download this "+this.service.getLevelText(n)+"",doNotSave:!0,form_schema:[[[{tag:"label",text:"Compress"},{tag:"checkbox",filterKey:"compressed"}],[{tag:"label",text:"Include DICOMDIR"},{tag:"checkbox",filterKey:"includingdicomdir"}]]],result:{schema_model:{}},saveButton:"Download"}).subscribe(a=>{if(a){let s,l={accept:"application/zip"};console.log("url",this.service.getDicomURL(o,this.studyWebService.selectedWebService));let _=this.service.studyURL(e.attrs,this.studyWebService.selectedWebService),f=this.service.studyFileName(e.attrs);A(a,"schema_model.compressed")&&B(a,"schema_model.compressed")&&(l.accept+=";transfer-syntax=*"),A(a,"schema_model.includingdicomdir")&&B(a,"schema_model.includingdicomdir")&&(l.dicomdir=!0),n==="series"&&(_=this.service.seriesURL(e.attrs,this.studyWebService.selectedWebService),f=this.service.seriesFileName(e.attrs)),this.service.getTokenService(this.studyWebService).subscribe(g=>{this.appService.global.notSecure||(s=g.token),this.appService.global.notSecure?I.downloadFile(`${_}?${I.objToUrlParams(l)}`,`${f}.zip`):I.downloadFile(`${_}?${I.objToUrlParams(l)}&access_token=${s}`,`${f}.zip`);});}});}downloadURL(e,n){let o,a="",s="dcm4che.dcm";this.confirm({content:"Download this "+this.service.getLevelText("instance")+"",doNotSave:!0,form_schema:[[[{tag:"label",text:"Compress"},{tag:"checkbox",filterKey:"compressed"}],[{tag:"label",text:"Include DICOMDIR"},{tag:"checkbox",filterKey:"includingdicomdir"}]]],result:{schema_model:{}},saveButton:"Download"}).subscribe(l=>{l&&this.service.getTokenService(this.studyWebService).subscribe(_=>{this.appService.global.notSecure||(o=_.token);var f=A(l,"schema_model.includingdicomdir")&&B(l,"schema_model.includingdicomdir");let g=f===!0?{accept:"application/zip"}:{contentType:"application/dicom"};var S=A(l,"schema_model.compressed")&&B(l,"schema_model.compressed");console.log("keys",Object.keys(e.wadoQueryParams)),console.log("keys",Object.getOwnPropertyNames(e.wadoQueryParams)),console.log("keys",e.wadoQueryParams),f===!0?(g.dicomdir=!0,S===!0&&(g.accept+=";transfer-syntax=*"),a=this.service.instanceURL(e.attrs,this.studyWebService.selectedWebService),s=this.service.instanceFileName(e.attrs),this.service.getTokenService(this.studyWebService).subscribe(x=>{this.appService.global.notSecure||(o=x.token),this.appService.global.notSecure?I.downloadFile(`${a}?${I.objToUrlParams(g)}`,`${s}.zip`):I.downloadFile(`${a}?${I.objToUrlParams(g)}&access_token=${o}`,`${s}.zip`);})):(S===!0&&(g.transferSyntax=n),this.service.wadoURL(this.studyWebService,e.wadoQueryParams,g).subscribe(x=>{this.appService.global.notSecure?a=x:a=x+`&access_token=${o}`,I.hasSet(e,"attrs[00080018].Value[0]")&&(s=`${B(e,"attrs[00080018].Value[0]")}.dcm`),I.downloadFile(a,s);}));});});}createQueryParams(e,n,o){let a={offset:e,limit:n};for(let s in o)(o[s]||o[s]===!1)&&s!="allAttributes"&&s!="webApp"&&(a[s]=o[s]);return a;}createStudyFilterParams(e,n,o){let a=this.getFilterClone();return o||(delete a["ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate"],delete a["ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime"]),e&&delete a.offset,n&&(delete a.orderby,delete a.includefield,delete a.limit),a;}createPatientFilterParams(e){let n=this.getFilterClone();return e&&(delete n.offset,delete n.orderby,delete n.limit,delete n.includefield),n;}onSubPaginationClick(e){if(console.log("e",e),e.level==="instance"&&(console.log("e.object",e.object),e.direction==="next"&&this.getInstances(e.object,e.object.instances[0].offset*1+this._filter.filterModel.limit*1),e.direction==="prev"&&this.getInstances(e.object,e.object.instances[0].offset-this._filter.filterModel.limit)),e.level==="series"&&(console.log("e.object",e.object),e.direction==="next"&&this.getSeriesOfStudy(e.object,e.object.series[0].offset*1+this._filter.filterModel.limit*1),e.direction==="prev"&&this.getSeriesOfStudy(e.object,e.object.series[0].offset-this._filter.filterModel.limit)),e.level==="study"){console.log("e.object",e.object);let n=this.getFilterClone();n.limit&&n.limit++,e.direction==="next"&&this.getAllStudiesToPatient(e.object,n,e.object.studies[0].offset*1+this._filter.filterModel.limit*1),e.direction==="prev"&&this.getAllStudiesToPatient(e.object,n,e.object.studies[0].offset-this._filter.filterModel.limit);}}getFilterClone(){let e=Wo(this._filter.filterModel);return delete e.webApp,I.clearEmptyObject(e);}search(e,n){console.log("e",n),console.log("this",this.filter);let o=this.getFilterClone();this.studyWebService.selectedWebService||this.studyConfig.tab==="diff"&&A(o,"batchID")?(o.limit&&o.limit++,n.id==="submit"&&(!e||e==="current"?(o.offset=0,this.submit(o)):(e==="next"&&this.more&&(o.offset=o.offset*1+this._filter.filterModel.limit*1,this.submit(o)),e==="prev"&&o.offset>0&&(o.offset=o.offset-this._filter.filterModel.limit,this.submit(o)))),n.id==="count"&&(console.log("filter",this._filter.filterSchemaMain),this.getQuantity("count")),n.id==="size"&&(console.log("filter",this._filter.filterSchemaMain),this.getQuantity("size")),n.id):this.appService.showError("No Web Application Service was selected!");}submit(e){this.showNoFilterWarning(e)?this.confirm({content:"No filter are set, are you sure you want to continue?"}).subscribe(n=>{n&&this.triggerQueries(e);}):this.triggerQueries(e);}triggerQueries(e){switch(this.studyConfig.tab){case"study":this.getStudies(e);break;case"patient":this.getPatients(e);break;case"series":this.getSeries(e);break;case"mwl":this.getMWL(e);break;case"mpps":this.getMPPS(e);break;case"uwl":this.getUWL(e);break;case"diff":this.getDiff(e);break;}}getDiff(e){this.cfpLoadingBar.start(),this.searchCurrentList="",delete e.orderby,A(e,"taskID")||A(e,"batchID")&&!this.studyWebService.selectedWebService?this.service.getDiff(e,this.studyWebService).subscribe(n=>{console.log("res",n),this.cfpLoadingBar.complete(),this.patients=[],this._filter.filterModel.offset=e.offset,dn(n)>0?this.prepareDiffData(n,e.offset):this.appService.showMsg("No Diff Results found!");},n=>{this.patients=[],this.httpErrorHandler.handleError(n),this.cfpLoadingBar.complete();}):this.service.triggerDiff(e,this.studyWebService,"study","object").subscribe(n=>{this.cfpLoadingBar.complete(),this.patients=[],this._filter.filterModel.offset=e.offset,dn(n)>0?this.prepareDiffData(n,e.offset):A(e,"queue")&&e.queue===!0?this.appService.showMsg("Diff triggered successfully!"):this.appService.showMsg("No Diff Results found!");},n=>{this.cfpLoadingBar.complete(),this.patients=[],this.httpErrorHandler.handleError(n);});}prepareDiffData(e,n){let o=["00200010","0020000D","00080020","00080030","00080090","00080050","00080061","00081030","00201206","00201208"],a=0;for(;this.patientAttributes.dcmTag[a]&&this.patientAttributes.dcmTag[a]<"00201200";)a++;this.patientAttributes.dcmTag.splice(a,0,"00201200");let s,l,_,f=this.patientAttributes.dcmTag;console.log("res",e),e.forEach((g,S)=>{_={},this.service.extractAttrs(g,f,_),s&&this.service.equalsIgnoreSpecificCharacterSet(s.attrs,_)||(s=new Uc(_,[],void 0,void 0,void 0,void 0,void 0,[],!0),this.patients.push(s));let x=!1,D={};he(o,R=>{D[R]=this.service.getDiffHeader(g,R);}),l=new J2(g,s,this._filter.filterModel.offset+S,D),console.log("diffHeaders",D),s.diffs.push(l);}),(this.more=e.length>this._filter.filterModel.limit)&&(s.diffs.pop(),s.diffs.length===0&&this.patients.pop());}showNoFilterWarning(e){let n=Wo(e);if(A(n,["ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate"])&&delete n["ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate"],A(n,"includefield")&&delete n.includefield,A(n,"limit")&&delete n.limit,A(n,"offset")&&delete n.offset,A(n,"orderby")&&delete n.orderby,dn(n)<1)return!0;for(let o in n)n[o]==""&&delete n[o];return dn(n)<1;}getQuantity(e){let n=this.getFilterClone();this.showNoFilterWarning(n)?this.confirm({content:"No filter are set, are you sure you want to continue?"}).subscribe(o=>{o&&this.getQuantityService(n,e);}):this.getQuantityService(n,e);}getQuantityService(e,n){delete e.orderby,delete e.limit,delete e.offset;let o=n==="count"?"COUNT":"SIZE";Ue(this._filter.filterSchemaMain.schema,[...(this.filterButtonPath[n]||[]),"quantityText"],!1),Ue(this._filter.filterSchemaMain.schema,[...(this.filterButtonPath[n]||[]),"text"],o),Ue(this._filter.filterSchemaMain.schema,[...(this.filterButtonPath[n]||[]),"showDynamicLoader"],!0),this.getService(e,n).subscribe(a=>{console.log("studyCount",a);let s=a[n];n==="size"&&(s=I.convertBtoHumanReadable(s,1)),Ue(this._filter.filterSchemaMain.schema,[...this.filterButtonPath[n],"showRefreshIcon"],!1),Ue(this._filter.filterSchemaMain.schema,[...this.filterButtonPath[n],"showDynamicLoader"],!1),Ue(this._filter.filterSchemaMain.schema,[...this.filterButtonPath[n],"text"],`( ${this.largeIntFormat.transform(s)} ) ${o}`);},a=>{I.log("Something went wrong on search",a),Ue(this._filter.filterSchemaMain.schema,[...this.filterButtonPath[n],"showRefreshIcon"],!0),Ue(this._filter.filterSchemaMain.schema,[...this.filterButtonPath[n],"showDynamicLoader"],!1),Ue(this._filter.filterSchemaMain.schema,[...this.filterButtonPath[n],"text"],o),this.httpErrorHandler.handleError(a);});}getService(e,n){switch(this.studyConfig.tab){case"uwl":return this.service.getUWL(e,this.studyWebService.selectedWebService,n);case"mwl":return this.service.getMWL(e,this.studyWebService.selectedWebService,n);case"mpps":return this.service.getMPPS(e,this.studyWebService.selectedWebService,n);case"patient":return this.service.getPatients(e,this.studyWebService.selectedWebService,n);case"series":return this.service.getSeries(e,this.studyWebService.selectedWebService,n);default:return this.service.getStudies(e,this.studyWebService.selectedWebService,n);}}getMWL(e){this.cfpLoadingBar.start(),this.searchCurrentList="",this.studyConfig.tab==="mwl"&&!A(e,"includefield")&&(e.includefield="all"),this.service.getMWL(e,this.studyWebService.selectedWebService).subscribe(n=>{if(this.patients=[],this.patients=[],this._filter.filterModel.offset=e.offset,n){this.setTopToTableHeader();let o,a,s,l=this.patientAttributes.dcmTag;n.forEach((_,f)=>{s={},this.service.extractAttrs(_,l,s),o&&this.service.equalsIgnoreSpecificCharacterSet(o.attrs,s)||(o=new Uc(s,[],!1,!0,0,[],!0),this.patients.push(o)),a=new Q2(_,o,this._filter.filterModel.offset+f),o.mwls.push(a);}),(this.more=n.length>this._filter.filterModel.limit)&&(o.mwls.pop(),o.mwls.length===0&&this.patients.pop()),console.log("patient",this.patients);}else this.appService.showMsg("No matching Modality Worklist Entries found!");this.cfpLoadingBar.complete();},n=>{I.log("Something went wrong on search",n),this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}getMPPS(e){this.cfpLoadingBar.start(),this.searchCurrentList="",this.studyConfig.tab==="mpps"&&!A(e,"includefield")&&(e.includefield="all"),this.service.getMPPS(e,this.studyWebService.selectedWebService).subscribe(n=>{if(this.patients=[],this.patients=[],this._filter.filterModel.offset=e.offset,n){this.setTopToTableHeader();let o,a,s,l=this.patientAttributes.dcmTag;n.forEach((_,f)=>{s={},this.service.extractAttrs(_,l,s),o&&this.service.equalsIgnoreSpecificCharacterSet(o.attrs,s)||(o=new Uc(s,[],!1,!0,0,void 0,!1,void 0,!1,void 0,!1,[],!0),this.patients.push(o)),a=new Z2(_,o,this._filter.filterModel.offset+f),o.mpps.push(a);}),(this.more=n.length>this._filter.filterModel.limit)&&(o.mpps.pop(),o.mpps.length===0&&this.patients.pop()),console.log("patient",this.patients);}else this.appService.showMsg("No matching Modality Performed Procedure Step entries found!");this.cfpLoadingBar.complete();},n=>{I.log("Something went wrong on search",n),this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}getUWL(e){this.cfpLoadingBar.start(),this.searchCurrentList="",this.studyConfig.tab==="uwl"&&!A(e,"includefield")&&(e.includefield="all"),this.service.getUWL(e,this.studyWebService.selectedWebService).subscribe(n=>{if(this.patients=[],this.patients=[],this._filter.filterModel.offset=e.offset,n){this.setTopToTableHeader();let o,a,s,l=this.patientAttributes.dcmTag;n.forEach((_,f)=>{s={},this.service.extractAttrs(_,l,s),o&&this.service.equalsIgnoreSpecificCharacterSet(o.attrs,s)||(o=new Uc(s,[],!1,!1,0,void 0,!1,void 0,void 0,[],!0),this.patients.push(o)),a=new ew(_,o,this._filter.filterModel.offset+f),o.uwls.push(a);}),(this.more=n.length>this._filter.filterModel.limit)&&(o.uwls.pop(),o.uwls.length===0&&this.patients.pop()),console.log("patient",this.patients);}else this.appService.showMsg("No matching Unified Worklist Entries found!");this.cfpLoadingBar.complete();},n=>{I.log("Something went wrong on search",n),this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}getPatients(e){this.cfpLoadingBar.start(),this.studyConfig.tab==="patient"&&!A(e,"includefield")&&(e.includefield="all"),this.service.getPatients(e,this.studyWebService.selectedWebService).subscribe(n=>{this.patients=[],this._filter.filterModel.offset=e.offset,dn(n)>0?(this.setTopToTableHeader(),this.patients=n.map((o,a)=>new Uc(o,[],!1,!1,e.offset+a)),(this.more=this.patients.length>this._filter.filterModel.limit)&&this.patients.pop()):this.appService.showMsg("No matching Patients found!"),this.cfpLoadingBar.complete();},n=>{I.log("Something went wrong on search",n),this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(n);});}getAllStudiesToPatient(e,n,o){this.cfpLoadingBar.start(),this.searchCurrentList="",o<0&&(o=0),n.offset=o,n.PatientID=B(e.attrs,"['00100020'].Value[0]"),n.IssuerOfPatientID=B(e.attrs,"['00100021'].Value[0]"),n["IssuerOfPatientIDQualifiersSequence.UniversalEntityID"]=B(e.attrs,"['00100024'].Value[0]['00400032'].Value[0]"),n["IssuerOfPatientIDQualifiersSequence.UniversalEntityIDType"]=B(e.attrs,"['00100024'].Value[0]['00400033'].Value[0]"),this.service.getStudies(n,this.studyWebService.selectedWebService).subscribe(a=>{if(a&&a.length>0){let s=a.length>this._filter.filterModel.limit;e.studies=a.map((l,_)=>new Bv(l,e,o*1+_,s,s||o>0)),e.showStudies=!0,s&&e.studies.pop();}else this.appService.showMsg("No matching Studies found!");this.cfpLoadingBar.complete();},a=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(a);});}getStudies(e){this.cfpLoadingBar.start(),this.searchCurrentList="",this.service.getStudies(e,this.studyWebService.selectedWebService).subscribe(n=>{if(this.patients=[],this._filter.filterModel.offset=e.offset,po.production,n){this.setTopToTableHeader();let o=0,a,s,l,_=this.patientAttributes.dcmTag;for(;_&&_[o]<"00201200";)o++;_.splice(o,0,"00201200"),_.push("77770010","77771010","77771011","77771012","77771013","77771014"),n.forEach((f,g)=>{l={},this.service.extractAttrs(f,_,l),a&&this.service.equalsIgnoreSpecificCharacterSet(a.attrs,l)||(a=new Uc(l,[],!1,!0),this.patients.push(a)),s=new Bv(f,a,this._filter.filterModel.offset*1+g),a.studies.push(s);}),(this.more=this._filter.filterModel.limit&&n.length>this._filter.filterModel.limit)&&(a.studies.pop(),a.studies.length===0&&this.patients.pop());}else this.appService.showMsg("No Studies found!");this.cfpLoadingBar.complete();},n=>{I.log("Something went wrong on search",n),this.httpErrorHandler.handleError(n),this.cfpLoadingBar.complete();});}getSeries(e){console.log("getSeriesCalled"),this.cfpLoadingBar.start(),this.searchCurrentList="",this.service.getSeries(e,this.studyWebService.selectedWebService).subscribe(n=>{if(this.patients1=[],this.studies=[],this._filter.filterModel.offset=e.offset,n){this.setTopToTableHeader();let o=0,a,s,l,_,f,g=this.patientAttributes.dcmTag,S=this.studyAttributes.dcmTag;for(;g&&g[o]<"00201200";)o++;for(g.splice(o,0,"00201200"),g.push("77770010","77771010","77771011","77771012","77771013","77771014");S&&S[o]<"00201206";)o++;S.splice(o,0,"00201206"),S.push("77770010","77771020","77771021","77771022","77771023","77771024","77771025","77771026","77771027","77771028","77771029","7777102A","7777102B","7777102C"),n.forEach((x,D)=>{_={},f={},this.service.extractAttrs(x,g,_),this.service.extractAttrs(x,S,f),a&&this.service.equalsIgnoreSpecificCharacterSet(a.attrs,_)||(a=new U2(_,[],!1,!0),this.patients1.push(a)),s&&this.service.equalsIgnoreSpecificCharacterSet(a.attrs,f)||(s=new W2(f,a,0,!1,!1,[],!1,!1,!1,!0),a.studies.push(s)),l=new B2(x,a,s,this._filter.filterModel.offset*1+D),s.series.push(l);}),(this.more=this._filter.filterModel.limit&&n.length>this._filter.filterModel.limit)&&(a.studies.pop(),a.studies.length===0&&this.patients.pop(),s.series.pop(),s.series.length===0&&this.studies.pop()),console.log("patient",this.patients1);}else this.appService.showMsg("No Series found!");this.cfpLoadingBar.complete();},n=>{I.log("Something went wrong on search",n),this.httpErrorHandler.handleError(n),this.cfpLoadingBar.complete();});}getSeriesOfStudy(e,n){console.log("in query sersies study=",e),this.cfpLoadingBar.start();let o=this.getFilterClone();n<0&&(n=0),o.offset=n,o.limit&&o.limit++,delete o.aet,o.orderby="SeriesNumber",this.service.getSeriesOfStudy(e.attrs["0020000D"].Value[0],o,this.studyWebService.selectedWebService).subscribe(a=>{if(a){let s=a.length>this._filter.filterModel.limit;a.length===0?(this.appService.showMsg("No matching series found!"),console.log("in reslength 0")):(e.series=a.map((l,_)=>new H2(e,l,n*1+_,s,s||n>0)),s&&e.series.pop(),console.log("study",e),console.log("patients",this.patients),e.showSeries=!0);}else this.appService.showMsg("No matching series found!");this.cfpLoadingBar.complete();},a=>{I.log("Something went wrong on search",a),this.httpErrorHandler.handleError(a),this.cfpLoadingBar.complete();});}getInstances(e,n){this.cfpLoadingBar.start(),n<0&&(n=0);let o=this.getFilterClone();o.limit&&o.limit++,o.offset=n,delete o.aet,o.orderby="InstanceNumber",this.service.getInstances(e.attrs["0020000D"].Value[0],e.attrs["0020000E"].Value[0],o,this.studyWebService.selectedWebService).subscribe(a=>{if(a){let s=a.length>this._filter.filterModel.limit;e.instances=a.map((l,_)=>{let f=I.valueOf(l["00280008"]),g=this.service.createGSPSQueryParams(l),S=this.service.isVideo(l),x=this.service.isImage(l);return new q2(e,n*1+_,l,new Y2(l["0020000D"].Value[0],l["0020000E"].Value[0],l["00080018"].Value[0]),S,x,f,g,this.service.createArray(S||f||g.length||1),1,this._filter.filterModel.limit||20,s,s||n>0);}),s&&e.instances.pop(),console.log(e),console.log(this.patients),e.showInstances=!0;}else e.instances=[],(e.moreInstances=e.instances.length>this._filter.filterModel.limit)&&(e.instances.pop(),this.appService.showMsg("No matching Instances found!"));this.cfpLoadingBar.complete();},a=>{I.log("Something went wrong on search",a),this.httpErrorHandler.handleError(a),this.cfpLoadingBar.complete();});}entryFilterChanged(e){console.log("e",e),console.log("this.studyWebService",this.studyWebService);}filterChanged(){this.studyWebService&&B(this.studyWebService,"selectedWebService.dcmWebAppName")!=B(this.filter,"filterModel.webApp")&&(this.studyWebService.seletWebAppFromWebAppName(B(this.filter,"filterModel.webApp")),this.onStudyWebServiceChange.emit(this.studyWebService),this.internal=!(this.appService.archiveDeviceName&&A(this.studyWebService,"selectedWebService.dicomDeviceName")&&this.studyWebService.selectedWebService.dicomDeviceName!=this.appService.archiveDeviceName),this.internal?this._filter.filterModel.includefield="all":delete this._filter.filterModel.includefield,A(this.studyWebService.selectedWebService,"dcmProperty[0]")&&this.studyWebService.selectedWebService.dcmProperty.forEach(e=>{if(e.indexOf("MWLWorklistLabel=")>-1){let n=e;n=n.replace("MWLWorklistLabel=",""),this.filter.filterModel.WorklistLabel=n;}}),this.setMainSchema(),this.setTrash(),this.patients=[]),this.triggerSubmitOnQueryParams(),this.onFilterChange.emit(this.filter.filterModel);}triggerSubmitOnQueryParams(){this.querySubmit&&this.studyWebService&&this.studyWebService.selectedWebService&&(this.querySubmit=!1,this.search("current",{id:"submit"}));}actionsSelectionsFilterPipe(e,n){console.log("args",n);let o=n[0],a=n[1],s=n[2];return e.filter(l=>{switch(l.value){case"delete_object":return o&&a;case"restore_object":return o&&a;case"reject_object":return!a&&s&&(s.tab==="study"||s.tab==="series");case"change_sps_status_on_selections":return s&&s.tab==="mwl";case"update_access_control_id_to_selections":case"send_storage_commitment_request_for_selections":case"send_ian_request_for_selections":case"storage_verification_for_selections":case"export_object":return o&&s&&(s.tab==="study"||s.tab==="series");case"retrieve_object":return!o&&s&&s.tab==="study";default:return!0;}});}setSchema(){try{this.synchronizeSelectedWebAppWithFilter(),this._filter.filterSchemaMain.lineLength=void 0,this._filter.filterSchemaExpand.lineLength=void 0,this._filter.filterSchemaMain.schema=void 0,this._filter.filterSchemaExpand.schema=void 0,this.setMainSchema(),this._filter.filterSchemaExpand=this.service.getFilterSchema(this.studyConfig.tab,this.applicationEntities.aes,this._filter.quantityText,"expand",this.storages,this.institutions),this.changeDetector.detectChanges();}catch(e){I.log("Error on schema set",e);}}setMainSchema(){let e=this.studyConfig.tab=="mwl"||this.studyConfig.tab=="mpps"||this.studyConfig.tab=="uwl"?!!this.studyWebService.selectedWebService:A(this.studyWebService,"selectedWebService.dcmWebServiceClass")&&this.studyWebService.selectedWebService.dcmWebServiceClass.indexOf("QIDO_COUNT")>-1,n=A(this.studyWebService,"selectedWebService.dcmWebServiceClass")&&this.studyWebService.selectedWebService.dcmWebServiceClass.indexOf("DCM4CHEE_ARC_AET")>-1;this._filter.filterSchemaMain=this.service.getFilterSchema(this.studyConfig.tab,this.applicationEntities.aes,this._filter.quantityText,"main",this.storages,this.institutions,this.studyWebService,this.diffAttributeSets,e,n,this.filter),this.filterButtonPath.count=I.getPath(this._filter.filterSchemaMain.schema,"id","count"),this.filterButtonPath.size=I.getPath(this._filter.filterSchemaMain.schema,"id","size"),this.filterButtonPath.count&&this.filterButtonPath.count.pop(),this.filterButtonPath.size&&this.filterButtonPath.size.pop();}synchronizeSelectedWebAppWithFilter(){this.studyWebService&&this.studyWebService.selectedWebService&&(!A(this._filter.filterModel,"webApp")||this._filter.filterModel.webApp.dcmWebAppName!=this.studyWebService.selectedWebService.dcmWebAppName)&&(this.filter.filterModel.webApp=this.studyWebService.selectedWebService.dcmWebAppName);}accessLocationChange(e){console.log("e",e.value),this.setSchema();}getPatientAttributeFilters(){this.service.getAttributeFilter().subscribe(e=>{this.patientAttributes=e;},e=>{I.log("Something went wrong on getting Patient Attributes",e),this.httpErrorHandler.handleError(e);});}getStudyAttributeFilters(){this.service.getAttributeFilter("Study").subscribe(e=>{this.studyAttributes=e;},e=>{I.log("Something went wrong on getting Study Attributes",e),this.httpErrorHandler.handleError(e);});}getDevices(){return new ct(e=>{this.service.getDevices().subscribe(n=>{e.next(n);},n=>{e.next([]);});});}createPatient(){let e={saveLabel:"CREATE",titleLabel:"Create new patient"},n={attrs:{"00100010":{vr:"PN",Value:[{Alphabetic:""}]},"00100020":{vr:"LO",Value:[""]},"00100021":{vr:"LO",Value:[""]},"00100030":{vr:"DA",Value:[""]},"00100040":{vr:"CS",Value:[""]}}};this.modifyPatient(n,"create",e);}supplementIssuer(){this.confirm({content:"Supplement new Issuer",doNotSave:!0,form_schema:[[[{tag:"label",text:"Issuer of Patient"},{tag:"input",type:"text",filterKey:"issuerOfPatient",description:"Issuer of Patient",placeholder:"Issuer of Patient"}],[{tag:"label",text:"Test"},{tag:"checkbox",filterKey:"testSupplement",description:"Only test, without actually supplementing"}]]],result:{schema_model:{}},saveButton:"SUPPLEMENT"}).subscribe(e=>{e&&(this.cfpLoadingBar.start(),this.service.supplementIssuer(e.schema_model.issuerOfPatient,e.schema_model.testSupplement,this.createPatientFilterParams(!0),this.studyWebService).subscribe(n=>{this.cfpLoadingBar.complete(),this.appService.showMsgSupplementIssuer(n);},n=>{this.cfpLoadingBar.complete(),this.appService.showMsgSupplementIssuer(n.error);}));});}updateCharset(){this.confirm({content:"Update Character Set of Patients",doNotSave:!0,form_schema:[[[{tag:"label",text:"Character Set"},{tag:"select",options:[{value:"ISO_IR 100",text:"Latin alphabet No. 1",title:"Latin alphabet No. 1 (ISO_IR 100)"},{value:"ISO_IR 101",text:"Latin alphabet No. 2",title:"Latin alphabet No. 2 (ISO_IR 101)"},{value:"ISO_IR 109",text:"Latin alphabet No. 3",title:"Latin alphabet No. 3 (ISO_IR 109)"},{value:"ISO_IR 110",text:"Latin alphabet No. 4",title:"Latin alphabet No. 4 (ISO_IR 110)"},{value:"ISO_IR 148",text:"Latin alphabet No. 5",title:"Latin alphabet No. 5 (ISO_IR 1148)"},{value:"ISO_IR 127",text:"Arabic",title:"Arabic (ISO_IR 127)"},{value:"ISO_IR 144",text:"Cyrillic",title:"Cyrillic (ISO_IR 144)"},{value:"ISO_IR 126",text:"Greek",title:"Greek (ISO_IR 126)"},{value:"ISO_IR 138",text:"Hebrew",title:"Hebrew (ISO_IR 138)"},{value:"ISO_IR 13",text:"Japanese",title:"Japanese (ISO_IR 13)"},{value:"ISO_IR 166",text:"Thai",title:"Thai (ISO_IR 166)"},{value:"ISO_IR 192",text:"Unicode in UTF-8",title:"Unicode in UTF-8 (ISO_IR 192)"},{value:"GB18030",text:"GB18030",title:"GB18030 (GB18030)"},{value:"GBK",text:"GBK",title:"GBK (GBK)"}],filterKey:"charset",description:"Character Set",placeholder:"Character Set"}],[{tag:"label",text:"Test"},{tag:"checkbox",filterKey:"testUpdateCharset",description:"Only test, without actually updating charset"}]]],result:{schema_model:{}},saveButton:"UPDATE"}).subscribe(e=>{e&&(this.cfpLoadingBar.start(),this.service.updateCharset(e.schema_model.charset,e.schema_model.testUpdateCharset,this.createPatientFilterParams(!0),this.studyWebService).subscribe(n=>{this.cfpLoadingBar.complete(),this.appService.showMsgUpdateCharsets(n);},n=>{this.cfpLoadingBar.complete(),this.appService.showMsgUpdateCharsets(n.error);}));});}subscribeUWL(e,n,o,a){this.modifyUPS(e,"subscribe",n,{saveLabel:"SUBSCRIBE",titleLabel:o},a);}createUPS(){this.modifyUPS(void 0,"create",void 0,{saveLabel:"CREATE",titleLabel:"Create new UPS Workitem"},"UPS Workitem created successfully at ");}cloneUPS(e){this.modifyUPS(e,"clone",void 0,{saveLabel:"CLONE",titleLabel:"Clone UPS Workitem"},"UPS Workitem cloned successfully at ");}editUPS(e){this.modifyUPS(e,"edit",void 0,{saveLabel:"SAVE",titleLabel:"Edit UPS Workitem"},"UPS Workitem updated successfully");}modifyUPS(e,n,o,a,s){let l;this.service.getUPSIod(n).subscribe(_=>{(n==="edit"||n==="clone"||n==="subscribe"&&o==="ups")&&(l=Oe(e),e.attrs=I.intersection(e.attrs,_),n==="clone"&&(delete e.attrs["00741000"],Ue(e.attrs,"00741000.Value[0]","SCHEDULED"))),(n==="create"&&!e||n==="subscribe"&&o==="uwl")&&(e={attrs:{}},Object.keys(_).forEach(f=>{(_[f].required&&_[f].required===1||f==="00741202"||f==="00404005")&&(e.attrs[f]=Oe(_[f]));}),n==="create"&&(delete e.attrs["00741000"],Ue(e.attrs,"00741000.Value[0]","SCHEDULED"))),this.service.initEmptyValue(e.attrs),this.dialogRef=this.dialog.open(f2,{height:"auto",width:"90%"}),this.dialogRef.componentInstance.mode=n,this.dialogRef.componentInstance.subscribeType=o,this.dialogRef.componentInstance.ups=e,this.dialogRef.componentInstance.dropdown=this.service.getArrayFromIod(_),this.dialogRef.componentInstance.iod=this.service.replaceKeyInJson(_,"items","Value"),this.dialogRef.componentInstance.saveLabel=a.saveLabel,this.dialogRef.componentInstance.titleLabel=a.titleLabel,this.dialogRef.afterClosed().subscribe(f=>{if(f){I.removeKeyFromObject(e.attrs,["required","enum","multi"]);let g=S=>{let x=Oe(e);S&&(A(x,"attrs.00404005")&&delete x.attrs["00404005"],s="UPS template created successfully at "),this.service.modifyUPS(void 0,x.attrs,this.studyWebService,s,n,S).subscribe(D=>{this.appService.showMsg(s);});};if(n==="edit"&&this.service.modifyUPS(this.service.getUpsWorkitemUID(l.attrs),e.attrs,this.studyWebService,s,n).subscribe(S=>{this.appService.showMsg(s);}),(n==="create"||n==="clone")&&f.templateParameter&&(f.templateParameter==="template_too"?(g(!0),g()):g(f.templateParameter!="no_template")),n==="subscribe"){let S="";(f.result.subscribeMode==="filtered"||o==="ups")&&Object.keys(_).forEach(D=>{if(A(e.attrs,D)&&A(e.attrs[D],"Value")&&e.attrs[D].Value[0]!=""){console.log("ups iod dicom attr is ",D,"   ",e.attrs[D].Value[0]);let R=e.attrs[D].vr;if(R==="PN"){let j=e.attrs[D].Value[0].Alphabetic;S+=D+"="+Pn(j,"^","%5E")+"&";}else if(R!="SQ"){let j=e.attrs[D].Value[0];S+=D+"="+Pn(j," ","%20")+"&";}else if(D==="00404034"){let j=e.attrs[D].Value[0];if(A(j["00404009"],"Value")){let V=j["00404009"].Value[0];S+=D+".00404009.00080100="+V["00080100"].Value[0]+"&",S+=D+".00404009.00080102="+V["00080102"].Value[0]+"&";let ie=V["00080104"].Value[0];ie&&ie!=""&&(S+=D+".00404009.00080104="+Pn(ie," ","%20")+"&");}if(A(j["00404036"],"Value")){let V=j["00404036"].Value[0];V&&V!=""&&(S+=D+".00404036="+Pn(V," ","%20")+"&");}if(A(j["00404037"],"Value")){let V=j["00404037"].Value[0].Alphabetic;V&&V!=""&&(S+=D+".00404037="+Pn(V,"^","%5E")+"&");}}else if(!(D==="00404021"||D==="0040A370")){let j=e.attrs[D].Value[0];if(j&&j!=""){S+=D+".00080100="+j["00080100"].Value[0]+"&",S+=D+".00080102="+j["00080102"].Value[0]+"&";let V=j["00080104"].Value[0];V&&V!=""&&(S+=D+".00080104="+Pn(V," ","%20")+"&");}}}}),f.result.deletionlock===!0&&(S+="deletionlock=true"),console.log("ups params for subscription is ",S);let x=o==="ups"?this.service.getUpsWorkitemUID(l.attrs):f.result.subscribeMode==="global"?"1.2.840.10008.5.1.4.34.5":"1.2.840.10008.5.1.4.34.5.1";this.service.subscribeUPS(x,S,this.studyWebService,f.result.subscriberAET).subscribe(D=>{this.appService.showMsg(s);},D=>{this.httpErrorHandler.handleError(D);});}}else $r(e,l);this.dialogRef=null;});});}rescheduleUPS(e){this.confirm({content:"Reschedule",doNotSave:!0,form_schema:[[[{tag:"label",text:"UID of new created Workitem"},{tag:"input",type:"text",filterKey:"newWorkitem",description:"UID of new created Workitem",placeholder:"UID of new created Workitem"}],[{tag:"label",text:"Scheduled Procedure Step Start DateTime"},{tag:"single-date-time-picker",type:"text",filterKey:"upsScheduledTime",description:"Scheduled Procedure Step Start DateTime (0040,4005) as in created UPS",placeholder:"Scheduled Procedure Step Start DateTime"}]]],result:{schema_model:{}},saveButton:"RESCHEDULE"}).subscribe(n=>{n&&this.service.rescheduleUPS(this.service.getUpsWorkitemUID(e.attrs),this.studyWebService,n.schema_model).subscribe(o=>{this.appService.showMsg("UPS Workitem rescheduled successfully!");},o=>{this.httpErrorHandler.handleError(o);});});}unsubscribeOrSuspendUWL(e){this.confirm({content:e===!0?"Suspend Unified Worklist":"Unsubscribe from Unified Worklist",doNotSave:!0,form_schema:[[[{tag:"label",text:"Subscriber AET"},{tag:"select",type:"text",options:this.applicationEntities.aes,filterKey:"subscriber",description:"Subscriber AET",placeholder:"Subscriber AET"}],[{tag:"label",text:"Unified Worklist Type"},{tag:"select",options:[new G("1.2.840.10008.5.1.4.34.5","Global Worklist"),new G("1.2.840.10008.5.1.4.34.5.1","Filtered Worklist")],filterKey:"uwlType",description:e===!0?"Select Unified Worklist to suspend":"Select Unified Worklist to unsubscribe from",placeholder:"Unified Worklist Type"}]]],result:{schema_model:{}},saveButton:e===!0?"SUSPEND":"UNSUBSCRIBE"}).subscribe(n=>{n&&(n.schema_model.subscriber===void 0&&this.appService.showWarning("Subscriber AET should be set"),n.schema_model.uwlType===void 0?this.appService.showWarning(e===!0?"Unified Worklist to suspend should be set":"Unified Worklist to unsubscribe from should be set"):this.service.unsubscribeOrSuspendUPS(e,n.schema_model.uwlType,this.studyWebService,n.schema_model.subscriber).subscribe(o=>{this.appService.showMsg(e===!0?"Unified Worklist was suspended successfully!":"Unified Worklist was unsubscribed successfully!");},o=>{this.httpErrorHandler.handleError(o);}));});}unsubscribeUPS(e){this.confirm({content:"Unsubscribe UPS Workitem",doNotSave:!0,form_schema:[[[{tag:"label",text:"Subscriber AET"},{tag:"select",type:"text",options:this.applicationEntities.aes,filterKey:"subscriber",description:"Subscriber AET",placeholder:"Subscriber AET"}]]],result:{schema_model:{}},saveButton:"UNSUBSCRIBE"}).subscribe(n=>{n&&(n.schema_model.subscriber===void 0?this.appService.showWarning("Subscriber AET should be set"):this.service.unsubscribeOrSuspendUPS(!1,this.service.getUpsWorkitemUID(e.attrs),this.studyWebService,n.schema_model.subscriber).subscribe(o=>{this.appService.showMsg("UPS Workitem was unsubscribed successfully!");},o=>{this.httpErrorHandler.handleError(o);}));});}changeUPSState(e){this.confirm({content:"Change Workitem State",doNotSave:!0,form_schema:[[[{tag:"label",text:"AET of a Requester"},{tag:"select",type:"text",options:this.applicationEntities.aes,filterKey:"requester",description:"AET of a Requester",placeholder:"AET of a Requester"}],[{tag:"label",text:"Transaction UID"},{tag:"input",type:"text",filterKey:"transactionUID",description:"Transaction UID",placeholder:"Transaction UID"}],[{tag:"label",text:"Procedure Step State"},{tag:"select",options:[new G("IN PROGRESS","IN PROGRESS"),new G("CANCELED","CANCELED"),new G("COMPLETED","COMPLETED")],filterKey:"upsState",description:"UPS Procedure Step State",placeholder:"Procedure Step State"}]]],result:{schema_model:{}},saveButton:"APPLY"}).subscribe(n=>{if(n){if(n.schema_model.requester===void 0)this.appService.showWarning("Requester AET should be set");else if(n.schema_model.upsState===void 0)this.appService.showWarning("Procedure Step State should be set");else if(n.schema_model.upsState==="IN PROGRESS"&&n.schema_model.transactionUID===void 0)this.appService.showWarning("Transaction UID must be set to change UPS state to IN PROGRESS");else if(n.schema_model.requester&&n.schema_model.upsState){let o='{"00741000":{"vr":"CS","Value":["'+n.schema_model.upsState;n.schema_model.transactionUID===void 0?o+='"]}}':o+='"]},"00081195":{"vr":"UI","Value":["'+n.schema_model.transactionUID+'"]}}',this.service.changeUPSState(this.service.getUpsWorkitemUID(e.attrs),this.studyWebService,n.schema_model.requester,o).subscribe(a=>{this.appService.showMsg("UPS Workitem state was changed successfully!");});}}});}cancelUPS(e){this.confirm({content:"Request Cancellation of Workitem",doNotSave:!0,form_schema:[[[{tag:"label",text:"AET of a Requester"},{tag:"select",type:"text",options:this.applicationEntities.aes,filterKey:"requester",description:"AET of a Requester",placeholder:"AET of a Requester"}],[{tag:"label",text:"Reason for Cancellation"},{tag:"input",type:"text",filterKey:"reasonForCancellation",description:"Reason for Cancellation",placeholder:"Reason for Cancellation"}],[{tag:"label",text:"Procedure Step Discontinuation Reason Code Sequence"}],[{tag:"label",text:"Code Value"},{tag:"input",type:"text",filterKey:"codeValue",description:"Code Value",placeholder:"Code Value"}],[{tag:"label",text:"Coding Scheme Designator"},{tag:"input",type:"text",filterKey:"codingSchemeDesignator",description:"Coding Scheme Designator",placeholder:"Coding Scheme Designator"}],[{tag:"label",text:"Code Meaning"},{tag:"input",type:"text",filterKey:"codeMeaning",description:"Code Meaning",placeholder:"Code Meaning"}],[{tag:"label",text:"Contact URI"},{tag:"input",type:"text",filterKey:"contactURI",description:"Contact URI",placeholder:"Contact URI"}],[{tag:"label",text:"Contact Display Name"},{tag:"input",type:"text",filterKey:"contactName",description:"Contact Display Name",placeholder:"Contact Display Name"}]]],result:{schema_model:{codeValue:"110513",codingSchemeDesignator:"DCM",codeMeaning:"Discontinued for unspecified reason"}},saveButton:"Cancel UPS"}).subscribe(n=>{if(n){let o=this.requestUPSCancelActionInfoAttrs(n.schema_model);console.log("created requestUPSCancelActionInfoAttrs are.........",o),this.service.requestCancellationForUPS(this.service.getUpsWorkitemUID(e.attrs),this.studyWebService,n.schema_model.requester,o).subscribe(a=>{this.appService.showMsg("Cancellation of the UPS Workitem was requested successfully!");});}});}requestUPSCancelActionInfoAttrs(e){let n;e.codeValue&&e.codingSchemeDesignator&&e.codeMeaning&&(n='"0074100E":{"vr":"SQ","Value":[{"00080100":{"vr":"SH","Value":["'+e.codeValue+'"]},"00080102":{"vr":"SH","Value":["'+e.codingSchemeDesignator+'"]},"00080104":{"vr":"LO","Value":["'+e.codeMeaning+'"]}}]}');let o="{";return e.reasonForCancellation?(o+='"00741238":{"vr":"LT","Value":["'+e.reasonForCancellation+'"]}',e.contactURI&&(o+=',"0074100A":{"vr":"UR","Value":["'+e.contactURI+'"]}'),e.contactName&&(o+=',"0074100C":{"vr":"LO","Value":["'+e.contactName+'"]}'),n&&(o+=","+n)):e.contactURI?(o+='"0074100A":{"vr":"UR","Value":["'+e.contactURI+'"]}',e.contactName&&(o+=',"0074100C":{"vr":"LO","Value":["'+e.contactName+'"]}'),n&&(o+=","+n)):e.contactName?(o+='"0074100C":{"vr":"LO","Value":["'+e.contactName+'"]}',n&&(o+=","+n)):n&&(o+=n),o+="}",o;}editPatient(e){let n={saveLabel:"SAVE",titleLabel:"Edit patient "};n.titleLabel+=A(e,"attrs.00100010.Value.0.Alphabetic")?"<b>"+e.attrs["00100010"].Value[0].Alphabetic+"</b>":" ",n.titleLabel+=A(e,"attrs.00100020.Value.0")?" with ID: <b>"+e.attrs["00100020"].Value[0]+"</b>":"",this.modifyPatient(e,"edit",n);}modifyPatient(e,n,o){let a;n==="edit"&&(a=Oe(e)),this.lastPressedCode=0,this.service.getPatientIod().subscribe(s=>{let l=Oe(e),_;[l.attrs,_]=new Zp().transform(e.attrs,[s,"both"]),this.service.initEmptyValue(l.attrs),this.dialogRef=this.dialog.open(WA,{height:"auto",width:"90%"}),this.dialogRef.componentInstance.mode=n,this.dialogRef.componentInstance.patient=l,this.dialogRef.componentInstance.dropdown=this.service.getArrayFromIod(s),this.dialogRef.componentInstance.iod=this.service.replaceKeyInJson(s,"items","Value"),this.dialogRef.componentInstance.saveLabel=o.saveLabel,this.dialogRef.componentInstance.titleLabel=o.titleLabel,this.dialogRef.afterClosed().subscribe(f=>{if(f){let g=re(re({},f.attrs),_);I.removeKeyFromObject(g,["required","enum","multi"]),n==="create"?this.service.modifyPatient(void 0,g,this.studyWebService).subscribe(S=>{this.appService.showMsg("Patient created successfully");},S=>{this.httpErrorHandler.handleError(S);}):this.service.modifyPatient(this.service.getPatientId(a.attrs),g,this.studyWebService).subscribe(S=>{this.appService.showMsg("Patient updated successfully");},S=>{$r(e,a),this.httpErrorHandler.handleError(S);}),e.attrs=g;}else $r(e,a);this.dialogRef=null;});},s=>{this.httpErrorHandler.handleError(s),console.log("error",s);});}recreateDBRecord(e,n){this.confirm({content:"Reset to as received",doNotSave:!0,form_schema:[[[{tag:"label",text:"Source of Previous Values"},{tag:"input",type:"text",filterKey:"sourceOfPreviousValues",description:"Source of Previous Values (0400,0561) stored with original Attributes in Original Attributes Sequence (0400,0561)",placeholder:"Source of Previous Values"}],[{tag:"label",text:"Reason for Modification"},{tag:"select",type:"text",options:[new G("COERCE","COERCE"),new G("CORRECT","CORRECT")],filterKey:"reasonForModification",description:"Store original values of modified Attributes in Original Attributes Sequence (0400,0561) with given Reason for the Attribute Modification (0400,0565)",placeholder:"Reason for Modification"}],[{tag:"label",text:"Update Policy"},{tag:"select",type:"text",options:[new G("SUPPLEMENT","SUPPLEMENT"),new G("MERGE","MERGE"),new G("OVERWRITE","OVERWRITE")],filterKey:"updatePolicy",description:"Update Policy for modification of original attributes",placeholder:"Update Policy"}],[{tag:"label",text:"Read Pixel Data from Storage"},{tag:"checkbox",filterKey:"readPixelData"}],[{tag:"dynamic-attributes",iodFileNames:["patient","study"]}]]],result:{schema_model:{}},saveButton:"RESET"}).subscribe(o=>{o&&(this.cfpLoadingBar.start(),this.service.recreateDBRecord(o.schema_model,this.studyWebService.selectedWebService,n).subscribe(a=>{this.cfpLoadingBar.complete(),this.appService.showMsg("Process executed successfully"),console.log("res",a);},a=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(a);}));});}updateAccessControlId(e,n,o){let a=e==="matching_studies"||e==="matching_series",s;switch(e){case"matching_studies":s="of matching studies";break;case"matching_series":s="of matching series";break;case"study":s=" of the study";break;case"series":s=" of the series";break;case"update_access_control_id_to_selections":s=" of the selected entities";break;}this.confirm({content:"Update Access Control ID "+s+"",doNotSave:!0,form_schema:[[[{tag:"label",text:"Access Control ID"},{tag:"input",type:"text",filterKey:"accessControlID",description:"Access Control ID",placeholder:"Access Control ID"}]]],result:{schema_model:{}},saveButton:"UPDATE"}).subscribe(l=>{if(l){let _,f;a?(_=this.service.updateAccessControlIdMatching(this.studyWebService,e,l.schema_model.accessControlID||"null",this.createStudyFilterParams(!0,!0)),f=e==="matching_studies"?"Access Control ID updated successfully to matching studies":"Access Control ID updated successfully to matching series"):e==="update_access_control_id_to_selections"?(_=this.service.updateAccessControlIdOfSelections(this.selectedElements,this.studyWebService,l.schema_model.accessControlID||"null"),f="Access Control ID updated successfully to selected entities!"):(_=this.service.updateAccessControlIdSingle(o.attrs,this.studyWebService,e,l.schema_model.accessControlID||"null"),f=e==="study"?"Access Control ID updated successfully to the study!":"Access Control ID updated successfully to the series!"),this.cfpLoadingBar.start(),_.subscribe(g=>{this.cfpLoadingBar.complete(),a&&(f=I.prepareCountMessage(f,g)),this.appService.showMsg(f),n==="update_access_control_id_to_selections"&&this.clearClipboard();},g=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(g);});}});}sendStorageCommitmentRequestSingle(e,n){let o;switch(e){case"series":o="Request Storage Commitment of Series from external Storage Commitment SCP";break;case"instance":o="Request Storage Commitment of Instance from external Storage Commitment SCP";break;default:o="Request Storage Commitment of Study from external Storage Commitment SCP";break;}console.log("archiveDevice",this.appService.archiveDeviceName),this.confirm({content:o,doNotSave:!0,form_schema:[[[{tag:"label",text:"Storage Commitment SCP AE Title"},{tag:"select",type:"text",options:this.applicationEntities.aes.filter(a=>a.wholeObject.dicomDeviceName!=this.appService.archiveDeviceName),filterKey:"stgCmtSCP",description:"Storage Commitment SCP AE Title",placeholder:"Storage Commitment SCP AE Title"}]]],result:{schema_model:{}},saveButton:"SEND"}).subscribe(a=>{if(a&&A(a,"schema_model.stgCmtSCP")){let s,l;if(e){switch(e){case"series":l="Storage Commitment of Series from external Storage Commitment SCP was requested successfully";break;case"instance":l="Storage Commitment of Instance from external Storage Commitment SCP was requested successfully";break;default:l="Storage Commitment of Study from external Storage Commitment SCP was requested successfully";break;}s=this.service.sendStorageCommitmentRequestForSingle(n.attrs,this.studyWebService,e,a.schema_model.stgCmtSCP);}else l="Storage Commitment of selected objects from external Storage Commitment SCP was requested successfully",s=this.service.sendStorageCommitmentRequestForSelected(this.selectedElements,this.studyWebService,a.schema_model.stgCmtSCP);this.cfpLoadingBar.start(),s.subscribe(_=>{this.cfpLoadingBar.complete(),this.appService.showMsg(l),e||this.clearClipboard();},_=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(_);});}});}sendStorageCommitmentRequestMatchingStudies(){let e="Schedule Storage Commitment of matching Studies from external Storage Commitment SCP";console.log("archiveDevice",this.appService.archiveDeviceName),this.confirm({content:e,doNotSave:!0,form_schema:[[[{tag:"label",text:"Storage Commitment SCP AE Title"},{tag:"select",type:"text",options:this.applicationEntities.aes.filter(n=>n.wholeObject.dicomDeviceName!=this.appService.archiveDeviceName),filterKey:"stgCmtSCP",description:"Storage Commitment SCP AE Title",placeholder:"Storage Commitment SCP AE Title"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{}},saveButton:"SEND"}).subscribe(n=>{if(n&&A(n,"schema_model.stgCmtSCP")){let o=n.schema_model.stgCmtSCP;delete n.schema_model.stgCmtSCP;let a=this.service.sendStorageCommitmentRequestForMatchingStudies(this.studyWebService,o,zr(n.schema_model,this.createStudyFilterParams(!0,!0))),s="Storage Commitment of matching Studies from external Storage Commitment SCP was scheduled successfully";this.cfpLoadingBar.start(),a.subscribe(l=>{this.cfpLoadingBar.complete(),s=I.prepareCountMessage(s,l),this.appService.showMsg(s);},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);});}});}sendStorageCommitmentRequestMatchingSeries(){let e="Schedule Storage Commitment of matching Series from external Storage Commitment SCP";console.log("archiveDevice",this.appService.archiveDeviceName),this.confirm({content:e,doNotSave:!0,form_schema:[[[{tag:"label",text:"Storage Commitment SCP AE Title"},{tag:"select",type:"text",options:this.applicationEntities.aes.filter(n=>n.wholeObject.dicomDeviceName!=this.appService.archiveDeviceName),filterKey:"stgCmtSCP",description:"Storage Commitment SCP AE Title",placeholder:"Storage Commitment SCP AE Title"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}]]],result:{schema_model:{}},saveButton:"SEND"}).subscribe(n=>{if(n&&A(n,"schema_model.stgCmtSCP")){let o=n.schema_model.stgCmtSCP;delete n.schema_model.stgCmtSCP;let a=this.service.sendStorageCommitmentRequestForMatchingSeries(this.studyWebService,o,zr(n.schema_model,this.createStudyFilterParams(!0,!0))),s="Storage Commitment of matching Series from external Storage Commitment SCP was scheduled successfully";this.cfpLoadingBar.start(),a.subscribe(l=>{this.cfpLoadingBar.complete(),s=I.prepareCountMessage(s,l),this.appService.showMsg(s);},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);});}});}sendInstanceAvailabilityNotificationSingle(e,n){let o;switch(e){case"series":o="Request Instance Availability of Series to external Instance Availability SCP";break;case"instance":o="Request Instance Availability of Instance to external Instance Availability SCP";break;default:o="Request Instance Availability of Study to external Instance Availability SCP";break;}console.log("archiveDevice",this.appService.archiveDeviceName),this.confirm({content:o,doNotSave:!0,form_schema:[[[{tag:"label",text:"IAN SCP AE Title"},{tag:"select",type:"text",options:this.applicationEntities.aes.filter(a=>a.wholeObject.dicomDeviceName!=this.appService.archiveDeviceName),filterKey:"ianscp",description:"IAN SCP AE Title",placeholder:"Instance Availability Notification SCP AE Title"}]]],result:{schema_model:{}},saveButton:"SEND"}).subscribe(a=>{if(a&&A(a,"schema_model.ianscp")){let s,l;if(e){switch(e){case"series":l="Instance Availability of Series to external Instance Availability SCP was requested successfully";break;case"instance":l="Instance Availability of Instance to external Instance Availability SCP was requested successfully";break;default:l="Instance Availability of Study to external Instance Availability SCP was requested successfully";break;}s=this.service.sendInstanceAvailabilityNotificationForSingle(n.attrs,this.studyWebService,e,a.schema_model.ianscp);}else l="Instance Availability of selected objects to external Instance Availability SCP was requested successfully",s=this.service.sendInstanceAvailabilityNotificationForSelected(this.selectedElements,this.studyWebService,a.schema_model.ianscp);this.cfpLoadingBar.start(),s.subscribe(_=>{this.cfpLoadingBar.complete(),this.appService.showMsg(l),e||this.clearClipboard();},_=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(_);});}});}sendInstanceAvailabilityNotificationMatchingStudies(){let e="Schedule Instance Availability of matching Studies to external Instance Availability SCP";console.log("archiveDevice",this.appService.archiveDeviceName),this.confirm({content:e,doNotSave:!0,form_schema:[[[{tag:"label",text:"IAN SCP AE Title"},{tag:"select",type:"text",options:this.applicationEntities.aes.filter(n=>n.wholeObject.dicomDeviceName!=this.appService.archiveDeviceName),filterKey:"ianscp",description:"IAN SCP AE Title",placeholder:"Instance Availability Notification SCP AE Title"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{}},saveButton:"SEND"}).subscribe(n=>{if(n&&A(n,"schema_model.ianscp")){let o=n.schema_model.ianscp;delete n.schema_model.ianscp;let a=this.service.sendInstanceAvailabilityNotificationForMatchingStudies(this.studyWebService,o,zr(n.schema_model,this.createStudyFilterParams(!0,!0))),s="Instance Availability of matching Studies to external Instance Availability SCP was scheduled successfully";this.cfpLoadingBar.start(),a.subscribe(l=>{this.cfpLoadingBar.complete(),s=I.prepareCountMessage(s,l),this.appService.showMsg(s);},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);});}});}sendInstanceAvailabilityNotificationMatchingSeries(){let e="Schedule Instance Availability of matching Series to external Instance Availability SCP";console.log("archiveDevice",this.appService.archiveDeviceName),this.confirm({content:e,doNotSave:!0,form_schema:[[[{tag:"label",text:"IAN SCP AE Title"},{tag:"select",type:"text",options:this.applicationEntities.aes.filter(n=>n.wholeObject.dicomDeviceName!=this.appService.archiveDeviceName),filterKey:"ianscp",description:"IAN SCP AE Title",placeholder:"Instance Availability Notification SCP AE Title"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{}},saveButton:"SEND"}).subscribe(n=>{if(n&&A(n,"schema_model.ianscp")){let o=n.schema_model.ianscp;delete n.schema_model.ianscp;let a=this.service.sendInstanceAvailabilityNotificationForMatchingSeries(this.studyWebService,o,zr(n.schema_model,this.createStudyFilterParams(!0,!0))),s="Instance Availability of matching Series to external Instance Availability SCP was scheduled successfully";this.cfpLoadingBar.start(),a.subscribe(l=>{this.cfpLoadingBar.complete(),s=I.prepareCountMessage(s,l),this.appService.showMsg(s);},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);});}});}editSeries(e){let n={saveLabel:"SAVE",titleLabel:"Edit series of study "};n.titleLabel+=A(e,"attrs.0020000D.Value.0")?" with IUID: <b>"+e.attrs["0020000D"].Value[0]+"</b>":"",n.titleLabel+=A(e,"attrs.00100010.Value.0.Alphabetic")?" of patient <b>"+e.attrs["00100010"].Value[0].Alphabetic+"</b>":" ",n.titleLabel+=A(e,"attrs.00100020.Value.0")?" with ID: <b>"+e.attrs["00100020"].Value[0]+"</b>":"",this.modifySeries(e,"edit",n);}modifySeries(e,n,o){let a=this,s=Oe(e);n==="edit"&&he(e.attrs,function(l,_){let f="";l.Value&&l.Value.length&&(f=l.Value.join("")),l.Value&&f!=""||delete e.attrs[_];}),this.lastPressedCode=0,this.service.getSeriesIod().subscribe(l=>{let _=a.service.replaceKeyInJson(l,"items","Value"),f=Oe(e);f.attrs=new Zp().transform(e.attrs,_),a.service.initEmptyValue(f.attrs),a.dialogRef=a.dialog.open(Lv,{height:"auto",width:"90%"}),a.dialogRef.componentInstance.seriesResult.series=f,a.dialogRef.componentInstance.dropdown=a.service.getArrayFromIod(l),a.dialogRef.componentInstance.iod=_,a.dialogRef.componentInstance.saveLabel=o.saveLabel,a.dialogRef.componentInstance.titleLabel=o.titleLabel,a.dialogRef.componentInstance.mode=n,a.dialogRef.afterClosed().subscribe(g=>{if(g){a.service.clearPatientObject(f.attrs),a.service.convertStringToNumber(f.attrs);let S={};a.service.appendPatientIdTo(e.attrs,S),he(f.attrs,function(D,R){l[R]&&(S[R]=D);});let x=g.sourceOfPrevVals!=""?g.reasonForModificationResult!=null?"?sourceOfPreviousValues="+g.sourceOfPrevVals+"&reasonForModification="+g.reasonForModificationResult:"?sourceOfPreviousValues="+g.sourceOfPrevVals:g.reasonForModificationResult!=null?"?reasonForModification="+g.reasonForModificationResult:"";this.service.modifySeries(S,this.studyWebService,new At({"Content-Type":"application/dicom+json"}),x,this.service.getStudyInstanceUID(e.attrs),this.service.getSeriesInstanceUID(e.attrs)).subscribe(()=>{a.appService.showMsg("Series saved successfully!");},D=>{a.httpErrorHandler.handleError(D),$r(e,s);});}else $r(e,s);a.dialogRef=null;});});}editStudy(e){let n={saveLabel:"SAVE",titleLabel:"Edit study of patient "};n.titleLabel+=A(e,"attrs.00100010.Value.0.Alphabetic")?"<b>"+e.attrs["00100010"].Value[0].Alphabetic+"</b>":" ",n.titleLabel+=A(e,"attrs.00100020.Value.0")?" with ID: <b>"+e.attrs["00100020"].Value[0]+"</b>":"",this.modifyStudy(e,"edit",n);}updateMatchingStudies(){let e=this;this.service.getStudyIod().subscribe(n=>{let o=e.service.replaceKeyInJson(n,"items","Value"),a={attrs:{}};Object.keys(o).forEach(l=>{o[l].required&&o[l].required===1&&(a.attrs[l]=Oe(o[l]));}),delete a.attrs["0020000D"],this.service.initEmptyValue(a.attrs);let s=Oe(a);this.dialogRef=this.dialog.open(Kp,{height:"auto",width:"90%"}),e.dialogRef.componentInstance.studyResult.editMode="matching",e.dialogRef.componentInstance.studyResult.study=s,this.dialogRef.componentInstance.dropdown=this.service.getArrayFromIod(o),this.dialogRef.componentInstance.iod=this.service.replaceKeyInJson(o,"items","Value"),this.dialogRef.componentInstance.saveLabel="UPDATE",this.dialogRef.componentInstance.titleLabel="Update matching Studies",e.dialogRef.afterClosed().subscribe(l=>{if(l){I.removeKeyFromObject(s.attrs,["required","enum","multi"]),A(s,"attrs.0020000D")&&delete s.attrs["0020000D"];let _={};e.service.appendPatientIdTo(a.attrs,_),he(s.attrs,function(g,S){n[S]&&(_[S]=g);}),this.cfpLoadingBar.start();let f="Studies";this.service.updateMatchingStudies(_,this.studyWebService,new At({"Content-Type":"application/dicom+json"}),this.appService.param(rt(re({},this.createStudyFilterParams(!0,!0)),{updatePolicy:l.updatePolicyResult,sourceOfPreviousValues:l.sourceOfPrevVals,reasonForModification:l.reasonForModificationResult}))).subscribe(g=>{console.log("res",g),this.cfpLoadingBar.complete(),f=I.prepareCountMessageUpdateMatching(f,g),this.appService.showMsg(f);},g=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(g);});}});});}updateMatchingSeries(){let e=this;this.service.getSeriesIod().subscribe(n=>{let o=e.service.replaceKeyInJson(n,"items","Value"),a={attrs:{}};Object.keys(o).forEach(l=>{o[l].required&&o[l].required===1&&(a.attrs[l]=Oe(o[l]));}),delete a.attrs["0020000E"],delete a.attrs["00080060"],delete a.attrs["00080005"],this.service.initEmptyValue(a.attrs);let s=Oe(a);this.dialogRef=this.dialog.open(Lv,{height:"auto",width:"90%"}),e.dialogRef.componentInstance.seriesResult.editMode="matching",e.dialogRef.componentInstance.seriesResult.series=s,this.dialogRef.componentInstance.dropdown=this.service.getArrayFromIod(o),this.dialogRef.componentInstance.iod=this.service.replaceKeyInJson(o,"items","Value"),this.dialogRef.componentInstance.saveLabel="UPDATE",this.dialogRef.componentInstance.titleLabel="Update matching Series",e.dialogRef.afterClosed().subscribe(l=>{if(l){I.removeKeyFromObject(s.attrs,["required","enum","multi"]),A(s,"attrs.0020000E")&&delete s.attrs["0020000E"];let _={};e.service.appendPatientIdTo(a.attrs,_),he(s.attrs,function(g,S){n[S]&&(_[S]=g);}),this.cfpLoadingBar.start();let f="Series";this.service.updateMatchingSeries(_,this.studyWebService.selectedWebService,new At({"Content-Type":"application/dicom+json"}),this.appService.param(rt(re({},this.createStudyFilterParams(!0,!0)),{updatePolicy:l.updatePolicyResult,sourceOfPreviousValues:l.sourceOfPrevVals,reasonForModification:l.reasonForModificationResult}))).subscribe(g=>{console.log("res",g),this.cfpLoadingBar.complete(),f=I.prepareCountMessageUpdateMatching(f,g),this.appService.showMsg(f);},g=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(g);});}});});}createUPSMatchingStudies(){this.confirm({content:"Create UPS Workitems for matching studies",doNotSave:!0,form_schema:[[{tag:"label",text:"UPS Label"},{tag:"input",type:"text",filterKey:"upsLabel",placeholder:"UPS Label",description:"Value of Procedure Step Label (0074,1204) in created UPS."}],[{tag:"label",text:"UPS Scheduled Time"},{tag:"single-date-time-picker",type:"text",filterKey:"upsScheduledTime",placeholder:"UPS Scheduled Time",description:"Scheduled Procedure Step Start DateTime (0040,4005) as in created UPS."}]],result:{schema_model:{}},saveButton:"CREATE"}).subscribe(e=>{e&&(this.cfpLoadingBar.start(),this.service.createUPSMatchingStudies(this.studyWebService.selectedWebService,zr(e.schema_model,this.createStudyFilterParams(!0,!0))).subscribe(n=>{console.log("res",n);let o="";try{o=n.count;}catch(a){I.log("Could not get count from res=",a);}this.appService.showMsg("UPS Workitems created successfully for "+o+" studies"),this.cfpLoadingBar.complete();},n=>{this.httpErrorHandler.handleError(n),this.cfpLoadingBar.complete();}));});}modifyStudy(e,n,o){let a=this,s=Oe(e);n==="edit"&&he(e.attrs,function(l,_){let f="";l.Value&&l.Value.length&&(f=l.Value.join("")),l.Value&&f!=""||delete e.attrs[_];}),this.lastPressedCode=0,this.service.getStudyIod().subscribe(l=>{let _=a.service.replaceKeyInJson(l,"items","Value"),f=Oe(e);f.attrs=new Zp().transform(e.attrs,_),a.service.initEmptyValue(f.attrs),a.dialogRef=a.dialog.open(Kp,{height:"auto",width:"90%"}),a.dialogRef.componentInstance.studyResult.study=f,a.dialogRef.componentInstance.dropdown=a.service.getArrayFromIod(l),a.dialogRef.componentInstance.iod=_,a.dialogRef.componentInstance.saveLabel=o.saveLabel,a.dialogRef.componentInstance.titleLabel=o.titleLabel,a.dialogRef.componentInstance.mode=n,a.dialogRef.afterClosed().subscribe(g=>{if(g){let S=g.sourceOfPrevVals!=""?g.reasonForModificationResult!=null?"?sourceOfPreviousValues="+g.sourceOfPrevVals+"&reasonForModification="+g.reasonForModificationResult:"?sourceOfPreviousValues="+g.sourceOfPrevVals:g.reasonForModificationResult!=null?"?reasonForModification="+g.reasonForModificationResult:"";a.service.clearPatientObject(f.attrs),a.service.convertStringToNumber(f.attrs);let x={};a.service.appendPatientIdTo(e.attrs,x),he(f.attrs,function(D,R){l[R]&&(x[R]=D);}),this.service.modifyStudy(x,this.studyWebService,new At({"Content-Type":"application/dicom+json"}),S,this.service.getStudyInstanceUID(e.attrs)).subscribe(()=>{a.appService.showMsg("Study saved successfully!");},D=>{a.httpErrorHandler.handleError(D),$r(e,s);});}else $r(e,s);a.dialogRef=null;});});}setExpiredDate(e){this.setExpiredDateQuery(e,!1);}setExpiredDateSeries(e){this.setExpiredDateQuerySeries(e);}markAsRequestedOrUnscheduled(e,n){let o,a;n==="series"?(o="Select mark mode to mark series as Requested or Unscheduled",a="Mark series as Requested or Unscheduled"):(o="Select mark mode to mark all series of study as Requested or Unscheduled",a="Mark all series of study as Requested or Unscheduled"),this.service.getRequestSchema().subscribe(([s,l])=>{let _=[[{tag:"label",text:"Mark mode"},{tag:"select",options:[new G("requested","Requested"),new G("unscheduled","Unscheduled")],filterKey:"markMode",description:o,placeholder:"Mark mode"}]],f="unscheduled";this.confirm({content:a,doNotSave:!0,form_schema:[_],onFilterChangeHook:(g,S,x)=>{console.log("e",g),console.log("model",S),console.log("schema",x),S&&S.markMode&&(S.markMode==="requested"&&f!="requested"&&(x[0]=[..._,...s],f="requested"),S.markMode==="unscheduled"&&f!="unscheduled"&&(x[0]=_,f="unscheduled"));},result:{schema_model:{}},saveButton:"SUBMIT"},"700px").subscribe(g=>{if(g&&A(g,"schema_model.markMode")){let S=I.getStudyInstanceUID(e.attrs),x=[],D=B(g,"schema_model.markMode")==="requested";D&&(x=[this.service.convertFilterModelToDICOMObject(g.schema_model,l,["markMode"])]),this.cfpLoadingBar.start(),this.service.markAsRequestedOrUnscheduled(this.studyWebService.selectedWebService,S,x,n,e).subscribe(R=>{this.cfpLoadingBar.complete();let j=n==="series"?D?"Series[uid="+this.service.getSeriesInstanceUID(e.attrs)+"] marked as Requested successfully!":"Series[uid="+this.service.getSeriesInstanceUID(e.attrs)+"] marked as Unscheduled successfully!":D?"All Series of Study[uid="+S+"] marked as Requested successfully!":"All Series of Study[uid="+S+"] marked as Unscheduled successfully!";this.appService.showMsg(j);},R=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(R);});}});});}setExpiredDateQuerySeries(e){this.confirm(this.service.getPrepareParameterForExpirationDialogSeries(e,this.exporters)).subscribe(n=>{n&&(this.cfpLoadingBar.start(),n.schema_model.expiredDate||n.schema_model.protectStudy?this.service.setExpiredDateSeries(this.studyWebService,B(e,"attrs.0020000D.Value[0]"),B(e,"attrs.0020000E.Value[0]"),n.schema_model.expiredDate,n.schema_model.exporter).subscribe(o=>{Ue(e,"attrs.77771033.Value[0]",n.schema_model.expiredDate),Ue(e,"attrs.77771033.vr","DA"),this.appService.showMsg("Expired date set successfully!"),this.cfpLoadingBar.complete();},o=>{this.httpErrorHandler.handleError(o),this.cfpLoadingBar.complete();}):this.appService.showError("Expired date is required!"));});}setExpiredDateQuery(e,n){this.confirm(this.service.getPrepareParameterForExpiriationDialog(e,this.exporters,n)).subscribe(o=>{o&&(this.cfpLoadingBar.start(),o.schema_model.expiredDate||o.schema_model.protectStudy?this.service.setExpiredDate(this.studyWebService,B(e,"attrs.0020000D.Value[0]"),o.schema_model.protectStudy?"never":o.schema_model.expiredDate,o.schema_model.exporter,o.schema_model.freezeExpirationDate).subscribe(a=>{Ue(e,"attrs.77771023.Value[0]",o.schema_model.expiredDate),Ue(e,"attrs.77771023.vr","DA"),this.appService.showMsg("Expired date set successfully!"),this.cfpLoadingBar.complete();},a=>{this.httpErrorHandler.handleError(a),this.cfpLoadingBar.complete();}):this.appService.showError("Expired date is required!"));});}deleteRejectedInstances(){let e={reject:void 0};this.dialogRef=this.dialog.open(HA,{height:"auto",width:"500px"}),this.dialogRef.componentInstance.rjnotes=this.trash.rjnotes,this.dialogRef.componentInstance.results=e,this.dialogRef.afterClosed().subscribe(n=>{if(console.log("afterclose re",n),this.cfpLoadingBar.start(),n){let o={};n.rejectedBefore&&(o.rejectedBefore=n.rejectedBefore),n.keepRejectionNote===!0&&(o.keepRejectionNote=n.keepRejectionNote),console.log("params1",this.appService.param(o)),console.log("params",o),this.service.deleteRejectedInstances(n.reject,o).subscribe(a=>{console.log("in res",a),this.cfpLoadingBar.complete(),A(a,"deleted")?this.appService.showMsg(""+a.deleted+" instances deleted successfully!"):this.appService.showMsg("Process executed successfully");},a=>{console.log("error",a),this.httpErrorHandler.handleError(a);});}this.cfpLoadingBar.complete(),this.dialogRef=null;});}deleteSelectedObjects(){let e=()=>{this.selectedElements.size>0&&(this.cfpLoadingBar.start(),this.service.deleteMultipleObjects(this.selectedElements,this.studyWebService.selectedWebService).subscribe(o=>{this.appService.showMsg("Deleting multiple objects triggered successfully!"),this.cfpLoadingBar.complete();},o=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(o);}));},n={content:"Delete selected Object ( Only deleting Studies and Patient objects are currently supported ) "};this.confirm(n).subscribe(o=>{o&&e();});}deleteStudy(e){console.log("study",e),this.confirm({content:"Are you sure you want to delete this study?",doNotSave:!0,form_schema:[[[{tag:"label",text:"Retain objects on filesystem"},{tag:"checkbox",filterKey:"retainObj"}]]],result:{schema_model:{}},saveButton:"DELETE"}).subscribe(n=>{this.cfpLoadingBar.start(),n&&this.service.deleteStudy(B(e,"attrs['0020000D'].Value[0]"),this.studyWebService.selectedWebService,n.schema_model).subscribe(o=>{this.appService.showMsg("Study deleted successfully!"),this.cfpLoadingBar.complete();},o=>{this.httpErrorHandler.handleError(o),this.cfpLoadingBar.complete();}),this.cfpLoadingBar.complete();});}rejectMatchingStudies(){let e=[];he(this.trash.rjnotes,(n,o)=>{e.push({title:n.codeMeaning,value:n.codeValue+"^"+n.codingSchemeDesignator,label:n.label});}),this.confirm({content:"Select Rejection Note type",doNotSave:!0,form_schema:[[[{tag:"label",text:"Rejection Reason"},{tag:"select",type:"text",options:e,filterKey:"rjNoteCode",description:"Rejection Reason",placeholder:"Rejection Reason"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{rjNoteCode:"113039^DCM"}},saveButton:"REJECT"}).subscribe(n=>{if(n){console.log("result",n.rjNoteCode),this.cfpLoadingBar.start();let o=n.schema_model.rjNoteCode;delete n.schema_model.rjNoteCode,this.service.rejectMatchingStudies(this.studyWebService.selectedWebService,o,zr(n.schema_model,this.createStudyFilterParams(!0,!0))).subscribe(a=>{console.log("res",a);let s="";try{s=a.count;}catch(l){I.log("Could not get count from res=",l);}this.appService.showMsg(`Objects rejected successfully:<br>Count: ${s}`),this.cfpLoadingBar.complete();},a=>{this.httpErrorHandler.handleError(a),this.cfpLoadingBar.complete();});}});}rejectMatchingSeries(){let e=[];he(this.trash.rjnotes,(n,o)=>{e.push({title:n.codeMeaning,value:n.codeValue+"^"+n.codingSchemeDesignator,label:n.label});}),this.confirm({content:"Select Rejection Note type",doNotSave:!0,form_schema:this.service.rejectMatchingSeriesDialogSchema(e),result:{schema_model:{rjNoteCode:"113039^DCM"}},saveButton:"REJECT"}).subscribe(n=>{if(n){console.log("result",n.rjNoteCode),this.cfpLoadingBar.start();let o=n.schema_model.rjNoteCode;delete n.schema_model.rjNoteCode,this.service.rejectMatchingSeries(this.studyWebService.selectedWebService,o,zr(n.schema_model,this.createStudyFilterParams(!0,!0))).subscribe(a=>{console.log("res",a);let s="";try{s=a.count;}catch(l){I.log("Could not get count from res=",l);}this.appService.showMsg(`Objects rejected successfully:<br>Count: ${s}`),this.cfpLoadingBar.complete();},a=>{this.httpErrorHandler.handleError(a),this.cfpLoadingBar.complete();});}});}exportMatching(e,n){this.confirm({content:e,doNotSave:!0,form_schema:this.service.exportMatchingDialogSchema(this.exporters),result:{schema_model:{}},saveButton:"EXPORT"}).subscribe(o=>{o&&(this.cfpLoadingBar.start(),this.service.exportMatching(n,this.studyWebService,zr(o.schema_model,this.createStudyFilterParams(!0,!0))).subscribe(a=>{console.log("res",a),this.cfpLoadingBar.complete();try{let s=a.count||"";this.appService.showMsg(`Objects export successfully:<br>Count: ${s}`);}catch(s){I.log("Could not get count from res=",s);}},a=>{this.httpErrorHandler.handleError(a),this.cfpLoadingBar.complete();}));});}rejectRestoreMultipleObjects(){let e="",n=[],o=a=>{this.selectedElements.size>0&&(this.cfpLoadingBar.start(),this.service.rejectRestoreMultipleObjects(this.selectedElements,this.studyWebService.selectedWebService,a).subscribe(s=>{this.appService.showMsg(e),this.cfpLoadingBar.complete();},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);}));};if(this.trash.active)e="Objects restored successfully!",o(this.trash.rjcode.codeValue+"^"+this.trash.rjcode.codingSchemeDesignator);else{e="Objects rejected successfully!",he(this.trash.rjnotes,(s,l)=>{n.push({title:s.codeMeaning,value:s.codeValue+"^"+s.codingSchemeDesignator,label:s.label});});let a={content:"Select Rejection Note type",select:n,result:{select:this.trash.rjnotes[0].codeValue+"^"+this.trash.rjnotes[0].codingSchemeDesignator},saveButton:"REJECT"};this.confirm(a).subscribe(s=>{s&&o(a.result.select);});}}rejectStudy(e){let n=this;if(this.trash.active)this.service.restoreStudy(e.attrs,this.studyWebService).subscribe(o=>{n.appService.showMsg("Study restored successfully!");},o=>{n.httpErrorHandler.handleError(o),console.log("response",o);});else{let o=[];he(this.trash.rjnotes,(a,s)=>{o.push({title:a.codeMeaning,value:a.codeValue+"^"+a.codingSchemeDesignator,label:a.label});}),this.confirm({content:"Select Rejection Note type",doNotSave:!0,form_schema:[[[{tag:"label",text:"Rejection Reason"},{tag:"select",type:"text",options:o,filterKey:"rjNoteCode",description:"Rejection Reason",placeholder:"Rejection Reason"}],[{tag:"label",text:"Queue Rejection"},{tag:"checkbox",filterKey:"queue",description:"Queue Rejection",placeholder:"Queue Rejection"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{rjNoteCode:"113039^DCM"}},saveButton:"REJECT"}).subscribe(a=>{if(a){n.cfpLoadingBar.start();let s=a.schema_model.rjNoteCode;delete a.schema_model.rjNoteCode,this.service.rejectStudy(e.attrs,this.studyWebService,s,a.schema_model).subscribe(l=>{let _=a.schema_model.queue==="true"?"Study queued for rejection successfully":"Study rejected successfully";n.appService.showMsg(I.prepareCountMessage(_,l)),n.cfpLoadingBar.complete();},l=>{n.httpErrorHandler.handleError(l),n.cfpLoadingBar.complete();});}else console.log("else",a),console.log("parameters",a.schema_model);});}}rejectSeries(e){let n=this;if(this.trash.active)this.service.restoreSeries(e.attrs,this.studyWebService).subscribe(o=>{n.appService.showMsg("Series restored successfully!");},o=>{n.httpErrorHandler.handleError(o),console.log("response",o);});else{let o=[];he(this.trash.rjnotes,(a,s)=>{o.push({title:a.codeMeaning,value:a.codeValue+"^"+a.codingSchemeDesignator,label:a.label});}),this.confirm({content:"Select Rejection Note type",doNotSave:!0,form_schema:[[[{tag:"label",text:"Rejection Reason"},{tag:"select",type:"text",options:o,filterKey:"rjNoteCode",description:"Rejection Reason",placeholder:"Rejection Reason"}],[{tag:"label",text:"Queue Rejection"},{tag:"checkbox",filterKey:"queue",description:"Queue Rejection",placeholder:"Queue Rejection"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{rjNoteCode:"113039^DCM"}},saveButton:"REJECT"}).subscribe(a=>{if(a){n.cfpLoadingBar.start();let s=a.schema_model.rjNoteCode;delete a.schema_model.rjNoteCode,this.service.rejectSeries(e.attrs,this.studyWebService,s,a.schema_model).subscribe(l=>{let _=a.schema_model.queue==="true"?"Series queued for rejection successfully":"Series rejected successfully";n.appService.showMsg(I.prepareCountMessage(_,l)),n.cfpLoadingBar.complete();},l=>{n.httpErrorHandler.handleError(l),n.cfpLoadingBar.complete();});}else console.log("else",a),console.log("parameters",a.schema_model);});}}rejectInstance(e){let n=this;if(this.trash.active)this.service.restoreInstance(e.attrs,this.studyWebService,this.trash.rjcode.codeValue+"^"+this.trash.rjcode.codingSchemeDesignator).subscribe(o=>{n.appService.showMsg("Instance restored successfully!");},o=>{n.httpErrorHandler.handleError(o),console.log("response",o);});else{let o=[];he(this.trash.rjnotes,(a,s)=>{o.push({title:a.codeMeaning,value:a.codeValue+"^"+a.codingSchemeDesignator,label:a.label});}),this.confirm({content:"Select Rejection Note type",doNotSave:!0,form_schema:[[[{tag:"label",text:"Rejection Reason"},{tag:"select",type:"text",options:o,filterKey:"rjNoteCode",description:"Rejection Reason",placeholder:"Rejection Reason"}],[{tag:"label",text:"Queue Rejection"},{tag:"checkbox",filterKey:"queue",description:"Queue Rejection",placeholder:"Queue Rejection"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{rjNoteCode:"113039^DCM"}},saveButton:"REJECT"}).subscribe(a=>{if(a){n.cfpLoadingBar.start();let s=a.schema_model.rjNoteCode;delete a.schema_model.rjNoteCode,this.service.rejectInstance(e.attrs,this.studyWebService,s,a.schema_model).subscribe(l=>{let _=a.schema_model.queue==="true"?"Instance queued for rejection successfully":"Instance rejected successfully";n.appService.showMsg(I.prepareCountMessage(_,l)),n.cfpLoadingBar.complete();},l=>{n.httpErrorHandler.handleError(l),n.cfpLoadingBar.complete();});}else console.log("else",a),console.log("parameters",a.schema_model);});}}setTrash(){A(this.studyWebService,"selectedWebService.dicomAETitleObject")&&this.studyWebService.selectedWebService.dicomAETitleObject.dcmHideNotRejectedInstances?(this.trash.rjcode||this.service.getRejectNotes({dcmRevokeRejection:!0}).subscribe(e=>{this.trash.rjcode=void 0,setTimeout(()=>{this.trash.rjcode=e[0],this.setSchema();},1);}),this.trash.active=!0):this.trash.active=!1,this.setTableSchema();}setTableSchema(){this.tableParam.tableSchema=this.getSchema();}getSchema(){let e=A(this.appService.global,"dateTimeFormat")?this.appService.global.dateTimeFormat:void 0,n=A(this.appService.global,"personNameFormat")?this.appService.global.personNameFormat:void 0;return this.service.checkSchemaPermission(this.service.PATIENT_STUDIES_TABLE_SCHEMA(this,this.actions,{trash:this.trash,selectedWebService:B(this.studyWebService,"selectedWebService"),studyWebService:this.studyWebService,tableParam:this.tableParam,studyConfig:this.studyConfig,appService:this.appService,getSOPClassUIDName:this.getSOPClassUIDName,internal:this.internal,configuredDateTimeFormats:e,configuredPersonNameFormat:n}));}retrieveMultipleStudies(){this.exporter("","Retrieve matching studies depending on selected filters, from external C-MOVE SCP","multiple-retrieve",{},"");}retrieveObject(e,n,o){console.log("object",n);let a;switch(e){case"study":a="Retrieve Study";break;case"instance":a="Retrieve Instance";break;case"series":a="Retrieve Series";break;default:a="Retrieve selected objects";}this.getDevices().subscribe(s=>{this.devices=s,this.confirm({content:a,doNotSave:!0,form_schema:[[[{tag:"label_large",text:a}],[{tag:"label",text:"Destination AET"},{tag:"editable-select",options:this.applicationEntities.aes,filterKey:"destination",showSearchField:!0,description:"Destination AET",placeholder:"Destination AET"}],[{tag:"label",text:"Priority"},{tag:"select",options:[new G(0,"NORMAL"),new G(1,"HIGH"),new G(2,"LOW")],filterKey:"priority",type:"number",description:"Priority",placeholder:"Priority"}],[{tag:"label",text:"Queue Name"},{tag:"select",options:this.retrieveQueues,filterKey:"dcmQueueName",description:"Queue Name",placeholder:"Queue Name"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Device Name"},{tag:"select",options:s.map(l=>new G(l.dicomDeviceName,l.dicomDeviceName,l.dicomDeviceDescription)),filterKey:"dicomDeviceName",description:"Device Name",placeholder:"Device Name"}],[{tag:"label",text:"Scheduled Time"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Scheduled Time"}]]],result:{schema_model:{}},saveButton:"RETRIEVE"}).subscribe(l=>{l&&(console.log("ok",l),this.service.getWebAppFromWebServiceClassAndSelectedWebApp(this.studyWebService,"MOVE","MOVE_MATCHING").subscribe(_=>{_?(this.cfpLoadingBar.start(),this.service.retrieve(_,l.schema_model,n,e,o).subscribe(f=>{this.cfpLoadingBar.complete(),this.appService.showMsg(this.service.getMsgFromResponse(f,"Command executed successfully!"));},f=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(f);})):this.appService.showError("Web Application Service with the web service class 'MOVE_MATCHING' not found!");}));});});}exportStudy(e){this.exporter(this.service.studyURL(e.attrs,this.studyWebService.selectedWebService),"Export study","single",e.attrs,"study");}exportSeries(e){this.exporter(this.service.seriesURL(e.attrs,this.studyWebService.selectedWebService),"Export series","single",e.attrs,"series");}exportInstance(e){this.exporter(this.service.instanceURL(e.attrs,this.studyWebService.selectedWebService),"Export instance","single",e.attrs,"instance");}exporter(e,n,o,a,s,l){let _=this,f,g,S=[],x=[],D="";he(this.exporters,(V,ie)=>{V.id.indexOf(":")>-1?x.push(V):S.push(V);});let R={height:"auto",width:"500px"};o==="multiple-retrieve"&&(R={height:"auto",width:"600px"}),this.dialogRef=this.dialog.open(KA,R),this.dialogRef.componentInstance.noDicomExporters=S,this.dialogRef.componentInstance.dicomPrefixes=x,this.dialogRef.componentInstance.externalInternalAetMode=!this.internal||o==="multiple-retrieve"?"external":"internal",this.dialogRef.componentInstance.title=n,this.dialogRef.componentInstance.mode=o=="multipleExportSelections"?"single":o,this.dialogRef.componentInstance.queues=this.queues,this.dialogRef.componentInstance.newStudyPage=!0,this.dialogRef.afterClosed().subscribe(V=>{if(V){let ie="",_e={};V.batchID&&(ie=`batchID=${V.batchID}&`);let oe=V.batchID?V.scheduledTime?`batchID=${V.batchID}&scheduledTime=${V.scheduledTime}`:`batchID=${V.batchID}&`:V.scheduledTime?`scheduledTime=${V.scheduledTime}&`:"";_.cfpLoadingBar.start(),o==="multiple-retrieve"?this.service.getWebAppFromWebServiceClassAndSelectedWebApp(this.studyWebService,"MOVE","MOVE_MATCHING").subscribe(Ne=>{Ne?g=`${I.getUrlFromDcmWebApplication(Ne,this.appService.baseUrl)}/studies/export/dicom:${V.selectedAet}?${oe}${this.appService.param(rt(re({},this.createStudyFilterParams(!0,!0)),{batchID:V.batchID}))}`:this.appService.showError("Web Application Service with the web service class 'MOVE_MATCHING' not found!"),j(V,l,D,g,e);}):o==="multipleExportSelections"?this.service.getWebAppFromWebServiceClassAndSelectedWebApp(this.studyWebService,"DCM4CHEE_ARC_AET","MOVE_MATCHING").subscribe(Ne=>{Ne?g=`${this.service.getDicomURL("export",Ne)}/${V.selectedExporter}?${oe}${this.appService.param(this.createStudyFilterParams(!0,!0))}`:this.appService.showError("Web Application Service with the web service class 'MOVE_MATCHING' not found!"),V.exportType==="dicom"?f="dicom:"+V.selectedAet:V.exportType==="stow"?f="stowrs:"+V.selectedStowWebapp:f=V.selectedExporter,D="/export/"+f+"?"+oe,j(V,l,D,g,e);}):this.internal?(V.exportType==="dicom"?f="dicom:"+V.selectedAet:V.exportType==="stow"?f="stowrs:"+V.selectedStowWebapp:f=V.selectedExporter,D="/export/"+f+"?"+oe,j(V,l,D,g,e)):this.service.getWebAppFromWebServiceClassAndSelectedWebApp(this.studyWebService,"DCM4CHEE_ARC_AET","MOVE").subscribe(Ne=>{Ne?(V.dcmQueueName&&(_e.dcmQueueName=V.dcmQueueName),delete _e.limit,delete _e.offset,delete _e.includefield,delete _e.orderby,g=`${this.service.getDicomURL("export",Ne)}/dicom:${V.selectedAet}${I.param(_e)}`):this.appService.showError("Web Application Service with the web service class "+"MOVE,DCM4CHEE_ARC_AET"+" not found!"),j(V,l,D,g,e);});}});let j=(V,ie,_e,oe,Ne)=>{ie&&ie.size>0?this.service.export(void 0,ie,_e,this.studyWebService.selectedWebService).subscribe(Ce=>{console.log("res",Ce),_.appService.showMsg(_.service.getMsgFromResponse(V,"Command executed successfully!")),_.cfpLoadingBar.complete();},Ce=>{console.log("err",Ce),_.cfpLoadingBar.complete();}):(_e&&(oe=Ne+_e),this.service.export(oe).subscribe(Ce=>{_.appService.showMsg(_.service.getMsgFromResponse(Ce,"Command executed successfully!")),_.cfpLoadingBar.complete();},Ce=>{console.log("err",Ce),_.appService.setMessage({title:"Error "+Ce.status+"\n",text:_.service.getMsgFromResponse(Ce),status:"error"}),_.cfpLoadingBar.complete();}));};}storageVerificationSeries(){this.service.getStorageSystems().subscribe(e=>{this.confirm({content:"Schedule Storage Verification of matching Series",doNotSave:!0,form_schema:[[[{tag:"label",text:"Verification Policy"},{tag:"select",options:[{value:"DB_RECORD_EXISTS",text:"DB_RECORD_EXISTS",title:"Check for existence of DB records"},{value:"OBJECT_EXISTS",text:"OBJECT_EXISTS",title:"Check if object exists on Storage System"},{value:"OBJECT_SIZE",text:"OBJECT_SIZE",title:"Check size of object on Storage System"},{value:"OBJECT_FETCH",text:"OBJECT_FETCH",title:"Fetch object from Storage System"},{value:"OBJECT_CHECKSUM",text:"OBJECT_CHECKSUM",title:"recalculate checksum of object on Storage System"},{value:"S3_MD5SUM",text:"S3_MD5SUM",title:"Check MD5 checksum of object on S3 Storage System"}],showStar:!0,filterKey:"storageVerificationPolicy",description:"Verification Policy",placeholder:"Verification Policy"}],[{tag:"label",text:"Update Location DB"},{tag:"checkbox",filterKey:"storageVerificationUpdateLocationStatus"}],[{tag:"label",text:"Storage ID"},{tag:"select",options:e.map(n=>new G(n.dcmStorageID,n.dcmStorageID)),showStar:!0,filterKey:"storageVerificationStorageID",description:"Storage IDs",placeholder:"Storage IDs"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{}},saveButton:"SAVE"}).subscribe(n=>{if(n){let o;this.cfpLoadingBar.start(),o="Storage Verification scheduled successfully!",this.service.schedulestorageVerificationSeries(zr(n.schema_model,this.createStudyFilterParams(!0,!0)),this.studyWebService).subscribe(a=>{console.log("res",a),this.cfpLoadingBar.complete(),o=I.prepareCountMessage(o,a),this.appService.showMsg(o);},a=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(a);});}});},e=>{this.httpErrorHandler.handleError(e);});}storageVerificationStudies(){this.service.getStorageSystems().subscribe(e=>{this.confirm({content:"Schedule Storage Verification of matching Studies",doNotSave:!0,cssClass:"has_date_picker",form_schema:[[[{tag:"label",text:"Verification Policy"},{tag:"select",options:[{value:"DB_RECORD_EXISTS",text:"DB_RECORD_EXISTS",title:"Check for existence of DB records"},{value:"OBJECT_EXISTS",text:"OBJECT_EXISTS",title:"Check if object exists on Storage System"},{value:"OBJECT_SIZE",text:"OBJECT_SIZE",title:"Check size of object on Storage System"},{value:"OBJECT_FETCH",text:"OBJECT_FETCH",title:"Fetch object from Storage System"},{value:"OBJECT_CHECKSUM",text:"OBJECT_CHECKSUM",title:"recalculate checksum of object on Storage System"},{value:"S3_MD5SUM",text:"S3_MD5SUM",title:"Check MD5 checksum of object on S3 Storage System"}],showStar:!0,filterKey:"storageVerificationPolicy",description:"Verification Policy",placeholder:"Verification Policy"}],[{tag:"label",text:"Update Location DB"},{tag:"checkbox",filterKey:"storageVerificationUpdateLocationStatus"}],[{tag:"label",text:"Storage ID"},{tag:"select",options:e.map(n=>new G(n.dcmStorageID,n.dcmStorageID)),showStar:!0,filterKey:"storageVerificationStorageID",description:"Storage IDs",placeholder:"Storage IDs"}],[{tag:"label",text:"Batch ID"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],[{tag:"label",text:"Schedule at"},{tag:"single-date-time-picker",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"}]]],result:{schema_model:{}},saveButton:"SAVE"}).subscribe(n=>{if(n){let o;this.cfpLoadingBar.start(),o="Storage Verification scheduled successfully!",this.service.schedulestorageVerificationStudies(zr(n.schema_model,this.createStudyFilterParams(!0,!0)),this.studyWebService).subscribe(a=>{console.log("res",a),this.cfpLoadingBar.complete(),o=I.prepareCountMessage(o,a),this.appService.showMsg(o);},a=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(a);});}});},e=>{this.httpErrorHandler.handleError(e);});}storageCommitmen(e,n){console.log("object",n);let o="Verify Storage of selected entities";if(e)switch(e){case"study":o="Verify Storage of Study";break;case"series":o="Verify Storage of Series";break;case"instance":o="Verify Storage of Instance";break;}this.service.getStorageSystems().subscribe(a=>{this.confirm({content:o,doNotSave:!0,form_schema:[[[{tag:"label",text:"Verification Policy"},{tag:"select",options:[{value:"DB_RECORD_EXISTS",text:"DB_RECORD_EXISTS",title:"Check for existence of DB records"},{value:"OBJECT_EXISTS",text:"OBJECT_EXISTS",title:"Check if object exists on Storage System"},{value:"OBJECT_SIZE",text:"OBJECT_SIZE",title:"Check size of object on Storage System"},{value:"OBJECT_FETCH",text:"OBJECT_FETCH",title:"Fetch object from Storage System"},{value:"OBJECT_CHECKSUM",text:"OBJECT_CHECKSUM",title:"recalculate checksum of object on Storage System"},{value:"S3_MD5SUM",text:"S3_MD5SUM",title:"Check MD5 checksum of object on S3 Storage System"}],showStar:!0,filterKey:"storageVerificationPolicy",description:"Verification Policy",placeholder:"Verification Policy"}],[{tag:"label",text:"Update Location DB"},{tag:"checkbox",filterKey:"storageVerificationUpdateLocationStatus"}],[{tag:"label",text:"Storage ID"},{tag:"select",options:a.map(s=>new G(s.dcmStorageID,s.dcmStorageID)),showStar:!0,filterKey:"storageVerificationStorageID",description:"Storage IDs",placeholder:"Storage IDs"}]]],result:{schema_model:{}},saveButton:"QUERY"}).subscribe(s=>{s&&(e?(this.cfpLoadingBar.start(),this.service.verifyStorage(n.attrs,this.studyWebService,e,s.schema_model).subscribe(l=>{let _=l[0]["00081198"]&&l[0]["00081198"].Value?l[0]["00081198"].Value.length:0,f=l[0]["00081199"]&&l[0]["00081199"].Value?l[0]["00081199"].Value.length:0,g="Info";_>0&&f>0&&(g="Warning",this.appService.setMessage({title:g,text:""+_+" of "+(f+_)+" failed!",status:g.toLowerCase()}),console.log(_+" of "+(f+_)+" failed!")),_>0&&f===0&&(g="Error",this.appService.setMessage({title:g,text:"all ("+_+") failed!",status:g.toLowerCase()}),console.log("all "+_+"failed!")),_===0&&(console.log(f+" verified successfully 0 failed!"),this.appService.setMessage({title:g,text:""+f+" verified successfully\n 0 failed!",status:g.toLowerCase()})),this.cfpLoadingBar.complete();},l=>{this.httpErrorHandler.handleError(l),this.cfpLoadingBar.complete();})):(this.cfpLoadingBar.start(),this.service.storageVerificationForSelected(this.selectedElements,this.studyWebService,s.schema_model).subscribe(l=>{console.log("res",l),this.cfpLoadingBar.complete(),this.appService.showMsg("Storage Verification of selected objects executed successfully!");},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);})));});},a=>{this.httpErrorHandler.handleError(a);});}initRjNotes(e){this.service.getRejectNotes().subscribe(n=>{this.trash.rjnotes=n.sort(function(o,a){return o.codeValue==="113039"&&o.codingSchemeDesignator==="DCM"?-1:a.codeValue==="113039"&&a.codingSchemeDesignator==="DCM"?1:0;}),this.trash.reject=this.trash.rjnotes[0].codeValue+"^"+this.trash.rjnotes[0].codingSchemeDesignator,this.setSchema();},n=>{e&&this.initRjNotes(e-1);});}initWebApps(){this.setSchema();let e,n,o;this.service.getAets().pipe(me(a=>{e=a;}),ot(()=>this.service.getAes()),ot(a=>{n=a;let s={dcmWebServiceClass:"MOVE"};return this.service.getWebApps(s);}),ot(a=>{o=a;let s={dcmWebServiceClass:this.currentWebAppClass};return this.service.getWebApps(s);})).subscribe(a=>{(!a||!pe(a)||a.length<1)&&this.studyConfig.tab&&this.appService.showMsg(this.service.getNoServiceSpecificWebApps(this.studyConfig.tab)),this.studyWebService=new X2({webServices:a.map(s=>(e.forEach(l=>{s.dicomAETitle&&s.dicomAETitle===l.dicomAETitle&&(s.dicomAETitleObject=l);}),this.service.convertStringLDAPParamToObject(s,"dcmProperty",["IID_STUDY_URL","IID_PATIENT_URL","IID_URL_TARGET","IID_ENCODE"]),s)),selectedWebService:B(this.studyWebService,"selectedWebService"),allWebServices:zc([...a,...o],"dcmWebAppName")}),this.onStudyWebServiceChange.emit(this.studyWebService),this.applicationEntities.aets=e.map(s=>new G(s.dicomAETitle,s.dicomAETitle,s.dicomDescription,void 0,void 0,s)),this.applicationEntities.aes=n.map(s=>new G(s.dicomAETitle,s.dicomAETitle,s.dicomDescription,void 0,void 0,s)),this.setTemplateToFilter(),this.initExporters(2),this.initRjNotes(2),this.getQueueNames(),this.getRetrieveQueueNames(),this.triggerSubmitOnQueryParams();},a=>{console.error("Error on getting webApps",a),this.httpErrorHandler.handleError(a);});}initExporters(e){this.service.getExporters().subscribe(n=>{this.exporters=n,this.setSchema();},n=>{e&&this.initExporters(e-1);});}updatePatientDemographics(e){console.log("global",this.appService.global),this.confirm({content:"Update Patient Demographics",doNotSave:!0,form_schema:[[[{tag:"label",text:"Select PDQ Service"},{tag:"select",options:this.appService.global.PDQs.map(n=>new G(n.id,n.description||n.id)),filterKey:"PDQServiceID",description:"PDQ ServiceID",placeholder:"PDQ ServiceID"}],[{tag:"label",text:"Adjust Issuer of Patient Identifier"},{tag:"checkbox",filterKey:"adjustIssuerOfPatientID",description:"Patient identifier issuer changed in archive if it differs with value in patient demographics supplier"}]]],result:{schema_model:{}},saveButton:"UPDATE"}).subscribe(n=>{n&&(this.cfpLoadingBar.start(),this.service.updatePatientDemographics(this.studyWebService.selectedWebService,e,n.schema_model.PDQServiceID,n.schema_model.adjustIssuerOfPatientID).subscribe(()=>{this.appService.showMsg("Patient demographics updated successfully!"),this.cfpLoadingBar.complete();},o=>{this.httpErrorHandler.handleError(o),this.cfpLoadingBar.complete();}));});}queryNationalPatientRegister(e){e.xroad?delete e.xroad:A(this.appService,"global['PDQs']")&&this.appService.global.PDQs.length>0?(console.log("global",this.appService.global),this.appService.global.PDQs.length>1?this.confirm({content:"Query External Patient Demographics Service",doNotSave:!0,form_schema:[[[{tag:"label",text:"Select PDQ Service"},{tag:"select",options:this.appService.global.PDQs.map(n=>new G(n.id,n.description||n.id)),filterKey:"PDQServiceID",description:"PDQ ServiceID",placeholder:"PDQ ServiceID"}]]],result:{schema_model:{}},saveButton:"QUERY"}).subscribe(n=>{n&&n.schema_model.PDQServiceID&&this.queryPDQ(e,n.schema_model.PDQServiceID);}):this.queryPDQ(e,this.appService.global.PDQs[0].id)):(console.log("global",this.appService.global),this.cfpLoadingBar.start(),this.service.queryNationalPatientRegister(this.service.getPatientId(e.attrs)).subscribe(n=>{e.xroad=n,this.cfpLoadingBar.complete();},n=>{console.error("Error Quering National Pation Register",n),this.httpErrorHandler.handleError(n),this.cfpLoadingBar.complete();}));}queryPDQ(e,n){this.cfpLoadingBar.start(),this.service.queryPatientDemographics(this.service.getPatientId(e.attrs),n).subscribe(o=>{e.xroad=o,this.cfpLoadingBar.complete();},o=>{console.error("Error Quering National Patient Register",o),this.httpErrorHandler.handleError(o),this.cfpLoadingBar.complete();});}getQueueNames(){this.service.getQueueNames().subscribe(e=>{this.queues=void 0,setTimeout(()=>{this.queues=e.map(n=>new G(n.name,n.description)),this.setSchema();},1);},e=>{this.httpErrorHandler.handleError(e);});}getRetrieveQueueNames(){this.service.getQueueNames().subscribe(e=>{try{this.retrieveQueues=e.filter(n=>n.name.toLowerCase().indexOf("retrieve")>-1).sort((n,o)=>{try{return parseInt(n.name.replace(/Retrieve/g,""))-parseInt(o.name.replace(/Retrieve/g,""));}catch{return 1;}}).map(n=>new G(n.name,n.description));}catch{}this.setSchema();},e=>{this.httpErrorHandler.handleError(e);});}getStorages(e,n){this.service.getStorageSystems().subscribe(o=>{this.storages=o.map(a=>new G(a.dcmStorageID,a.dcmStorageID)),n.call(e);},o=>{this.httpErrorHandler.handleError(o);});}getInstitutions(e,n,o){this.service.getInstitutions(n).subscribe(a=>{A(a,"Institutions")&&typeof a.Institutions=="object"&&a.Institutions.length>0&&a.Institutions.join("")!=""&&(this.institutions=a.Institutions.map(s=>new G(s,s))),o.call(e);},a=>{this.httpErrorHandler.handleError(a),this.institutions,o.call(e);});}getDiffAttributeSet(e,n){this.service.getDiffAttributeSet().subscribe(o=>{this.diffAttributeSets=o.map(a=>new G(a.id,a.title,a.description,void 0,void 0,a)),n.call(e);},o=>{this.httpErrorHandler.handleError(o);});}getSOPClassUIDName(e){try{return DCM4CHE.SOPClass.nameOf(e);}catch{return e;}}ngAfterContentChecked(){this.changeDetector.detectChanges();}ngOnDestroy(){this.selectedElements&&(this.service.selectedElements=this.selectedElements);}};r.ɵfac=function(n){return new(n||r)(k(Dn),k(wo),k(In),k(le),k(Pt),k(ti),k(Vn),k(Mt),k(ri),k(Pe),k($t));},r.ɵcmp=Z({type:r,selectors:[["app-study"]],viewQuery:function(n,o){if(n&1&&Et(Mze,7),n&2){let a;qe(a=Ye())&&(o.stickyHeaderView=a.first);}},hostBindings:function(n,o){n&1&&b("scroll",function(s){return o.onWindowScroll(s);},Qo);},inputs:{studyTagConfig:"studyTagConfig"},outputs:{onAction:"onAction",onFilterChange:"onFilterChange",onStudyWebServiceChange:"onStudyWebServiceChange",onPasteEvent:"onPasteEvent"},standalone:!1,decls:15,vars:17,consts:()=>{let e;e="Preview page";let n;n="Next page";let o;o="Search current local list ( That's NOT searching in the Server! )";let a;a="Search current list";let s;s="More";let l;l="Close More Block";let _;_="Mark selected Studies/Series/Instances for move";let f;f="Mark selected Studies/Series/Instances for linking with MWL";let g;g="Mark selected patient for merge";let S;S="Start the process of copying/moving/linking or merging";let x;x="Mark selected Studies/Series/Instances for copy";let D;D="Remove all selections";let R;R="Select all studies";let j;j="Unselect all studies";let V;V="Select all patients";let ie;ie="Unselect all patients";let _e;_e="Hide checkboxes";let oe;oe="Remove all selections";let Ne;Ne="Select all studies";let Ce;Ce="Unselect all studies";let Ge;Ge="Select all patients";let dt;dt="Unselect all patients";let hi;hi="Hide checkboxes";let Vi;Vi="Clear clipboard";let gi;gi="Selected Objects to "+"\uFFFD0\uFFFD"+"";let zi;return zi="Selected Objects",[["stickyHeader",""],s,l,D,R,j,V,ie,_e,oe,Ne,Ce,Ge,dt,hi,gi,zi,[1,"main_content","white_design"],[1,"tab-content","tab_content_with_fixed_header"],[1,"sticky",3,"ngClass"],[4,"ngIf"],["class","filter_line more_function_block",4,"ngIf"],["class","selection_actions",3,"permission",4,"ngIf"],["class","left_arrow arrow","title",e,3,"ngClass","click",4,"ngIf"],["class","right_arrow arrow","title",n,3,"ngClass","click",4,"ngIf"],[3,"onPaginationClick","patients","patients1","tableSchema","config","studyWebService","searchList"],["id","clipboard","class","clipboard said",4,"ngIf"],[1,"filter_line"],[1,"filter_block"],[3,"submit","onChange","onTemplateSet","onFilterClear","filterID","filterTreeHeight","schema","doNotSave","model","defaultSubmitId"],[1,"filter_line",3,"hidden"],[3,"schema","filterID","doNotSave","model","filterTreeHeight","defaultSubmitId","onChange","onTemplateSet",4,"ngIf"],[3,"onChange","onTemplateSet","schema","filterID","doNotSave","model","filterTreeHeight","defaultSubmitId"],[1,"filter_line","more_function_block"],[1,"filter","single_block"],["class","filter_block",4,"ngIf"],[1,"line"],[3,"placeholder","options","editable","model","showSearchField","multiSelectMode","showStar","permission","modelChange",4,"ngIf"],["href","","class","more pull-left",3,"click",4,"ngIf"],["href","","class","more [hidden] pull-left",3,"click",4,"ngIf"],["title",o,"type","text","placeholder",a,3,"ngModel","ngModelChange",4,"ngIf"],["href","",1,"more","pull-left",3,"click"],[1,"glyphicon","glyphicon-triangle-bottom"],["href","",1,"more","[hidden]","pull-left",3,"click"],[1,"glyphicon","glyphicon-triangle-top"],["title",o,"type","text","placeholder",a,3,"ngModelChange","ngModel"],[3,"modelChange","placeholder","options","editable","model","showSearchField","multiSelectMode","showStar","permission"],[1,"selection_actions",3,"permission"],[1,"selection_functions"],[1,"ignore_click_outside"],[1,"ignore_click_outside",3,"click","ngClass"],[1,"ignore_click_outside","material-icons"],["title",_,3,"click","disabled"],[1,"material-icons"],["title",f,3,"click","disabled"],["title",g,3,"click","disabled"],["title",S,3,"click"],[1,"glyphicon","glyphicon-paste"],["class","checkbox_functions",3,"clickOutsideExceptionClass","clickOutside",4,"ngIf"],["title",x,3,"click","disabled"],[1,"checkbox_functions",3,"clickOutside","clickOutsideExceptionClass"],[1,"ignore_click_outside",3,"click"],["title",e,1,"left_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-left"],["title",n,1,"right_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-right"],["id","clipboard",1,"clipboard","said"],["id","clipboardtoggle",1,"toggle_button",3,"click"],[1,"selected_size"],["id","clipboardtoggle_icon",1,"glyphicon","glyphicon-copy"],["class","content","id","clipboard_content",4,"ngIf"],["id","clipboard_content",1,"content"],["title",Vi,"href","",1,"clear_clipboard",3,"click"],[1,"glyphicon","glyphicon-remove"],[1,"table_block"],[4,"ngFor","ngForOf"],[3,"selectionsDicomObjects","dicomLevel","onRemoveFromSelection",4,"ngIf"],[3,"onRemoveFromSelection","selectionsDicomObjects","dicomLevel"]];},template:function(n,o){if(n&1){let a=O();u(0,"div",17),$(1,"study-tab"),u(2,"div",18)(3,"div",19,0)(5,"h2"),T(6),p(),E(7,$ze,7,10,"ng-container",20),p(),E(8,Wze,8,4,"div",21)(9,qze,23,10,"div",22)(10,Xze,7,6,"div",22)(11,Kze,2,3,"div",23)(12,Qze,2,3,"div",24),u(13,"dicom-studies-table",25),b("onPaginationClick",function(l){return C(a),y(o.onSubPaginationClick(l));}),p()(),E(14,nGe,6,2,"div",26),p();}n&2&&(c(3),m("ngClass",ne(15,Oze,o.fixedHeader)),c(3),z(o.studyConfig.title),c(),m("ngIf",o.studyConfig&&o.studyConfig.tab),c(),m("ngIf",o.studyConfig||o.studyWebService&&o.studyWebService.selectedWebService&&!(o.studyConfig&&(o.studyConfig.tab==="diff"||o.studyConfig.tab==="uwl"||o.studyConfig.tab==="mpps"))||o.studyWebService&&o.studyWebService.selectedWebService&&o.patients&&o.patients.length>0&&!(o.studyConfig&&(o.studyConfig.tab==="diff"||o.studyConfig.tab==="uwl"||o.studyConfig.tab==="mpps"))),c(),m("ngIf",o.tableParam.config.showCheckboxes&&o.studyWebService&&o.studyWebService.selectedWebService&&o.studyWebService.selectedWebService.dcmWebServiceClass.indexOf("DCM4CHEE_ARC_AET")>-1),c(),m("ngIf",o.tableParam.config.showCheckboxes&&o.studyWebService&&o.studyWebService.selectedWebService&&o.studyWebService.selectedWebService.dcmWebServiceClass.indexOf("DCM4CHEE_ARC_AET")==-1),c(),m("ngIf",o.patients&&o.patients.length>0||o.patients1&&o.patients1.length>0),c(),m("ngIf",o.patients&&o.patients.length>0||o.patients1&&o.patients1.length>0),c(),m("patients",o.patients)("patients1",o.patients1)("tableSchema",o.tableParam.tableSchema)("config",o.tableParam.config)("studyWebService",o.studyWebService)("searchList",o.searchCurrentList),c(),m("ngIf",o.selectedElements.preActionElements&&o.selectedElements.preActionElements.size>0));},dependencies:[Je,ve,de,Me,Se,Ee,zn,Yi,ma,xn,SH,OH,p2,Mu],styles:["[_nghost-%COMP%]{display:block}.open-close-container[_ngcontent-%COMP%]{border:1px solid #dddddd;margin-top:1em;color:#000;font-weight:700;font-size:20px;float:left;width:100%;overflow:auto;height:1000px}.fixed_header[_ngcontent-%COMP%]{background:#fff;float:left;z-index:10}.sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:14;width:100%}.main_content[_ngcontent-%COMP%]   .tab_content_with_fixed_header[_ngcontent-%COMP%]   .j4care_dynamic_table[_ngcontent-%COMP%]   .th[_ngcontent-%COMP%]{position:sticky;width:100%}.more_function_block[_ngcontent-%COMP%]{position:relative}.filter_line[_ngcontent-%COMP%]{-webkit-box-shadow:4px 0px 13px -3px rgba(68,68,68,.93);-moz-box-shadow:4px 0px 13px -3px rgba(68,68,68,.93);box-shadow:4px 0 13px -3px #444444ed}.selection_actions[_ngcontent-%COMP%]{position:fixed;left:0;z-index:999;top:28%}.selection_actions[_ngcontent-%COMP%]   ul.selection_functions[_ngcontent-%COMP%]{list-style:none;padding:0;width:35px}.selection_actions[_ngcontent-%COMP%]   ul.selection_functions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left}.selection_actions[_ngcontent-%COMP%]   ul.selection_functions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:35px;height:30px;border:none;color:#ffffff78;margin-bottom:2px;-webkit-box-shadow:4px 4px 11px 0px rgba(28,36,43,.78);-moz-box-shadow:4px 4px 11px 0px rgba(28,36,43,.78);box-shadow:4px 4px 11px #1c242bc7;background:var(--backgroundColor)}.selection_actions[_ngcontent-%COMP%]   ul.selection_functions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .selection_actions[_ngcontent-%COMP%]   ul.selection_functions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#fff}.selection_actions[_ngcontent-%COMP%]   ul.selection_functions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#444444ed}.selection_actions[_ngcontent-%COMP%]   ul.selection_functions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .glyphicon[_ngcontent-%COMP%]{font-size:20px}.selection_actions[_ngcontent-%COMP%]   ul.checkbox_functions[_ngcontent-%COMP%]{padding:0;list-style:none;position:fixed;left:36px;top:28%}.selection_actions[_ngcontent-%COMP%]   ul.checkbox_functions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:210px;margin-bottom:2px;background:var(--backgroundColor)}.selection_actions[_ngcontent-%COMP%]   ul.checkbox_functions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:30px;line-height:30px;text-align:left;background:transparent;border:none;color:#ffffff78;width:100%}.selection_actions[_ngcontent-%COMP%]   ul.checkbox_functions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff}.worklist_study[_ngcontent-%COMP%], .worklist_mwl[_ngcontent-%COMP%]{position:relative}.worklist_study[_ngcontent-%COMP%]   .right_arrow[_ngcontent-%COMP%], .worklist_mwl[_ngcontent-%COMP%]   .right_arrow[_ngcontent-%COMP%]{position:absolute;right:-40px;top:80%}.worklist_study[_ngcontent-%COMP%]   .left_arrow[_ngcontent-%COMP%], .worklist_mwl[_ngcontent-%COMP%]   .left_arrow[_ngcontent-%COMP%]{position:absolute;left:-35px;top:80%}.unwrapped[_ngcontent-%COMP%]{margin:0}"],data:{animation:[Yp("showHide",[kl("show",Pa({padding:"*",height:"*",opacity:1})),kl("hide",Pa({padding:"0",opacity:0,height:"0px",margin:"0"})),$l("show => hide",[Nl("0.2s")]),$l("hide => show",[Nl("0.3s")])])]}});let i=r;return i;})();var LH=(()=>{let r=class r{constructor(){this.setValueSource=new xe(),this.valueSet$=this.setValueSource.asObservable();}setValue(e){console.log("in set value",e),this._currentStateOfTheValue[e.id]=e.value,this.setValueSource.next(e);}get currentStateOfTheValue(){return this._currentStateOfTheValue;}set currentStateOfTheValue(e){this._currentStateOfTheValue=e;}};r.ɵfac=function(n){return new(n||r)();},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var rw=(()=>{let r=class r{constructor(e,n,o,a){this.$http=e,this.mainservice=n,this.deviceService=o,this.tableService=a,this.header=new At({"Content-Type":"application/json"});}getExternalRetrieveEntries(e,n,o){return e.offset=n&&n!=""?n:0,this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/retrieve${o?"/batch":""}?${this.mainservice.param(e)}`);}getCount(e){let n=Oe(e);return delete n.offset,delete n.limit,delete n.orderby,this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/retrieve/count?${this.mainservice.param(n)}`);}getExporters(){return this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}export`);}delete(e){return this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/retrieve/${e}`);}deleteAll(e){let n=this.mainservice.param(e);return n=n?`?${n}`:"",this.$http.delete(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/retrieve${n}`,this.header);}reschedule(e,n){return this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/retrieve/${e}/reschedule${I.param(n)}`,{});}rescheduleAll(e){let n=this.mainservice.param(e);return n=n?`?${n}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/retrieve/reschedule${n}`,{},this.header);}cancel(e){return this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/retrieve/${e}/cancel`,{});}cancelAll(e){let n=this.mainservice.param(e);return n=n?`?${n}`:"",this.$http.post(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/retrieve/cancel${n}`,{},this.header);}downloadCsv(e){let n=this.mainservice.param(e);n=n?`?${n}`:"";let o=new At({Accept:"text/csv"});return this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/retrieve${n}`,o);}statusValues(){return[{value:"SCHEDULED",text:"SCHEDULED"},{value:"SCHEDULED FOR RETRY",text:"S. FOR RETRY"},{value:"IN PROCESS",text:"IN PROCESS"},{value:"COMPLETED",text:"COMPLETED"},{value:"WARNING",text:"WARNING"},{value:"FAILED",text:"FAILED"},{value:"CANCELED",text:"CANCELED"}];}getFilterSchema(e,n,o,a,s,l){let _={};return n?_={tag:"html-select",options:n,showStar:!0,showSearchField:!0,filterKey:"DestinationAET",placeholder:"Destination AET",description:"Destination AE Title to filter by"}:_={tag:"input",type:"text",filterKey:"DestinationAET",placeholder:"Destination AET",description:"Destination AE Title to filter by"},[[[{tag:"label",text:"Device Name"},{tag:"html-select",options:a,showSearchField:!0,showStar:!0,filterKey:"dicomDeviceName",description:"Device Name to filter by"}],[{tag:"label",text:"Local AET"},{tag:"html-select",options:e,showSearchField:!0,showStar:!0,filterKey:"LocalAET",description:"Archive AE Title to filter by"}],[{tag:"label",text:"Remote AET"},{tag:"html-select",options:o,showSearchField:!0,showStar:!0,filterKey:"RemoteAET",description:"C-MOVE SCP AE Title to filter by"}]],[[{tag:"multi-select",options:l,filterKey:"dcmQueueName",description:"Queue Name",showSearchField:!0,showStar:!0,placeholder:"Queue Name"},_],[{tag:"label",text:"Limit"},{tag:"input",type:"number",filterKey:"limit",description:"Maximal number of tasks in returned list"}],[{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"},{tag:"select",options:this.statusValues(),filterKey:"status",showStar:!0,description:"Status of tasks to filter by",placeholder:"Status"}]],[[{tag:"range-picker",filterKey:"createdTime",description:"Created Date"},{tag:"range-picker",filterKey:"updatedTime",description:"Updated Date"}],[{tag:"select",options:[{value:"createdTime",text:"Sort by creation time (ASC)"},{value:"-createdTime",text:"Sort by creation time (DESC)"},{value:"updatedTime",text:"Sort by updated time (ASC)"},{value:"-updatedTime",text:"Sort by updated time (DESC)"},{value:"scheduledTime",text:"Sort by scheduled time (ASC)"},{value:"-scheduledTime",text:"Sort by scheduled time (DESC)"}],filterKey:"orderby",description:"Sort",placeholder:"Sort"},{tag:"input",type:"text",filterKey:"StudyInstanceUID",description:"Unique Identifier of the Study to filter by",placeholder:"Study Instance UID"}],[{tag:"button",id:"count",text:s,description:"Query only the count"},{tag:"button",id:"submit",text:"SUBMIT",description:"Maximal number of tasks in returned list"}]]];}getTableSchema(e,n,o){return A(o,"grouped")&&o.grouped?[new J({type:"index",title:"#",description:"Index",widthWeight:.2,calculatedWidth:"4%"}),new J({type:"actions",title:"",actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:a=>{console.log("e",a),a.showAttributes=!a.showAttributes;},title:"Show details"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-list-alt",text:""},click:a=>{console.log("e",a),n.call(e,"task-detail",a);},title:"Show Tasks Detail"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete-batched",a);},permission:{id:"action-monitoring->export-single_action",param:"visible"},title:"Delete Task with this BatchID"}],description:"Actions",pxWidth:105}),new J({type:"value",title:"Batch ID",pathToValue:"batchID",description:"Batch ID",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Remote AET",pathToValue:"RemoteAET",description:"Remote AET",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Destination AET",pathToValue:"DestinationAET",description:"Destination AET",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Scheduled Time Range",pathToValue:"scheduledTimeRange",description:"Scheduled Time Range",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Processing Start Time Range",pathToValue:"processingStartTimeRange",description:"Processing Start Time Range",widthWeight:1,calculatedWidth:"20%"}),new J({type:"value",title:"Processing end time range",pathToValue:"processingEndTimeRange",description:"Processing end time range",widthWeight:1,calculatedWidth:"20%"}),new J({type:"progress",title:"Tasks",pathToValue:"tasks",description:"Tasks",widthWeight:1.5,cssClass:"no-padding",calculatedWidth:"20%"})]:[new J({type:"index",title:"#",description:"Index",widthWeight:.2,calculatedWidth:"4%"}),new J({type:"actions",title:"",headerActions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:(a,s)=>{a.forEach(l=>{l.selected=!0;}),s.allSelected=!0;},title:"Select",showIf:(a,s)=>!s.allSelected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:(a,s)=>{a.forEach(l=>{l.selected=!1;}),s.allSelected=!1;},title:"Unselect",showIf:(a,s)=>s.allSelected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ban-circle",text:""},click:a=>{console.log("e",a),n.call(e,"cancel-selected",a);},permission:{id:"action-monitoring->export-single_action",param:"visible"},title:"Cancel selected"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-repeat",text:""},click:a=>{console.log("e",a),n.call(e,"reschedule-selected",a);},permission:{id:"action-monitoring->export-single_action",param:"visible"},title:"Reschedule selected"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete-selected",a);},permission:{id:"action-monitoring->export-single_action",param:"visible"},title:"Delete selected"}],actions:[{icon:{tag:"span",cssClass:"glyphicon glyphicon-unchecked",text:""},click:a=>{a.selected=!a.selected;},title:"Select",showIf:(a,s)=>!a.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-check",text:""},click:a=>{console.log("e",a),a.selected=!a.selected;},title:"Unselect",showIf:(a,s)=>a.selected},{icon:{tag:"span",cssClass:"glyphicon glyphicon-ban-circle",text:""},click:a=>{console.log("e",a),n.call(e,"cancel",a);},title:"Cancel this task",permission:{id:"action-monitoring->export-single_action",param:"visible"},showIf:a=>a.status&&(a.status==="SCHEDULED"||a.status==="SCHEDULED FOR RETRY"||a.status==="IN PROCESS")},{icon:{tag:"span",cssClass:"glyphicon glyphicon-repeat",text:""},click:a=>{console.log("e",a),n.call(e,"reschedule",a);},title:"Reschedule this task",permission:{id:"action-monitoring->export-single_action",param:"visible"}},{icon:{tag:"span",cssClass:"glyphicon glyphicon-remove-circle",text:""},click:a=>{console.log("e",a),n.call(e,"delete",a);},permission:{id:"action-monitoring->export-single_action",param:"visible"},title:"Delete this task"},{icon:{tag:"span",cssClass:"glyphicon glyphicon-th-list",text:""},click:a=>{console.log("e",a),a.showAttributes=!a.showAttributes;},title:"Show details"}],description:"Actions",pxWidth:105}),...this.tableService.getTableSchema(ca(["dicomDeviceName","queue"],this.tableService.getTimeColumnBasedOnFilter(o.filterObject),["processingStartTime_scheduledTime","processingEndTime_processingStartTime","LocalAET","RemoteAET","DestinationAET","remaining","status","failures","batchID"]))];}getQueueNames(){return this.$http.get(`${I.addLastSlash(this.mainservice.baseUrl)}queue`);}getDevices(){return this.deviceService.getDevices();}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le),K(Xt),K(Ol));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();var oGe=()=>({id:"action-monitoring->external_retrieve-all_action",param:"visible"}),G3=i=>({active:i}),aGe=(i,r)=>({gray:i,red:r});function sGe(i,r){if(i&1&&(u(0,"td"),T(1),p()),i&2){let t=d().$implicit,e=d(2);c(),z(e.statusValues[t]==null?null:e.statusValues[t].count);}}function lGe(i,r){i&1&&(u(0,"td"),$(1,"i",36),p());}function cGe(i,r){if(i&1&&(u(0,"tr",35)(1,"td"),T(2),p(),E(3,sGe,2,1,"td",34)(4,lGe,2,0,"td",34),p()),i&2){let t=r.$implicit,e=d(2);m("ngClass",yn(4,aGe,(e.statusValues[t]==null?null:e.statusValues[t].count)=="0",(e.statusValues[t]==null?null:e.statusValues[t].count)=="!")),c(2),ue("",e.statusValues[t].text,":"),c(),m("ngIf",!(e.statusValues[t]!=null&&e.statusValues[t].loader)),c(),m("ngIf",e.statusValues[t]==null?null:e.statusValues[t].loader);}}function dGe(i,r){i&1&&$(0,"span",37);}function uGe(i,r){i&1&&$(0,"mat-progress-spinner",38),i&2&&m("diameter",20);}function pGe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2);c(),z(t.timer.startText);}}function mGe(i,r){if(i&1&&(u(0,"span"),T(1),p()),i&2){let t=d(2);c(),z(t.timer.stopText);}}function _Ge(i,r){if(i&1){let t=O();u(0,"div",24)(1,"div",25)(2,"table"),E(3,cGe,5,7,"tr",26),p(),u(4,"div",27)(5,"div",28)(6,"label"),P(7,4),p(),u(8,"input",29),q("ngModelChange",function(n){C(t);let o=d();return Y(o.interval,n)||(o.interval=n),y(n);}),p(),u(9,"span"),T(10,"s"),p()(),u(11,"button",30),b("click",function(){C(t);let n=d();return y(n.toggleAutoRefresh());}),u(12,"div",31),E(13,dGe,1,0,"span",32)(14,uGe,1,1,"mat-progress-spinner",33),p(),E(15,pGe,2,1,"span",34)(16,mGe,2,1,"span",34),p()()()();}if(i&2){let t=d();c(3),m("ngForOf",t.Object.keys(t.statusValues)),c(5),H("ngModel",t.interval),c(5),m("ngIf",!t.timer.started),c(),m("ngIf",t.timer.started),c(),m("ngIf",!t.timer.started),c(),m("ngIf",t.timer.started);}}function fGe(i,r){if(i&1&&(u(0,"mat-option",39),T(1),p()),i&2){let t=r.$implicit;m("value",X(t.value)),c(),z(t.label);}}function hGe(i,r){if(i&1){let t=O();u(0,"div",40),b("click",function(){C(t);let n=d();return y(n.prev());}),$(1,"span",41),p();}if(i&2){let t=d();m("ngClass",ne(1,G3,t.filterObject.offset>0));}}function gGe(i,r){if(i&1){let t=O();u(0,"div",42),b("click",function(){C(t);let n=d();return y(n.next());}),$(1,"span",43),p();}if(i&2){let t=d();m("ngClass",ne(1,G3,t.moreTasks));}}function vGe(i,r){if(i&1&&$(0,"table-generator",44),i&2){let t=d();m("stringifyDetailAttributes",!0)("config",t.tableConfigNormal)("models",t.externalRetrieveEntries);}}function CGe(i,r){if(i&1&&$(0,"table-generator",44),i&2){let t=d();m("stringifyDetailAttributes",!0)("config",t.tableConfigGrouped)("models",t.externalRetrieveEntries);}}var FH=(()=>{let r=class r{constructor(e,n,o,a,s,l,_,f,g,S,x,D){this.cfpLoadingBar=e,this.mainservice=n,this.appComponent=o,this.route=a,this.aeListService=s,this.service=l,this.httpErrorHandler=_,this.dialog=f,this.viewContainerRef=g,this.permissionService=S,this.deviceService=x,this._keycloakService=D,this.isRole=R=>!1,this._=ye,this.datePipe=new Dr("us-US"),this.timer={started:!1,startText:"Start Auto Refresh",stopText:"Stop Auto Refresh"},this.allActionsActive=[],this.allActionsOptions=[{value:"cancel",label:"Cancel all matching tasks"},{value:"reschedule",label:"Reschedule all matching tasks"},{value:"delete",label:"Delete all matching tasks"}],this.statusValues={},this.interval=10,this.tableHovered=!1,this.Object=Object,this.batchGrouped=!1,this.tableConfigNormal={search:""},this.tableConfigGrouped={search:""},this.moreTasks=!1,this.filterLoadFinished=!1;}ngOnInit(){this.initCheck(10);}initCheck(e){let n=this;Pe.keycloakAuth&&Pe.keycloakAuth.authenticated||A(this.mainservice,"global.notSecure")&&this.mainservice.global.notSecure?this.route.queryParams.subscribe(o=>{console.log("params",o),this.urlParam=Object.assign({},o),this.init();}):e?setTimeout(()=>{n.initCheck(e-1);},20):this.init();}init(){this.getQueueNames(),this.appComponent.setServerTime(),this.service.statusValues().forEach(e=>{this.statusValues[e.value]={count:0,loader:!1,text:e.text};}),this.filterObject={limit:20,offset:0},Mi(this.aeListService.getAes().pipe(me(e=>this.permissionService.filterAetDependingOnUiConfig(e,"external"))),this.aeListService.getAets().pipe(me(e=>this.permissionService.filterAetDependingOnUiConfig(e,"internal"))),this.service.getDevices()).subscribe(e=>{this.remoteAET=this.destinationAET=I.extendAetObjectWithAlias(e[0]).map(n=>({value:n.dicomAETitle,text:n.dicomAETitle})),this.localAET=I.extendAetObjectWithAlias(e[1]).map(n=>({value:n.dicomAETitle,text:n.dicomAETitle})),this.devices=e[2].filter(n=>n.hasArcDevExt).map(n=>({value:n.dicomDeviceName,text:n.dicomDeviceName})),this.initSchema();}),this.initExporters(2),this.onFormChange(this.filterObject);}toggleAutoRefresh(){this.timer.started=!this.timer.started,this.timer.started?(this.getCounts(),this.refreshInterval=setInterval(()=>{this.getCounts();},this.interval*1e3)):clearInterval(this.refreshInterval);}tableMousEnter(){this.tableHovered=!0;}tableMousLeave(){this.tableHovered=!1;}getCounts(){let e=Object.assign({},this.filterObject);this.tableHovered||this.getTasks(0),Object.keys(this.statusValues).forEach(n=>{e.status=n,this.statusValues[n].loader=!0,this.service.getCount(e).subscribe(o=>{this.statusValues[n].loader=!1;try{this.statusValues[n].count=o.count;}catch{this.statusValues[n].count="";}},o=>{this.statusValues[n].loader=!1,this.statusValues[n].count="!";});});}hasOlder(e){return e&&e.length==this.filterObject.limit;}hasNewer(e){return e&&e.length&&e[0].offset;}newerOffset(e){return Math.max(0,e[0].offset-this.filterObject.limit*1);}olderOffset(e){return e[0].offset+this.filterObject.limit*1;}initSchema(){this.filterSchema=this.service.getFilterSchema(this.localAET,this.destinationAET,this.remoteAET,this.devices,"COUNT "+(this.count||this.count==0?this.count:"")+"",this.queueNames),this.urlParam&&(yl(this.filterObject,this.urlParam),this.filterObject.limit=20,this.filterObject.orderby="-updatedTime"),this.setTableSchemas();}setTableSchemas(){this.tableConfigNormal={table:I.calculateWidthOfTable(this.service.getTableSchema(this,this.action,{grouped:!1,filterObject:this.filterObject})),filter:this.filterObject,search:"",showAttributes:!1,calculate:!1},this.tableConfigGrouped={table:I.calculateWidthOfTable(this.service.getTableSchema(this,this.action,{grouped:!0,filterObject:this.filterObject})),filter:this.filterObject,search:"",showAttributes:!1,calculate:!1};}action(e,n){switch(e){case"cancel-selected":this.executeAll("cancel");break;case"reschedule-selected":this.executeAll("reschedule");break;case"delete-selected":this.executeAll("delete");break;case"delete":this.delete(n);break;case"cancel":this.cancel(n);break;case"reschedule":this.reschedule(n);break;case"task-detail":this.showTaskDetail(n);break;case"delete-batched":this.deleteBatchedTask(n);break;}}confirm(e){return this.dialogRef=this.dialog.open(Ei,{height:"auto",width:"510px"}),this.dialogRef.componentInstance.parameters=e,this.dialogRef.afterClosed();}downloadCsv(){this.confirm({content:"Do you want to use semicolon as delimiter?",cancelButton:"No",saveButton:"Yes",result:"yes"}).subscribe(e=>{let n=!1;e&&(n=!0);let o;this._keycloakService.getToken().subscribe(a=>{this.mainservice.global.notSecure||(o=a.token);let s=Oe(this.filterObject);delete s.offset,delete s.limit,this.mainservice.global.notSecure?I.downloadFile(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/retrieve?accept=text/csv${n?";delimiter=semicolon":""}&${this.mainservice.param(s)}`,"retrieve.csv"):I.downloadFile(`${I.addLastSlash(this.mainservice.baseUrl)}monitor/retrieve?accept=text/csv${n?";delimiter=semicolon":""}&access_token=${o}&${this.mainservice.param(s)}`,"retrieve.csv");});});}uploadCsv(){this.dialogRef=this.dialog.open(Du,{height:"auto",width:"510px"}),this.dialogRef.componentInstance.aes=this.remoteAET,this.dialogRef.componentInstance.params={LocalAET:this.filterObject.LocalAET||"",RemoteAET:this.filterObject.RemoteAET||"",DestinationAET:this.filterObject.DestinationAET||"",batchID:this.filterObject.batchID||"",formSchema:[{tag:"range-picker-time",type:"text",filterKey:"scheduledTime",description:"Schedule at (if not set, schedule immediately)"},{tag:"input",type:"checkbox",filterKey:"semicolon",description:"Use semicolon as delimiter"},{tag:"select",options:this.remoteAET,showStar:!0,filterKey:"LocalAET",description:"Local AET",placeholder:"Local AET",validation:Ci.required},{tag:"select",options:this.remoteAET,showStar:!0,filterKey:"RemoteAET",description:"Remote AET",placeholder:"Remote AET",validation:Ci.required},{tag:"input",type:"number",filterKey:"field",description:"Field",placeholder:"Field",validation:[Ci.minLength(1),Ci.min(1)],defaultValue:1},{tag:"select",options:this.remoteAET,showStar:!0,filterKey:"DestinationAET",description:"Destination AET",placeholder:"Destination AET",validation:Ci.required},{tag:"select",options:this.queueNames,showStar:!0,filterKey:"dcmQueueName",placeholder:"Queue Name",description:"Queue Name"},{tag:"input",type:"text",filterKey:"batchID",description:"Batch ID",placeholder:"Batch ID"}],prepareUrl:e=>{let n={};return e.priority&&(n.priority=e.priority),e.batchID&&(n.batchID=e.batchID),e.dcmQueueName&&(n.dcmQueueName=e.dcmQueueName),e.scheduledTime&&(n.scheduledTime=e.scheduledTime),`${I.addLastSlash(this.mainservice.baseUrl)}aets/${e.LocalAET}/dimse/${e.RemoteAET}/studies/csv:${e.field}/export/dicom:${e.DestinationAET}${I.getUrlParams(n)}`;}},this.dialogRef.afterClosed().subscribe(e=>{e&&console.log("ok",e);});}allActionChanged(e){let n="Are you sure, you want to "+we.getActionText(this.allAction)+" all matching tasks?",o=Object.assign({},this.filterObject);switch(delete o.limit,delete o.offset,this.cfpLoadingBar.start(),this.allAction){case"cancel":this.confirm({content:n}).subscribe(a=>{a&&this.service.cancelAll(this.filterObject).subscribe(s=>{this.mainservice.showMsg(""+s.count+" tasks canceled successfully!"),this.cfpLoadingBar.complete();},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);});});break;case"reschedule":this.deviceService.selectParametersForMatching(a=>{if(a){let s=Object.assign({},this.filterObject);A(a,"schema_model.newDeviceName")&&a.schema_model.newDeviceName!=""&&(s.newDeviceName=a.schema_model.newDeviceName),A(a,"schema_model.scheduledTime")&&a.schema_model.scheduledTime!=""&&(s.scheduledTime=a.schema_model.scheduledTime),A(a,"schema_model.newQueueName")&&a.schema_model.newQueueName!=""&&(s.newQueueName=a.schema_model.newQueueName),this.service.rescheduleAll(s).subscribe(l=>{this.cfpLoadingBar.complete(),A(l,"count")?this.mainservice.showMsg(""+l.count+" tasks rescheduled successfully!"):this.mainservice.showMsg("Task rescheduled successfully!");},l=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(l);});}},this.devices,!0,this.queueNames);break;case"delete":this.confirm({content:n}).subscribe(a=>{a&&this.service.deleteAll(this.filterObject).subscribe(s=>{this.mainservice.showMsgDeleteTasks(s),this.cfpLoadingBar.complete();},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);});});break;}this.cfpLoadingBar.complete(),this.allAction="",this.allAction=void 0;}deleteBatchedTask(e){this.confirm({content:"Are you sure you want to delete all tasks of this batch?"}).subscribe(n=>{if(n)if(e.batchID){let o=Object.assign({},this.filterObject);o.batchID=e.batchID,delete o.limit,delete o.offset,this.service.deleteAll(o).subscribe(a=>{this.cfpLoadingBar.complete(),A(a,"count")?this.mainservice.showMsg(""+a.count+" tasks deleted successfully!"):this.mainservice.showMsg("Task deleted successfully!"),this.getTasks(0);},a=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(a);});}else this.mainservice.showError("Batch ID not found!");});}delete(e){let n=this,o={content:"Are you sure you want to delete this task?"};this.confirm(o).subscribe(a=>{a&&(n.cfpLoadingBar.start(),this.service.delete(e.taskID).subscribe(s=>{n.cfpLoadingBar.complete(),n.getTasks(e.offset||0),this.mainservice.showMsg("Task deleted successfully!");},s=>{n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(s);}));});}cancel(e){let n=this,o={content:"Are you sure you want to cancel this task?"};this.confirm(o).subscribe(a=>{a&&(n.cfpLoadingBar.start(),this.service.cancel(e.taskID).subscribe(s=>{e.status="CANCELED",n.cfpLoadingBar.complete(),this.mainservice.showMsg("Task canceled successfully!");},s=>{n.cfpLoadingBar.complete(),console.log("cancleerr",s),n.httpErrorHandler.handleError(s);}));});}onFormChange(e){this.setTableSchemas();}reschedule(e){let n=this;this.deviceService.selectParameters(o=>{if(o){let a={};A(o,"schema_model.newDeviceName")&&o.schema_model.newDeviceName!=""&&(a.newDeviceName=o.schema_model.newDeviceName),A(o,"schema_model.scheduledTime")&&o.schema_model.scheduledTime!=""&&(a.scheduledTime=o.schema_model.scheduledTime),A(o,"schema_model.newQueueName")&&o.schema_model.newQueueName!=""&&(a.newQueueName=o.schema_model.newQueueName),n.cfpLoadingBar.start(),this.service.reschedule(e.taskID,a).subscribe(s=>{n.getTasks(e.offset||0),n.cfpLoadingBar.complete(),this.mainservice.showMsg("Task rescheduled successfully!");},s=>{n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(s);});}},this.devices,!0,!0,this.queueNames);}checkAll(e){this.externalRetrieveEntries.forEach(n=>{n.checked=e.target.checked;});}executeAll(e){this.confirm({content:"Are you sure you want to "+we.getActionText(e)+" selected entries?"}).subscribe(n=>{n&&(this.cfpLoadingBar.start(),this.externalRetrieveEntries.forEach(o=>{o.selected&&this.service[e](o.taskID).subscribe(a=>{console.log("execute result=",a);},a=>{this.httpErrorHandler.handleError(a);});}),setTimeout(()=>{this.getTasks(this.externalRetrieveEntries[0].offset||0),this.cfpLoadingBar.complete();},300));});}onSubmit(e){A(e,"id")&&A(e,"model")&&(this.filterObject=e.model,e.id==="count"?this.getCount():this.getCounts());}showTaskDetail(e){this.filterObject.batchID=e.batchID,this.batchGrouped=!1,this.getTasks(0);}getTasks(e){let n=this;n.cfpLoadingBar.start(),this.service.getExternalRetrieveEntries(this.filterObject,e,this.batchGrouped).subscribe(o=>{n.cfpLoadingBar.complete(),po.production||(this.batchGrouped?o=[{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]},{batchID:"ATS Prefetch Priors on Store[2.25.253254299183063559800543717906499910894]",tasks:{failed:"32"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - QIDO Study Instances","ATS Prefetch NG - QIDO Study Series","ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-03-15T01:20:51.548+0100","2022-03-15T01:20:51.929+0100"],updatedTimeRange:["2022-03-15T19:39:00.706+0100","2022-03-15T19:41:30.097+0100"],scheduledTimeRange:["2022-03-15T19:38:00.692+0100","2022-03-15T19:41:00.721+0100"],processingStartTimeRange:["2022-03-15T19:39:00.584+0100","2022-03-15T19:41:05.308+0100"],processingEndTimeRange:["2022-03-15T19:39:00.703+0100","2022-03-15T19:41:29.900+0100"]},{batchID:"ATS Prefetch Priors on Store[1.2.276.0.37.1.406.201712.240110]",tasks:{warning:"2"},dicomDeviceName:["demoj4c"],ExporterID:["ATS Prefetch NG - Series Thumbnails","ATS Prefetch NG - Series WADO Metadata"],createdTimeRange:["2022-02-08T18:45:29.656+0100","2022-02-08T18:45:29.664+0100"],updatedTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.111+0100"],scheduledTimeRange:["2022-02-08T18:45:29.489+0100","2022-02-08T18:45:29.489+0100"],processingStartTimeRange:["2022-02-08T18:45:48.149+0100","2022-02-08T18:45:48.585+0100"],processingEndTimeRange:["2022-02-08T18:45:49.821+0100","2022-02-08T18:45:50.110+0100"]},{batchID:"recreate-tasks-5.24.iuids",tasks:{warning:"9"},dicomDeviceName:["demoj4c"],ExporterID:["Export Objects to STORESCP"],createdTimeRange:["2021-09-24T16:17:16.929+0200","2021-09-24T16:17:17.092+0200"],updatedTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"],scheduledTimeRange:["2021-09-24T16:27:46.633+0200","2021-09-24T16:27:46.633+0200"],processingStartTimeRange:["2021-09-24T16:27:46.765+0200","2021-09-24T16:27:46.864+0200"],processingEndTimeRange:["2021-09-24T16:27:46.787+0200","2021-09-24T16:27:46.884+0200"]}]:o=[{taskID:"62",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.690-0600",updatedTime:"2022-03-17T11:52:14.100-0600",scheduledTime:"2022-03-17T11:52:05.689-0600",processingStartTime:"2022-03-17T11:52:14.019-0600",processingEndTime:"2022-03-17T11:52:14.100-0600",outcomeMessage:"Export STUDY[suid:1.3.6.1.4.1.5962.1.2.0.1175775772.5732.0] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.6.1.4.1.5962.1.2.0.1175775772.5732.0",completed:"1",statusCode:"0000"},{taskID:"61",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.683-0600",updatedTime:"2022-03-17T11:52:14.013-0600",scheduledTime:"2022-03-17T11:52:05.681-0600",processingStartTime:"2022-03-17T11:52:13.869-0600",processingEndTime:"2022-03-17T11:52:14.013-0600",outcomeMessage:"Export STUDY[suid:1.3.6.1.4.1.5962.1.2.0.1175775771.5705.0] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.6.1.4.1.5962.1.2.0.1175775771.5705.0",completed:"1",statusCode:"0000"},{taskID:"60",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.676-0600",updatedTime:"2022-03-17T11:52:13.859-0600",scheduledTime:"2022-03-17T11:52:05.675-0600",processingStartTime:"2022-03-17T11:52:13.778-0600",processingEndTime:"2022-03-17T11:52:13.859-0600",outcomeMessage:"Export STUDY[suid:1.3.6.1.4.1.5962.1.2.0.1175775771.5711.0] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.6.1.4.1.5962.1.2.0.1175775771.5711.0",completed:"1",statusCode:"0000"},{taskID:"59",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.670-0600",updatedTime:"2022-03-17T11:52:13.770-0600",scheduledTime:"2022-03-17T11:52:05.669-0600",processingStartTime:"2022-03-17T11:52:13.692-0600",processingEndTime:"2022-03-17T11:52:13.769-0600",outcomeMessage:"Export STUDY[suid:1.3.6.1.4.1.5962.1.2.0.1175775771.5714.0] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.6.1.4.1.5962.1.2.0.1175775771.5714.0",completed:"1",statusCode:"0000"},{taskID:"58",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.661-0600",updatedTime:"2022-03-17T11:52:13.684-0600",scheduledTime:"2022-03-17T11:52:05.660-0600",processingStartTime:"2022-03-17T11:52:13.622-0600",processingEndTime:"2022-03-17T11:52:13.683-0600",outcomeMessage:"Export STUDY[suid:1.3.6.1.4.1.5962.1.2.0.1175775771.5708.0] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.6.1.4.1.5962.1.2.0.1175775771.5708.0",completed:"1",statusCode:"0000"},{taskID:"57",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.653-0600",updatedTime:"2022-03-17T11:52:13.614-0600",scheduledTime:"2022-03-17T11:52:05.651-0600",processingStartTime:"2022-03-17T11:52:13.549-0600",processingEndTime:"2022-03-17T11:52:13.614-0600",outcomeMessage:"Export STUDY[suid:1.3.6.1.4.1.5962.1.2.0.1175775772.5729.0] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.6.1.4.1.5962.1.2.0.1175775772.5729.0",completed:"1",statusCode:"0000"},{taskID:"56",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.639-0600",updatedTime:"2022-03-17T11:52:13.541-0600",scheduledTime:"2022-03-17T11:52:05.638-0600",processingStartTime:"2022-03-17T11:52:13.471-0600",processingEndTime:"2022-03-17T11:52:13.540-0600",outcomeMessage:"Export STUDY[suid:1.3.6.1.4.1.5962.1.2.0.1175775772.5717.0] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.6.1.4.1.5962.1.2.0.1175775772.5717.0",completed:"1",statusCode:"0000"},{taskID:"55",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.631-0600",updatedTime:"2022-03-17T11:52:13.463-0600",scheduledTime:"2022-03-17T11:52:05.629-0600",processingStartTime:"2022-03-17T11:52:13.384-0600",processingEndTime:"2022-03-17T11:52:13.463-0600",outcomeMessage:"Export STUDY[suid:1.3.6.1.4.1.5962.1.2.0.1175775772.5720.0] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.6.1.4.1.5962.1.2.0.1175775772.5720.0",completed:"1",statusCode:"0000"},{taskID:"54",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.621-0600",updatedTime:"2022-03-17T11:52:13.374-0600",scheduledTime:"2022-03-17T11:52:05.620-0600",processingStartTime:"2022-03-17T11:52:13.291-0600",processingEndTime:"2022-03-17T11:52:13.373-0600",outcomeMessage:"Export STUDY[suid:1.3.6.1.4.1.5962.1.2.0.1175775772.5726.0] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.6.1.4.1.5962.1.2.0.1175775772.5726.0",completed:"1",statusCode:"0000"},{taskID:"53",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.614-0600",updatedTime:"2022-03-17T11:52:13.280-0600",scheduledTime:"2022-03-17T11:52:05.612-0600",processingStartTime:"2022-03-17T11:52:13.185-0600",processingEndTime:"2022-03-17T11:52:13.280-0600",outcomeMessage:"Export STUDY[suid:1.3.6.1.4.1.5962.1.2.0.1175775771.5702.0] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.6.1.4.1.5962.1.2.0.1175775771.5702.0",completed:"1",statusCode:"0000"},{taskID:"52",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.607-0600",updatedTime:"2022-03-17T11:52:13.176-0600",scheduledTime:"2022-03-17T11:52:05.606-0600",processingStartTime:"2022-03-17T11:52:13.047-0600",processingEndTime:"2022-03-17T11:52:13.176-0600",outcomeMessage:"Export STUDY[suid:1.3.6.1.4.1.5962.1.2.0.1175775772.5723.0] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.6.1.4.1.5962.1.2.0.1175775772.5723.0",completed:"1",statusCode:"0000"},{taskID:"51",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.596-0600",updatedTime:"2022-03-17T11:52:13.031-0600",scheduledTime:"2022-03-17T11:52:05.594-0600",processingStartTime:"2022-03-17T11:52:12.770-0600",processingEndTime:"2022-03-17T11:52:13.031-0600",outcomeMessage:"Export STUDY[suid:1.3.12.2.1107.5.8.1.123456789.199507271758050705910] from DCM4CHEE to DCM4CHEE - completed:26",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.3.12.2.1107.5.8.1.123456789.199507271758050705910",completed:"26",statusCode:"0000"},{taskID:"50",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.588-0600",updatedTime:"2022-03-17T11:52:12.764-0600",scheduledTime:"2022-03-17T11:52:05.587-0600",processingStartTime:"2022-03-17T11:52:12.718-0600",processingEndTime:"2022-03-17T11:52:12.764-0600",outcomeMessage:"Export STUDY[suid:1.2.840.113701.4.1.6653.3.264] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.2.840.113701.4.1.6653.3.264",completed:"1",statusCode:"0000"},{taskID:"49",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.579-0600",updatedTime:"2022-03-17T11:52:12.713-0600",scheduledTime:"2022-03-17T11:52:05.576-0600",processingStartTime:"2022-03-17T11:52:12.524-0600",processingEndTime:"2022-03-17T11:52:12.712-0600",outcomeMessage:"Export STUDY[suid:1.2.840.113674.514.212.200] from DCM4CHEE to DCM4CHEE - completed:11",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.2.840.113674.514.212.200",completed:"11",statusCode:"0000"},{taskID:"48",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.567-0600",updatedTime:"2022-03-17T11:52:12.516-0600",scheduledTime:"2022-03-17T11:52:05.566-0600",processingStartTime:"2022-03-17T11:52:11.394-0600",processingEndTime:"2022-03-17T11:52:12.516-0600",outcomeMessage:"Export STUDY[suid:1.2.840.113674.1140.196.200] from DCM4CHEE to DCM4CHEE - completed:94",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.2.840.113674.1140.196.200",completed:"94",statusCode:"0000"},{taskID:"47",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.553-0600",updatedTime:"2022-03-17T11:52:11.386-0600",scheduledTime:"2022-03-17T11:52:05.549-0600",processingStartTime:"2022-03-17T11:52:11.294-0600",processingEndTime:"2022-03-17T11:52:11.386-0600",outcomeMessage:"Export STUDY[suid:1.2.840.113701.4.1.1.3.3477] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.2.840.113701.4.1.1.3.3477",completed:"1",statusCode:"0000"},{taskID:"46",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.542-0600",updatedTime:"2022-03-17T11:52:11.288-0600",scheduledTime:"2022-03-17T11:52:05.541-0600",processingStartTime:"2022-03-17T11:52:11.067-0600",processingEndTime:"2022-03-17T11:52:11.287-0600",outcomeMessage:"Export STUDY[suid:1.2.840.113674.1242.214.200] from DCM4CHEE to DCM4CHEE - completed:16",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.2.840.113674.1242.214.200",completed:"16",statusCode:"0000"},{taskID:"45",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.529-0600",updatedTime:"2022-03-17T11:52:11.055-0600",scheduledTime:"2022-03-17T11:52:05.527-0600",processingStartTime:"2022-03-17T11:52:10.298-0600",processingEndTime:"2022-03-17T11:52:11.055-0600",outcomeMessage:"Export STUDY[suid:2.16.840.1.113662.4.8796818069641.798806497.93296077602350.10] from DCM4CHEE to DCM4CHEE - completed:42",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"2.16.840.1.113662.4.8796818069641.798806497.93296077602350.10",completed:"42",statusCode:"0000"},{taskID:"44",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"SCHEDULED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.522-0600",updatedTime:"2022-03-17T11:52:10.292-0600",scheduledTime:"2022-03-17T11:52:05.520-0600",processingStartTime:"2022-03-17T11:52:09.775-0600",processingEndTime:"2022-03-17T11:52:10.291-0600",outcomeMessage:"Export STUDY[suid:2.16.840.1.113662.4.8796818069641.798806497.93296077602350.30] from DCM4CHEE to DCM4CHEE - completed:41",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"2.16.840.1.113662.4.8796818069641.798806497.93296077602350.30",completed:"41",statusCode:"0000"},{taskID:"43",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.508-0600",updatedTime:"2022-03-17T11:52:09.768-0600",scheduledTime:"2022-03-17T11:52:05.507-0600",processingStartTime:"2022-03-17T11:52:09.661-0600",processingEndTime:"2022-03-17T11:52:09.767-0600",outcomeMessage:"Export STUDY[suid:1.2.392.200036.9125.0.199212251200.28] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.2.392.200036.9125.0.199212251200.28",completed:"1",statusCode:"0000"},{taskID:"43",dicomDeviceName:"dcm4chee-arc",queue:"Retrieve",type:"RETRIEVE",status:"COMPLETED",batchID:"2221711523",createdTime:"2022-03-17T11:52:05.508-0600",updatedTime:"2022-03-17T11:52:09.768-0600",scheduledTime:"2022-03-17T11:52:05.507-0600",processingStartTime:"2022-03-17T11:52:09.661-0600",processingEndTime:"2022-03-17T11:52:09.767-0600",outcomeMessage:"Export STUDY[suid:1.2.392.200036.9125.0.199212251200.28] from DCM4CHEE to DCM4CHEE - completed:1",RequesterUserID:"admin",RequesterHostName:"192.168.0.87",RequestURI:"http://shefki-lifebook:8080/dcm4chee-arc/aets/DCM4CHEE/dimse/DCM4CHEE/query:DCM4CHEE/studies/export/dicom:DCM4CHEE",LocalAET:"DCM4CHEE",RemoteAET:"DCM4CHEE",DestinationAET:"DCM4CHEE",FindSCP:"DCM4CHEE",StudyInstanceUID:"1.2.392.200036.9125.0.199212251200.28",completed:"1",statusCode:"0000"}]),o&&o.length>0?(this.externalRetrieveEntries=o.map((a,s)=>{if(this.batchGrouped){let l=Object.assign({},a);if(A(a,"tasks")){let _=[];we.TASK_NAMES.forEach(f=>{a.tasks[f]&&_.push({[f]:a.tasks[f]});}),a.tasks=_;}return I.stringifyArrayOrObject(a,["tasks"]),I.stringifyArrayOrObject(l,[]),a;}else{A(a,"Modality")&&(a.Modality=a.Modality.join(", ")),a.taskState=(a.completed?a.completed*1:0)+" / "+(a.remaining?a.remaining*1:0)+" / "+(a.warning?a.warning*1:0)+" / "+(a.failed?a.failed*1:0);let l=a.processingEndTime?new Date(a.processingEndTime):this.mainservice.serverTime;try{a.NumberOfInstances=a.NumberOfInstances||(a.completed?a.completed*1:0)+(a.remaining?a.remaining*1:0)+(a.failed?a.failed*1:0),a.InstancePerSec=Math.round((a.completed?a.completed*1:0)/(l.getTime()/1e3-new Date(a.processingStartTime).getTime()/1e3)*100)/100||"-",a.processingEndTime||(a.approximatelyEndTime=Math.round(a.remaining/a.InstancePerSec*100)/100?`${this.secToMinSecString(a.remaining/a.InstancePerSec)}`:"-");}catch{a.InstancePerSec="";}return a;}}),this.moreTasks=o.length>this.filterObject.limit,this.moreTasks&&this.externalRetrieveEntries.splice(this.externalRetrieveEntries.length-1,1),n.count=void 0):(n.cfpLoadingBar.complete(),n.externalRetrieveEntries=[],this.mainservice.showMsg("No tasks found!"));},o=>{n.externalRetrieveEntries=[],n.cfpLoadingBar.complete(),n.httpErrorHandler.handleError(o);});}next(){if(this.moreTasks){let e=Object.assign({},this.filterObject);e.limit&&(this.filterObject.offset=e.offset=e.offset*1+this.filterObject.limit*1,e.limit++),this.getTasks(e.offset);}}prev(){if(this.filterObject.offset>0){let e=Object.assign({},this.filterObject);e.limit&&(this.filterObject.offset=e.offset=e.offset*1-this.filterObject.limit*1),this.getTasks(e.offset);}}secToMinSecString(e){let n,o;try{return e>59?(n=parseInt((e/60).toString()),o=Math.round((e/60-n)*60),`${n} min ${o} s`):`${Math.round(e)} s`;}catch{return"-";}}getCount(){this.cfpLoadingBar.start(),this.service.getCount(this.filterObject).subscribe(e=>{try{this.count=e.count;}catch{this.count="";}this.urlParam={},this.initSchema(),this.cfpLoadingBar.complete();},e=>{this.cfpLoadingBar.complete(),this.initSchema(),this.httpErrorHandler.handleError(e);});}initExporters(e){let n=this;this.service.getExporters().subscribe(o=>{n.exporters=o,o&&o[0]&&o[0].id&&(n.exporterID=o[0].id);},o=>{e&&n.initExporters(e-1);});}getQueueNames(){this.service.getQueueNames().subscribe(e=>{this.queueNames=e.filter(n=>n.name.toLowerCase().indexOf("retrieve")>-1).sort((n,o)=>{try{return parseInt(n.name.replace(/Retrieve/g,""))-parseInt(o.name.replace(/Retrieve/g,""));}catch{return 1;}}).map(n=>new G(n.name,n.description));},e=>{this.httpErrorHandler.handleError(e);});}ngOnDestroy(){this.timer.started&&(this.timer.started=!1,clearInterval(this.refreshInterval));}};r.ɵfac=function(n){return new(n||r)(k(ti),k(le),k(pA),k(Dn),k(un),k(rw),k(Pt),k(ri),k(Mt),k(In),k(Xt),k(Pe));},r.ɵcmp=Z({type:r,selectors:[["retrieve-monitoring"]],standalone:!1,decls:34,vars:15,consts:()=>{let e;e="All actions";let n;n="Retrieve";let o;o="Download CSV";let a;a="Upload CSV";let s;s="Batch ID grouped";let l;l="Interval";let _;return _="Interval:",[n,o,a,s,_,[1,"main_content","retrieve","monitoring","white_design"],[1,"tab-content"],[1,"filter_line"],[1,"filter_block"],[3,"submit","onChange","onFilterLoadFinish","schema","model"],["class","filter",4,"ngIf"],[1,"filter","single_block",3,"permission"],[1,"line"],[1,"w45percent","csv_button",3,"click"],[1,"custom_icon","csv_icon"],[1,"text"],[1,"material-icons"],["placeholder",e,"floatPlaceholder","never",1,"pull-left",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","checkbox",1,"checkbox_button","pull-right",3,"ngClass"],["id","checkbox","type","checkbox",3,"ngModelChange","ngModel"],["class","left_arrow arrow",3,"ngClass","click",4,"ngIf"],["class","right_arrow arrow",3,"ngClass","click",4,"ngIf"],[3,"stringifyDetailAttributes","config","models",4,"ngIf"],[1,"filter"],[1,"filter_block","auto_reloader"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"option_block"],[1,"interval_block"],["type","text","placeholder",l,3,"ngModelChange","ngModel"],[1,"btn-default","submit",3,"click"],[1,"spinnter_container"],["class","glyphicon glyphicon-refresh",4,"ngIf"],["mode","indeterminate",3,"diameter",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],[1,"fa","fa-circle-o-notch","fa-spin","dashboard_loader"],[1,"glyphicon","glyphicon-refresh"],["mode","indeterminate",3,"diameter"],[3,"value"],[1,"left_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-left"],[1,"right_arrow","arrow",3,"click","ngClass"],[1,"glyphicon","glyphicon","glyphicon-chevron-right"],[3,"stringifyDetailAttributes","config","models"]];},template:function(n,o){n&1&&(u(0,"div",5),$(1,"monitoring-tabs"),u(2,"div",6)(3,"h2"),P(4,0),p(),u(5,"div",7)(6,"div",8)(7,"filter-generator",9),b("submit",function(s){return o.onSubmit(s);})("onChange",function(s){return o.onFormChange(s);})("onFilterLoadFinish",function(){return o.filterLoadFinished=!0;}),p(),E(8,_Ge,17,6,"div",10),p()(),u(9,"div",7)(10,"div",11)(11,"div",8)(12,"div",12)(13,"div",13),b("click",function(){return o.downloadCsv();}),$(14,"span",14),u(15,"span",15),P(16,1),p()(),u(17,"div",13),b("click",function(){return o.uploadCsv();}),u(18,"span",16),T(19,"file_upload"),p(),u(20,"span",15),P(21,2),p()()()(),u(22,"div",8)(23,"div",12)(24,"mat-select",17),q("ngModelChange",function(s){return Y(o.allAction,s)||(o.allAction=s),s;}),b("selectionChange",function(s){return o.allActionChanged(s);}),E(25,fGe,2,3,"mat-option",18),p(),u(26,"label",19)(27,"input",20),q("ngModelChange",function(s){return Y(o.batchGrouped,s)||(o.batchGrouped=s),s;}),b("ngModelChange",function(){return o.externalRetrieveEntries=[];}),p(),u(28,"span"),P(29,3),p()()()()()(),E(30,hGe,2,3,"div",21)(31,gGe,2,3,"div",22)(32,vGe,1,3,"table-generator",23)(33,CGe,1,3,"table-generator",23),p()()),n&2&&(c(7),m("schema",o.filterSchema)("model",o.filterObject),c(),m("ngIf",o.filterLoadFinished),c(2),m("permission",Ke(12,oGe)),c(14),H("ngModel",o.allAction),c(),m("ngForOf",o.allActionsOptions),c(),m("ngClass",ne(13,G3,o.batchGrouped)),c(),H("ngModel",o.batchGrouped),c(3),m("ngIf",o.externalRetrieveEntries&&o.externalRetrieveEntries.length&&o.externalRetrieveEntries.length>0),c(),m("ngIf",o.externalRetrieveEntries&&o.externalRetrieveEntries.length&&o.externalRetrieveEntries.length>0),c(),m("ngIf",!o.batchGrouped&&o.tableConfigNormal&&o.externalRetrieveEntries&&o.externalRetrieveEntries.length&&o.externalRetrieveEntries.length>0),c(),m("ngIf",o.batchGrouped&&o.tableConfigGrouped&&o.externalRetrieveEntries&&o.externalRetrieveEntries.length&&o.externalRetrieveEntries.length>0));},dependencies:[Je,ve,de,Me,pi,Se,Ee,fi,ii,Ao,jr,Yi,xn,_a],encapsulation:2});let i=r;return i;})();var ow=(()=>{let r=class r{constructor(e,n){this.$http=e,this.appService=n,this.url={METRICS_DESCRIPTORS:`${I.addLastSlash(this.appService.baseUrl)}metrics`,METRICS:o=>`${I.addLastSlash(this.appService.baseUrl)}metrics/${o}`},this.getMetricsDescriptors=()=>this.$http.get(this.url.METRICS_DESCRIPTORS),this.getMetrics=(o,a)=>this.$http.get(`${this.url.METRICS(o)}${I.param(a)}`),this.getFilterSchema=(o,a)=>[{tag:"html-select",type:"text",filterKey:"name",options:o,text:"Name",showSearchField:!0,description:"Metrics Name",placeholder:"Metrics Name"},{tag:"editable-select",type:"number",filterKey:"bin",min:1,max:60,options:a,description:"Data bin size in minutes",placeholder:"Bin (min)"},{tag:"input",type:"number",filterKey:"limit",min:1,text:"Limit",description:"Maximal number of returned data entries",placeholder:"Limit"},{tag:"button",text:"SUBMIT",description:"Get Metrics"}];}getTableSchema(e){let n="";return e&&(n=`[${e}]`),[new J({type:"value",title:"Time",header:"Time",widthWeight:1,pathToValue:"time"}),new J({type:"value",title:"Count",header:"Count",widthWeight:1,pathToValue:"count"}),new J({type:"value",title:"Min"+n+"",header:"Min"+n+"",widthWeight:1,pathToValue:"min"}),new J({type:"value",header:"Avg"+n+"",title:"Avg"+n+"",widthWeight:1,pathToValue:"avg"}),new J({type:"value",header:"Max"+n+"",title:"Max"+n+"",widthWeight:1,pathToValue:"max"})];}};r.ɵfac=function(n){return new(n||r)(K(Fe),K(le));},r.ɵprov=Q({token:r,factory:r.ɵfac});let i=r;return i;})();function bGe(i,r){if(i&1&&$(0,"table-generator",7),i&2){let t=d();m("config",t.tableConfig)("models",t.metrics);}}var VH=(()=>{let r=class r{constructor(e,n,o,a){this.service=e,this.httpErrorHandler=n,this.cfpLoadingBar=o,this.appService=a,this.filterObject={bin:1};}ngOnInit(){this.getMetricsDescriptors();}onFormChange(e){console.log("e",e),console.log("filterSchema",this.filterSchema),console.log("metricsDescriptors",this.metricsDescriptors),this.selectWrightMetricsDescriptor(),this.setFilterSchema(),this.setTableConfig();}selectWrightMetricsDescriptor(){A(this.filterObject,"name")&&this.filterObject.name!=""?this.selectedMetricsDescriptors&&this.selectedMetricsDescriptors.dcmMetricsName===this.filterObject.name||this.metricsDescriptors.forEach(e=>{e.dcmMetricsName===this.filterObject.name&&(this.selectedMetricsDescriptors=e);}):this.selectedMetricsDescriptors=void 0;}getMetrics(e){if(A(this.filterObject,"name")&&this.filterObject.name!=""){let n=this.validFilter();if(n.valid){this.cfpLoadingBar.start();let o=Wo(this.filterObject),a=o.name;delete o.name,this.service.getMetrics(a,o).subscribe(s=>{let l=To(this.filterObject.bin.toString())||1,_=new Date(this.appService.serverTime);this.metrics=s.map((f,g)=>(g!=0&&_.setMinutes(_.getMinutes()-l),Eo(f)?{}:{time:I.formatDate(_,"HH:mm"),avg:I.round(f.avg,2),count:f.count,max:I.round(f.max,2),min:I.round(f.min,2)})).reduce((f,g)=>{let S=f.length;return(S===0||Eo(f[S-1])!=Eo(g)||!Eo(g))&&f.push(g),f;},[]),this.cfpLoadingBar.complete(),(!this.metrics||this.metrics.length===0||this.metrics.length===1&&Eo(this.metrics[0]))&&this.appService.showMsg("No data found!");},s=>{this.cfpLoadingBar.complete(),this.httpErrorHandler.handleError(s);});}else this.appService.showError(n.msg);}else this.appService.showError("Metrics Name is missing");}validFilter(){let e={valid:!0,msg:""};return(!A(this.filterObject,"bin")||To(this.filterObject.bin.toString())<1||To(this.filterObject.bin.toString())>To(this.selectedMetricsDescriptors.dcmMetricsRetentionPeriod))&&(e={valid:!1,msg:"Bin value is not valid!"}),A(this.filterObject,"limit")&&this.filterObject.limit&&To(this.filterObject.limit.toString())<1&&(e={valid:!1,msg:"Limit value is not valid!"}),e;}setTableConfig(){this.tableConfig={table:I.calculateWidthOfTable(this.service.getTableSchema(this.selectedMetricsDescriptors?this.selectedMetricsDescriptors.dcmUnit:"")),filter:this.filterObject,calculate:!1};}setFilterSchema(){this.filterSchema=I.prepareFlatFilterObject(this.service.getFilterSchema(this.metricsDescriptors.map(e=>new G(e.dcmMetricsName,e.dicomDescription,e.dicomDescription,void 0,void 0,e)),[1,5,15,this.selectedMetricsDescriptors?this.selectedMetricsDescriptors.dcmMetricsRetentionPeriod:60].map(e=>new G(e,e.toString(),e.toString()))),1);}getMetricsDescriptors(){this.service.getMetricsDescriptors().subscribe(e=>{this.metricsDescriptors=e,!e||e.length===0?this.appService.showError("No Metrics Descriptors were found, please configure Metrics Descriptors first"):this.selectedMetricsDescriptors=e[0],this.setTableConfig(),this.setFilterSchema();},e=>{this.httpErrorHandler.handleError(e);});}};r.ɵfac=function(n){return new(n||r)(k(ow),k(Pt),k(ti),k(le));},r.ɵcmp=Z({type:r,selectors:[["app-metrics"]],standalone:!1,decls:10,vars:4,consts:()=>{let e;return e="Metrics",[e,[1,"main_content","retrieve","monitoring","white_design"],[1,"tab-content"],[1,"filter_line"],[1,"filter_block"],[3,"submit","onChange","filterIdTemplate","schema","model"],[3,"config","models",4,"ngIf"],[3,"config","models"]];},template:function(n,o){n&1&&(u(0,"div",1),$(1,"monitoring-tabs"),u(2,"div",2)(3,"h2"),P(4,0),p(),u(5,"div",3)(6,"div",4)(7,"filter-generator",5),b("submit",function(s){return o.getMetrics(s);})("onChange",function(s){return o.onFormChange(s);}),p()()()(),u(8,"div"),E(9,bGe,1,2,"table-generator",6),p()()),n&2&&(c(7),m("filterIdTemplate","metric")("schema",o.filterSchema)("model",o.filterObject),c(2),m("ngIf",o.tableConfig&&o.metrics&&o.metrics.length&&o.metrics.length>0));},dependencies:[de,jr,Yi,_a],encapsulation:2});let i=r;return i;})();function SGe(i,r){if(i&1&&($(0,"table-generator",11),$e(1,"search")),i&2){let t=d();m("config",t.tableConfig)("models",pt(1,2,t.webApps,t.search));}}var zH=(()=>{let r=class r{constructor(e,n,o,a,s){this.service=e,this.cfpLoadingBar=n,this.httpErrorHandler=o,this.viewContainerRef=a,this.dialog=s,this.filterObject={},this.filterHeight=2,this.search="";}ngOnInit(){this.init();}submit(e){this.cfpLoadingBar.start(),this.service.getWebApps(this.filterObject).subscribe(n=>{this.webApps=n.map(o=>{try{o.url=o.dicomNetworkConnection.map(a=>`${I.getUrlFromDicomNetworkConnection(a)}${I.meyGetString(o,"dcmWebServicePath")}`);}catch(a){I.log("Error on getting url from network",a);}return o;}),this.cfpLoadingBar.complete();},n=>{this.httpErrorHandler.handleError(n),this.cfpLoadingBar.complete();});}init(){Mi(this.service.getServiceClasses(),this.service.getDevices(),this.service.getAes()).subscribe(e=>{this.serviceClasses=e[0],this.devices=e[1],this.aes=e[2],this.setFilterSchema(),this.setTableConfig();},e=>{this.httpErrorHandler.handleError(e);});}setTableConfig(){this.tableConfig={table:I.calculateWidthOfTable(this.service.getTableSchema()),filter:this.filterObject,calculate:!1};}setFilterSchema(){this.filterSchema=I.prepareFlatFilterObject(this.service.getFilterSchema(this.devices,this.aes,this.serviceClasses),this.filterHeight);}createWebApp(){this.dialogRef=this.dialog.open(h2,{}),this.dialogRef.afterClosed().subscribe(e=>{console.log("ok");});}};r.ɵfac=function(n){return new(n||r)(k(os),k(ti),k(Pt),k(Mt),k(ri));},r.ɵcmp=Z({type:r,selectors:[["app-web-apps-list"]],standalone:!1,decls:14,vars:6,consts:()=>{let e;e="Search...";let n;return n="Web Applications",[n,[1,"main_content","float_content","white_design"],[1,"tab-content"],[1,"filter_line"],[1,"filter_block"],[3,"submit","filterIdTemplate","schema","model","filterTreeHeight"],[1,"filter_line","more_function_block"],[1,"filter","single_block"],[1,"line"],["autocomplete","off","placeholder",e,3,"ngModelChange","ngModel"],[3,"config","models",4,"ngIf"],[3,"config","models"]];},template:function(n,o){n&1&&(u(0,"div",1),$(1,"config-tab"),u(2,"div",2)(3,"h2"),P(4,0),p(),u(5,"div",3)(6,"div",4)(7,"filter-generator",5),b("submit",function(s){return o.submit(s);}),p()()(),u(8,"div",6)(9,"div",7)(10,"div",4)(11,"div",8)(12,"input",9),q("ngModelChange",function(s){return Y(o.search,s)||(o.search=s),s;}),p()()()()(),E(13,SGe,2,5,"table-generator",10),p()()),n&2&&(c(7),m("filterIdTemplate","web-apps-list")("schema",o.filterSchema)("model",o.filterObject)("filterTreeHeight",o.filterHeight),c(5),H("ngModel",o.search),c(),m("ngIf",o.tableConfig&&o.webApps&&o.webApps.length&&o.webApps.length>0));},dependencies:[de,Me,Se,Ee,Yi,_a,Ml,yt],styles:[".glyphicon-plus[_ngcontent-%COMP%]{margin-right:8px}"]});let i=r;return i;})();var EGe=v1(U3(),1),GH=v1(U3(),1),nm=GH.default||EGe,W3=new se("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:TGe});function TGe(){return{useUtc:!1};}function IGe(i,r){let t=Array(i);for(let e=0;e<i;e++)t[e]=r(e);return t;}var jH=(()=>{class i extends Gr{_options=N(W3,{optional:!0});_localeData;constructor(){super();let t=N(Up,{optional:!0});this.setLocale(t||nm.locale());}setLocale(t){super.setLocale(t);let e=nm.localeData(t);this._localeData={firstDayOfWeek:e.firstDayOfWeek(),longMonths:e.months(),shortMonths:e.monthsShort(),dates:IGe(31,n=>this.createDate(2017,0,n+1).format("D")),longDaysOfWeek:e.weekdays(),shortDaysOfWeek:e.weekdaysShort(),narrowDaysOfWeek:e.weekdaysMin()};}getYear(t){return this.clone(t).year();}getMonth(t){return this.clone(t).month();}getDate(t){return this.clone(t).date();}getDayOfWeek(t){return this.clone(t).day();}getMonthNames(t){return t=="long"?this._localeData.longMonths:this._localeData.shortMonths;}getDateNames(){return this._localeData.dates;}getDayOfWeekNames(t){return t=="long"?this._localeData.longDaysOfWeek:t=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek;}getYearName(t){return this.clone(t).format("YYYY");}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek;}getNumDaysInMonth(t){return this.clone(t).daysInMonth();}clone(t){return t.clone().locale(this.locale);}createDate(t,e,n){let o=this._createMoment({year:t,month:e,date:n}).locale(this.locale);return o.isValid(),o;}today(){return this._createMoment().locale(this.locale);}parse(t,e){return t&&typeof t=="string"?this._createMoment(t,e,this.locale):t?this._createMoment(t).locale(this.locale):null;}format(t,e){return t=this.clone(t),this.isValid(t),t.format(e);}addCalendarYears(t,e){return this.clone(t).add({years:e});}addCalendarMonths(t,e){return this.clone(t).add({months:e});}addCalendarDays(t,e){return this.clone(t).add({days:e});}toIso8601(t){return this.clone(t).format();}deserialize(t){let e;if(t instanceof Date)e=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if(typeof t=="string"){if(!t)return null;e=this._createMoment(t,nm.ISO_8601).locale(this.locale);}return e&&this.isValid(e)?this._createMoment(e).locale(this.locale):super.deserialize(t);}isDateInstance(t){return nm.isMoment(t);}isValid(t){return this.clone(t).isValid();}invalid(){return nm.invalid();}setTime(t,e,n,o){return this.clone(t).set({hours:e,minutes:n,seconds:o,milliseconds:0});}getHours(t){return t.hours();}getMinutes(t){return t.minutes();}getSeconds(t){return t.seconds();}parseTime(t,e){return this.parse(t,e);}addSeconds(t,e){return this.clone(t).add({seconds:e});}_createMoment(t,e,n){let{strict:o,useUtc:a}=this._options||{};return a?nm.utc(t,e,n,o):nm(t,e,n,o);}static ɵfac=function(e){return new(e||i)();};static ɵprov=Q({token:i,factory:i.ɵfac});}return i;})();var xGe=["input"],AGe=["label"],wGe=["*"],DGe=new se("mat-checkbox-default-options",{providedIn:"root",factory:WH});function WH(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1};}var Mo=function(i){return i[i.Init=0]="Init",i[i.Checked=1]="Checked",i[i.Unchecked=2]="Unchecked",i[i.Indeterminate=3]="Indeterminate",i;}(Mo||{}),B3=class{source;checked;},UH=WH(),MGe=(()=>{class i{_elementRef=N(ze);_changeDetectorRef=N($t);_ngZone=N(We);_animationsDisabled=qi();_options=N(DGe,{optional:!0});focus(){this._inputElement.nativeElement.focus();}_createChangeEvent(t){let e=new B3();return e.source=this,e.checked=t,e;}_getAnimationTargetElement(){return this._inputElement?.nativeElement;}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`;}required;labelPosition="after";name=null;change=new ae();indeterminateChange=new ae();value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=Mo.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){N(Mn).load(es);let t=N(new na("tabindex"),{optional:!0});this._options=this._options||UH,this.color=this._options.color||UH.color,this.tabIndex=t==null?0:parseInt(t)||0,this.id=this._uniqueId=N(bn).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1;}ngOnChanges(t){t.required&&this._validatorChangeFn();}ngAfterViewInit(){this._syncIndeterminate(this.indeterminate);}get checked(){return this._checked;}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck());}_checked=!1;get disabled(){return this._disabled;}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck());}_disabled=!1;get indeterminate(){return this._indeterminate();}set indeterminate(t){let e=t!=this._indeterminate();this._indeterminate.set(t),e&&(t?this._transitionCheckState(Mo.Indeterminate):this._transitionCheckState(this.checked?Mo.Checked:Mo.Unchecked),this.indeterminateChange.emit(t)),this._syncIndeterminate(t);}_indeterminate=$i(!1);_isRippleDisabled(){return this.disableRipple||this.disabled;}_onLabelTextChange(){this._changeDetectorRef.detectChanges();}writeValue(t){this.checked=!!t;}registerOnChange(t){this._controlValueAccessorChangeFn=t;}registerOnTouched(t){this._onTouched=t;}setDisabledState(t){this.disabled=t;}validate(t){return this.required&&t.value!==!0?{required:!0}:null;}registerOnValidatorChange(t){this._validatorChangeFn=t;}_transitionCheckState(t){let e=this._currentCheckState,n=this._getAnimationTargetElement();if(!(e===t||!n)&&(this._currentAnimationClass&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(o);},1e3);});}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked);}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked);}_handleInputClick(){let t=this._options?.clickAction;!this.disabled&&t!=="noop"?(this.indeterminate&&t!=="check"&&Promise.resolve().then(()=>{this._indeterminate.set(!1),this.indeterminateChange.emit(!1);}),this._checked=!this._checked,this._transitionCheckState(this._checked?Mo.Checked:Mo.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&t==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate);}_onInteractionEvent(t){t.stopPropagation();}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck();});}_getAnimationClassForCheckStateTransition(t,e){if(this._animationsDisabled)return"";switch(t){case Mo.Init:if(e===Mo.Checked)return this._animationClasses.uncheckedToChecked;if(e==Mo.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Mo.Unchecked:return e===Mo.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Mo.Checked:return e===Mo.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Mo.Indeterminate:return e===Mo.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked;}return"";}_syncIndeterminate(t){let e=this._inputElement;e&&(e.nativeElement.indeterminate=t);}_onInputClick(){this._handleInputClick();}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus();}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation();}static ɵfac=function(e){return new(e||i)();};static ɵcmp=Z({type:i,selectors:[["mat-checkbox"]],viewQuery:function(e,n){if(e&1&&(Et(xGe,5),Et(AGe,5)),e&2){let o;qe(o=Ye())&&(n._inputElement=o.first),qe(o=Ye())&&(n._labelElement=o.first);}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(e,n){e&2&&(ja("id",n.id),lt("tabindex",null)("aria-label",null)("aria-labelledby",null),be(n.color?"mat-"+n.color:"mat-accent"),vt("_mat-animation-noopable",n._animationsDisabled)("mdc-checkbox--disabled",n.disabled)("mat-mdc-checkbox-disabled",n.disabled)("mat-mdc-checkbox-checked",n.checked)("mat-mdc-checkbox-disabled-interactive",n.disabledInteractive));},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",gt],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",gt],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",gt],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?void 0:wr(t)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",gt],checked:[2,"checked","checked",gt],disabled:[2,"disabled","disabled",gt],indeterminate:[2,"indeterminate","indeterminate",gt]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Qt([{provide:Ea,useExisting:tn(()=>i),multi:!0},{provide:Ta,useExisting:i,multi:!0}]),Oi],ngContentSelectors:wGe,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(e,n){if(e&1){let o=O();xi(),u(0,"div",3),b("click",function(s){return C(o),y(n._preventBubblingFromLabel(s));}),u(1,"div",4,0)(3,"div",5),b("click",function(){return C(o),y(n._onTouchTargetClick());}),p(),u(4,"input",6,1),b("blur",function(){return C(o),y(n._onBlur());})("click",function(){return C(o),y(n._onInputClick());})("change",function(s){return C(o),y(n._onInteractionEvent(s));}),p(),$(6,"div",7),u(7,"div",8),so(),u(8,"svg",9),$(9,"path",10),p(),lc(),$(10,"div",11),p(),$(11,"div",12),p(),u(12,"label",13,2),Vt(14),p()();}if(e&2){let o=Pi(2);m("labelPosition",n.labelPosition),c(4),vt("mdc-checkbox--selected",n.checked),m("checked",n.checked)("indeterminate",n.indeterminate)("disabled",n.disabled&&!n.disabledInteractive)("id",n.inputId)("required",n.required)("tabIndex",n.disabled&&!n.disabledInteractive?-1:n.tabIndex),lt("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby)("aria-checked",n.indeterminate?"mixed":null)("aria-controls",n.ariaControls)("aria-disabled",n.disabled&&n.disabledInteractive?!0:null)("aria-expanded",n.ariaExpanded)("aria-owns",n.ariaOwns)("name",n.name)("value",n.value),c(7),m("matRippleTrigger",o)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),c(),m("for",n.inputId);}},dependencies:[Su,mA],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mat-checkbox-state-layer-size, 40px);height:var(--mat-checkbox-state-layer-size, 40px);top:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);right:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mat-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0});}return i;})(),BH=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[MGe,qt,qt]});}return i;})();var HH=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({});}return i;})();var qH=(()=>{class i{static ɵfac=function(e){return new(e||i)();};static ɵmod=He({type:i});static ɵinj=Be({imports:[qt,Tu,Tu,HH,qt]});}return i;})();var YH=(()=>{let r=class r{};r.ɵfac=function(n){return new(n||r)();},r.ɵmod=He({type:r,bootstrap:[pA]}),r.ɵinj=Be({providers:[oB,rB,Bk,le,Dl,SA,Xt,v2,Fe,Dr,C2,wu,YA,Vn,Sh,Te,ZA,rs,un,Pt,I,rw,s2,Qn,In,d2,G2,mh,j2,wo,wA,xu,Au,LA,LH,Pe,cA,ow,os,u2,t2,Ji,Mu,d_,{provide:sl,useValue:"en-US"},{provide:sl,useValue:"de"},{provide:lS,useValue:{}},{provide:Gr,useClass:jH,deps:[Up,W3]},{provide:wl,useValue:aU},ER(TR())],imports:[hp,pb,fU,Yk,KW,qH,Tu,F_,uW,BH,fW,IH,Bk,DU,gA,Cc,rV,_H,gU,fN.forRoot([{path:"",redirectTo:"/study/study",pathMatch:"full"},{path:"index",redirectTo:"/study/study",pathMatch:"full"},{path:"index.html",redirectTo:"/study/study",pathMatch:"full"},{path:"monitoring",redirectTo:"/monitoring/queues",pathMatch:"full"},{path:"study/:tab",component:$H,canActivate:[Qn]},{path:"permission-denied",component:vH},{path:"monitoring/control",component:oW,canActivate:[Qn]},{path:"monitoring/export",component:cB,canActivate:[Qn]},{path:"monitoring/external",component:FH,canActivate:[Qn]},{path:"monitoring/queues",component:RW,canActivate:[Qn]},{path:"monitoring/associations",component:pB,canActivate:[Qn]},{path:"monitoring/storage-commitment",component:_B,canActivate:[Qn]},{path:"monitoring/storage-systems",component:hH,canActivate:[Qn]},{path:"monitoring/storage-verification",component:bH,canActivate:[Qn]},{path:"monitoring/diff",component:CH,canActivate:[Qn]},{path:"monitoring/metrics",component:VH,canActivate:[Qn]},{path:"device/devicelist",component:aB,canActivate:[Qn]},{path:"device/aelist",component:hB,canActivate:[Qn]},{path:"device/webappslist",component:zH,canActivate:[Qn]},{path:"device/hl7applications",component:gH,canActivate:[Qn]},{path:"device/edit/:device",component:Eh,canActivate:[Qn]},{path:"device/edit/:device/:devicereff",component:Eh,canActivate:[Qn]},{path:"device/edit/:device/:devicereff/:schema",component:Eh,canActivate:[Qn]},{path:"device/edit/:device/:devicereff/:schema/:clone",component:Eh,canActivate:[Qn]},{path:"**",component:nW}],{useHash:!1})]});let i=r;return i;})();Kg(Ei,function(){return[Je,ve,de,_o,fo,Me,pi,Se,Ee,Do,Yi];},[]);Kg(Eh,function(){return[Je,ve,de,Me,Se,Ee,Qp];},function(){return[yt];});Kg(Qp,function(){return[ve,de,cb,Me,Se,h_,Ee,cl,lB];},[]);t6(I6,"de-DE",x6);po.production&&void 0;gR().bootstrapModule(YH).catch(i=>console.error(i));/**i18n:80979631044776d09105e57f5b471359e445ddd49859aceda3999a901c676dd1*/